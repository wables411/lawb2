const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/secp256k1-LETIM17I.js","assets/hmac-DaBKqXCC.js","assets/secp256k1-HDxQXmQZ.js","assets/embedded-wallet-7V4RdaIG.js","assets/if-defined-dURAaO9T.js","assets/index-P0xuOeI3.js","assets/index-USGAvUo9.js","assets/ref-Btln0JbT.js","assets/index-DBEaYrBb.js","assets/index-mJEhaaMf.js","assets/index-CcZzyGtC.js","assets/index-DMKoGcOU.js","assets/index-bdt6_Aap.js","assets/index-BwaRT7K2.js","assets/index-pG8IyS4Q.js","assets/email-BYJgNzBY.js","assets/index-DBC3nn13.js","assets/socials-CdUbkSBT.js","assets/index-Bgky9w3H.js","assets/ConstantsUtil-Dmg8YACJ.js","assets/index-Lsk3ddnO.js","assets/index-YkTp2dMr.js","assets/index-CIbJybRb.js","assets/index-C6PEbrE_.js","assets/swaps-BU8HAyfk.js","assets/index-Dk4xhuAf.js","assets/index-DSj3Wv_e.js","assets/index-CUgyjFUD.js","assets/send-BdnCtuXL.js","assets/index-bCPglxr4.js","assets/index-CU7a3kp5.js","assets/receive-CS9cO2qX.js","assets/index-dm05hQ2C.js","assets/onramp-ySK7jJfm.js","assets/index-5dcMFT7p.js","assets/index-vI8FB6ZD.js","assets/index-BL17i1jZ.js","assets/transactions-DSeguxAD.js","assets/index-DZkwbCH4.js","assets/index-BeTW_01d.js","assets/index-DT7oMWA5.js","assets/index-DKVSFWsK.js","assets/index-ilfk4sRt.js","assets/w3m-modal-YXjeLMeE.js"])))=>i.map(i=>d[i]);
var c2=t=>{throw TypeError(t)};var qv=(t,e,n)=>e.has(t)||c2("Cannot "+n);var B=(t,e,n)=>(qv(t,e,"read from private field"),n?n.call(t):e.get(t)),Ie=(t,e,n)=>e.has(t)?c2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),pe=(t,e,n,r)=>(qv(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),We=(t,e,n)=>(qv(t,e,"access private method"),n);var gm=(t,e,n,r)=>({set _(s){pe(t,e,s,n)},get _(){return B(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var en=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ru(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var BO={exports:{}},yw={},FO={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg=Symbol.for("react.element"),OU=Symbol.for("react.portal"),RU=Symbol.for("react.fragment"),$U=Symbol.for("react.strict_mode"),DU=Symbol.for("react.profiler"),jU=Symbol.for("react.provider"),UU=Symbol.for("react.context"),LU=Symbol.for("react.forward_ref"),MU=Symbol.for("react.suspense"),BU=Symbol.for("react.memo"),FU=Symbol.for("react.lazy"),l2=Symbol.iterator;function zU(t){return t===null||typeof t!="object"?null:(t=l2&&t[l2]||t["@@iterator"],typeof t=="function"?t:null)}var zO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qO=Object.assign,WO={};function ch(t,e,n){this.props=t,this.context=e,this.refs=WO,this.updater=n||zO}ch.prototype.isReactComponent={};ch.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ch.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HO(){}HO.prototype=ch.prototype;function bx(t,e,n){this.props=t,this.context=e,this.refs=WO,this.updater=n||zO}var _x=bx.prototype=new HO;_x.constructor=bx;qO(_x,ch.prototype);_x.isPureReactComponent=!0;var u2=Array.isArray,VO=Object.prototype.hasOwnProperty,Ex={current:null},GO={key:!0,ref:!0,__self:!0,__source:!0};function KO(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)VO.call(e,r)&&!GO.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:kg,type:t,key:i,ref:o,props:s,_owner:Ex.current}}function qU(t,e){return{$$typeof:kg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cx(t){return typeof t=="object"&&t!==null&&t.$$typeof===kg}function WU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var d2=/\/+/g;function Wv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WU(""+t.key):e.toString(36)}function Iy(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case kg:case OU:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Wv(o,0):r,u2(s)?(n="",t!=null&&(n=t.replace(d2,"$&/")+"/"),Iy(s,e,n,"",function(l){return l})):s!=null&&(Cx(s)&&(s=qU(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(d2,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",u2(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+Wv(i,a);o+=Iy(i,e,n,c,s)}else if(c=zU(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+Wv(i,a++),o+=Iy(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function mm(t,e,n){if(t==null)return t;var r=[],s=0;return Iy(t,r,"","",function(i){return e.call(n,i,s++)}),r}function HU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xr={current:null},Ty={transition:null},VU={ReactCurrentDispatcher:xr,ReactCurrentBatchConfig:Ty,ReactCurrentOwner:Ex};function YO(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:mm,forEach:function(t,e,n){mm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return mm(t,function(){e++}),e},toArray:function(t){return mm(t,function(e){return e})||[]},only:function(t){if(!Cx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ye.Component=ch;Ye.Fragment=RU;Ye.Profiler=DU;Ye.PureComponent=bx;Ye.StrictMode=$U;Ye.Suspense=MU;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VU;Ye.act=YO;Ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qO({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ex.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)VO.call(e,c)&&!GO.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:kg,type:t.type,key:s,ref:i,props:r,_owner:o}};Ye.createContext=function(t){return t={$$typeof:UU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jU,_context:t},t.Consumer=t};Ye.createElement=KO;Ye.createFactory=function(t){var e=KO.bind(null,t);return e.type=t,e};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(t){return{$$typeof:LU,render:t}};Ye.isValidElement=Cx;Ye.lazy=function(t){return{$$typeof:FU,_payload:{_status:-1,_result:t},_init:HU}};Ye.memo=function(t,e){return{$$typeof:BU,type:t,compare:e===void 0?null:e}};Ye.startTransition=function(t){var e=Ty.transition;Ty.transition={};try{t()}finally{Ty.transition=e}};Ye.unstable_act=YO;Ye.useCallback=function(t,e){return xr.current.useCallback(t,e)};Ye.useContext=function(t){return xr.current.useContext(t)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(t){return xr.current.useDeferredValue(t)};Ye.useEffect=function(t,e){return xr.current.useEffect(t,e)};Ye.useId=function(){return xr.current.useId()};Ye.useImperativeHandle=function(t,e,n){return xr.current.useImperativeHandle(t,e,n)};Ye.useInsertionEffect=function(t,e){return xr.current.useInsertionEffect(t,e)};Ye.useLayoutEffect=function(t,e){return xr.current.useLayoutEffect(t,e)};Ye.useMemo=function(t,e){return xr.current.useMemo(t,e)};Ye.useReducer=function(t,e,n){return xr.current.useReducer(t,e,n)};Ye.useRef=function(t){return xr.current.useRef(t)};Ye.useState=function(t){return xr.current.useState(t)};Ye.useSyncExternalStore=function(t,e,n){return xr.current.useSyncExternalStore(t,e,n)};Ye.useTransition=function(){return xr.current.useTransition()};Ye.version="18.3.1";FO.exports=Ye;var F=FO.exports;const Us=ru(F);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GU=F,KU=Symbol.for("react.element"),YU=Symbol.for("react.fragment"),JU=Object.prototype.hasOwnProperty,QU=GU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZU={key:!0,ref:!0,__self:!0,__source:!0};function JO(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)JU.call(e,r)&&!ZU.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:KU,type:t,key:i,ref:o,props:s,_owner:QU.current}}yw.Fragment=YU;yw.jsx=JO;yw.jsxs=JO;BO.exports=yw;var m=BO.exports,l_={},QO={exports:{}},ys={},ZO={exports:{}},XO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,k){var U=N.length;N.push(k);e:for(;0<U;){var j=U-1>>>1,q=N[j];if(0<s(q,k))N[j]=k,N[U]=q,U=j;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var k=N[0],U=N.pop();if(U!==k){N[0]=U;e:for(var j=0,q=N.length,K=q>>>1;j<K;){var H=2*(j+1)-1,Q=N[H],Z=H+1,le=N[Z];if(0>s(Q,U))Z<q&&0>s(le,Q)?(N[j]=le,N[Z]=U,j=Z):(N[j]=Q,N[H]=U,j=H);else if(Z<q&&0>s(le,U))N[j]=le,N[Z]=U,j=Z;else break e}}return k}function s(N,k){var U=N.sortIndex-k.sortIndex;return U!==0?U:N.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,d=null,h=3,f=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(N){for(var k=n(l);k!==null;){if(k.callback===null)r(l);else if(k.startTime<=N)r(l),k.sortIndex=k.expirationTime,e(c,k);else break;k=n(l)}}function E(N){if(g=!1,v(N),!p)if(n(c)!==null)p=!0,I(_);else{var k=n(l);k!==null&&D(E,k.startTime-N)}}function _(N,k){p=!1,g&&(g=!1,w(T),T=-1),f=!0;var U=h;try{for(v(k),d=n(c);d!==null&&(!(d.expirationTime>k)||N&&!R());){var j=d.callback;if(typeof j=="function"){d.callback=null,h=d.priorityLevel;var q=j(d.expirationTime<=k);k=t.unstable_now(),typeof q=="function"?d.callback=q:d===n(c)&&r(c),v(k)}else r(c);d=n(c)}if(d!==null)var K=!0;else{var H=n(l);H!==null&&D(E,H.startTime-k),K=!1}return K}finally{d=null,h=U,f=!1}}var x=!1,S=null,T=-1,C=5,O=-1;function R(){return!(t.unstable_now()-O<C)}function L(){if(S!==null){var N=t.unstable_now();O=N;var k=!0;try{k=S(!0,N)}finally{k?z():(x=!1,S=null)}}else x=!1}var z;if(typeof b=="function")z=function(){b(L)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,A=M.port2;M.port1.onmessage=L,z=function(){A.postMessage(null)}}else z=function(){y(L,0)};function I(N){S=N,x||(x=!0,z())}function D(N,k){T=y(function(){N(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,I(_))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var U=h;h=k;try{return N()}finally{h=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,k){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var U=h;h=N;try{return k()}finally{h=U}},t.unstable_scheduleCallback=function(N,k,U){var j=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?j+U:j):U=j,N){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=U+q,N={id:u++,callback:k,priorityLevel:N,startTime:U,expirationTime:q,sortIndex:-1},U>j?(N.sortIndex=U,e(l,N),n(c)===null&&N===n(l)&&(g?(w(T),T=-1):g=!0,D(E,U-j))):(N.sortIndex=q,e(c,N),p||f||(p=!0,I(_))),N},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(N){var k=h;return function(){var U=h;h=k;try{return N.apply(this,arguments)}finally{h=U}}}})(XO);ZO.exports=XO;var XU=ZO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eL=F,gs=XU;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eR=new Set,lp={};function su(t,e){Bd(t,e),Bd(t+"Capture",e)}function Bd(t,e){for(lp[t]=e,t=0;t<e.length;t++)eR.add(e[t])}var Mo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u_=Object.prototype.hasOwnProperty,tL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h2={},f2={};function nL(t){return u_.call(f2,t)?!0:u_.call(h2,t)?!1:tL.test(t)?f2[t]=!0:(h2[t]=!0,!1)}function rL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sL(t,e,n,r){if(e===null||typeof e>"u"||rL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fn[t]=new Sr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fn[e]=new Sr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fn[t]=new Sr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fn[t]=new Sr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fn[t]=new Sr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fn[t]=new Sr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fn[t]=new Sr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fn[t]=new Sr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fn[t]=new Sr(t,5,!1,t.toLowerCase(),null,!1,!1)});var xx=/[\-:]([a-z])/g;function Sx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xx,Sx);Fn[e]=new Sr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xx,Sx);Fn[e]=new Sr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xx,Sx);Fn[e]=new Sr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fn[t]=new Sr(t,1,!1,t.toLowerCase(),null,!1,!1)});Fn.xlinkHref=new Sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fn[t]=new Sr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ax(t,e,n,r){var s=Fn.hasOwnProperty(e)?Fn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sL(e,n,s,r)&&(n=null),r||s===null?nL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yo=eL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ym=Symbol.for("react.element"),Xu=Symbol.for("react.portal"),ed=Symbol.for("react.fragment"),Ix=Symbol.for("react.strict_mode"),d_=Symbol.for("react.profiler"),tR=Symbol.for("react.provider"),nR=Symbol.for("react.context"),Tx=Symbol.for("react.forward_ref"),h_=Symbol.for("react.suspense"),f_=Symbol.for("react.suspense_list"),Nx=Symbol.for("react.memo"),Sa=Symbol.for("react.lazy"),rR=Symbol.for("react.offscreen"),p2=Symbol.iterator;function Oh(t){return t===null||typeof t!="object"?null:(t=p2&&t[p2]||t["@@iterator"],typeof t=="function"?t:null)}var Kt=Object.assign,Hv;function pf(t){if(Hv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hv=e&&e[1]||""}return`
`+Hv+t}var Vv=!1;function Gv(t,e){if(!t||Vv)return"";Vv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Vv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pf(t):""}function iL(t){switch(t.tag){case 5:return pf(t.type);case 16:return pf("Lazy");case 13:return pf("Suspense");case 19:return pf("SuspenseList");case 0:case 2:case 15:return t=Gv(t.type,!1),t;case 11:return t=Gv(t.type.render,!1),t;case 1:return t=Gv(t.type,!0),t;default:return""}}function p_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ed:return"Fragment";case Xu:return"Portal";case d_:return"Profiler";case Ix:return"StrictMode";case h_:return"Suspense";case f_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nR:return(t.displayName||"Context")+".Consumer";case tR:return(t._context.displayName||"Context")+".Provider";case Tx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nx:return e=t.displayName||null,e!==null?e:p_(t.type)||"Memo";case Sa:e=t._payload,t=t._init;try{return p_(t(e))}catch{}}return null}function oL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return p_(e);case 8:return e===Ix?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _c(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aL(t){var e=sR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wm(t){t._valueTracker||(t._valueTracker=aL(t))}function iR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function s0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function g_(t,e){var n=e.checked;return Kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function g2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_c(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oR(t,e){e=e.checked,e!=null&&Ax(t,"checked",e,!1)}function m_(t,e){oR(t,e);var n=_c(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?y_(t,e.type,n):e.hasOwnProperty("defaultValue")&&y_(t,e.type,_c(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function m2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function y_(t,e,n){(e!=="number"||s0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gf=Array.isArray;function pd(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_c(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function w_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return Kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function y2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(gf(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_c(n)}}function aR(t,e){var n=_c(e.value),r=_c(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function w2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function v_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vm,lR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vm=vm||document.createElement("div"),vm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function up(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var kf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cL=["Webkit","ms","Moz","O"];Object.keys(kf).forEach(function(t){cL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kf[e]=kf[t]})});function uR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||kf.hasOwnProperty(t)&&kf[t]?(""+e).trim():e+"px"}function dR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=uR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var lL=Kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function b_(t,e){if(e){if(lL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function __(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var E_=null;function Px(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var C_=null,gd=null,md=null;function v2(t){if(t=$g(t)){if(typeof C_!="function")throw Error(re(280));var e=t.stateNode;e&&(e=Ew(e),C_(t.stateNode,t.type,e))}}function hR(t){gd?md?md.push(t):md=[t]:gd=t}function fR(){if(gd){var t=gd,e=md;if(md=gd=null,v2(t),e)for(t=0;t<e.length;t++)v2(e[t])}}function pR(t,e){return t(e)}function gR(){}var Kv=!1;function mR(t,e,n){if(Kv)return t(e,n);Kv=!0;try{return pR(t,e,n)}finally{Kv=!1,(gd!==null||md!==null)&&(gR(),fR())}}function dp(t,e){var n=t.stateNode;if(n===null)return null;var r=Ew(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var x_=!1;if(Mo)try{var Rh={};Object.defineProperty(Rh,"passive",{get:function(){x_=!0}}),window.addEventListener("test",Rh,Rh),window.removeEventListener("test",Rh,Rh)}catch{x_=!1}function uL(t,e,n,r,s,i,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var Of=!1,i0=null,o0=!1,S_=null,dL={onError:function(t){Of=!0,i0=t}};function hL(t,e,n,r,s,i,o,a,c){Of=!1,i0=null,uL.apply(dL,arguments)}function fL(t,e,n,r,s,i,o,a,c){if(hL.apply(this,arguments),Of){if(Of){var l=i0;Of=!1,i0=null}else throw Error(re(198));o0||(o0=!0,S_=l)}}function iu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b2(t){if(iu(t)!==t)throw Error(re(188))}function pL(t){var e=t.alternate;if(!e){if(e=iu(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return b2(s),t;if(i===r)return b2(s),e;i=i.sibling}throw Error(re(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function wR(t){return t=pL(t),t!==null?vR(t):null}function vR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vR(t);if(e!==null)return e;t=t.sibling}return null}var bR=gs.unstable_scheduleCallback,_2=gs.unstable_cancelCallback,gL=gs.unstable_shouldYield,mL=gs.unstable_requestPaint,rn=gs.unstable_now,yL=gs.unstable_getCurrentPriorityLevel,kx=gs.unstable_ImmediatePriority,_R=gs.unstable_UserBlockingPriority,a0=gs.unstable_NormalPriority,wL=gs.unstable_LowPriority,ER=gs.unstable_IdlePriority,ww=null,Gi=null;function vL(t){if(Gi&&typeof Gi.onCommitFiberRoot=="function")try{Gi.onCommitFiberRoot(ww,t,void 0,(t.current.flags&128)===128)}catch{}}var gi=Math.clz32?Math.clz32:EL,bL=Math.log,_L=Math.LN2;function EL(t){return t>>>=0,t===0?32:31-(bL(t)/_L|0)|0}var bm=64,_m=4194304;function mf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function c0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=mf(a):(i&=o,i!==0&&(r=mf(i)))}else o=n&~s,o!==0?r=mf(o):i!==0&&(r=mf(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gi(e),s=1<<n,r|=t[n],e&=~s;return r}function CL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-gi(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=CL(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function A_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function CR(){var t=bm;return bm<<=1,!(bm&4194240)&&(bm=64),t}function Yv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Og(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gi(e),t[e]=n}function SL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-gi(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ox(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gi(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var wt=0;function xR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SR,Rx,AR,IR,TR,I_=!1,Em=[],rc=null,sc=null,ic=null,hp=new Map,fp=new Map,$a=[],AL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function E2(t,e){switch(t){case"focusin":case"focusout":rc=null;break;case"dragenter":case"dragleave":sc=null;break;case"mouseover":case"mouseout":ic=null;break;case"pointerover":case"pointerout":hp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fp.delete(e.pointerId)}}function $h(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=$g(e),e!==null&&Rx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function IL(t,e,n,r,s){switch(e){case"focusin":return rc=$h(rc,t,e,n,r,s),!0;case"dragenter":return sc=$h(sc,t,e,n,r,s),!0;case"mouseover":return ic=$h(ic,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return hp.set(i,$h(hp.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,fp.set(i,$h(fp.get(i)||null,t,e,n,r,s)),!0}return!1}function NR(t){var e=al(t.target);if(e!==null){var n=iu(e);if(n!==null){if(e=n.tag,e===13){if(e=yR(n),e!==null){t.blockedOn=e,TR(t.priority,function(){AR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ny(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=T_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);E_=r,n.target.dispatchEvent(r),E_=null}else return e=$g(n),e!==null&&Rx(e),t.blockedOn=n,!1;e.shift()}return!0}function C2(t,e,n){Ny(t)&&n.delete(e)}function TL(){I_=!1,rc!==null&&Ny(rc)&&(rc=null),sc!==null&&Ny(sc)&&(sc=null),ic!==null&&Ny(ic)&&(ic=null),hp.forEach(C2),fp.forEach(C2)}function Dh(t,e){t.blockedOn===e&&(t.blockedOn=null,I_||(I_=!0,gs.unstable_scheduleCallback(gs.unstable_NormalPriority,TL)))}function pp(t){function e(s){return Dh(s,t)}if(0<Em.length){Dh(Em[0],t);for(var n=1;n<Em.length;n++){var r=Em[n];r.blockedOn===t&&(r.blockedOn=null)}}for(rc!==null&&Dh(rc,t),sc!==null&&Dh(sc,t),ic!==null&&Dh(ic,t),hp.forEach(e),fp.forEach(e),n=0;n<$a.length;n++)r=$a[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$a.length&&(n=$a[0],n.blockedOn===null);)NR(n),n.blockedOn===null&&$a.shift()}var yd=Yo.ReactCurrentBatchConfig,l0=!0;function NL(t,e,n,r){var s=wt,i=yd.transition;yd.transition=null;try{wt=1,$x(t,e,n,r)}finally{wt=s,yd.transition=i}}function PL(t,e,n,r){var s=wt,i=yd.transition;yd.transition=null;try{wt=4,$x(t,e,n,r)}finally{wt=s,yd.transition=i}}function $x(t,e,n,r){if(l0){var s=T_(t,e,n,r);if(s===null)ib(t,e,r,u0,n),E2(t,r);else if(IL(s,t,e,n,r))r.stopPropagation();else if(E2(t,r),e&4&&-1<AL.indexOf(t)){for(;s!==null;){var i=$g(s);if(i!==null&&SR(i),i=T_(t,e,n,r),i===null&&ib(t,e,r,u0,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ib(t,e,r,null,n)}}var u0=null;function T_(t,e,n,r){if(u0=null,t=Px(r),t=al(t),t!==null)if(e=iu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=yR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return u0=t,null}function PR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yL()){case kx:return 1;case _R:return 4;case a0:case wL:return 16;case ER:return 536870912;default:return 16}default:return 16}}var Ja=null,Dx=null,Py=null;function kR(){if(Py)return Py;var t,e=Dx,n=e.length,r,s="value"in Ja?Ja.value:Ja.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Py=s.slice(t,1<r?1-r:void 0)}function ky(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cm(){return!0}function x2(){return!1}function ws(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cm:x2,this.isPropagationStopped=x2,this}return Kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cm)},persist:function(){},isPersistent:Cm}),e}var lh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jx=ws(lh),Rg=Kt({},lh,{view:0,detail:0}),kL=ws(Rg),Jv,Qv,jh,vw=Kt({},Rg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ux,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jh&&(jh&&t.type==="mousemove"?(Jv=t.screenX-jh.screenX,Qv=t.screenY-jh.screenY):Qv=Jv=0,jh=t),Jv)},movementY:function(t){return"movementY"in t?t.movementY:Qv}}),S2=ws(vw),OL=Kt({},vw,{dataTransfer:0}),RL=ws(OL),$L=Kt({},Rg,{relatedTarget:0}),Zv=ws($L),DL=Kt({},lh,{animationName:0,elapsedTime:0,pseudoElement:0}),jL=ws(DL),UL=Kt({},lh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LL=ws(UL),ML=Kt({},lh,{data:0}),A2=ws(ML),BL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zL[t])?!!e[t]:!1}function Ux(){return qL}var WL=Kt({},Rg,{key:function(t){if(t.key){var e=BL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ky(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ux,charCode:function(t){return t.type==="keypress"?ky(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ky(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HL=ws(WL),VL=Kt({},vw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I2=ws(VL),GL=Kt({},Rg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ux}),KL=ws(GL),YL=Kt({},lh,{propertyName:0,elapsedTime:0,pseudoElement:0}),JL=ws(YL),QL=Kt({},vw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZL=ws(QL),XL=[9,13,27,32],Lx=Mo&&"CompositionEvent"in window,Rf=null;Mo&&"documentMode"in document&&(Rf=document.documentMode);var eM=Mo&&"TextEvent"in window&&!Rf,OR=Mo&&(!Lx||Rf&&8<Rf&&11>=Rf),T2=" ",N2=!1;function RR(t,e){switch(t){case"keyup":return XL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $R(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var td=!1;function tM(t,e){switch(t){case"compositionend":return $R(e);case"keypress":return e.which!==32?null:(N2=!0,T2);case"textInput":return t=e.data,t===T2&&N2?null:t;default:return null}}function nM(t,e){if(td)return t==="compositionend"||!Lx&&RR(t,e)?(t=kR(),Py=Dx=Ja=null,td=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OR&&e.locale!=="ko"?null:e.data;default:return null}}var rM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rM[t.type]:e==="textarea"}function DR(t,e,n,r){hR(r),e=d0(e,"onChange"),0<e.length&&(n=new jx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $f=null,gp=null;function sM(t){VR(t,0)}function bw(t){var e=sd(t);if(iR(e))return t}function iM(t,e){if(t==="change")return e}var jR=!1;if(Mo){var Xv;if(Mo){var eb="oninput"in document;if(!eb){var k2=document.createElement("div");k2.setAttribute("oninput","return;"),eb=typeof k2.oninput=="function"}Xv=eb}else Xv=!1;jR=Xv&&(!document.documentMode||9<document.documentMode)}function O2(){$f&&($f.detachEvent("onpropertychange",UR),gp=$f=null)}function UR(t){if(t.propertyName==="value"&&bw(gp)){var e=[];DR(e,gp,t,Px(t)),mR(sM,e)}}function oM(t,e,n){t==="focusin"?(O2(),$f=e,gp=n,$f.attachEvent("onpropertychange",UR)):t==="focusout"&&O2()}function aM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bw(gp)}function cM(t,e){if(t==="click")return bw(e)}function lM(t,e){if(t==="input"||t==="change")return bw(e)}function uM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bi=typeof Object.is=="function"?Object.is:uM;function mp(t,e){if(bi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!u_.call(e,s)||!bi(t[s],e[s]))return!1}return!0}function R2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $2(t,e){var n=R2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=R2(n)}}function LR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MR(){for(var t=window,e=s0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=s0(t.document)}return e}function Mx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dM(t){var e=MR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LR(n.ownerDocument.documentElement,n)){if(r!==null&&Mx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=$2(n,i);var o=$2(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hM=Mo&&"documentMode"in document&&11>=document.documentMode,nd=null,N_=null,Df=null,P_=!1;function D2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;P_||nd==null||nd!==s0(r)||(r=nd,"selectionStart"in r&&Mx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Df&&mp(Df,r)||(Df=r,r=d0(N_,"onSelect"),0<r.length&&(e=new jx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=nd)))}function xm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var rd={animationend:xm("Animation","AnimationEnd"),animationiteration:xm("Animation","AnimationIteration"),animationstart:xm("Animation","AnimationStart"),transitionend:xm("Transition","TransitionEnd")},tb={},BR={};Mo&&(BR=document.createElement("div").style,"AnimationEvent"in window||(delete rd.animationend.animation,delete rd.animationiteration.animation,delete rd.animationstart.animation),"TransitionEvent"in window||delete rd.transitionend.transition);function _w(t){if(tb[t])return tb[t];if(!rd[t])return t;var e=rd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in BR)return tb[t]=e[n];return t}var FR=_w("animationend"),zR=_w("animationiteration"),qR=_w("animationstart"),WR=_w("transitionend"),HR=new Map,j2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oc(t,e){HR.set(t,e),su(e,[t])}for(var nb=0;nb<j2.length;nb++){var rb=j2[nb],fM=rb.toLowerCase(),pM=rb[0].toUpperCase()+rb.slice(1);Oc(fM,"on"+pM)}Oc(FR,"onAnimationEnd");Oc(zR,"onAnimationIteration");Oc(qR,"onAnimationStart");Oc("dblclick","onDoubleClick");Oc("focusin","onFocus");Oc("focusout","onBlur");Oc(WR,"onTransitionEnd");Bd("onMouseEnter",["mouseout","mouseover"]);Bd("onMouseLeave",["mouseout","mouseover"]);Bd("onPointerEnter",["pointerout","pointerover"]);Bd("onPointerLeave",["pointerout","pointerover"]);su("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));su("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));su("onBeforeInput",["compositionend","keypress","textInput","paste"]);su("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));su("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));su("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gM=new Set("cancel close invalid load scroll toggle".split(" ").concat(yf));function U2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fL(r,e,void 0,t),t.currentTarget=null}function VR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;U2(s,a,l),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;U2(s,a,l),i=c}}}if(o0)throw t=S_,o0=!1,S_=null,t}function Dt(t,e){var n=e[D_];n===void 0&&(n=e[D_]=new Set);var r=t+"__bubble";n.has(r)||(GR(e,t,2,!1),n.add(r))}function sb(t,e,n){var r=0;e&&(r|=4),GR(n,t,r,e)}var Sm="_reactListening"+Math.random().toString(36).slice(2);function yp(t){if(!t[Sm]){t[Sm]=!0,eR.forEach(function(n){n!=="selectionchange"&&(gM.has(n)||sb(n,!1,t),sb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sm]||(e[Sm]=!0,sb("selectionchange",!1,e))}}function GR(t,e,n,r){switch(PR(e)){case 1:var s=NL;break;case 4:s=PL;break;default:s=$x}n=s.bind(null,e,n,t),s=void 0,!x_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ib(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=al(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}mR(function(){var l=i,u=Px(n),d=[];e:{var h=HR.get(t);if(h!==void 0){var f=jx,p=t;switch(t){case"keypress":if(ky(n)===0)break e;case"keydown":case"keyup":f=HL;break;case"focusin":p="focus",f=Zv;break;case"focusout":p="blur",f=Zv;break;case"beforeblur":case"afterblur":f=Zv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=S2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=RL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=KL;break;case FR:case zR:case qR:f=jL;break;case WR:f=JL;break;case"scroll":f=kL;break;case"wheel":f=ZL;break;case"copy":case"cut":case"paste":f=LL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=I2}var g=(e&4)!==0,y=!g&&t==="scroll",w=g?h!==null?h+"Capture":null:h;g=[];for(var b=l,v;b!==null;){v=b;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,w!==null&&(E=dp(b,w),E!=null&&g.push(wp(b,E,v)))),y)break;b=b.return}0<g.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==E_&&(p=n.relatedTarget||n.fromElement)&&(al(p)||p[Bo]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=l,p=p?al(p):null,p!==null&&(y=iu(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=l),f!==p)){if(g=S2,E="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=I2,E="onPointerLeave",w="onPointerEnter",b="pointer"),y=f==null?h:sd(f),v=p==null?h:sd(p),h=new g(E,b+"leave",f,n,u),h.target=y,h.relatedTarget=v,E=null,al(u)===l&&(g=new g(w,b+"enter",p,n,u),g.target=v,g.relatedTarget=y,E=g),y=E,f&&p)t:{for(g=f,w=p,b=0,v=g;v;v=wu(v))b++;for(v=0,E=w;E;E=wu(E))v++;for(;0<b-v;)g=wu(g),b--;for(;0<v-b;)w=wu(w),v--;for(;b--;){if(g===w||w!==null&&g===w.alternate)break t;g=wu(g),w=wu(w)}g=null}else g=null;f!==null&&L2(d,h,f,g,!1),p!==null&&y!==null&&L2(d,y,p,g,!0)}}e:{if(h=l?sd(l):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var _=iM;else if(P2(h))if(jR)_=lM;else{_=aM;var x=oM}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=cM);if(_&&(_=_(t,l))){DR(d,_,n,u);break e}x&&x(t,h,l),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&y_(h,"number",h.value)}switch(x=l?sd(l):window,t){case"focusin":(P2(x)||x.contentEditable==="true")&&(nd=x,N_=l,Df=null);break;case"focusout":Df=N_=nd=null;break;case"mousedown":P_=!0;break;case"contextmenu":case"mouseup":case"dragend":P_=!1,D2(d,n,u);break;case"selectionchange":if(hM)break;case"keydown":case"keyup":D2(d,n,u)}var S;if(Lx)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else td?RR(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(OR&&n.locale!=="ko"&&(td||T!=="onCompositionStart"?T==="onCompositionEnd"&&td&&(S=kR()):(Ja=u,Dx="value"in Ja?Ja.value:Ja.textContent,td=!0)),x=d0(l,T),0<x.length&&(T=new A2(T,t,null,n,u),d.push({event:T,listeners:x}),S?T.data=S:(S=$R(n),S!==null&&(T.data=S)))),(S=eM?tM(t,n):nM(t,n))&&(l=d0(l,"onBeforeInput"),0<l.length&&(u=new A2("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:l}),u.data=S))}VR(d,e)})}function wp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function d0(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=dp(t,n),i!=null&&r.unshift(wp(t,i,s)),i=dp(t,e),i!=null&&r.push(wp(t,i,s))),t=t.return}return r}function wu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function L2(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,s?(c=dp(n,i),c!=null&&o.unshift(wp(n,c,a))):s||(c=dp(n,i),c!=null&&o.push(wp(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var mM=/\r\n?/g,yM=/\u0000|\uFFFD/g;function M2(t){return(typeof t=="string"?t:""+t).replace(mM,`
`).replace(yM,"")}function Am(t,e,n){if(e=M2(e),M2(t)!==e&&n)throw Error(re(425))}function h0(){}var k_=null,O_=null;function R_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $_=typeof setTimeout=="function"?setTimeout:void 0,wM=typeof clearTimeout=="function"?clearTimeout:void 0,B2=typeof Promise=="function"?Promise:void 0,vM=typeof queueMicrotask=="function"?queueMicrotask:typeof B2<"u"?function(t){return B2.resolve(null).then(t).catch(bM)}:$_;function bM(t){setTimeout(function(){throw t})}function ob(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),pp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);pp(e)}function oc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function F2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var uh=Math.random().toString(36).slice(2),Wi="__reactFiber$"+uh,vp="__reactProps$"+uh,Bo="__reactContainer$"+uh,D_="__reactEvents$"+uh,_M="__reactListeners$"+uh,EM="__reactHandles$"+uh;function al(t){var e=t[Wi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bo]||n[Wi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=F2(t);t!==null;){if(n=t[Wi])return n;t=F2(t)}return e}t=n,n=t.parentNode}return null}function $g(t){return t=t[Wi]||t[Bo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function Ew(t){return t[vp]||null}var j_=[],id=-1;function Rc(t){return{current:t}}function Lt(t){0>id||(t.current=j_[id],j_[id]=null,id--)}function kt(t,e){id++,j_[id]=t.current,t.current=e}var Ec={},ar=Rc(Ec),Kr=Rc(!1),$l=Ec;function Fd(t,e){var n=t.type.contextTypes;if(!n)return Ec;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Yr(t){return t=t.childContextTypes,t!=null}function f0(){Lt(Kr),Lt(ar)}function z2(t,e,n){if(ar.current!==Ec)throw Error(re(168));kt(ar,e),kt(Kr,n)}function KR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(re(108,oL(t)||"Unknown",s));return Kt({},n,r)}function p0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ec,$l=ar.current,kt(ar,t),kt(Kr,Kr.current),!0}function q2(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=KR(t,e,$l),r.__reactInternalMemoizedMergedChildContext=t,Lt(Kr),Lt(ar),kt(ar,t)):Lt(Kr),kt(Kr,n)}var Co=null,Cw=!1,ab=!1;function YR(t){Co===null?Co=[t]:Co.push(t)}function CM(t){Cw=!0,YR(t)}function $c(){if(!ab&&Co!==null){ab=!0;var t=0,e=wt;try{var n=Co;for(wt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Co=null,Cw=!1}catch(s){throw Co!==null&&(Co=Co.slice(t+1)),bR(kx,$c),s}finally{wt=e,ab=!1}}return null}var od=[],ad=0,g0=null,m0=0,Rs=[],$s=0,Dl=null,Po=1,ko="";function Qc(t,e){od[ad++]=m0,od[ad++]=g0,g0=t,m0=e}function JR(t,e,n){Rs[$s++]=Po,Rs[$s++]=ko,Rs[$s++]=Dl,Dl=t;var r=Po;t=ko;var s=32-gi(r)-1;r&=~(1<<s),n+=1;var i=32-gi(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Po=1<<32-gi(e)+s|n<<s|r,ko=i+t}else Po=1<<i|n<<s|r,ko=t}function Bx(t){t.return!==null&&(Qc(t,1),JR(t,1,0))}function Fx(t){for(;t===g0;)g0=od[--ad],od[ad]=null,m0=od[--ad],od[ad]=null;for(;t===Dl;)Dl=Rs[--$s],Rs[$s]=null,ko=Rs[--$s],Rs[$s]=null,Po=Rs[--$s],Rs[$s]=null}var hs=null,us=null,Ft=!1,ci=null;function QR(t,e){var n=Ds(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function W2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hs=t,us=oc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hs=t,us=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Dl!==null?{id:Po,overflow:ko}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ds(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hs=t,us=null,!0):!1;default:return!1}}function U_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function L_(t){if(Ft){var e=us;if(e){var n=e;if(!W2(t,e)){if(U_(t))throw Error(re(418));e=oc(n.nextSibling);var r=hs;e&&W2(t,e)?QR(r,n):(t.flags=t.flags&-4097|2,Ft=!1,hs=t)}}else{if(U_(t))throw Error(re(418));t.flags=t.flags&-4097|2,Ft=!1,hs=t}}}function H2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hs=t}function Im(t){if(t!==hs)return!1;if(!Ft)return H2(t),Ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!R_(t.type,t.memoizedProps)),e&&(e=us)){if(U_(t))throw ZR(),Error(re(418));for(;e;)QR(t,e),e=oc(e.nextSibling)}if(H2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){us=oc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}us=null}}else us=hs?oc(t.stateNode.nextSibling):null;return!0}function ZR(){for(var t=us;t;)t=oc(t.nextSibling)}function zd(){us=hs=null,Ft=!1}function zx(t){ci===null?ci=[t]:ci.push(t)}var xM=Yo.ReactCurrentBatchConfig;function Uh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function Tm(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function V2(t){var e=t._init;return e(t._payload)}function XR(t){function e(w,b){if(t){var v=w.deletions;v===null?(w.deletions=[b],w.flags|=16):v.push(b)}}function n(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function s(w,b){return w=uc(w,b),w.index=0,w.sibling=null,w}function i(w,b,v){return w.index=v,t?(v=w.alternate,v!==null?(v=v.index,v<b?(w.flags|=2,b):v):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,b,v,E){return b===null||b.tag!==6?(b=pb(v,w.mode,E),b.return=w,b):(b=s(b,v),b.return=w,b)}function c(w,b,v,E){var _=v.type;return _===ed?u(w,b,v.props.children,E,v.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Sa&&V2(_)===b.type)?(E=s(b,v.props),E.ref=Uh(w,b,v),E.return=w,E):(E=Ly(v.type,v.key,v.props,null,w.mode,E),E.ref=Uh(w,b,v),E.return=w,E)}function l(w,b,v,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==v.containerInfo||b.stateNode.implementation!==v.implementation?(b=gb(v,w.mode,E),b.return=w,b):(b=s(b,v.children||[]),b.return=w,b)}function u(w,b,v,E,_){return b===null||b.tag!==7?(b=Nl(v,w.mode,E,_),b.return=w,b):(b=s(b,v),b.return=w,b)}function d(w,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return b=pb(""+b,w.mode,v),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ym:return v=Ly(b.type,b.key,b.props,null,w.mode,v),v.ref=Uh(w,null,b),v.return=w,v;case Xu:return b=gb(b,w.mode,v),b.return=w,b;case Sa:var E=b._init;return d(w,E(b._payload),v)}if(gf(b)||Oh(b))return b=Nl(b,w.mode,v,null),b.return=w,b;Tm(w,b)}return null}function h(w,b,v,E){var _=b!==null?b.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:a(w,b,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ym:return v.key===_?c(w,b,v,E):null;case Xu:return v.key===_?l(w,b,v,E):null;case Sa:return _=v._init,h(w,b,_(v._payload),E)}if(gf(v)||Oh(v))return _!==null?null:u(w,b,v,E,null);Tm(w,v)}return null}function f(w,b,v,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return w=w.get(v)||null,a(b,w,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ym:return w=w.get(E.key===null?v:E.key)||null,c(b,w,E,_);case Xu:return w=w.get(E.key===null?v:E.key)||null,l(b,w,E,_);case Sa:var x=E._init;return f(w,b,v,x(E._payload),_)}if(gf(E)||Oh(E))return w=w.get(v)||null,u(b,w,E,_,null);Tm(b,E)}return null}function p(w,b,v,E){for(var _=null,x=null,S=b,T=b=0,C=null;S!==null&&T<v.length;T++){S.index>T?(C=S,S=null):C=S.sibling;var O=h(w,S,v[T],E);if(O===null){S===null&&(S=C);break}t&&S&&O.alternate===null&&e(w,S),b=i(O,b,T),x===null?_=O:x.sibling=O,x=O,S=C}if(T===v.length)return n(w,S),Ft&&Qc(w,T),_;if(S===null){for(;T<v.length;T++)S=d(w,v[T],E),S!==null&&(b=i(S,b,T),x===null?_=S:x.sibling=S,x=S);return Ft&&Qc(w,T),_}for(S=r(w,S);T<v.length;T++)C=f(S,w,T,v[T],E),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?T:C.key),b=i(C,b,T),x===null?_=C:x.sibling=C,x=C);return t&&S.forEach(function(R){return e(w,R)}),Ft&&Qc(w,T),_}function g(w,b,v,E){var _=Oh(v);if(typeof _!="function")throw Error(re(150));if(v=_.call(v),v==null)throw Error(re(151));for(var x=_=null,S=b,T=b=0,C=null,O=v.next();S!==null&&!O.done;T++,O=v.next()){S.index>T?(C=S,S=null):C=S.sibling;var R=h(w,S,O.value,E);if(R===null){S===null&&(S=C);break}t&&S&&R.alternate===null&&e(w,S),b=i(R,b,T),x===null?_=R:x.sibling=R,x=R,S=C}if(O.done)return n(w,S),Ft&&Qc(w,T),_;if(S===null){for(;!O.done;T++,O=v.next())O=d(w,O.value,E),O!==null&&(b=i(O,b,T),x===null?_=O:x.sibling=O,x=O);return Ft&&Qc(w,T),_}for(S=r(w,S);!O.done;T++,O=v.next())O=f(S,w,T,O.value,E),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?T:O.key),b=i(O,b,T),x===null?_=O:x.sibling=O,x=O);return t&&S.forEach(function(L){return e(w,L)}),Ft&&Qc(w,T),_}function y(w,b,v,E){if(typeof v=="object"&&v!==null&&v.type===ed&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ym:e:{for(var _=v.key,x=b;x!==null;){if(x.key===_){if(_=v.type,_===ed){if(x.tag===7){n(w,x.sibling),b=s(x,v.props.children),b.return=w,w=b;break e}}else if(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Sa&&V2(_)===x.type){n(w,x.sibling),b=s(x,v.props),b.ref=Uh(w,x,v),b.return=w,w=b;break e}n(w,x);break}else e(w,x);x=x.sibling}v.type===ed?(b=Nl(v.props.children,w.mode,E,v.key),b.return=w,w=b):(E=Ly(v.type,v.key,v.props,null,w.mode,E),E.ref=Uh(w,b,v),E.return=w,w=E)}return o(w);case Xu:e:{for(x=v.key;b!==null;){if(b.key===x)if(b.tag===4&&b.stateNode.containerInfo===v.containerInfo&&b.stateNode.implementation===v.implementation){n(w,b.sibling),b=s(b,v.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else e(w,b);b=b.sibling}b=gb(v,w.mode,E),b.return=w,w=b}return o(w);case Sa:return x=v._init,y(w,b,x(v._payload),E)}if(gf(v))return p(w,b,v,E);if(Oh(v))return g(w,b,v,E);Tm(w,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,b!==null&&b.tag===6?(n(w,b.sibling),b=s(b,v),b.return=w,w=b):(n(w,b),b=pb(v,w.mode,E),b.return=w,w=b),o(w)):n(w,b)}return y}var qd=XR(!0),e3=XR(!1),y0=Rc(null),w0=null,cd=null,qx=null;function Wx(){qx=cd=w0=null}function Hx(t){var e=y0.current;Lt(y0),t._currentValue=e}function M_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wd(t,e){w0=t,qx=cd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vr=!0),t.firstContext=null)}function Ms(t){var e=t._currentValue;if(qx!==t)if(t={context:t,memoizedValue:e,next:null},cd===null){if(w0===null)throw Error(re(308));cd=t,w0.dependencies={lanes:0,firstContext:t}}else cd=cd.next=t;return e}var cl=null;function Vx(t){cl===null?cl=[t]:cl.push(t)}function t3(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Vx(e)):(n.next=s.next,s.next=n),e.interleaved=n,Fo(t,r)}function Fo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Aa=!1;function Gx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ro(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ac(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,st&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Fo(t,n)}return s=r.interleaved,s===null?(e.next=e,Vx(r)):(e.next=s.next,s.next=e),r.interleaved=e,Fo(t,n)}function Oy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ox(t,n)}}function G2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function v0(t,e,n,r){var s=t.updateQueue;Aa=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?i=l:o.next=l,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,u=l=c=null,a=i;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(h=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=Kt({},d,h);break e;case 2:Aa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=f,c=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=d),s.baseState=c,s.firstBaseUpdate=l,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ul|=o,t.lanes=o,t.memoizedState=d}}function K2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(re(191,s));s.call(r)}}}var Dg={},Ki=Rc(Dg),bp=Rc(Dg),_p=Rc(Dg);function ll(t){if(t===Dg)throw Error(re(174));return t}function Kx(t,e){switch(kt(_p,e),kt(bp,t),kt(Ki,Dg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:v_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=v_(e,t)}Lt(Ki),kt(Ki,e)}function Wd(){Lt(Ki),Lt(bp),Lt(_p)}function r3(t){ll(_p.current);var e=ll(Ki.current),n=v_(e,t.type);e!==n&&(kt(bp,t),kt(Ki,n))}function Yx(t){bp.current===t&&(Lt(Ki),Lt(bp))}var Ht=Rc(0);function b0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cb=[];function Jx(){for(var t=0;t<cb.length;t++)cb[t]._workInProgressVersionPrimary=null;cb.length=0}var Ry=Yo.ReactCurrentDispatcher,lb=Yo.ReactCurrentBatchConfig,jl=0,Gt=null,mn=null,xn=null,_0=!1,jf=!1,Ep=0,SM=0;function Yn(){throw Error(re(321))}function Qx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bi(t[n],e[n]))return!1;return!0}function Zx(t,e,n,r,s,i){if(jl=i,Gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ry.current=t===null||t.memoizedState===null?NM:PM,t=n(r,s),jf){i=0;do{if(jf=!1,Ep=0,25<=i)throw Error(re(301));i+=1,xn=mn=null,e.updateQueue=null,Ry.current=kM,t=n(r,s)}while(jf)}if(Ry.current=E0,e=mn!==null&&mn.next!==null,jl=0,xn=mn=Gt=null,_0=!1,e)throw Error(re(300));return t}function Xx(){var t=Ep!==0;return Ep=0,t}function Di(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Gt.memoizedState=xn=t:xn=xn.next=t,xn}function Bs(){if(mn===null){var t=Gt.alternate;t=t!==null?t.memoizedState:null}else t=mn.next;var e=xn===null?Gt.memoizedState:xn.next;if(e!==null)xn=e,mn=t;else{if(t===null)throw Error(re(310));mn=t,t={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},xn===null?Gt.memoizedState=xn=t:xn=xn.next=t}return xn}function Cp(t,e){return typeof e=="function"?e(t):e}function ub(t){var e=Bs(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=mn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,l=i;do{var u=l.lane;if((jl&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,o=r):c=c.next=d,Gt.lanes|=u,Ul|=u}l=l.next}while(l!==null&&l!==i);c===null?o=r:c.next=a,bi(r,e.memoizedState)||(Vr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Gt.lanes|=i,Ul|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function db(t){var e=Bs(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);bi(i,e.memoizedState)||(Vr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function s3(){}function i3(t,e){var n=Gt,r=Bs(),s=e(),i=!bi(r.memoizedState,s);if(i&&(r.memoizedState=s,Vr=!0),r=r.queue,eS(c3.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||xn!==null&&xn.memoizedState.tag&1){if(n.flags|=2048,xp(9,a3.bind(null,n,r,s,e),void 0,null),Tn===null)throw Error(re(349));jl&30||o3(n,e,s)}return s}function o3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function a3(t,e,n,r){e.value=n,e.getSnapshot=r,l3(e)&&u3(t)}function c3(t,e,n){return n(function(){l3(e)&&u3(t)})}function l3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bi(t,n)}catch{return!0}}function u3(t){var e=Fo(t,1);e!==null&&mi(e,t,1,-1)}function Y2(t){var e=Di();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cp,lastRenderedState:t},e.queue=t,t=t.dispatch=TM.bind(null,Gt,t),[e.memoizedState,t]}function xp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function d3(){return Bs().memoizedState}function $y(t,e,n,r){var s=Di();Gt.flags|=t,s.memoizedState=xp(1|e,n,void 0,r===void 0?null:r)}function xw(t,e,n,r){var s=Bs();r=r===void 0?null:r;var i=void 0;if(mn!==null){var o=mn.memoizedState;if(i=o.destroy,r!==null&&Qx(r,o.deps)){s.memoizedState=xp(e,n,i,r);return}}Gt.flags|=t,s.memoizedState=xp(1|e,n,i,r)}function J2(t,e){return $y(8390656,8,t,e)}function eS(t,e){return xw(2048,8,t,e)}function h3(t,e){return xw(4,2,t,e)}function f3(t,e){return xw(4,4,t,e)}function p3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function g3(t,e,n){return n=n!=null?n.concat([t]):null,xw(4,4,p3.bind(null,e,t),n)}function tS(){}function m3(t,e){var n=Bs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function y3(t,e){var n=Bs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function w3(t,e,n){return jl&21?(bi(n,e)||(n=CR(),Gt.lanes|=n,Ul|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vr=!0),t.memoizedState=n)}function AM(t,e){var n=wt;wt=n!==0&&4>n?n:4,t(!0);var r=lb.transition;lb.transition={};try{t(!1),e()}finally{wt=n,lb.transition=r}}function v3(){return Bs().memoizedState}function IM(t,e,n){var r=lc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},b3(t))_3(e,n);else if(n=t3(t,e,n,r),n!==null){var s=wr();mi(n,t,r,s),E3(n,e,r)}}function TM(t,e,n){var r=lc(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(b3(t))_3(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,bi(a,o)){var c=e.interleaved;c===null?(s.next=s,Vx(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=t3(t,e,s,r),n!==null&&(s=wr(),mi(n,t,r,s),E3(n,e,r))}}function b3(t){var e=t.alternate;return t===Gt||e!==null&&e===Gt}function _3(t,e){jf=_0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function E3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ox(t,n)}}var E0={readContext:Ms,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},NM={readContext:Ms,useCallback:function(t,e){return Di().memoizedState=[t,e===void 0?null:e],t},useContext:Ms,useEffect:J2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$y(4194308,4,p3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $y(4194308,4,t,e)},useInsertionEffect:function(t,e){return $y(4,2,t,e)},useMemo:function(t,e){var n=Di();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Di();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IM.bind(null,Gt,t),[r.memoizedState,t]},useRef:function(t){var e=Di();return t={current:t},e.memoizedState=t},useState:Y2,useDebugValue:tS,useDeferredValue:function(t){return Di().memoizedState=t},useTransition:function(){var t=Y2(!1),e=t[0];return t=AM.bind(null,t[1]),Di().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Gt,s=Di();if(Ft){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),Tn===null)throw Error(re(349));jl&30||o3(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,J2(c3.bind(null,r,i,t),[t]),r.flags|=2048,xp(9,a3.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Di(),e=Tn.identifierPrefix;if(Ft){var n=ko,r=Po;n=(r&~(1<<32-gi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ep++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=SM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},PM={readContext:Ms,useCallback:m3,useContext:Ms,useEffect:eS,useImperativeHandle:g3,useInsertionEffect:h3,useLayoutEffect:f3,useMemo:y3,useReducer:ub,useRef:d3,useState:function(){return ub(Cp)},useDebugValue:tS,useDeferredValue:function(t){var e=Bs();return w3(e,mn.memoizedState,t)},useTransition:function(){var t=ub(Cp)[0],e=Bs().memoizedState;return[t,e]},useMutableSource:s3,useSyncExternalStore:i3,useId:v3,unstable_isNewReconciler:!1},kM={readContext:Ms,useCallback:m3,useContext:Ms,useEffect:eS,useImperativeHandle:g3,useInsertionEffect:h3,useLayoutEffect:f3,useMemo:y3,useReducer:db,useRef:d3,useState:function(){return db(Cp)},useDebugValue:tS,useDeferredValue:function(t){var e=Bs();return mn===null?e.memoizedState=t:w3(e,mn.memoizedState,t)},useTransition:function(){var t=db(Cp)[0],e=Bs().memoizedState;return[t,e]},useMutableSource:s3,useSyncExternalStore:i3,useId:v3,unstable_isNewReconciler:!1};function ri(t,e){if(t&&t.defaultProps){e=Kt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function B_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Kt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sw={isMounted:function(t){return(t=t._reactInternals)?iu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wr(),s=lc(t),i=Ro(r,s);i.payload=e,n!=null&&(i.callback=n),e=ac(t,i,s),e!==null&&(mi(e,t,s,r),Oy(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wr(),s=lc(t),i=Ro(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ac(t,i,s),e!==null&&(mi(e,t,s,r),Oy(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wr(),r=lc(t),s=Ro(n,r);s.tag=2,e!=null&&(s.callback=e),e=ac(t,s,r),e!==null&&(mi(e,t,r,n),Oy(e,t,r))}};function Q2(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!mp(n,r)||!mp(s,i):!0}function C3(t,e,n){var r=!1,s=Ec,i=e.contextType;return typeof i=="object"&&i!==null?i=Ms(i):(s=Yr(e)?$l:ar.current,r=e.contextTypes,i=(r=r!=null)?Fd(t,s):Ec),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sw,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Z2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sw.enqueueReplaceState(e,e.state,null)}function F_(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Gx(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ms(i):(i=Yr(e)?$l:ar.current,s.context=Fd(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(B_(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Sw.enqueueReplaceState(s,s.state,null),v0(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Hd(t,e){try{var n="",r=e;do n+=iL(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function hb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function z_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OM=typeof WeakMap=="function"?WeakMap:Map;function x3(t,e,n){n=Ro(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){x0||(x0=!0,Z_=r),z_(t,e)},n}function S3(t,e,n){n=Ro(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){z_(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){z_(t,e),typeof r!="function"&&(cc===null?cc=new Set([this]):cc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function X2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new OM;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=VM.bind(null,t,e,n),e.then(t,t))}function eI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tI(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ro(-1,1),e.tag=2,ac(n,e,1))),n.lanes|=1),t)}var RM=Yo.ReactCurrentOwner,Vr=!1;function gr(t,e,n,r){e.child=t===null?e3(e,null,n,r):qd(e,t.child,n,r)}function nI(t,e,n,r,s){n=n.render;var i=e.ref;return wd(e,s),r=Zx(t,e,n,r,i,s),n=Xx(),t!==null&&!Vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zo(t,e,s)):(Ft&&n&&Bx(e),e.flags|=1,gr(t,e,r,s),e.child)}function rI(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!lS(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,A3(t,e,i,r,s)):(t=Ly(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:mp,n(o,r)&&t.ref===e.ref)return zo(t,e,s)}return e.flags|=1,t=uc(i,r),t.ref=e.ref,t.return=e,e.child=t}function A3(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(mp(i,r)&&t.ref===e.ref)if(Vr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Vr=!0);else return e.lanes=t.lanes,zo(t,e,s)}return q_(t,e,n,r,s)}function I3(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(ud,os),os|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,kt(ud,os),os|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,kt(ud,os),os|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,kt(ud,os),os|=r;return gr(t,e,s,n),e.child}function T3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function q_(t,e,n,r,s){var i=Yr(n)?$l:ar.current;return i=Fd(e,i),wd(e,s),n=Zx(t,e,n,r,i,s),r=Xx(),t!==null&&!Vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zo(t,e,s)):(Ft&&r&&Bx(e),e.flags|=1,gr(t,e,n,s),e.child)}function sI(t,e,n,r,s){if(Yr(n)){var i=!0;p0(e)}else i=!1;if(wd(e,s),e.stateNode===null)Dy(t,e),C3(e,n,r),F_(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Ms(l):(l=Yr(n)?$l:ar.current,l=Fd(e,l));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==l)&&Z2(e,o,r,l),Aa=!1;var h=e.memoizedState;o.state=h,v0(e,r,o,s),c=e.memoizedState,a!==r||h!==c||Kr.current||Aa?(typeof u=="function"&&(B_(e,n,u,r),c=e.memoizedState),(a=Aa||Q2(e,n,a,r,h,c,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,n3(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:ri(e.type,a),o.props=l,d=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ms(c):(c=Yr(n)?$l:ar.current,c=Fd(e,c));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==c)&&Z2(e,o,r,c),Aa=!1,h=e.memoizedState,o.state=h,v0(e,r,o,s);var p=e.memoizedState;a!==d||h!==p||Kr.current||Aa?(typeof f=="function"&&(B_(e,n,f,r),p=e.memoizedState),(l=Aa||Q2(e,n,l,r,h,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return W_(t,e,n,r,i,s)}function W_(t,e,n,r,s,i){T3(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&q2(e,n,!1),zo(t,e,i);r=e.stateNode,RM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qd(e,t.child,null,i),e.child=qd(e,null,a,i)):gr(t,e,a,i),e.memoizedState=r.state,s&&q2(e,n,!0),e.child}function N3(t){var e=t.stateNode;e.pendingContext?z2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&z2(t,e.context,!1),Kx(t,e.containerInfo)}function iI(t,e,n,r,s){return zd(),zx(s),e.flags|=256,gr(t,e,n,r),e.child}var H_={dehydrated:null,treeContext:null,retryLane:0};function V_(t){return{baseLanes:t,cachePool:null,transitions:null}}function P3(t,e,n){var r=e.pendingProps,s=Ht.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),kt(Ht,s&1),t===null)return L_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Tw(o,r,0,null),t=Nl(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=V_(n),e.memoizedState=H_,t):nS(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return $M(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=uc(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=uc(a,i):(i=Nl(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?V_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=H_,r}return i=t.child,t=i.sibling,r=uc(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function nS(t,e){return e=Tw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nm(t,e,n,r){return r!==null&&zx(r),qd(e,t.child,null,n),t=nS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $M(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=hb(Error(re(422))),Nm(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Tw({mode:"visible",children:r.children},s,0,null),i=Nl(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&qd(e,t.child,null,o),e.child.memoizedState=V_(o),e.memoizedState=H_,i);if(!(e.mode&1))return Nm(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(re(419)),r=hb(i,r,void 0),Nm(t,e,o,r)}if(a=(o&t.childLanes)!==0,Vr||a){if(r=Tn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Fo(t,s),mi(r,t,s,-1))}return cS(),r=hb(Error(re(421))),Nm(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=GM.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,us=oc(s.nextSibling),hs=e,Ft=!0,ci=null,t!==null&&(Rs[$s++]=Po,Rs[$s++]=ko,Rs[$s++]=Dl,Po=t.id,ko=t.overflow,Dl=e),e=nS(e,r.children),e.flags|=4096,e)}function oI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),M_(t.return,e,n)}function fb(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function k3(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(gr(t,e,r.children,n),r=Ht.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oI(t,n,e);else if(t.tag===19)oI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(kt(Ht,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&b0(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),fb(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&b0(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}fb(e,!0,n,null,i);break;case"together":fb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ul|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=uc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=uc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function DM(t,e,n){switch(e.tag){case 3:N3(e),zd();break;case 5:r3(e);break;case 1:Yr(e.type)&&p0(e);break;case 4:Kx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;kt(y0,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(kt(Ht,Ht.current&1),e.flags|=128,null):n&e.child.childLanes?P3(t,e,n):(kt(Ht,Ht.current&1),t=zo(t,e,n),t!==null?t.sibling:null);kt(Ht,Ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return k3(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),kt(Ht,Ht.current),r)break;return null;case 22:case 23:return e.lanes=0,I3(t,e,n)}return zo(t,e,n)}var O3,G_,R3,$3;O3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};G_=function(){};R3=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ll(Ki.current);var i=null;switch(n){case"input":s=g_(t,s),r=g_(t,r),i=[];break;case"select":s=Kt({},s,{value:void 0}),r=Kt({},r,{value:void 0}),i=[];break;case"textarea":s=w_(t,s),r=w_(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=h0)}b_(n,r);var o;n=null;for(l in s)if(!r.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(lp.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var c=r[l];if(a=s!=null?s[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(lp.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Dt("scroll",t),i||a===c||(i=[])):(i=i||[]).push(l,c))}n&&(i=i||[]).push("style",n);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};$3=function(t,e,n,r){n!==r&&(e.flags|=4)};function Lh(t,e){if(!Ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function jM(t,e,n){var r=e.pendingProps;switch(Fx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(e),null;case 1:return Yr(e.type)&&f0(),Jn(e),null;case 3:return r=e.stateNode,Wd(),Lt(Kr),Lt(ar),Jx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Im(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ci!==null&&(tE(ci),ci=null))),G_(t,e),Jn(e),null;case 5:Yx(e);var s=ll(_p.current);if(n=e.type,t!==null&&e.stateNode!=null)R3(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return Jn(e),null}if(t=ll(Ki.current),Im(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Wi]=e,r[vp]=i,t=(e.mode&1)!==0,n){case"dialog":Dt("cancel",r),Dt("close",r);break;case"iframe":case"object":case"embed":Dt("load",r);break;case"video":case"audio":for(s=0;s<yf.length;s++)Dt(yf[s],r);break;case"source":Dt("error",r);break;case"img":case"image":case"link":Dt("error",r),Dt("load",r);break;case"details":Dt("toggle",r);break;case"input":g2(r,i),Dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Dt("invalid",r);break;case"textarea":y2(r,i),Dt("invalid",r)}b_(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Am(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Am(r.textContent,a,t),s=["children",""+a]):lp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Dt("scroll",r)}switch(n){case"input":wm(r),m2(r,i,!0);break;case"textarea":wm(r),w2(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=h0)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Wi]=e,t[vp]=r,O3(t,e,!1,!1),e.stateNode=t;e:{switch(o=__(n,r),n){case"dialog":Dt("cancel",t),Dt("close",t),s=r;break;case"iframe":case"object":case"embed":Dt("load",t),s=r;break;case"video":case"audio":for(s=0;s<yf.length;s++)Dt(yf[s],t);s=r;break;case"source":Dt("error",t),s=r;break;case"img":case"image":case"link":Dt("error",t),Dt("load",t),s=r;break;case"details":Dt("toggle",t),s=r;break;case"input":g2(t,r),s=g_(t,r),Dt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Kt({},r,{value:void 0}),Dt("invalid",t);break;case"textarea":y2(t,r),s=w_(t,r),Dt("invalid",t);break;default:s=r}b_(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?dR(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lR(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&up(t,c):typeof c=="number"&&up(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(lp.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Dt("scroll",t):c!=null&&Ax(t,i,c,o))}switch(n){case"input":wm(t),m2(t,r,!1);break;case"textarea":wm(t),w2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_c(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?pd(t,!!r.multiple,i,!1):r.defaultValue!=null&&pd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=h0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jn(e),null;case 6:if(t&&e.stateNode!=null)$3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=ll(_p.current),ll(Ki.current),Im(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wi]=e,(i=r.nodeValue!==n)&&(t=hs,t!==null))switch(t.tag){case 3:Am(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Am(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wi]=e,e.stateNode=r}return Jn(e),null;case 13:if(Lt(Ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ft&&us!==null&&e.mode&1&&!(e.flags&128))ZR(),zd(),e.flags|=98560,i=!1;else if(i=Im(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(re(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(re(317));i[Wi]=e}else zd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jn(e),i=!1}else ci!==null&&(tE(ci),ci=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ht.current&1?vn===0&&(vn=3):cS())),e.updateQueue!==null&&(e.flags|=4),Jn(e),null);case 4:return Wd(),G_(t,e),t===null&&yp(e.stateNode.containerInfo),Jn(e),null;case 10:return Hx(e.type._context),Jn(e),null;case 17:return Yr(e.type)&&f0(),Jn(e),null;case 19:if(Lt(Ht),i=e.memoizedState,i===null)return Jn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Lh(i,!1);else{if(vn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=b0(t),o!==null){for(e.flags|=128,Lh(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return kt(Ht,Ht.current&1|2),e.child}t=t.sibling}i.tail!==null&&rn()>Vd&&(e.flags|=128,r=!0,Lh(i,!1),e.lanes=4194304)}else{if(!r)if(t=b0(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Lh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ft)return Jn(e),null}else 2*rn()-i.renderingStartTime>Vd&&n!==1073741824&&(e.flags|=128,r=!0,Lh(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=rn(),e.sibling=null,n=Ht.current,kt(Ht,r?n&1|2:n&1),e):(Jn(e),null);case 22:case 23:return aS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?os&1073741824&&(Jn(e),e.subtreeFlags&6&&(e.flags|=8192)):Jn(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function UM(t,e){switch(Fx(e),e.tag){case 1:return Yr(e.type)&&f0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wd(),Lt(Kr),Lt(ar),Jx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yx(e),null;case 13:if(Lt(Ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));zd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Lt(Ht),null;case 4:return Wd(),null;case 10:return Hx(e.type._context),null;case 22:case 23:return aS(),null;case 24:return null;default:return null}}var Pm=!1,or=!1,LM=typeof WeakSet=="function"?WeakSet:Set,_e=null;function ld(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xt(t,e,r)}else n.current=null}function K_(t,e,n){try{n()}catch(r){Xt(t,e,r)}}var aI=!1;function MM(t,e){if(k_=l0,t=MR(),Mx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,l=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++l===s&&(a=o),h===i&&++u===r&&(c=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(O_={focusedElem:t,selectionRange:n},l0=!1,_e=e;_e!==null;)if(e=_e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,_e=t;else for(;_e!==null;){e=_e;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:ri(e.type,g),y);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(E){Xt(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,_e=t;break}_e=e.return}return p=aI,aI=!1,p}function Uf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&K_(e,n,i)}s=s.next}while(s!==r)}}function Aw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Y_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function D3(t){var e=t.alternate;e!==null&&(t.alternate=null,D3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wi],delete e[vp],delete e[D_],delete e[_M],delete e[EM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function j3(t){return t.tag===5||t.tag===3||t.tag===4}function cI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||j3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function J_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=h0));else if(r!==4&&(t=t.child,t!==null))for(J_(t,e,n),t=t.sibling;t!==null;)J_(t,e,n),t=t.sibling}function Q_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Q_(t,e,n),t=t.sibling;t!==null;)Q_(t,e,n),t=t.sibling}var Ln=null,oi=!1;function na(t,e,n){for(n=n.child;n!==null;)U3(t,e,n),n=n.sibling}function U3(t,e,n){if(Gi&&typeof Gi.onCommitFiberUnmount=="function")try{Gi.onCommitFiberUnmount(ww,n)}catch{}switch(n.tag){case 5:or||ld(n,e);case 6:var r=Ln,s=oi;Ln=null,na(t,e,n),Ln=r,oi=s,Ln!==null&&(oi?(t=Ln,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ln.removeChild(n.stateNode));break;case 18:Ln!==null&&(oi?(t=Ln,n=n.stateNode,t.nodeType===8?ob(t.parentNode,n):t.nodeType===1&&ob(t,n),pp(t)):ob(Ln,n.stateNode));break;case 4:r=Ln,s=oi,Ln=n.stateNode.containerInfo,oi=!0,na(t,e,n),Ln=r,oi=s;break;case 0:case 11:case 14:case 15:if(!or&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&K_(n,e,o),s=s.next}while(s!==r)}na(t,e,n);break;case 1:if(!or&&(ld(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Xt(n,e,a)}na(t,e,n);break;case 21:na(t,e,n);break;case 22:n.mode&1?(or=(r=or)||n.memoizedState!==null,na(t,e,n),or=r):na(t,e,n);break;default:na(t,e,n)}}function lI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LM),e.forEach(function(r){var s=KM.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ks(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ln=a.stateNode,oi=!1;break e;case 3:Ln=a.stateNode.containerInfo,oi=!0;break e;case 4:Ln=a.stateNode.containerInfo,oi=!0;break e}a=a.return}if(Ln===null)throw Error(re(160));U3(i,o,s),Ln=null,oi=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(l){Xt(s,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)L3(e,t),e=e.sibling}function L3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ks(e,t),Ii(t),r&4){try{Uf(3,t,t.return),Aw(3,t)}catch(g){Xt(t,t.return,g)}try{Uf(5,t,t.return)}catch(g){Xt(t,t.return,g)}}break;case 1:Ks(e,t),Ii(t),r&512&&n!==null&&ld(n,n.return);break;case 5:if(Ks(e,t),Ii(t),r&512&&n!==null&&ld(n,n.return),t.flags&32){var s=t.stateNode;try{up(s,"")}catch(g){Xt(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&oR(s,i),__(a,o);var l=__(a,i);for(o=0;o<c.length;o+=2){var u=c[o],d=c[o+1];u==="style"?dR(s,d):u==="dangerouslySetInnerHTML"?lR(s,d):u==="children"?up(s,d):Ax(s,u,d,l)}switch(a){case"input":m_(s,i);break;case"textarea":aR(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?pd(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?pd(s,!!i.multiple,i.defaultValue,!0):pd(s,!!i.multiple,i.multiple?[]:"",!1))}s[vp]=i}catch(g){Xt(t,t.return,g)}}break;case 6:if(Ks(e,t),Ii(t),r&4){if(t.stateNode===null)throw Error(re(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Xt(t,t.return,g)}}break;case 3:if(Ks(e,t),Ii(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pp(e.containerInfo)}catch(g){Xt(t,t.return,g)}break;case 4:Ks(e,t),Ii(t);break;case 13:Ks(e,t),Ii(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(iS=rn())),r&4&&lI(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(or=(l=or)||u,Ks(e,t),or=l):Ks(e,t),Ii(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(_e=t,u=t.child;u!==null;){for(d=_e=u;_e!==null;){switch(h=_e,f=h.child,h.tag){case 0:case 11:case 14:case 15:Uf(4,h,h.return);break;case 1:ld(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Xt(r,n,g)}}break;case 5:ld(h,h.return);break;case 22:if(h.memoizedState!==null){dI(d);continue}}f!==null?(f.return=h,_e=f):dI(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=uR("display",o))}catch(g){Xt(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){Xt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ks(e,t),Ii(t),r&4&&lI(t);break;case 21:break;default:Ks(e,t),Ii(t)}}function Ii(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(j3(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(up(s,""),r.flags&=-33);var i=cI(t);Q_(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=cI(t);J_(t,a,o);break;default:throw Error(re(161))}}catch(c){Xt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BM(t,e,n){_e=t,M3(t)}function M3(t,e,n){for(var r=(t.mode&1)!==0;_e!==null;){var s=_e,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Pm;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||or;a=Pm;var l=or;if(Pm=o,(or=c)&&!l)for(_e=s;_e!==null;)o=_e,c=o.child,o.tag===22&&o.memoizedState!==null?hI(s):c!==null?(c.return=o,_e=c):hI(s);for(;i!==null;)_e=i,M3(i),i=i.sibling;_e=s,Pm=a,or=l}uI(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,_e=i):uI(t)}}function uI(t){for(;_e!==null;){var e=_e;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:or||Aw(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!or)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ri(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&K2(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}K2(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&pp(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}or||e.flags&512&&Y_(e)}catch(h){Xt(e,e.return,h)}}if(e===t){_e=null;break}if(n=e.sibling,n!==null){n.return=e.return,_e=n;break}_e=e.return}}function dI(t){for(;_e!==null;){var e=_e;if(e===t){_e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,_e=n;break}_e=e.return}}function hI(t){for(;_e!==null;){var e=_e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Aw(4,e)}catch(c){Xt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Xt(e,s,c)}}var i=e.return;try{Y_(e)}catch(c){Xt(e,i,c)}break;case 5:var o=e.return;try{Y_(e)}catch(c){Xt(e,o,c)}}}catch(c){Xt(e,e.return,c)}if(e===t){_e=null;break}var a=e.sibling;if(a!==null){a.return=e.return,_e=a;break}_e=e.return}}var FM=Math.ceil,C0=Yo.ReactCurrentDispatcher,rS=Yo.ReactCurrentOwner,Ls=Yo.ReactCurrentBatchConfig,st=0,Tn=null,dn=null,Bn=0,os=0,ud=Rc(0),vn=0,Sp=null,Ul=0,Iw=0,sS=0,Lf=null,Wr=null,iS=0,Vd=1/0,_o=null,x0=!1,Z_=null,cc=null,km=!1,Qa=null,S0=0,Mf=0,X_=null,jy=-1,Uy=0;function wr(){return st&6?rn():jy!==-1?jy:jy=rn()}function lc(t){return t.mode&1?st&2&&Bn!==0?Bn&-Bn:xM.transition!==null?(Uy===0&&(Uy=CR()),Uy):(t=wt,t!==0||(t=window.event,t=t===void 0?16:PR(t.type)),t):1}function mi(t,e,n,r){if(50<Mf)throw Mf=0,X_=null,Error(re(185));Og(t,n,r),(!(st&2)||t!==Tn)&&(t===Tn&&(!(st&2)&&(Iw|=n),vn===4&&Da(t,Bn)),Jr(t,r),n===1&&st===0&&!(e.mode&1)&&(Vd=rn()+500,Cw&&$c()))}function Jr(t,e){var n=t.callbackNode;xL(t,e);var r=c0(t,t===Tn?Bn:0);if(r===0)n!==null&&_2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_2(n),e===1)t.tag===0?CM(fI.bind(null,t)):YR(fI.bind(null,t)),vM(function(){!(st&6)&&$c()}),n=null;else{switch(xR(r)){case 1:n=kx;break;case 4:n=_R;break;case 16:n=a0;break;case 536870912:n=ER;break;default:n=a0}n=G3(n,B3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function B3(t,e){if(jy=-1,Uy=0,st&6)throw Error(re(327));var n=t.callbackNode;if(vd()&&t.callbackNode!==n)return null;var r=c0(t,t===Tn?Bn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=A0(t,r);else{e=r;var s=st;st|=2;var i=z3();(Tn!==t||Bn!==e)&&(_o=null,Vd=rn()+500,Tl(t,e));do try{WM();break}catch(a){F3(t,a)}while(!0);Wx(),C0.current=i,st=s,dn!==null?e=0:(Tn=null,Bn=0,e=vn)}if(e!==0){if(e===2&&(s=A_(t),s!==0&&(r=s,e=eE(t,s))),e===1)throw n=Sp,Tl(t,0),Da(t,r),Jr(t,rn()),n;if(e===6)Da(t,r);else{if(s=t.current.alternate,!(r&30)&&!zM(s)&&(e=A0(t,r),e===2&&(i=A_(t),i!==0&&(r=i,e=eE(t,i))),e===1))throw n=Sp,Tl(t,0),Da(t,r),Jr(t,rn()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:Zc(t,Wr,_o);break;case 3:if(Da(t,r),(r&130023424)===r&&(e=iS+500-rn(),10<e)){if(c0(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){wr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=$_(Zc.bind(null,t,Wr,_o),e);break}Zc(t,Wr,_o);break;case 4:if(Da(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-gi(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=rn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FM(r/1960))-r,10<r){t.timeoutHandle=$_(Zc.bind(null,t,Wr,_o),r);break}Zc(t,Wr,_o);break;case 5:Zc(t,Wr,_o);break;default:throw Error(re(329))}}}return Jr(t,rn()),t.callbackNode===n?B3.bind(null,t):null}function eE(t,e){var n=Lf;return t.current.memoizedState.isDehydrated&&(Tl(t,e).flags|=256),t=A0(t,e),t!==2&&(e=Wr,Wr=n,e!==null&&tE(e)),t}function tE(t){Wr===null?Wr=t:Wr.push.apply(Wr,t)}function zM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!bi(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Da(t,e){for(e&=~sS,e&=~Iw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gi(e),r=1<<n;t[n]=-1,e&=~r}}function fI(t){if(st&6)throw Error(re(327));vd();var e=c0(t,0);if(!(e&1))return Jr(t,rn()),null;var n=A0(t,e);if(t.tag!==0&&n===2){var r=A_(t);r!==0&&(e=r,n=eE(t,r))}if(n===1)throw n=Sp,Tl(t,0),Da(t,e),Jr(t,rn()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zc(t,Wr,_o),Jr(t,rn()),null}function oS(t,e){var n=st;st|=1;try{return t(e)}finally{st=n,st===0&&(Vd=rn()+500,Cw&&$c())}}function Ll(t){Qa!==null&&Qa.tag===0&&!(st&6)&&vd();var e=st;st|=1;var n=Ls.transition,r=wt;try{if(Ls.transition=null,wt=1,t)return t()}finally{wt=r,Ls.transition=n,st=e,!(st&6)&&$c()}}function aS(){os=ud.current,Lt(ud)}function Tl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wM(n)),dn!==null)for(n=dn.return;n!==null;){var r=n;switch(Fx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&f0();break;case 3:Wd(),Lt(Kr),Lt(ar),Jx();break;case 5:Yx(r);break;case 4:Wd();break;case 13:Lt(Ht);break;case 19:Lt(Ht);break;case 10:Hx(r.type._context);break;case 22:case 23:aS()}n=n.return}if(Tn=t,dn=t=uc(t.current,null),Bn=os=e,vn=0,Sp=null,sS=Iw=Ul=0,Wr=Lf=null,cl!==null){for(e=0;e<cl.length;e++)if(n=cl[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}cl=null}return t}function F3(t,e){do{var n=dn;try{if(Wx(),Ry.current=E0,_0){for(var r=Gt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}_0=!1}if(jl=0,xn=mn=Gt=null,jf=!1,Ep=0,rS.current=null,n===null||n.return===null){vn=1,Sp=e,dn=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=Bn,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=eI(o);if(f!==null){f.flags&=-257,tI(f,o,a,i,e),f.mode&1&&X2(i,l,e),e=f,c=l;var p=e.updateQueue;if(p===null){var g=new Set;g.add(c),e.updateQueue=g}else p.add(c);break e}else{if(!(e&1)){X2(i,l,e),cS();break e}c=Error(re(426))}}else if(Ft&&a.mode&1){var y=eI(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),tI(y,o,a,i,e),zx(Hd(c,a));break e}}i=c=Hd(c,a),vn!==4&&(vn=2),Lf===null?Lf=[i]:Lf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=x3(i,c,e);G2(i,w);break e;case 1:a=c;var b=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(cc===null||!cc.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=S3(i,a,e);G2(i,E);break e}}i=i.return}while(i!==null)}W3(n)}catch(_){e=_,dn===n&&n!==null&&(dn=n=n.return);continue}break}while(!0)}function z3(){var t=C0.current;return C0.current=E0,t===null?E0:t}function cS(){(vn===0||vn===3||vn===2)&&(vn=4),Tn===null||!(Ul&268435455)&&!(Iw&268435455)||Da(Tn,Bn)}function A0(t,e){var n=st;st|=2;var r=z3();(Tn!==t||Bn!==e)&&(_o=null,Tl(t,e));do try{qM();break}catch(s){F3(t,s)}while(!0);if(Wx(),st=n,C0.current=r,dn!==null)throw Error(re(261));return Tn=null,Bn=0,vn}function qM(){for(;dn!==null;)q3(dn)}function WM(){for(;dn!==null&&!gL();)q3(dn)}function q3(t){var e=V3(t.alternate,t,os);t.memoizedProps=t.pendingProps,e===null?W3(t):dn=e,rS.current=null}function W3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=UM(n,e),n!==null){n.flags&=32767,dn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vn=6,dn=null;return}}else if(n=jM(n,e,os),n!==null){dn=n;return}if(e=e.sibling,e!==null){dn=e;return}dn=e=t}while(e!==null);vn===0&&(vn=5)}function Zc(t,e,n){var r=wt,s=Ls.transition;try{Ls.transition=null,wt=1,HM(t,e,n,r)}finally{Ls.transition=s,wt=r}return null}function HM(t,e,n,r){do vd();while(Qa!==null);if(st&6)throw Error(re(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(SL(t,i),t===Tn&&(dn=Tn=null,Bn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||km||(km=!0,G3(a0,function(){return vd(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ls.transition,Ls.transition=null;var o=wt;wt=1;var a=st;st|=4,rS.current=null,MM(t,n),L3(n,t),dM(O_),l0=!!k_,O_=k_=null,t.current=n,BM(n),mL(),st=a,wt=o,Ls.transition=i}else t.current=n;if(km&&(km=!1,Qa=t,S0=s),i=t.pendingLanes,i===0&&(cc=null),vL(n.stateNode),Jr(t,rn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(x0)throw x0=!1,t=Z_,Z_=null,t;return S0&1&&t.tag!==0&&vd(),i=t.pendingLanes,i&1?t===X_?Mf++:(Mf=0,X_=t):Mf=0,$c(),null}function vd(){if(Qa!==null){var t=xR(S0),e=Ls.transition,n=wt;try{if(Ls.transition=null,wt=16>t?16:t,Qa===null)var r=!1;else{if(t=Qa,Qa=null,S0=0,st&6)throw Error(re(331));var s=st;for(st|=4,_e=t.current;_e!==null;){var i=_e,o=i.child;if(_e.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(_e=l;_e!==null;){var u=_e;switch(u.tag){case 0:case 11:case 15:Uf(8,u,i)}var d=u.child;if(d!==null)d.return=u,_e=d;else for(;_e!==null;){u=_e;var h=u.sibling,f=u.return;if(D3(u),u===l){_e=null;break}if(h!==null){h.return=f,_e=h;break}_e=f}}}var p=i.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}_e=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,_e=o;else e:for(;_e!==null;){if(i=_e,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Uf(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,_e=w;break e}_e=i.return}}var b=t.current;for(_e=b;_e!==null;){o=_e;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,_e=v;else e:for(o=b;_e!==null;){if(a=_e,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Aw(9,a)}}catch(_){Xt(a,a.return,_)}if(a===o){_e=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,_e=E;break e}_e=a.return}}if(st=s,$c(),Gi&&typeof Gi.onPostCommitFiberRoot=="function")try{Gi.onPostCommitFiberRoot(ww,t)}catch{}r=!0}return r}finally{wt=n,Ls.transition=e}}return!1}function pI(t,e,n){e=Hd(n,e),e=x3(t,e,1),t=ac(t,e,1),e=wr(),t!==null&&(Og(t,1,e),Jr(t,e))}function Xt(t,e,n){if(t.tag===3)pI(t,t,n);else for(;e!==null;){if(e.tag===3){pI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cc===null||!cc.has(r))){t=Hd(n,t),t=S3(e,t,1),e=ac(e,t,1),t=wr(),e!==null&&(Og(e,1,t),Jr(e,t));break}}e=e.return}}function VM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wr(),t.pingedLanes|=t.suspendedLanes&n,Tn===t&&(Bn&n)===n&&(vn===4||vn===3&&(Bn&130023424)===Bn&&500>rn()-iS?Tl(t,0):sS|=n),Jr(t,e)}function H3(t,e){e===0&&(t.mode&1?(e=_m,_m<<=1,!(_m&130023424)&&(_m=4194304)):e=1);var n=wr();t=Fo(t,e),t!==null&&(Og(t,e,n),Jr(t,n))}function GM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),H3(t,n)}function KM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),H3(t,n)}var V3;V3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kr.current)Vr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vr=!1,DM(t,e,n);Vr=!!(t.flags&131072)}else Vr=!1,Ft&&e.flags&1048576&&JR(e,m0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dy(t,e),t=e.pendingProps;var s=Fd(e,ar.current);wd(e,n),s=Zx(null,e,r,t,s,n);var i=Xx();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yr(r)?(i=!0,p0(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Gx(e),s.updater=Sw,e.stateNode=s,s._reactInternals=e,F_(e,r,t,n),e=W_(null,e,r,!0,i,n)):(e.tag=0,Ft&&i&&Bx(e),gr(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dy(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=JM(r),t=ri(r,t),s){case 0:e=q_(null,e,r,t,n);break e;case 1:e=sI(null,e,r,t,n);break e;case 11:e=nI(null,e,r,t,n);break e;case 14:e=rI(null,e,r,ri(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ri(r,s),q_(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ri(r,s),sI(t,e,r,s,n);case 3:e:{if(N3(e),t===null)throw Error(re(387));r=e.pendingProps,i=e.memoizedState,s=i.element,n3(t,e),v0(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Hd(Error(re(423)),e),e=iI(t,e,r,n,s);break e}else if(r!==s){s=Hd(Error(re(424)),e),e=iI(t,e,r,n,s);break e}else for(us=oc(e.stateNode.containerInfo.firstChild),hs=e,Ft=!0,ci=null,n=e3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zd(),r===s){e=zo(t,e,n);break e}gr(t,e,r,n)}e=e.child}return e;case 5:return r3(e),t===null&&L_(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,R_(r,s)?o=null:i!==null&&R_(r,i)&&(e.flags|=32),T3(t,e),gr(t,e,o,n),e.child;case 6:return t===null&&L_(e),null;case 13:return P3(t,e,n);case 4:return Kx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qd(e,null,r,n):gr(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ri(r,s),nI(t,e,r,s,n);case 7:return gr(t,e,e.pendingProps,n),e.child;case 8:return gr(t,e,e.pendingProps.children,n),e.child;case 12:return gr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,kt(y0,r._currentValue),r._currentValue=o,i!==null)if(bi(i.value,o)){if(i.children===s.children&&!Kr.current){e=zo(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ro(-1,n&-n),c.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),M_(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(re(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),M_(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}gr(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,wd(e,n),s=Ms(s),r=r(s),e.flags|=1,gr(t,e,r,n),e.child;case 14:return r=e.type,s=ri(r,e.pendingProps),s=ri(r.type,s),rI(t,e,r,s,n);case 15:return A3(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ri(r,s),Dy(t,e),e.tag=1,Yr(r)?(t=!0,p0(e)):t=!1,wd(e,n),C3(e,r,s),F_(e,r,s,n),W_(null,e,r,!0,t,n);case 19:return k3(t,e,n);case 22:return I3(t,e,n)}throw Error(re(156,e.tag))};function G3(t,e){return bR(t,e)}function YM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(t,e,n,r){return new YM(t,e,n,r)}function lS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JM(t){if(typeof t=="function")return lS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tx)return 11;if(t===Nx)return 14}return 2}function uc(t,e){var n=t.alternate;return n===null?(n=Ds(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ly(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")lS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ed:return Nl(n.children,s,i,e);case Ix:o=8,s|=8;break;case d_:return t=Ds(12,n,e,s|2),t.elementType=d_,t.lanes=i,t;case h_:return t=Ds(13,n,e,s),t.elementType=h_,t.lanes=i,t;case f_:return t=Ds(19,n,e,s),t.elementType=f_,t.lanes=i,t;case rR:return Tw(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tR:o=10;break e;case nR:o=9;break e;case Tx:o=11;break e;case Nx:o=14;break e;case Sa:o=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=Ds(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Nl(t,e,n,r){return t=Ds(7,t,r,e),t.lanes=n,t}function Tw(t,e,n,r){return t=Ds(22,t,r,e),t.elementType=rR,t.lanes=n,t.stateNode={isHidden:!1},t}function pb(t,e,n){return t=Ds(6,t,null,e),t.lanes=n,t}function gb(t,e,n){return e=Ds(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QM(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yv(0),this.expirationTimes=Yv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yv(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function uS(t,e,n,r,s,i,o,a,c){return t=new QM(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ds(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gx(i),t}function ZM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function K3(t){if(!t)return Ec;t=t._reactInternals;e:{if(iu(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(Yr(n))return KR(t,n,e)}return e}function Y3(t,e,n,r,s,i,o,a,c){return t=uS(n,r,!0,t,s,i,o,a,c),t.context=K3(null),n=t.current,r=wr(),s=lc(n),i=Ro(r,s),i.callback=e??null,ac(n,i,s),t.current.lanes=s,Og(t,s,r),Jr(t,r),t}function Nw(t,e,n,r){var s=e.current,i=wr(),o=lc(s);return n=K3(n),e.context===null?e.context=n:e.pendingContext=n,e=Ro(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ac(s,e,o),t!==null&&(mi(t,s,o,i),Oy(t,s,o)),o}function I0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dS(t,e){gI(t,e),(t=t.alternate)&&gI(t,e)}function XM(){return null}var J3=typeof reportError=="function"?reportError:function(t){console.error(t)};function hS(t){this._internalRoot=t}Pw.prototype.render=hS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));Nw(t,e,null,null)};Pw.prototype.unmount=hS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ll(function(){Nw(null,t,null,null)}),e[Bo]=null}};function Pw(t){this._internalRoot=t}Pw.prototype.unstable_scheduleHydration=function(t){if(t){var e=IR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$a.length&&e!==0&&e<$a[n].priority;n++);$a.splice(n,0,t),n===0&&NR(t)}};function fS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mI(){}function eB(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var l=I0(o);i.call(l)}}var o=Y3(e,r,t,0,null,!1,!1,"",mI);return t._reactRootContainer=o,t[Bo]=o.current,yp(t.nodeType===8?t.parentNode:t),Ll(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var l=I0(c);a.call(l)}}var c=uS(t,0,!1,null,null,!1,!1,"",mI);return t._reactRootContainer=c,t[Bo]=c.current,yp(t.nodeType===8?t.parentNode:t),Ll(function(){Nw(e,c,n,r)}),c}function Ow(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=I0(o);a.call(c)}}Nw(e,o,t,s)}else o=eB(n,e,t,s,r);return I0(o)}SR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=mf(e.pendingLanes);n!==0&&(Ox(e,n|1),Jr(e,rn()),!(st&6)&&(Vd=rn()+500,$c()))}break;case 13:Ll(function(){var r=Fo(t,1);if(r!==null){var s=wr();mi(r,t,1,s)}}),dS(t,1)}};Rx=function(t){if(t.tag===13){var e=Fo(t,134217728);if(e!==null){var n=wr();mi(e,t,134217728,n)}dS(t,134217728)}};AR=function(t){if(t.tag===13){var e=lc(t),n=Fo(t,e);if(n!==null){var r=wr();mi(n,t,e,r)}dS(t,e)}};IR=function(){return wt};TR=function(t,e){var n=wt;try{return wt=t,e()}finally{wt=n}};C_=function(t,e,n){switch(e){case"input":if(m_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ew(r);if(!s)throw Error(re(90));iR(r),m_(r,s)}}}break;case"textarea":aR(t,n);break;case"select":e=n.value,e!=null&&pd(t,!!n.multiple,e,!1)}};pR=oS;gR=Ll;var tB={usingClientEntryPoint:!1,Events:[$g,sd,Ew,hR,fR,oS]},Mh={findFiberByHostInstance:al,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nB={bundleType:Mh.bundleType,version:Mh.version,rendererPackageName:Mh.rendererPackageName,rendererConfig:Mh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wR(t),t===null?null:t.stateNode},findFiberByHostInstance:Mh.findFiberByHostInstance||XM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Om=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Om.isDisabled&&Om.supportsFiber)try{ww=Om.inject(nB),Gi=Om}catch{}}ys.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tB;ys.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fS(e))throw Error(re(200));return ZM(t,e,null,n)};ys.createRoot=function(t,e){if(!fS(t))throw Error(re(299));var n=!1,r="",s=J3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=uS(t,1,!1,null,null,n,!1,r,s),t[Bo]=e.current,yp(t.nodeType===8?t.parentNode:t),new hS(e)};ys.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=wR(e),t=t===null?null:t.stateNode,t};ys.flushSync=function(t){return Ll(t)};ys.hydrate=function(t,e,n){if(!kw(e))throw Error(re(200));return Ow(null,t,e,!0,n)};ys.hydrateRoot=function(t,e,n){if(!fS(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=J3;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Y3(e,null,t,1,n??null,s,!1,i,o),t[Bo]=e.current,yp(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Pw(e)};ys.render=function(t,e,n){if(!kw(e))throw Error(re(200));return Ow(null,t,e,!1,n)};ys.unmountComponentAtNode=function(t){if(!kw(t))throw Error(re(40));return t._reactRootContainer?(Ll(function(){Ow(null,null,t,!1,function(){t._reactRootContainer=null,t[Bo]=null})}),!0):!1};ys.unstable_batchedUpdates=oS;ys.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kw(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return Ow(t,e,n,!1,r)};ys.version="18.3.1-next-f1338f8080-20240426";function Q3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q3)}catch(t){console.error(t)}}Q3(),QO.exports=ys;var pS=QO.exports,yI=pS;l_.createRoot=yI.createRoot,l_.hydrateRoot=yI.hydrateRoot;const Z3="2.31.4";let Bh={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${Z3}`},X=class nE extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof nE?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof nE&&n.cause.docsPath||n.docsPath,i=(a=Bh.getDocsUrl)==null?void 0:a.call(Bh,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Bh.version?[`Version: ${Bh.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=Z3}walk(e){return X3(this,e)}};function X3(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?X3(t.cause,e):e?null:t}let e$=class extends X{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class rB extends X{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}let sB=class extends X{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};class t$ extends X{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let n$=class extends X{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class wI extends X{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function dh(t,{dir:e,size:n=32}={}){return typeof t=="string"?dc(t,{dir:e,size:n}):iB(t,{dir:e,size:n})}function dc(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new n$({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function iB(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new n$({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}function qo(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function on(t){return qo(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function hh(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const oB=new TextEncoder;function Rw(t,e={}){return typeof t=="number"||typeof t=="bigint"?cB(t,e):typeof t=="boolean"?aB(t,e):qo(t)?Xi(t,e):bd(t,e)}function aB(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Ci(n,{size:e.size}),dh(n,{size:e.size})):n}const oo={zero:48,nine:57,A:65,F:70,a:97,f:102};function vI(t){if(t>=oo.zero&&t<=oo.nine)return t-oo.zero;if(t>=oo.A&&t<=oo.F)return t-(oo.A-10);if(t>=oo.a&&t<=oo.f)return t-(oo.a-10)}function Xi(t,e={}){let n=t;e.size&&(Ci(n,{size:e.size}),n=dh(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=vI(r.charCodeAt(a++)),l=vI(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new X(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function cB(t,e){const n=je(t,e);return Xi(n)}function bd(t,e={}){const n=oB.encode(t);return typeof e.size=="number"?(Ci(n,{size:e.size}),dh(n,{dir:"right",size:e.size})):n}function Ci(t,{size:e}){if(on(t)>e)throw new sB({givenSize:on(t),maxSize:e})}function Wo(t,e={}){const{signed:n}=e;e.size&&Ci(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Ho(t,e={}){return Number(Wo(t,e))}function r$(t,e={}){let n=Xi(t);return e.size&&(Ci(n,{size:e.size}),n=hh(n,{dir:"right"})),new TextDecoder().decode(n)}const lB=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ml(t,e={}){return typeof t=="number"||typeof t=="bigint"?je(t,e):typeof t=="string"?$w(t,e):typeof t=="boolean"?s$(t,e):Er(t,e)}function s$(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Ci(n,{size:e.size}),dh(n,{size:e.size})):n}function Er(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=lB[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Ci(r,{size:e.size}),dh(r,{dir:"right",size:e.size})):r}function je(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new e$({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?dh(a,{size:r}):a}const uB=new TextEncoder;function $w(t,e={}){const n=uB.encode(t);return Er(n,e)}async function dB(t,{chain:e}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:je(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function Cc(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new xB(t.type);return`${t.name}(${Dw(t.inputs,{includeName:e})})`}function Dw(t,{includeName:e=!1}={}){return t?t.map(n=>hB(n,{includeName:e})).join(e?", ":","):""}function hB(t,{includeName:e}){return t.type.startsWith("tuple")?`(${Dw(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class fB extends X{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class bI extends X{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class i$ extends X{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Dw(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class jw extends X{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class pB extends X{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class gB extends X{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${on(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class mB extends X{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class C_e extends X{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class x_e extends X{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class o$ extends X{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class yB extends X{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class a$ extends X{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class T0 extends X{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class wB extends X{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class S_e extends X{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class vB extends X{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Cc(e.abiItem)}\`, and`,`\`${n.type}\` in \`${Cc(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class bB extends X{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class rE extends X{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Dw(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class c$ extends X{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Cc(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class _B extends X{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class EB extends X{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class CB extends X{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class xB extends X{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function xc(t){return typeof t[0]=="string"?Uw(t):SB(t)}function SB(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function Uw(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}class Sc extends X{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}let Lw=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Rm=BigInt(2**32-1),_I=BigInt(32);function AB(t,e=!1){return e?{h:Number(t&Rm),l:Number(t>>_I&Rm)}:{h:Number(t>>_I&Rm)|0,l:Number(t&Rm)|0}}function IB(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=AB(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const TB=(t,e,n)=>t<<n|e>>>32-n,NB=(t,e,n)=>e<<n|t>>>32-n,PB=(t,e,n)=>e<<n-32|t>>>64-n,kB=(t,e,n)=>t<<n-32|e>>>64-n,vu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function OB(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function N0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Bl(t,...e){if(!OB(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function I_e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");N0(t.outputLen),N0(t.blockLen)}function P0(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function l$(t,e){Bl(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function RB(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ap(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function mb(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ti(t,e){return t<<32-e|t>>>e}const $B=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function DB(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function jB(t){for(let e=0;e<t.length;e++)t[e]=DB(t[e]);return t}const EI=$B?t=>t:jB,u$=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",UB=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function T_e(t){if(Bl(t),u$)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=UB[t[n]];return e}const ao={_0:48,_9:57,A:65,F:70,a:97,f:102};function CI(t){if(t>=ao._0&&t<=ao._9)return t-ao._0;if(t>=ao.A&&t<=ao.F)return t-(ao.A-10);if(t>=ao.a&&t<=ao.f)return t-(ao.a-10)}function N_e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(u$)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=CI(t.charCodeAt(i)),a=CI(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function LB(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Mw(t){return typeof t=="string"&&(t=LB(t)),Bl(t),t}function P_e(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Bl(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class d${}function h$(t){const e=r=>t().update(Mw(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function MB(t){const e=(r,s)=>t(s).update(Mw(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function k_e(t=32){if(vu&&typeof vu.getRandomValues=="function")return vu.getRandomValues(new Uint8Array(t));if(vu&&typeof vu.randomBytes=="function")return Uint8Array.from(vu.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const BB=BigInt(0),Fh=BigInt(1),FB=BigInt(2),zB=BigInt(7),qB=BigInt(256),WB=BigInt(113),f$=[],p$=[],g$=[];for(let t=0,e=Fh,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],f$.push(2*(5*r+n)),p$.push((t+1)*(t+2)/2%64);let s=BB;for(let i=0;i<7;i++)e=(e<<Fh^(e>>zB)*WB)%qB,e&FB&&(s^=Fh<<(Fh<<BigInt(i))-Fh);g$.push(s)}const m$=IB(g$,!0),HB=m$[0],VB=m$[1],xI=(t,e,n)=>n>32?PB(t,e,n):TB(t,e,n),SI=(t,e,n)=>n>32?kB(t,e,n):NB(t,e,n);function y$(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=xI(l,u,1)^n[a],h=SI(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=p$[o],c=xI(s,i,a),l=SI(s,i,a),u=f$[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=HB[r],t[1]^=VB[r]}Ap(n)}class jg extends d${constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,N0(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=RB(this.state)}clone(){return this._cloneInto()}keccak(){EI(this.state32),y$(this.state32,this.rounds),EI(this.state32),this.posOut=0,this.pos=0}update(e){P0(this),e=Mw(e),Bl(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){P0(this,!1),Bl(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return N0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(l$(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ap(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new jg(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Dc=(t,e,n)=>h$(()=>new jg(e,t,n)),GB=Dc(6,144,224/8),KB=Dc(6,136,256/8),YB=Dc(6,104,384/8),JB=Dc(6,72,512/8),QB=Dc(1,144,224/8),gS=Dc(1,136,256/8),ZB=Dc(1,104,384/8),XB=Dc(1,72,512/8),w$=(t,e,n)=>MB((r={})=>new jg(e,t,r.dkLen===void 0?n:r.dkLen,!0)),eF=w$(31,168,128/8),tF=w$(31,136,256/8),O_e=Object.freeze(Object.defineProperty({__proto__:null,Keccak:jg,keccakP:y$,keccak_224:QB,keccak_256:gS,keccak_384:ZB,keccak_512:XB,sha3_224:GB,sha3_256:KB,sha3_384:YB,sha3_512:JB,shake128:eF,shake256:tF},Symbol.toStringTag,{value:"Module"}));function fh(t,e){const n=e||"hex",r=gS(qo(t,{strict:!1})?Rw(t):t);return n==="bytes"?r:Ml(r)}const yb=new Lw(8192);function Ug(t,e){if(yb.has(`${t}.${e}`))return yb.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=fh(bd(n),"bytes"),s=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return yb.set(`${t}.${e}`,i),i}function Za(t,e){if(!_i(t,{strict:!1}))throw new Sc({address:t});return Ug(t,e)}const nF=/^0x[a-fA-F0-9]{40}$/,wb=new Lw(8192);function _i(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(wb.has(r))return wb.get(r);const s=nF.test(t)?t.toLowerCase()===t?!0:n?Ug(t)===t:!0:!1;return wb.set(r,s),s}function k0(t,e,n,{strict:r}={}){return qo(t,{strict:!1})?sE(t,e,n,{strict:r}):_$(t,e,n,{strict:r})}function v$(t,e){if(typeof e=="number"&&e>0&&e>on(t)-1)throw new t$({offset:e,position:"start",size:on(t)})}function b$(t,e,n){if(typeof e=="number"&&typeof n=="number"&&on(t)!==n-e)throw new t$({offset:n,position:"end",size:on(t)})}function _$(t,e,n,{strict:r}={}){v$(t,e);const s=t.slice(e,n);return r&&b$(s,e,n),s}function sE(t,e,n,{strict:r}={}){v$(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&b$(s,e,n),s}const rF=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,E$=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function C$(t,e){if(t.length!==e.length)throw new mB({expectedLength:t.length,givenLength:e.length});const n=sF({params:t,values:e}),r=yS(n);return r.length===0?"0x":r}function sF({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(mS({param:t[r],value:e[r]}));return n}function mS({param:t,value:e}){const n=wS(t.type);if(n){const[r,s]=n;return oF(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return dF(e,{param:t});if(t.type==="address")return iF(e);if(t.type==="bool")return cF(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=E$.exec(t.type)??[];return lF(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return aF(e,{param:t});if(t.type==="string")return uF(e);throw new _B(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function yS(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?e+=32:e+=on(a)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?(n.push(je(e+s,{size:32})),r.push(a),s+=on(a)):n.push(a)}return xc([...n,...r])}function iF(t){if(!_i(t))throw new Sc({address:t});return{dynamic:!1,encoded:dc(t.toLowerCase())}}function oF(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new CB(t);if(!r&&t.length!==e)throw new pB({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const i=[];for(let o=0;o<t.length;o++){const a=mS({param:n,value:t[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=yS(i);if(r){const a=je(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?xc([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:xc(i.map(({encoded:o})=>o))}}function aF(t,{param:e}){const[,n]=e.type.split("bytes"),r=on(t);if(!n){let s=t;return r%32!==0&&(s=dc(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:xc([dc(je(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new gB({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:dc(t,{dir:"right"})}}function cF(t){if(typeof t!="boolean")throw new X(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:dc(s$(t))}}function lF(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new e$({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:je(t,{size:32,signed:e})}}function uF(t){const e=$w(t),n=Math.ceil(on(e)/32),r=[];for(let s=0;s<n;s++)r.push(dc(k0(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:xc([dc(je(on(e),{size:32})),...r])}}function dF(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],o=Array.isArray(t)?s:i.name,a=mS({param:i,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?yS(r):xc(r.map(({encoded:s})=>s))}}function wS(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const vb="/docs/contract/encodeDeployData";function vS(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new fB({docsPath:vb});if(!("inputs"in s))throw new bI({docsPath:vb});if(!s.inputs||s.inputs.length===0)throw new bI({docsPath:vb});const i=C$(s.inputs,n);return Uw([r,i])}function zn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class ou extends X{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class My extends X{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function hF(t){const e=fh(`0x${t.substring(4)}`).substring(26);return Ug(`0x${e}`)}const fF="modulepreload",pF=function(t){return"/"+t},AI={},nn=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=pF(c),c in AI)return;AI[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":fF,l||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};async function gF({hash:t,signature:e}){const n=qo(t)?t:Ml(t),{secp256k1:r}=await nn(async()=>{const{secp256k1:o}=await import("./secp256k1-LETIM17I.js");return{secp256k1:o}},__vite__mapDeps([0,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=II(f);return new r.Signature(Wo(l),Wo(u)).addRecoveryBit(p)}const o=qo(e)?e:Ml(e);if(on(o)!==65)throw new Error("invalid signature length");const a=Ho(`0x${o.slice(130)}`),c=II(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function II(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function mF({hash:t,signature:e}){return hF(await gF({hash:t,signature:e}))}class TI extends X{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class x$ extends X{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class yF extends X{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const wF={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new yF({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new x$({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new TI({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new TI({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function bS(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(wF);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function vF(t,e="hex"){const n=S$(t),r=bS(new Uint8Array(n.length));return n.encode(r),e==="hex"?Er(r.bytes):r.bytes}function S$(t){return Array.isArray(t)?bF(t.map(e=>S$(e))):_F(t)}function bF(t){const e=t.reduce((s,i)=>s+i.length,0),n=A$(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function _F(t){const e=typeof t=="string"?Xi(t):t,n=A$(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function A$(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new X("Length is too large.")}function EF(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,i=fh(Uw(["0x05",vF([e?je(e):"0x",s,n?je(n):"0x"])]));return r==="bytes"?Xi(i):i}async function I$(t){const{authorization:e,signature:n}=t;return mF({hash:EF(e),signature:n??e})}class iE extends X{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class CF extends X{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class xF extends X{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class T$ extends X{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function N$({chain:t,currentChainId:e}){if(!t)throw new xF;if(e!==t.id)throw new CF({chain:t,currentChainId:e})}const SF={gwei:9,wei:18},AF={ether:-9,wei:9},IF={ether:-18,gwei:-9};function ph(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function Qr(t,e="wei"){return ph(t,AF[e])}class ul extends X{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(ul,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ul,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class O0 extends X{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Qr(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(O0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class oE extends X{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Qr(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(oE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class aE extends X{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(aE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class cE extends X{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(cE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class lE extends X{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(lE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class uE extends X{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(uE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class dE extends X{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(dE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class hE extends X{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(hE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class fE extends X{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(fE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class R0 extends X{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Qr(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Qr(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(R0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Bw extends X{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function _S(t,e="wei"){return ph(t,SF[e])}function Lg(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class TF extends X{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class NF extends X{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Lg(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class PF extends X{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var p;const f=Lg({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${_S(h)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Qr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Qr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Qr(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class P$ extends X{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class k$ extends X{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class kF extends X{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const vr=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n),OF=t=>t,ES=t=>t;class Bf extends X{constructor({body:e,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${ES(o)}`,e&&`Request body: ${vr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class CS extends X{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${ES(r)}`,`Request body: ${vr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class NI extends X{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${ES(n)}`,`Request body: ${vr(e)}`],name:"TimeoutError"})}}const RF=-1;class Xr extends X{constructor(e,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof CS?e.code:n??RF}}class vs extends Xr{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Ip extends Xr{constructor(e){super(e,{code:Ip.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Ip,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Tp extends Xr{constructor(e){super(e,{code:Tp.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Tp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Np extends Xr{constructor(e,{method:n}={}){super(e,{code:Np.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Np,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Pp extends Xr{constructor(e){super(e,{code:Pp.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Pp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Fl extends Xr{constructor(e){super(e,{code:Fl.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Fl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class kp extends Xr{constructor(e){super(e,{code:kp.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(kp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Op extends Xr{constructor(e){super(e,{code:Op.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Op,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class hc extends Xr{constructor(e){super(e,{code:hc.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(hc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Gd extends Xr{constructor(e){super(e,{code:Gd.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Gd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class dl extends Xr{constructor(e,{method:n}={}){super(e,{code:dl.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(dl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Kd extends Xr{constructor(e){super(e,{code:Kd.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Kd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Rp extends Xr{constructor(e){super(e,{code:Rp.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Rp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class gn extends vs{constructor(e){super(e,{code:gn.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(gn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class $p extends vs{constructor(e){super(e,{code:$p.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty($p,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Dp extends vs{constructor(e,{method:n}={}){super(e,{code:Dp.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Dp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class jp extends vs{constructor(e){super(e,{code:jp.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Up extends vs{constructor(e){super(e,{code:Up.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Up,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class eo extends vs{constructor(e){super(e,{code:eo.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(eo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Yd extends vs{constructor(e){super(e,{code:Yd.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Yd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Lp extends vs{constructor(e){super(e,{code:Lp.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Lp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Mp extends vs{constructor(e){super(e,{code:Mp.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Mp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Bp extends vs{constructor(e){super(e,{code:Bp.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Bp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Fp extends vs{constructor(e){super(e,{code:Fp.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Fp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class zp extends vs{constructor(e){super(e,{code:zp.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Jd extends vs{constructor(e){super(e,{code:Jd.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Jd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class $F extends Xr{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function xS(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof X?t.walk(s=>(s==null?void 0:s.code)===ul.code):t;return r instanceof X?new ul({cause:t,message:r.details}):ul.nodeMessage.test(n)?new ul({cause:t,message:t.details}):O0.nodeMessage.test(n)?new O0({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):oE.nodeMessage.test(n)?new oE({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):aE.nodeMessage.test(n)?new aE({cause:t,nonce:e==null?void 0:e.nonce}):cE.nodeMessage.test(n)?new cE({cause:t,nonce:e==null?void 0:e.nonce}):lE.nodeMessage.test(n)?new lE({cause:t,nonce:e==null?void 0:e.nonce}):uE.nodeMessage.test(n)?new uE({cause:t}):dE.nodeMessage.test(n)?new dE({cause:t,gas:e==null?void 0:e.gas}):hE.nodeMessage.test(n)?new hE({cause:t,gas:e==null?void 0:e.gas}):fE.nodeMessage.test(n)?new fE({cause:t}):R0.nodeMessage.test(n)?new R0({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new Bw({cause:t})}function O$(t,{docsPath:e,...n}){const r=(()=>{const s=xS(t,n);return s instanceof Bw?t:s})();return new PF(r,{docsPath:e,...n})}function SS(t,{format:e}){if(!e)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in t&&(n[a]=t[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=e(t||{});return r(s),n}const DF={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Fw(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=jF(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Er(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=je(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=je(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=je(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=je(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=je(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=je(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=DF[t.type]),typeof t.value<"u"&&(e.value=je(t.value)),e}function jF(t){return t.map(e=>({address:e.address,r:e.r?je(BigInt(e.r)):e.r,s:e.s?je(BigInt(e.s)):e.s,chainId:je(e.chainId),nonce:je(e.nonce),...typeof e.yParity<"u"?{yParity:je(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:je(e.v)}:{}}))}function xt(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const UF=2n**256n-1n;function Mg(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=t,o=e?zn(e):void 0;if(o&&!_i(o.address))throw new Sc({address:o.address});if(i&&!_i(i))throw new Sc({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new TF;if(r&&r>UF)throw new O0({maxFeePerGas:r});if(s&&r&&s>r)throw new R0({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function Bg(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Ho(e)}class LF extends X{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class AS extends X{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class MF extends X{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Qr(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class R$ extends X{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const $$={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function D$(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Ho(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Ho(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?$$[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=BF(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function BF(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function FF(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:D$(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function qp(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:s}={}){var u,d,h;const i=r??"latest",o=s??!1,a=n!==void 0?je(n):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[a||i,o]},{dedupe:!!a}),!c)throw new R$({blockHash:e,blockNumber:n});return(((h=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:h.format)||FF)(c)}async function j$(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function zF(t,e){var i,o;const{block:n,chain:r=t.chain,request:s}=e||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const l=n||await xt(t,qp,"getBlock")({}),u=await a({block:l,client:t,request:s});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return Wo(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):xt(t,qp,"getBlock")({}),xt(t,j$,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new AS;const l=c-a.baseFeePerGas;return l<0n?0n:l}}async function PI(t,e){var h,f;const{block:n,chain:r=t.chain,request:s,type:i="eip1559"}=e||{},o=await(async()=>{var p,g;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)??1.2})();if(o<1)throw new LF;const c=10**(((h=o.toString().split(".")[1])==null?void 0:h.length)??0),l=p=>p*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await xt(t,qp,"getBlock")({});if(typeof((f=r==null?void 0:r.fees)==null?void 0:f.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:s,type:i});if(p!==null)return p}if(i==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new AS;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await zF(t,{block:u,chain:r,request:s}),g=l(u.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??g+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??l(await xt(t,j$,"getGasPrice")({}))}}class qF extends X{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var p;const f=Lg({from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${_S(h)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Qr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Qr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Qr(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function WF(t,{docsPath:e,...n}){const r=(()=>{const s=xS(t,n);return s instanceof Bw?t:s})();return new qF(r,{docsPath:e,...n})}class HF extends X{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class VF extends X{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function kI(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function GF(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=kI(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=kI(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function OI(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new wI({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new wI({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function KF(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:i}=t,o={};if(i!==void 0&&(o.code=i),e!==void 0&&(o.balance=je(e)),n!==void 0&&(o.nonce=je(n)),r!==void 0&&(o.state=OI(r)),s!==void 0){if(o.state)throw new VF;o.stateDiff=OI(s)}return o}function U$(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!_i(n,{strict:!1}))throw new Sc({address:n});if(e[n])throw new HF({address:n});e[n]=KF(r)}return e}async function L$(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=typeof n=="bigint"?je(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(i)}async function M$(t,e){var s,i,o;const{account:n=t.account}=e,r=n?zn(n):void 0;try{let M=function(I){const{block:D,request:N,rpcStateOverride:k}=I;return t.request({method:"eth_estimateGas",params:k?[N,D??"latest",k]:D?[N,D]:[N]})};const{accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,blockNumber:d,blockTag:h,data:f,gas:p,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:v,value:E,stateOverride:_,...x}=await zw(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),T=(typeof d=="bigint"?je(d):void 0)||h,C=U$(_),O=await(async()=>{if(x.to)return x.to;if(c&&c.length>0)return await I$({authorization:c[0]}).catch(()=>{throw new X("`to` is required. Could not infer from `authorizationList`")})})();Mg(e);const R=(o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,z=(R||Fw)({...SS(x,{format:R}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,data:f,gas:p,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:v,to:O,value:E});let A=BigInt(await M({block:T,request:z,rpcStateOverride:C}));if(c){const I=await L$(t,{address:z.from}),D=await Promise.all(c.map(async N=>{const{address:k}=N,U=await M({block:T,request:{authorizationList:void 0,data:f,from:r==null?void 0:r.address,to:k,value:je(I)},rpcStateOverride:C}).catch(()=>100000n);return 2n*BigInt(U)}));A+=D.reduce((N,k)=>N+k,0n)}return A}catch(a){throw WF(a,{...e,account:r,chain:t.chain})}}async function B$(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?je(r):n]},{dedupe:!!r});return Ho(s)}function F$(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>Xi(i)):t.blobs,s=[];for(const i of r)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>Er(i))}function z$(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>Xi(o)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(o=>Xi(o)):t.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>Er(o))}function YF(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function JF(t,e,n){return t&e^~t&n}function QF(t,e,n){return t&e^t&n^e&n}class ZF extends d${constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=mb(this.buffer)}update(e){P0(this),e=Mw(e),Bl(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=mb(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){P0(this),l$(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Ap(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;YF(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=mb(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const ra=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),XF=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),sa=new Uint32Array(64);class e9 extends ZF{constructor(e=32){super(64,e,8,!1),this.A=ra[0]|0,this.B=ra[1]|0,this.C=ra[2]|0,this.D=ra[3]|0,this.E=ra[4]|0,this.F=ra[5]|0,this.G=ra[6]|0,this.H=ra[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)sa[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=sa[d-15],f=sa[d-2],p=Ti(h,7)^Ti(h,18)^h>>>3,g=Ti(f,17)^Ti(f,19)^f>>>10;sa[d]=g+sa[d-7]+p+sa[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Ti(a,6)^Ti(a,11)^Ti(a,25),f=u+h+JF(a,c,l)+XF[d]+sa[d]|0,g=(Ti(r,2)^Ti(r,13)^Ti(r,22))+QF(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){Ap(sa)}destroy(){this.set(0,0,0,0,0,0,0,0),Ap(this.buffer)}}const t9=h$(()=>new e9),n9=t9;function r9(t,e){return n9(qo(t,{strict:!1})?Rw(t):t)}function s9(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=r9(e);return s.set([n],0),r==="bytes"?s:Er(s)}function i9(t){const{commitments:e,version:n}=t,r=t.to,s=[];for(const i of e)s.push(s9({commitment:i,to:r,version:n}));return s}const RI=6,q$=32,IS=4096,W$=q$*IS,$I=W$*RI-1-1*IS*RI;class o9 extends X{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class a9 extends X{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function c9(t){const e=typeof t.data=="string"?Xi(t.data):t.data,n=on(e);if(!n)throw new a9;if(n>$I)throw new o9({maxSize:$I,size:n});const r=[];let s=!0,i=0;for(;s;){const o=bS(new Uint8Array(W$));let a=0;for(;a<IS;){const c=e.slice(i,i+(q$-1));if(o.pushByte(0),o.pushBytes(c),c.length<31){o.pushByte(128),s=!1;break}a++,i+=31}r.push(o)}return r.map(o=>Er(o.bytes))}function l9(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??c9({data:e}),i=t.commitments??F$({blobs:s,kzg:n,to:r}),o=t.proofs??z$({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function u9(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new NF({transaction:t})}const H$=["blobVersionedHashes","chainId","fees","gas","nonce","type"],DI=new Map;async function zw(t,e){const{account:n=t.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:l=H$,type:u}=e,d=n&&zn(n),h={...e,...d?{from:d==null?void 0:d.address}:{}};let f;async function p(){return f||(f=await xt(t,qp,"getBlock")({blockTag:"latest"}),f)}let g;async function y(){return g||(s?s.id:typeof e.chainId<"u"?e.chainId:(g=await xt(t,Bg,"getChainId")({}),g))}if(l.includes("nonce")&&typeof a>"u"&&d)if(c){const w=await y();h.nonce=await c.consume({address:d.address,chainId:w,client:t})}else h.nonce=await xt(t,B$,"getTransactionCount")({address:d.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&o){const w=F$({blobs:r,kzg:o});if(l.includes("blobVersionedHashes")){const b=i9({commitments:w,to:"hex"});h.blobVersionedHashes=b}if(l.includes("sidecars")){const b=z$({blobs:r,commitments:w,kzg:o}),v=l9({blobs:r,commitments:w,proofs:b,to:"hex"});h.sidecars=v}}if(l.includes("chainId")&&(h.chainId=await y()),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{h.type=u9(h)}catch{let w=DI.get(t.uid);if(typeof w>"u"){const b=await p();w=typeof(b==null?void 0:b.baseFeePerGas)=="bigint",DI.set(t.uid,w)}h.type=w?"eip1559":"legacy"}if(l.includes("fees"))if(h.type!=="legacy"&&h.type!=="eip2930"){if(typeof h.maxFeePerGas>"u"||typeof h.maxPriorityFeePerGas>"u"){const w=await p(),{maxFeePerGas:b,maxPriorityFeePerGas:v}=await PI(t,{block:w,chain:s,request:h});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<v)throw new MF({maxPriorityFeePerGas:v});h.maxPriorityFeePerGas=v,h.maxFeePerGas=b}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new AS;if(typeof e.gasPrice>"u"){const w=await p(),{gasPrice:b}=await PI(t,{block:w,chain:s,request:h,type:"legacy"});h.gasPrice=b}}return l.includes("gas")&&typeof i>"u"&&(h.gas=await xt(t,M$,"estimateGas")({...h,account:d&&{address:d.address,type:"json-rpc"}})),Mg(h),delete h.parameters,h}async function V$(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const bb=new Lw(128);async function Fg(t,e){var b,v,E,_;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,type:p,value:g,...y}=e;if(typeof n>"u")throw new ou({docsPath:"/docs/actions/wallet/sendTransaction"});const w=n?zn(n):null;try{Mg(e);const x=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await I$({authorization:i[0]}).catch(()=>{throw new X("`to` is required. Could not infer from `authorizationList`.")})})();if((w==null?void 0:w.type)==="json-rpc"||w===null){let S;r!==null&&(S=await xt(t,Bg,"getChainId")({}),N$({currentChainId:S,chain:r}));const T=(E=(v=(b=t.chain)==null?void 0:b.formatters)==null?void 0:v.transactionRequest)==null?void 0:E.format,O=(T||Fw)({...SS(y,{format:T}),accessList:s,authorizationList:i,blobs:o,chainId:S,data:a,from:w==null?void 0:w.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,to:x,type:p,value:g}),R=bb.get(t.uid),L=R?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:L,params:[O]},{retryCount:0})}catch(z){if(R===!1)throw z;const M=z;if(M.name==="InvalidInputRpcError"||M.name==="InvalidParamsRpcError"||M.name==="MethodNotFoundRpcError"||M.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[O]},{retryCount:0}).then(A=>(bb.set(t.uid,!0),A)).catch(A=>{const I=A;throw I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError"?(bb.set(t.uid,!1),M):I});throw M}}if((w==null?void 0:w.type)==="local"){const S=await xt(t,zw,"prepareTransactionRequest")({account:w,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,nonceManager:w.nonceManager,parameters:[...H$,"sidecars"],type:p,value:g,...y,to:x}),T=(_=r==null?void 0:r.serializers)==null?void 0:_.transaction,C=await w.signTransaction(S,{serializer:T});return await xt(t,V$,"sendRawTransaction")({serializedTransaction:C})}throw(w==null?void 0:w.type)==="smart"?new My({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new My({docsPath:"/docs/actions/wallet/sendTransaction",type:w==null?void 0:w.type})}catch(x){throw x instanceof My?x:O$(x,{...e,account:w,chain:e.chain||void 0})}}function d9(t,e){const{abi:n,args:r,bytecode:s,...i}=e,o=vS({abi:n,args:r,bytecode:s});return Fg(t,{...i,...i.authorizationList?{to:null}:{},data:o})}const pE=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],R_e=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],h9=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],f9=[...h9,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}];function p9(t,e={}){typeof e.size<"u"&&Ci(t,{size:e.size});const n=Er(t,e);return Wo(n,e)}function g9(t,e={}){let n=t;if(typeof e.size<"u"&&(Ci(n,{size:e.size}),n=hh(n)),n.length>1||n[0]>1)throw new rB(n);return!!n[0]}function $o(t,e={}){typeof e.size<"u"&&Ci(t,{size:e.size});const n=Er(t,e);return Ho(n,e)}function m9(t,e={}){let n=t;return typeof e.size<"u"&&(Ci(n,{size:e.size}),n=hh(n,{dir:"right"})),new TextDecoder().decode(n)}function qw(t,e){const n=typeof e=="string"?Xi(e):e,r=bS(n);if(on(n)===0&&t.length>0)throw new jw;if(on(e)&&on(e)<32)throw new i$({data:typeof e=="string"?e:Er(e),params:t,size:on(e)});let s=0;const i=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(s);const[c,l]=_d(r,a,{staticPosition:0});s+=l,i.push(c)}return i}function _d(t,e,{staticPosition:n}){const r=wS(e.type);if(r){const[s,i]=r;return w9(t,{...e,type:i},{length:s,staticPosition:n})}if(e.type==="tuple")return E9(t,e,{staticPosition:n});if(e.type==="address")return y9(t);if(e.type==="bool")return v9(t);if(e.type.startsWith("bytes"))return b9(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return _9(t,e);if(e.type==="string")return C9(t,{staticPosition:n});throw new EB(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const jI=32,gE=32;function y9(t){const e=t.readBytes(32);return[Ug(Er(_$(e,-20))),32]}function w9(t,e,{length:n,staticPosition:r}){if(!n){const o=$o(t.readBytes(gE)),a=r+o,c=a+jI;t.setPosition(a);const l=$o(t.readBytes(jI)),u=Wp(e);let d=0;const h=[];for(let f=0;f<l;++f){t.setPosition(c+(u?f*32:d));const[p,g]=_d(t,e,{staticPosition:c});d+=g,h.push(p)}return t.setPosition(r+32),[h,32]}if(Wp(e)){const o=$o(t.readBytes(gE)),a=r+o,c=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[u]=_d(t,e,{staticPosition:a});c.push(u)}return t.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=_d(t,e,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function v9(t){return[g9(t.readBytes(32),{size:32}),32]}function b9(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const o=$o(t.readBytes(32));t.setPosition(n+o);const a=$o(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[Er(c),32]}return[Er(t.readBytes(Number.parseInt(s),32)),32]}function _9(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[r>48?p9(s,{signed:n}):$o(s,{signed:n}),32]}function E9(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(Wp(e)){const o=$o(t.readBytes(gE)),a=n+o;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(a+i);const[u,d]=_d(t,l,{staticPosition:a});i+=d,s[r?c:l==null?void 0:l.name]=u}return t.setPosition(n+32),[s,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,l]=_d(t,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=l}return[s,i]}function C9(t,{staticPosition:e}){const n=$o(t.readBytes(32)),r=e+n;t.setPosition(r);const s=$o(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),o=m9(hh(i));return t.setPosition(e+32),[o,32]}function Wp(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(Wp);const n=wS(t.type);return!!(n&&Wp({...t,type:n[1]}))}const x9=t=>fh(Rw(t));function S9(t){return x9(t)}const A9="1.0.8";let qs=class mE extends Error{constructor(e,n={}){var o;const r=n.cause instanceof mE?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof mE&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${A9}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Jo(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const G$=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,K$=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Y$=/^\(.+?\).*?$/,UI=/^tuple(?<array>(\[(\d*)\])*)$/;function yE(t){let e=t.type;if(UI.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=yE(i),s<n-1&&(e+=", ")}const r=Jo(UI,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,yE({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function zh(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=yE(s),r!==n-1&&(e+=", ")}return e}function I9(t){var e;return t.type==="function"?`function ${t.name}(${zh(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${zh(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${zh(t.inputs)})`:t.type==="error"?`error ${t.name}(${zh(t.inputs)})`:t.type==="constructor"?`constructor(${zh(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const J$=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function T9(t){return J$.test(t)}function N9(t){return Jo(J$,t)}const Q$=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function P9(t){return Q$.test(t)}function k9(t){return Jo(Q$,t)}const Z$=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function O9(t){return Z$.test(t)}function R9(t){return Jo(Z$,t)}const X$=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function eD(t){return X$.test(t)}function $9(t){return Jo(X$,t)}const tD=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function D9(t){return tD.test(t)}function j9(t){return Jo(tD,t)}const nD=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function U9(t){return nD.test(t)}function L9(t){return Jo(nD,t)}const M9=/^receive\(\) external payable$/;function B9(t){return M9.test(t)}const F9=new Set(["indexed"]),wE=new Set(["calldata","memory","storage"]);class z9 extends qs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class q9 extends qs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class W9 extends qs{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class H9 extends qs{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class V9 extends qs{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class G9 extends qs{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class K9 extends qs{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class gh extends qs{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Y9 extends qs{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class J9 extends qs{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Q9 extends qs{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Z9 extends qs{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function X9(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${t}${r}`:t}const _b=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function e7(t,e={}){if(O9(t))return t7(t,e);if(P9(t))return n7(t,e);if(T9(t))return r7(t,e);if(D9(t))return s7(t,e);if(U9(t))return i7(t);if(B9(t))return{type:"receive",stateMutability:"payable"};throw new Y9({signature:t})}function t7(t,e={}){const n=R9(t);if(!n)throw new gh({signature:t,type:"function"});const r=di(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(zl(r[a],{modifiers:wE,structs:e,type:"function"}));const o=[];if(n.returns){const a=di(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(zl(a[l],{modifiers:wE,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function n7(t,e={}){const n=k9(t);if(!n)throw new gh({signature:t,type:"event"});const r=di(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(zl(r[o],{modifiers:F9,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function r7(t,e={}){const n=N9(t);if(!n)throw new gh({signature:t,type:"error"});const r=di(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(zl(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function s7(t,e={}){const n=j9(t);if(!n)throw new gh({signature:t,type:"constructor"});const r=di(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(zl(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function i7(t){const e=L9(t);if(!e)throw new gh({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const o7=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,a7=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,c7=/^u?int$/;function zl(t,e){var d,h;const n=X9(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(_b.has(n))return _b.get(n);const r=Y$.test(t),s=Jo(r?a7:o7,t);if(!s)throw new W9({param:t});if(s.name&&u7(s.name))throw new H9({param:t,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,l={};if(r){c="tuple";const f=di(s.type),p=[],g=f.length;for(let y=0;y<g;y++)p.push(zl(f[y],{structs:a}));l={components:p}}else if(s.type in a)c="tuple",l={components:a[s.type]};else if(c7.test(s.type))c=`${s.type}256`;else if(c=s.type,(e==null?void 0:e.type)!=="struct"&&!rD(c))throw new q9({type:c});if(s.modifier){if(!((h=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&h.call(d,s.modifier)))throw new V9({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(wE.has(s.modifier)&&!d7(c,!!s.array))throw new G9({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const u={type:`${c}${s.array??""}`,...i,...o,...l};return _b.set(n,u),u}function di(t,e=[],n="",r=0){const s=t.trim().length;for(let i=0;i<s;i++){const o=t[i],a=t.slice(i+1);switch(o){case",":return r===0?di(a,[...e,n.trim()]):di(a,e,`${n}${o}`,r);case"(":return di(a,e,`${n}${o}`,r+1);case")":return di(a,e,`${n}${o}`,r-1);default:return di(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new Z9({current:n,depth:r});return e.push(n.trim()),e}function rD(t){return t==="address"||t==="bool"||t==="function"||t==="string"||G$.test(t)||K$.test(t)}const l7=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function u7(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||G$.test(t)||K$.test(t)||l7.test(t)}function d7(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function h7(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!eD(a))continue;const c=$9(a);if(!c)throw new gh({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let h=0;h<d;h++){const p=l[h].trim();if(!p)continue;const g=zl(p,{type:"struct"});u.push(g)}if(!u.length)throw new J9({signature:a});e[c.name]=u}const r={},s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=sD(c,e)}return r}const f7=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function sD(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const o=t[i];if(Y$.test(o.type))r.push(o);else{const c=Jo(f7,o.type);if(!(c!=null&&c.type))throw new K9({abiParameter:o});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new Q9({type:u});r.push({...o,type:`tuple${l??""}`,components:sD(e[u]??[],e,new Set([...n,u]))})}else if(rD(u))r.push(o);else throw new z9({type:u})}}return r}function iD(t){const e=h7(t),n=[],r=t.length;for(let s=0;s<r;s++){const i=t[s];eD(i)||n.push(e7(i,e))}return n}function p7(t){let e=!0,n="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=a,n+=a}}if(!i)throw new X("Unable to normalize signature.");return s}const g7=t=>{const e=typeof t=="string"?t:I9(t);return p7(e)};function oD(t){return S9(g7(t))}const TS=oD,NS=t=>k0(oD(t),0,4);function PS(t){const{abi:e,args:n=[],name:r}=t,s=qo(r,{strict:!1}),i=e.filter(a=>s?a.type==="function"?NS(a)===r:a.type==="event"?TS(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in a&&a.inputs[u];return d?vE(l,d):!1})){if(o&&"inputs"in o&&o.inputs){const l=aD(a.inputs,o.inputs,n);if(l)throw new vB({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||i[0]}function vE(t,e){const n=typeof t,r=e.type;switch(r){case"address":return _i(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>vE(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>vE(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function aD(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return aD(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?_i(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?_i(n[r],{strict:!1}):!1)return o}}const Eb="/docs/contract/decodeFunctionResult";function kS(t){const{abi:e,args:n,functionName:r,data:s}=t;let i=e[0];if(r){const a=PS({abi:e,args:n,name:r});if(!a)throw new T0(r,{docsPath:Eb});i=a}if(i.type!=="function")throw new T0(void 0,{docsPath:Eb});if(!i.outputs)throw new wB(i.name,{docsPath:Eb});const o=qw(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const LI="/docs/contract/encodeFunctionData";function m7(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const i=PS({abi:e,args:n,name:r});if(!i)throw new T0(r,{docsPath:LI});s=i}if(s.type!=="function")throw new T0(void 0,{docsPath:LI});return{abi:[s],functionName:NS(Cc(s))}}function zg(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:m7(t)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?C$(s.inputs,e??[]):void 0;return Uw([i,o??"0x"])}function OS({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new iE({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new iE({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const cD={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},y7={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},w7={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function v7(t){const{abi:e,data:n}=t,r=k0(n,0,4);if(r==="0x")throw new jw;const i=[...e||[],y7,w7].find(o=>o.type==="error"&&r===NS(Cc(o)));if(!i)throw new o$(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?qw(i.inputs,k0(n,4)):void 0,errorName:i.name}}function lD({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?vr(e[i]):e[i]}`).join(", ")})`}class b7 extends X{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h,stateOverride:f}){var y;const p=n?zn(n):void 0;let g=Lg({from:p==null?void 0:p.address,to:d,value:typeof h<"u"&&`${_S(h)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Qr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Qr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Qr(l)} gwei`,nonce:u});f&&(g+=`
${GF(f)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",g].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class uD extends X{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=PS({abi:n,args:r,name:o}),l=c?lD({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?Cc(c,{includeName:!0}):void 0,d=Lg({address:s&&OF(s),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=o,this.sender=a}}class bE extends X{constructor({abi:e,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=v7({abi:e,data:n});const{abiItem:u,errorName:d,args:h}=o;if(d==="Error")c=h[0];else if(d==="Panic"){const[f]=h;c=cD[f]}else{const f=u?Cc(u,{includeName:!0}):void 0,p=u&&h?lD({abiItem:u,args:h,includeFunctionName:!1,includeName:!1}):void 0;a=[f?`Error: ${f}`:"",p&&p!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(u){i=u}else s&&(c=s);let l;i instanceof o$&&(l=i.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}}class _7 extends X{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class E7 extends X{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class RS extends X{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function C7(t,e){var r,s,i,o,a,c;if(!(t instanceof X))return!1;const n=t.walk(l=>l instanceof bE);return n instanceof bE?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((i=n.data)==null?void 0:i.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||n.reason===cD[50]):!1}function x7(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return qo(e)?e:null}function S7(t){return`[${t.slice(2)}]`}function A7(t){const e=new Uint8Array(32).fill(0);return t?x7(t)||fh(bd(t)):Er(e)}function I7(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(bd(e).byteLength+2);let r=0;const s=e.split(".");for(let i=0;i<s.length;i++){let o=bd(s[i]);o.byteLength>255&&(o=bd(S7(A7(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const T7=3;function $0(t,{abi:e,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=t instanceof RS?t:t instanceof X?t.walk(p=>"data"in p)||t.walk():{},{code:c,data:l,details:u,message:d,shortMessage:h}=a,f=t instanceof jw?new _7({functionName:i}):[T7,Fl.code].includes(c)&&(l||u||d||h)?new bE({abi:e,data:typeof l=="object"?l.data:l,functionName:i,message:a instanceof CS?u:h??d}):t;return new uD(f,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}const N7="0.1.1";function P7(){return N7}let dD=class _E extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof _E){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof _E&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${P7()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return hD(this,e)}};function hD(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?hD(t.cause,e):e?null:t}function k7(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new $7({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function xo(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof t=="bigint"?"n":"";throw new R7({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?O7(c,r):c}function O7(t,e){return k7(t,{dir:"left",size:e})}let R7=class extends dD{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},$7=class extends dD{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function D7(t){return{address:t.address,amount:xo(t.amount),index:xo(t.index),validatorIndex:xo(t.validatorIndex)}}function j7(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:xo(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:xo(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:xo(t.gasLimit)},...typeof t.number=="bigint"&&{number:xo(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:xo(t.prevRandao)},...typeof t.time=="bigint"&&{time:xo(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(D7)}}}const U7="0x82ad56cb",L7="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",M7="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";function B7(t,{docsPath:e,...n}){const r=(()=>{const s=xS(t,n);return s instanceof Bw?t:s})();return new b7(r,{docsPath:e,...n})}function $S(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const Cb=new Map;function fD({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const u=c();o();const d=u.map(({args:h})=>h);d.length!==0&&t(d).then(h=>{s&&Array.isArray(h)&&h.sort(s);for(let f=0;f<u.length;f++){const{resolve:p}=u[f];p==null||p([h[f],h])}}).catch(h=>{for(let f=0;f<u.length;f++){const{reject:p}=u[f];p==null||p(h)}})},o=()=>Cb.delete(e),a=()=>c().map(({args:u})=>u),c=()=>Cb.get(e)||[],l=u=>Cb.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:d,resolve:h,reject:f}=$S();return(n==null?void 0:n([...a(),u]))&&i(),c().length>0?(l({args:u,resolve:h,reject:f}),d):(l({args:u,resolve:h,reject:f}),setTimeout(i,r),d)}}}async function pD(t,e){var z,M,A,I;const{account:n=t.account,authorizationList:r,batch:s=!!((z=t.batch)!=null&&z.multicall),blockNumber:i,blockTag:o="latest",accessList:a,blobs:c,blockOverrides:l,code:u,data:d,factory:h,factoryData:f,gas:p,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:v,to:E,value:_,stateOverride:x,...S}=e,T=n?zn(n):void 0;if(u&&(h||f))throw new X("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&E)throw new X("Cannot provide both `code` & `to` as parameters.");const C=u&&d,O=h&&f&&E&&d,R=C||O,L=C?q7({code:u,data:d}):O?W7({data:d,factory:h,factoryData:f,to:E}):d;try{Mg(e);const N=(typeof i=="bigint"?je(i):void 0)||o,k=l?j7(l):void 0,U=U$(x),j=(I=(A=(M=t.chain)==null?void 0:M.formatters)==null?void 0:A.transactionRequest)==null?void 0:I.format,K=(j||Fw)({...SS(S,{format:j}),from:T==null?void 0:T.address,accessList:a,authorizationList:r,blobs:c,data:L,gas:p,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:v,to:R?void 0:E,value:_});if(s&&F7({request:K})&&!U&&!k)try{return await z7(t,{...K,blockNumber:i,blockTag:o})}catch(Z){if(!(Z instanceof T$)&&!(Z instanceof iE))throw Z}const H=(()=>{const Z=[K,N];return U&&k?[...Z,U,k]:U?[...Z,U]:k?[...Z,{},k]:Z})(),Q=await t.request({method:"eth_call",params:H});return Q==="0x"?{data:void 0}:{data:Q}}catch(D){const N=H7(D),{offchainLookup:k,offchainLookupSignature:U}=await nn(async()=>{const{offchainLookup:j,offchainLookupSignature:q}=await import("./ccip-Du70wxoZ.js");return{offchainLookup:j,offchainLookupSignature:q}},[]);if(t.ccipRead!==!1&&(N==null?void 0:N.slice(0,10))===U&&E)return{data:await k(t,{data:N,to:E})};throw R&&(N==null?void 0:N.slice(0,10))==="0x101bb98d"?new E7({factory:h}):B7(D,{...e,account:T,chain:t.chain})}}function F7({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(U7)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function z7(t,e){var g;const{batchSize:n=1024,wait:r=0}=typeof((g=t.batch)==null?void 0:g.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:i="latest",data:o,multicallAddress:a,to:c}=e;let l=a;if(!l){if(!t.chain)throw new T$;l=OS({blockNumber:s,chain:t.chain,contract:"multicall3"})}const d=(typeof s=="bigint"?je(s):void 0)||i,{schedule:h}=fD({id:`${t.uid}.${d}`,wait:r,shouldSplitBatch(y){return y.reduce((b,{data:v})=>b+(v.length-2),0)>n*2},fn:async y=>{const w=y.map(E=>({allowFailure:!0,callData:E.data,target:E.to})),b=zg({abi:pE,args:[w],functionName:"aggregate3"}),v=await t.request({method:"eth_call",params:[{data:b,to:l},d]});return kS({abi:pE,args:[w],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:f,success:p}]=await h({data:o,to:c});if(!p)throw new RS({data:f});return f==="0x"?{data:void 0}:{data:f}}function q7(t){const{code:e,data:n}=t;return vS({abi:iD(["constructor(bytes, bytes)"]),bytecode:L7,args:[e,n]})}function W7(t){const{data:e,factory:n,factoryData:r,to:s}=t;return vS({abi:iD(["constructor(address, bytes, address, bytes)"]),bytecode:M7,args:[s,e,n,r]})}function H7(t){var n;if(!(t instanceof X))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function DS(t,e){const{abi:n,address:r,args:s,functionName:i,...o}=e,a=zg({abi:n,args:s,functionName:i});try{const{data:c}=await xt(t,pD,"call")({...o,data:a,to:r});return kS({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw $0(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function V7(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:s,strict:i,universalResolverAddress:o}){let a=o;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=OS({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const c=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const l={address:a,abi:f9,functionName:"reverse",args:[Ml(I7(c))],blockNumber:n,blockTag:r},u=xt(t,DS,"readContract"),[d,h]=s?await u({...l,args:[...l.args,s]}):await u(l);return e.toLowerCase()!==h.toLowerCase()?null:d}catch(l){if(i)throw l;if(C7(l))return null;throw l}}function G7(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&e===i&&(n[o]=c.request)})),i=>n[i]||t.request}async function K7(t){const e=G7(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}const Y7=new Map,J7=new Map;function Q7(t){const e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=e(t,Y7),r=e(t,J7);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Z7(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Q7(e),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const X7=t=>`blockNumber.${t}`;async function ez(t,{cacheTime:e=t.cacheTime}={}){const n=await Z7(()=>t.request({method:"eth_blockNumber"}),{cacheKey:X7(t.uid),cacheTime:e});return BigInt(n)}function gD(t,e){if(!_i(t,{strict:!1}))throw new Sc({address:t});if(!_i(e,{strict:!1}))throw new Sc({address:e});return t.toLowerCase()===e.toLowerCase()}const MI="/docs/contract/decodeEventLog";function tz(t){const{abi:e,data:n,strict:r,topics:s}=t,i=r??!0,[o,...a]=s;if(!o)throw new yB({docsPath:MI});const c=e.find(g=>g.type==="event"&&o===TS(Cc(g)));if(!(c&&"name"in c)||c.type!=="event")throw new a$(o,{docsPath:MI});const{name:l,inputs:u}=c,d=u==null?void 0:u.some(g=>!("name"in g&&g.name)),h=d?[]:{},f=u.map((g,y)=>[g,y]).filter(([g])=>"indexed"in g&&g.indexed);for(let g=0;g<f.length;g++){const[y,w]=f[g],b=a[g];if(!b)throw new c$({abiItem:c,param:y});h[d?w:y.name||w]=nz({param:y,value:b})}const p=u.filter(g=>!("indexed"in g&&g.indexed));if(p.length>0){if(n&&n!=="0x")try{const g=qw(p,n);if(g)if(d)for(let y=0;y<u.length;y++)h[y]=h[y]??g.shift();else for(let y=0;y<p.length;y++)h[p[y].name]=g[y]}catch(g){if(i)throw g instanceof i$||g instanceof x$?new rE({abiItem:c,data:n,params:p,size:on(n)}):g}else if(i)throw new rE({abiItem:c,data:"0x",params:p,size:0})}return{eventName:l,args:Object.values(h).length>0?h:void 0}}function nz({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(qw([t],e)||[])[0]}function rz(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const c=e.find(u=>u.type==="event"&&o.topics[0]===TS(u));if(!c)return null;const l=tz({...o,abi:[c],strict:s});return i&&!i.includes(l.eventName)||!sz({args:l.args,inputs:c.inputs,matchArgs:n})?null:{...l,...o}}catch(c){let l,u;if(c instanceof a$)return null;if(c instanceof rE||c instanceof c$){if(s)return null;l=c.abiItem.name,u=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...o,args:u?[]:{},eventName:l}}}).filter(Boolean)}function sz(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(i,o,a){try{return i.type==="address"?gD(o,a):i.type==="string"||i.type==="bytes"?fh(Rw(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(l=>s(a,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===i);return a?(Array.isArray(o)?o:[o]).some(l=>s(a,l,e[i])):!1}):!1}function mD(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function iz(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>mD(i));return!("abi"in e)||!e.abi?s:rz({abi:e.abi,logs:s,strict:n})}async function yD(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){var u,d,h;const o=r||"latest",a=n!==void 0?je(n):void 0;let c=null;if(s?c=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,je(i)]},{dedupe:!0}):c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,je(i)]},{dedupe:!!a}),!c)throw new P$({blockHash:e,blockNumber:n,blockTag:o,hash:s,index:i});return(((h=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.transaction)==null?void 0:h.format)||D$)(c)}const wD={"0x0":"reverted","0x1":"success"};function oz(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>mD(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Ho(t.transactionIndex):null,status:t.status?wD[t.status]:null,type:t.type?$$[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}async function BI(t,{hash:e}){var s,i,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new k$({hash:e});return(((o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||oz)(n)}async function az(t,e){var w;const{account:n,allowFailure:r=!0,batchSize:s,blockNumber:i,blockTag:o,multicallAddress:a,stateOverride:c}=e,l=e.contracts,u=s??(typeof((w=t.batch)==null?void 0:w.multicall)=="object"&&t.batch.multicall.batchSize||1024);let d=a;if(!d){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");d=OS({blockNumber:i,chain:t.chain,contract:"multicall3"})}const h=[[]];let f=0,p=0;for(let b=0;b<l.length;b++){const{abi:v,address:E,args:_,functionName:x}=l[b];try{const S=zg({abi:v,args:_,functionName:x});p+=(S.length-2)/2,u>0&&p>u&&h[f].length>0&&(f++,p=(S.length-2)/2,h[f]=[]),h[f]=[...h[f],{allowFailure:!0,callData:S,target:E}]}catch(S){const T=$0(S,{abi:v,address:E,args:_,docsPath:"/docs/contract/multicall",functionName:x,sender:n});if(!r)throw T;h[f]=[...h[f],{allowFailure:!0,callData:"0x",target:E}]}}const g=await Promise.allSettled(h.map(b=>xt(t,DS,"readContract")({abi:pE,account:n,address:d,args:[b],blockNumber:i,blockTag:o,functionName:"aggregate3",stateOverride:c}))),y=[];for(let b=0;b<g.length;b++){const v=g[b];if(v.status==="rejected"){if(!r)throw v.reason;for(let _=0;_<h[b].length;_++)y.push({status:"failure",error:v.reason,result:void 0});continue}const E=v.value;for(let _=0;_<E.length;_++){const{returnData:x,success:S}=E[_],{callData:T}=h[b][_],{abi:C,address:O,functionName:R,args:L}=l[y.length];try{if(T==="0x")throw new jw;if(!S)throw new RS({data:x});const z=kS({abi:C,args:L,data:x,functionName:R});y.push(r?{result:z,status:"success"}:z)}catch(z){const M=$0(z,{abi:C,address:O,args:L,docsPath:"/docs/contract/multicall",functionName:R});if(!r)throw M;y.push({error:M,result:void 0,status:"failure"})}}}if(y.length!==l.length)throw new X("multicall results mismatch");return y}const $m=new Lw(8192);function cz(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if($m.get(n))return $m.get(n);const r=t().finally(()=>$m.delete(n));return $m.set(n,r),r}async function D0(t){return new Promise(e=>setTimeout(e,t))}function j0(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await D0(u),o({count:a+1})};try{const l=await t();s(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});i(l)}};o()})}function lz(t,e={}){return async(n,r={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((d=i==null?void 0:i.exclude)!=null&&d.includes(l))throw new dl(new Error("method not supported"),{method:l});if(i!=null&&i.include&&!i.include.includes(l))throw new dl(new Error("method not supported"),{method:l});const u=s?$w(`${c}.${vr(n)}`):void 0;return cz(()=>j0(async()=>{try{return await t(n)}catch(h){const f=h;switch(f.code){case Ip.code:throw new Ip(f);case Tp.code:throw new Tp(f);case Np.code:throw new Np(f,{method:n.method});case Pp.code:throw new Pp(f);case Fl.code:throw new Fl(f);case kp.code:throw new kp(f);case Op.code:throw new Op(f);case hc.code:throw new hc(f);case Gd.code:throw new Gd(f);case dl.code:throw new dl(f,{method:n.method});case Kd.code:throw new Kd(f);case Rp.code:throw new Rp(f);case gn.code:throw new gn(f);case $p.code:throw new $p(f);case Dp.code:throw new Dp(f);case jp.code:throw new jp(f);case Up.code:throw new Up(f);case eo.code:throw new eo(f);case Yd.code:throw new Yd(f);case Lp.code:throw new Lp(f);case Mp.code:throw new Mp(f);case Bp.code:throw new Bp(f);case Fp.code:throw new Fp(f);case zp.code:throw new zp(f);case Jd.code:throw new Jd(f);case 5e3:throw new gn(f);default:throw h instanceof X?h:new $F(f)}}},{delay:({count:h,error:f})=>{var p;if(f&&f instanceof Bf){const g=(p=f==null?void 0:f.headers)==null?void 0:p.get("Retry-After");if(g!=null&&g.match(/\d/))return Number.parseInt(g)*1e3}return~~(1<<h)*o},retryCount:a,shouldRetry:({error:h})=>uz(h)}),{enabled:s,id:u})}}function uz(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Kd.code||t.code===Fl.code:t instanceof Bf&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function dz(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function vD(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(e)},n)),s(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function hz(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const FI=hz();function fz(t,e={}){return{async request(n){var d;const{body:r,onRequest:s=e.onRequest,onResponse:i=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const h=await vD(async({signal:p})=>{const g={...a,body:Array.isArray(r)?vr(r.map(v=>({jsonrpc:"2.0",id:v.id??FI.take(),...v}))):vr({jsonrpc:"2.0",id:r.id??FI.take(),...r}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(o>0?p:null)},y=new Request(t,g),w=await(s==null?void 0:s(y,g))??{...g,url:t};return await fetch(w.url??t,w)},{errorInstance:new NI({body:r,url:t}),timeout:o,signal:!0});i&&await i(h);let f;if((d=h.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))f=await h.json();else{f=await h.text();try{f=JSON.parse(f||"{}")}catch(p){if(h.ok)throw p;f={error:f}}}if(!h.ok)throw new Bf({body:r,details:vr(f.error)||h.statusText,headers:h.headers,status:h.status,url:t});return f}catch(h){throw h instanceof Bf||h instanceof NI?h:new Bf({body:r,cause:h,url:t})}}}}class pz extends X{constructor({domain:e}){super(`Invalid domain "${vr(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class gz extends X{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class mz extends X{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function yz(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(c,l)=>{const u={...l};for(const d of c){const{name:h,type:f}=d;f==="address"&&(u[h]=u[h].toLowerCase())}return u},o=s.EIP712Domain?e?i(s.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return i(s[r],n)})();return vr({domain:o,message:a,primaryType:r,types:s})}function wz(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(o,a)=>{for(const c of o){const{name:l,type:u}=c,d=a[l],h=u.match(E$);if(h&&(typeof d=="number"||typeof d=="bigint")){const[g,y,w]=h;je(d,{signed:y==="int",size:Number.parseInt(w)/8})}if(u==="address"&&typeof d=="string"&&!_i(d))throw new Sc({address:d});const f=u.match(rF);if(f){const[g,y]=f;if(y&&on(d)!==Number.parseInt(y))throw new bB({expectedSize:Number.parseInt(y),givenSize:on(d)})}const p=s[u];p&&(bz(u),i(p,d))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new pz({domain:e});i(s.EIP712Domain,e)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new gz({primaryType:r,types:s})}function vz({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function bz(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new mz({type:t})}class _z extends X{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Ez(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new _z({value:t});let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[i,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}const xb=new Map,zI=new Map;let Cz=0;function Hp(t,e,n){const r=++Cz,s=()=>xb.get(t)||[],i=()=>{const u=s();xb.set(t,u.filter(d=>d.id!==r))},o=()=>{const u=s();if(!u.some(h=>h.id===r))return;const d=zI.get(t);if(u.length===1&&d){const h=d();h instanceof Promise&&h.catch(()=>{})}i()},a=s();if(xb.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const u in e)c[u]=(...d)=>{var f,p;const h=s();if(h.length!==0)for(const g of h)(p=(f=g.fns)[u])==null||p.call(f,...d)};const l=n(c);return typeof l=="function"&&zI.set(t,l),o}function jS(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;e&&(a=await t({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await D0(c);const l=async()=>{s&&(await t({unpoll:i}),await D0(r),l())};l()})(),i}function xz(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=t.pollingInterval}){const a=typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=vr(["watchBlockNumber",t.uid,e,n,o]);return Hp(d,{onBlockNumber:r,onError:s},h=>jS(async()=>{var f;try{const p=await xt(t,ez,"getBlockNumber")({cacheTime:0});if(c){if(p===c)return;if(p-c>1&&n)for(let g=c+1n;g<p;g++)h.onBlockNumber(g,c),c=g}(!c||p>c)&&(h.onBlockNumber(p,c),c=p)}catch(p){(f=h.onError)==null||f.call(h,p)}},{emitOnBegin:e,interval:o}))})():(()=>{const d=vr(["watchBlockNumber",t.uid,e,n]);return Hp(d,{onBlockNumber:r,onError:s},h=>{let f=!0,p=()=>f=!1;return(async()=>{try{const g=(()=>{if(t.transport.type==="fallback"){const w=t.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return w?w.value:t.transport}return t.transport})(),{unsubscribe:y}=await g.subscribe({params:["newHeads"],onData(w){var v;if(!f)return;const b=Wo((v=w.result)==null?void 0:v.number);h.onBlockNumber(b,c),c=b},onError(w){var b;(b=h.onError)==null||b.call(h,w)}});p=y,f||p()}catch(g){s==null||s(g)}})(),()=>p()})})()}async function Sz(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function Az(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const l=vr(["watchPendingTransactions",t.uid,e,i]);return Hp(l,{onTransactions:r,onError:n},u=>{let d;const h=jS(async()=>{var f;try{if(!d)try{d=await xt(t,K7,"createPendingTransactionFilter")({});return}catch(g){throw h(),g}const p=await xt(t,iz,"getFilterChanges")({filter:d});if(p.length===0)return;if(e)u.onTransactions(p);else for(const g of p)u.onTransactions([g])}catch(p){(f=u.onError)==null||f.call(u,p)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await xt(t,Sz,"uninstallFilter")({filter:d}),h()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!l)return;const f=h.result;r([f])},onError(h){n==null||n(h)}});u=d,l||u()}catch(d){n==null||n(d)}})(),()=>u()})()}async function Iz(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>Ug(r))}async function Tz(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Nz(t,e={}){const{account:n=t.account,chainId:r}=e,s=n?zn(n):void 0,i=r?[s==null?void 0:s.address,[je(r)]]:[s==null?void 0:s.address],o=await t.request({method:"wallet_getCapabilities",params:i}),a={};for(const[c,l]of Object.entries(o)){a[Number(c)]={};for(let[u,d]of Object.entries(l))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(c)][u]=d}return typeof r=="number"?a[r]:a}const bD="0x5792579257925792579257925792579257925792579257925792579257925792",_D=je(0,{size:32});async function Pz(t,e){const{account:n=t.account,capabilities:r,chain:s=t.chain,experimental_fallback:i,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:l="2.0.0"}=e,u=n?zn(n):null,d=e.calls.map(h=>{const f=h,p=f.abi?zg({abi:f.abi,functionName:f.functionName,args:f.args}):f.data;return{data:f.dataSuffix&&p?xc([p,f.dataSuffix]):p,to:f.to,value:f.value?je(f.value):void 0}});try{const h=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:je(s.id),from:u==null?void 0:u.address,id:c,version:l}]},{retryCount:0});return typeof h=="string"?{id:h}:h}catch(h){const f=h;if(i&&(f.name==="MethodNotFoundRpcError"||f.name==="MethodNotSupportedRpcError"||f.name==="UnknownRpcError"||f.details.toLowerCase().includes("does not exist / is not available")||f.details.toLowerCase().includes("missing or invalid. request()")||f.details.toLowerCase().includes("did not match any variant of untagged enum")||f.details.toLowerCase().includes("account upgraded to unsupported contract")||f.details.toLowerCase().includes("eip-7702 not supported")||f.details.toLowerCase().includes("unsupported wc_ method"))){if(r&&Object.values(r).some(b=>!b.optional)){const b="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Yd(new X(b,{details:b}))}if(a&&d.length>1){const w="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Jd(new X(w,{details:w}))}const p=[];for(const w of d){const b=Fg(t,{account:u,chain:s,data:w.data,to:w.to,value:w.value?Wo(w.value):void 0});p.push(b),o>0&&await new Promise(v=>setTimeout(v,o))}const g=await Promise.allSettled(p);if(g.every(w=>w.status==="rejected"))throw g[0].reason;const y=g.map(w=>w.status==="fulfilled"?w.value:_D);return{id:xc([...y,je(s.id,{size:32}),bD])}}throw O$(h,{...e,account:u,chain:e.chain})}}async function ED(t,e){async function n(u){if(u.endsWith(bD.slice(2))){const h=hh(sE(u,-64,-32)),f=sE(u,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(f.map(y=>_D.slice(2)!==y?t.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),g=p.some(y=>y===null)?100:p.every(y=>(y==null?void 0:y.status)==="0x1")?200:p.every(y=>(y==null?void 0:y.status)==="0x0")?500:600;return{atomic:!1,chainId:Ho(h),receipts:p.filter(Boolean),status:g,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:s,receipts:i,version:o="2.0.0",...a}=await n(e.id),[c,l]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:s?Ho(s):void 0,receipts:(i==null?void 0:i.map(u=>({...u,blockNumber:Wo(u.blockNumber),gasUsed:Wo(u.gasUsed),status:wD[u.status]})))??[],statusCode:l,status:c,version:o}}async function kz(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function Oz(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:s=({statusCode:h})=>h>=200,timeout:i=6e4}=e,o=vr(["waitForCallsStatus",t.uid,n]),{promise:a,resolve:c,reject:l}=$S();let u;const d=Hp(o,{resolve:c,reject:l},h=>{const f=jS(async()=>{const p=g=>{clearTimeout(u),f(),g(),d()};try{const g=await ED(t,{id:n});if(!s(g))return;p(()=>h.resolve(g))}catch(g){p(()=>h.reject(g))}},{interval:r,emitOnBegin:!0});return f});return u=i?setTimeout(()=>{d(),clearTimeout(u),l(new Rz({id:n}))},i):void 0,await a}class Rz extends X{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function $z(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:s=t.pollingInterval,retryCount:i=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:a=18e4}){const c=vr(["waitForTransactionReceipt",t.uid,n]);let l,u,d,h=!1,f,p;const{promise:g,resolve:y,reject:w}=$S(),b=a?setTimeout(()=>{p(),f(),w(new kF({hash:n}))},a):void 0;return f=Hp(c,{onReplaced:r,resolve:y,reject:w},v=>{p=xt(t,xz,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(E){const _=S=>{clearTimeout(b),p(),S(),f()};let x=E;if(!h)try{if(d){if(e>1&&(!d.blockNumber||x-d.blockNumber+1n<e))return;_(()=>v.resolve(d));return}if(l||(h=!0,await j0(async()=>{l=await xt(t,yD,"getTransaction")({hash:n}),l.blockNumber&&(x=l.blockNumber)},{delay:o,retryCount:i}),h=!1),d=await xt(t,BI,"getTransactionReceipt")({hash:n}),e>1&&(!d.blockNumber||x-d.blockNumber+1n<e))return;_(()=>v.resolve(d))}catch(S){if(S instanceof P$||S instanceof k$){if(!l){h=!1;return}try{u=l,h=!0;const T=await j0(()=>xt(t,qp,"getBlock")({blockNumber:x,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:R})=>R instanceof R$});h=!1;const C=T.transactions.find(({from:R,nonce:L})=>R===u.from&&L===u.nonce);if(!C||(d=await xt(t,BI,"getTransactionReceipt")({hash:C.hash}),e>1&&(!d.blockNumber||x-d.blockNumber+1n<e)))return;let O="replaced";C.to===u.to&&C.value===u.value&&C.input===u.input?O="repriced":C.from===C.to&&C.value===0n&&(O="cancelled"),_(()=>{var R;(R=v.onReplaced)==null||R.call(v,{reason:O,replacedTransaction:u,transaction:C,transactionReceipt:d}),v.resolve(d)})}catch(T){_(()=>v.reject(T))}}else _(()=>v.reject(S))}}})}),g}async function Dz(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Za(n))}async function jz(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function CD(t,e){var c;const{account:n=t.account,chainId:r,nonce:s}=e;if(!n)throw new ou({docsPath:"/docs/eip7702/prepareAuthorization"});const i=zn(n),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:zn(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=t.chain)==null?void 0:c.id)??await xt(t,Bg,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await xt(t,B$,"getTransactionCount")({address:i.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&gD(o.address,i.address))&&(a.nonce+=1)),a}async function Uz(t,e){const{account:n=t.account}=e;if(!n)throw new ou({docsPath:"/docs/eip7702/signAuthorization"});const r=zn(n);if(!r.signAuthorization)throw new My({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await CD(t,e);return r.signAuthorization(s)}async function Lz(t,e){var l,u,d,h;const{account:n=t.account,chain:r=t.chain,...s}=e;if(!n)throw new ou({docsPath:"/docs/actions/wallet/signTransaction"});const i=zn(n);Mg({account:i,...e});const o=await xt(t,Bg,"getChainId")({});r!==null&&N$({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((l=t.chain)==null?void 0:l.formatters),c=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||Fw;return i.signTransaction?i.signTransaction({...s,chainId:o},{serializer:(h=(d=t.chain)==null?void 0:d.serializers)==null?void 0:h.transaction}):await t.request({method:"eth_signTransaction",params:[{...c(s),chainId:je(o),from:i.address}]},{retryCount:0})}async function xD(t,{account:e=t.account,message:n}){if(!e)throw new ou({docsPath:"/docs/actions/wallet/signMessage"});const r=zn(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?$w(n):n.raw instanceof Uint8Array?Ml(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function Mz(t,e){const{account:n=t.account,domain:r,message:s,primaryType:i}=e;if(!n)throw new ou({docsPath:"/docs/actions/wallet/signTypedData"});const o=zn(n),a={EIP712Domain:vz({domain:r}),...e.types};if(wz({domain:r,message:s,primaryType:i,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:i,types:a});const c=yz({domain:r,message:s,primaryType:i,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function Bz(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:je(e)}]},{retryCount:0})}async function Fz(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function SD(t,e){const{abi:n,account:r=t.account,address:s,args:i,dataSuffix:o,functionName:a,...c}=e;if(typeof r>"u")throw new ou({docsPath:"/docs/contract/writeContract"});const l=r?zn(r):null,u=zg({abi:n,args:i,functionName:a});try{return await xt(t,Fg,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:s,account:l,...c})}catch(d){throw $0(d,{abi:n,address:s,args:i,docsPath:"/docs/contract/writeContract",functionName:a,sender:l==null?void 0:l.address})}}function fs(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const By="2.17.3",zz=()=>`@wagmi/core@${By}`;var AD=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},U0,ID;let Qo=class EE extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return zz()}constructor(e,n={}){var i;super(),U0.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof EE?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof EE&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return AD(this,U0,"m",ID).call(this,this,e)}};U0=new WeakSet,ID=function t(e,n){return n!=null&&n(e)?e:e.cause?AD(this,U0,"m",t).call(this,e.cause,n):e};class Vp extends Qo{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class qz extends Qo{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class Wz extends Qo{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class Hz extends Qo{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class Vz extends Qo{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class Gz extends Qo{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function Fy(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new qz;try{t.setState(c=>({...c,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...i}=e,o=await n.connect(i),a=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(c=>({...c,connections:new Map(c.connections).set(n.uid,{accounts:a,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:a,chainId:o.chainId}}catch(s){throw t.setState(i=>({...i,status:i.current?"connected":"disconnected"})),s}}const CE=256;let Dm=CE,jm;function TD(t=11){if(!jm||Dm+t>CE*2){jm="",Dm=0;for(let e=0;e<CE;e++)jm+=(256+Math.random()*256|0).toString(16).substring(1)}return jm.substring(Dm,Dm+++t)}function ND(t){const{batch:e,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=t,a=(n==null?void 0:n.blockTime)??12e3,c=Math.min(Math.max(Math.floor(a/2),500),4e3),l=t.pollingInterval??c,u=t.cacheTime??l,d=t.account?zn(t.account):void 0,{config:h,request:f,value:p}=t.transport({chain:n,pollingInterval:l}),g={...h,...p},y={account:d,batch:e,cacheTime:u,ccipRead:r,chain:n,key:s,name:i,pollingInterval:l,request:f,transport:g,type:o,uid:TD()};function w(b){return v=>{const E=v(b);for(const x in y)delete E[x];const _={...b,...E};return Object.assign(_,{extend:w(_)})}}return Object.assign(y,{extend:w(y)})}function US({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const l=TD();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:lz(r,{methods:e,retryCount:s,retryDelay:i,uid:l}),value:c}}function Kz(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=e;return({retryCount:o})=>US({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:i,type:"custom"})}function qI(t,e={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=Yz,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:l=4e3,timeout:u,...d})=>{let h=t,f=()=>{};const p=US({key:n,name:r,async request({method:g,params:y}){let w;const b=async(v=0)=>{const E=h[v]({...d,chain:c,retryCount:0,timeout:u});try{const _=await E.request({method:g,params:y});return f({method:g,params:y,response:_,transport:E,status:"success"}),_}catch(_){if(f({error:_,method:g,params:y,transport:E,status:"error"}),i(_)||v===h.length-1||(w??(w=h.slice(v+1).some(x=>{const{include:S,exclude:T}=x({chain:c}).config.methods||{};return S?S.includes(g):T?!T.includes(g):!0})),!w))throw _;return b(v+1)}};return b()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:g=>f=g,transports:h.map(g=>g({chain:c,retryCount:0}))});if(s){const g=typeof s=="object"?s:{};Jz({chain:c,interval:g.interval??l,onTransports:y=>h=y,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:h,weights:g.weights})}return p}}function Yz(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Gd.code||t.code===gn.code||ul.nodeMessage.test(t.message)||t.code===5e3))}function Jz({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],d=async()=>{const h=await Promise.all(o.map(async g=>{const y=g({chain:t,retryCount:0,timeout:i}),w=Date.now();let b,v;try{await(r?r({transport:y}):y.request({method:"net_listening"})),v=1}catch{v=0}finally{b=Date.now()}return{latency:b-w,success:v}}));u.push(h),u.length>s&&u.shift();const f=Math.max(...u.map(g=>Math.max(...g.map(({latency:y})=>y)))),p=o.map((g,y)=>{const w=u.map(x=>x[y].latency),v=1-w.reduce((x,S)=>x+S,0)/w.length/f,E=u.map(x=>x[y].success),_=E.reduce((x,S)=>x+S,0)/E.length;return _===0?[0,y]:[l*v+c*_,y]}).sort((g,y)=>y[0]-g[0]);n(p.map(([,g])=>o[g])),await D0(e),d()};d()}class Qz extends X{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Um(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:d,retryCount:h,timeout:f})=>{const{batchSize:p=1e3,wait:g=0}=typeof n=="object"?n:{},y=e.retryCount??h,w=f??e.timeout??1e4,b=t||(d==null?void 0:d.rpcUrls.default.http[0]);if(!b)throw new Qz;const v=fz(b,{fetchOptions:r,onRequest:a,onResponse:c,timeout:w});return US({key:s,methods:i,name:o,async request({method:E,params:_}){const x={method:E,params:_},{schedule:S}=fD({id:b,wait:g,shouldSplitBatch(R){return R.length>p},fn:R=>v.request({body:R}),sort:(R,L)=>R.id-L.id}),T=async R=>n?S(R):[await v.request({body:R})],[{error:C,result:O}]=await T(x);if(u)return{error:C,result:O};if(C)throw new CS({body:x,error:C,url:b});return O},retryCount:y,retryDelay:l,timeout:w,type:"http"},{fetchOptions:r,url:b})}}function Zz(t){return{addChain:e=>dB(t,e),deployContract:e=>d9(t,e),getAddresses:()=>Iz(t),getCallsStatus:e=>ED(t,e),getCapabilities:e=>Nz(t,e),getChainId:()=>Bg(t),getPermissions:()=>Tz(t),prepareAuthorization:e=>CD(t,e),prepareTransactionRequest:e=>zw(t,e),requestAddresses:()=>Dz(t),requestPermissions:e=>jz(t,e),sendCalls:e=>Pz(t,e),sendRawTransaction:e=>V$(t,e),sendTransaction:e=>Fg(t,e),showCallsStatus:e=>kz(t,e),signAuthorization:e=>Uz(t,e),signMessage:e=>xD(t,e),signTransaction:e=>Lz(t,e),signTypedData:e=>Mz(t,e),switchChain:e=>Bz(t,e),waitForCallsStatus:e=>Oz(t,e),watchAsset:e=>Fz(t,e),writeContract:e=>SD(t,e)}}async function qg(t,e={}){let n;if(e.connector){const{connector:l}=e;if(t.state.status==="reconnecting"&&!l.getAccounts&&!l.getChainId)throw new Gz({connector:l});const[u,d]=await Promise.all([l.getAccounts().catch(h=>{if(e.account===null)return[];throw h}),l.getChainId()]);n={accounts:u,chainId:d,connector:l}}else n=t.state.connections.get(t.state.current);if(!n)throw new Wz;const r=e.chainId??n.chainId,s=await n.connector.getChainId();if(s!==n.chainId)throw new Vz({connectionChainId:n.chainId,connectorChainId:s});const i=n.connector;if(i.getClient)return i.getClient({chainId:r});const o=zn(e.account??n.accounts[0]);if(o&&(o.address=Za(o.address)),e.account&&!n.accounts.some(l=>l.toLowerCase()===o.address.toLowerCase()))throw new Hz({address:o.address,connector:i});const a=t.chains.find(l=>l.id===r),c=await n.connector.getProvider({chainId:r});return ND({account:o,chain:a,name:"Connector Client",transport:l=>Kz(c)({...l,retryCount:0})})}async function PD(t,e={}){var s,i;let n;if(e.connector)n=e.connector;else{const{connections:o,current:a}=t.state,c=o.get(a);n=c==null?void 0:c.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(o=>{if(r.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...o,connections:new Map(r),current:a.connector.uid}});{const o=t.state.current;if(!o)return;const a=(s=t.state.connections.get(o))==null?void 0:s.connector;if(!a)return;await((i=t.storage)==null?void 0:i.setItem("recentConnectorId",a.id))}}async function Xz(t,e){const{chainId:n,connector:r,...s}=e;let i;e.account?i=e.account:i=(await qg(t,{account:e.account,chainId:n,connector:r})).account;const o=t.getClient({chainId:n});return fs(o,M$,"estimateGas")({...s,account:i})}function kD(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(IF[t])}function Ed(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],i=t.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=t.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function eq(t,e){const{allowFailure:n=!0,chainId:r,contracts:s,...i}=e,o=t.getClient({chainId:r});return fs(o,az,"multicall")({allowFailure:n,contracts:s,...i})}function tq(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return fs(s,DS,"readContract")(r)}async function nq(t,e){var a;const{allowFailure:n=!0,blockNumber:r,blockTag:s,...i}=e,o=e.contracts;try{const c={};for(const[h,f]of o.entries()){const p=f.chainId??t.state.chainId;c[p]||(c[p]=[]),(a=c[p])==null||a.push({contract:f,index:h})}const l=()=>Object.entries(c).map(([h,f])=>eq(t,{...i,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(h),contracts:f.map(({contract:p})=>p)})),u=(await Promise.all(l())).flat(),d=Object.values(c).flatMap(h=>h.map(({index:f})=>f));return u.reduce((h,f,p)=>(h&&(h[d[p]]=f),h),[])}catch(c){if(c instanceof uD)throw c;const l=()=>o.map(u=>tq(t,{...u,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(l())).map(u=>u.status==="fulfilled"?{result:u.value,status:"success"}:{error:u.reason,result:void 0,status:"failure"}):await Promise.all(l())}}async function rq(t,e){const{address:n,blockNumber:r,blockTag:s,chainId:i,token:o,unit:a="ether"}=e;if(o)try{return await WI(t,{balanceAddress:n,chainId:i,symbolType:"string",tokenAddress:o})}catch(h){if(h.name==="ContractFunctionExecutionError"){const f=await WI(t,{balanceAddress:n,chainId:i,symbolType:"bytes32",tokenAddress:o}),p=r$(hh(f.symbol,{dir:"right"}));return{...f,symbol:p}}throw h}const c=t.getClient({chainId:i}),u=await fs(c,L$,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),d=t.chains.find(h=>h.id===i)??c.chain;return{decimals:d.nativeCurrency.decimals,formatted:ph(u,kD(a)),symbol:d.nativeCurrency.symbol,value:u}}async function WI(t,e){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:i,unit:o}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:i},[c,l,u]=await nq(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=ph(c??"0",kD(o??l));return{decimals:l,formatted:d,symbol:u,value:c}}function HI(t){return t.state.chainId}function ql(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ql(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!ql(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}let Lm=[];function Li(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||ql(Lm,e)?Lm:(Lm=e,e)}let Sb=[];function VI(t){const e=t.connectors;return ql(Sb,e)?Sb:(Sb=e,e)}function sq(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return fs(s,V7,"getEnsName")(r)}async function iq(t,e={}){return(await qg(t,e)).extend(Zz)}async function oq(t,e){const{account:n,chainId:r,...s}=e,i=n??Ed(t).address,o=t.getClient({chainId:r});return fs(o,zw,"prepareTransactionRequest")({...s,...i?{account:i}:{}})}let Ab=!1;async function xE(t,e={}){var l,u;if(Ab)return[];Ab=!0,t.setState(d=>({...d,status:d.current?"reconnecting":"connecting"}));const n=[];if((l=e.connectors)!=null&&l.length)for(const d of e.connectors){let h;typeof d=="function"?h=t._internal.connectors.setup(d):h=d,n.push(h)}else n.push(...t.connectors);let r;try{r=await((u=t.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const s={};for(const[,d]of t.state.connections)s[d.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((d,h)=>(s[d.id]??10)-(s[h.id]??10)):n;let o=!1;const a=[],c=[];for(const d of i){const h=await d.getProvider().catch(()=>{});if(!h||c.some(g=>g===h)||!await d.isAuthorized())continue;const p=await d.connect({isReconnecting:!0}).catch(()=>null);p&&(d.emitter.off("connect",t._internal.events.connect),d.emitter.on("change",t._internal.events.change),d.emitter.on("disconnect",t._internal.events.disconnect),t.setState(g=>{const y=new Map(o?g.connections:new Map).set(d.uid,{accounts:p.accounts,chainId:p.chainId,connector:d});return{...g,current:o?g.current:d.uid,connections:y}}),a.push({accounts:p.accounts,chainId:p.chainId,connector:d}),c.push(h),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(d=>({...d,status:"connected"})):t.setState(d=>({...d,connections:new Map,current:null,status:"disconnected"}))),Ab=!1,a}async function aq(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await qg(t,{account:n??void 0,chainId:r,connector:s}),await fs(o,Fg,"sendTransaction")({...i,...n?{account:n}:{},chain:r?{id:r}:null,gas:i.gas??void 0})}async function cq(t,e){const{account:n,connector:r,...s}=e;let i;return typeof n=="object"&&n.type==="local"?i=t.getClient():i=await qg(t,{account:n,connector:r}),fs(i,xD,"signMessage")({...s,...n?{account:n}:{}})}class Ia extends Qo{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class lq extends Qo{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function GI(t,e){var o;const{addEthereumChainParameter:n,chainId:r}=e,s=t.state.connections.get(((o=e.connector)==null?void 0:o.uid)??t.state.current);if(s){const a=s.connector;if(!a.switchChain)throw new lq({connector:a});return await a.switchChain({addEthereumChainParameter:n,chainId:r})}const i=t.chains.find(a=>a.id===r);if(!i)throw new Vp;return t.setState(a=>({...a,chainId:r})),i}function OD(t,e){const{onChange:n}=e;return t.subscribe(()=>Ed(t),n,{equalityFn(r,s){const{connector:i,...o}=r,{connector:a,...c}=s;return ql(o,c)&&(i==null?void 0:i.id)===(a==null?void 0:a.id)&&(i==null?void 0:i.uid)===(a==null?void 0:a.uid)}})}function uq(t,e){const{onChange:n}=e;return t.subscribe(r=>r.chainId,n)}function dq(t,e){const{onChange:n}=e;return t.subscribe(()=>Li(t),n,{equalityFn:ql})}function RD(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function hq(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const i=c=>{s&&s();const l=t.getClient({chainId:c});return s=fs(l,Az,"watchPendingTransactions")(r),s},o=i(e.chainId);let a;return n&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,async c=>i(c))),()=>{o==null||o(),a==null||a()}}async function fq(t,e){const{chainId:n,timeout:r=0,...s}=e,i=t.getClient({chainId:n}),a=await fs(i,$z,"waitForTransactionReceipt")({...s,timeout:r});if(a.status==="reverted"){const l=await fs(i,yD,"getTransaction")({hash:a.transactionHash}),d=await fs(i,pD,"call")({...l,data:l.input,gasPrice:l.type!=="eip1559"?l.gasPrice:void 0,maxFeePerGas:l.type==="eip1559"?l.maxFeePerGas:void 0,maxPriorityFeePerGas:l.type==="eip1559"?l.maxPriorityFeePerGas:void 0}),h=d!=null&&d.data?r$(`0x${d.data.substring(138)}`):"unknown reason";throw new Error(h)}return{...a,chainId:i.chain.id}}async function pq(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await qg(t,{account:n??void 0,chainId:r,connector:s}),await fs(o,SD,"writeContract")({...i,...n?{account:n}:{},chain:r?{id:r}:null})}function j_e(t){return t}Ww.type="injected";function Ww(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c=="function"){const l=c();if(l)return l}return typeof c=="object"?c:typeof c=="string"?{...gq[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l==null?void 0:l.ethereum}}}let s,i,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:Ww.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&t.target&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)))},async connect({chainId:l,isReconnecting:u}={}){var f,p,g,y,w,b;const d=await this.getProvider();if(!d)throw new Ia;let h=[];if(u)h=await this.getAccounts().catch(()=>[]);else if(e)try{h=(y=(g=(p=(f=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:f.caveats)==null?void 0:p[0])==null?void 0:g.value)==null?void 0:y.map(E=>Za(E)),h.length>0&&(h=await this.getAccounts())}catch(v){const E=v;if(E.code===gn.code)throw new gn(E);if(E.code===hc.code)throw E}try{!(h!=null&&h.length)&&!u&&(h=(await d.request({method:"eth_requestAccounts"})).map(_=>Za(_))),o&&(d.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let v=await this.getChainId();if(l&&v!==l){const E=await this.switchChain({chainId:l}).catch(_=>{if(_.code===gn.code)throw _;return{id:v}});v=(E==null?void 0:E.id)??v}return e&&await((w=c.storage)==null?void 0:w.removeItem(`${this.id}.disconnected`)),t.target||await((b=c.storage)==null?void 0:b.setItem("injected.connected",!0)),{accounts:h,chainId:v}}catch(v){const E=v;throw E.code===gn.code?new gn(E):E.code===hc.code?new hc(E):E}},async disconnect(){var u,d;const l=await this.getProvider();if(!l)throw new Ia;i&&(l.removeListener("chainChanged",i),i=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o));try{await vD(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=c.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),t.target||await((d=c.storage)==null?void 0:d.removeItem("injected.connected"))},async getAccounts(){const l=await this.getProvider();if(!l)throw new Ia;return(await l.request({method:"eth_accounts"})).map(d=>Za(d))},async getChainId(){const l=await this.getProvider();if(!l)throw new Ia;const u=await l.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let l;const u=r();return typeof u.provider=="function"?l=u.provider(window):typeof u.provider=="string"?l=zy(window,u.provider):l=u.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){var l,u;try{if(e&&await((l=c.storage)==null?void 0:l.getItem(`${this.id}.disconnected`))||!t.target&&!await((u=c.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const p=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",p),!!await this.getProvider()),g=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(w=>window.addEventListener("ethereum#initialized",()=>w(p()),{once:!0}))]:[],new Promise(w=>setTimeout(()=>w(p()),g))]))return!0}throw new Ia}return!!(await j0(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:u}){var p,g,y,w;const d=await this.getProvider();if(!d)throw new Ia;const h=c.chains.find(b=>b.id===u);if(!h)throw new eo(new Vp);const f=new Promise(b=>{const v=E=>{"chainId"in E&&E.chainId===u&&(c.emitter.off("change",v),b())};c.emitter.on("change",v)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:je(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),f]),h}catch(b){const v=b;if(v.code===4902||((g=(p=v==null?void 0:v.data)==null?void 0:p.originalError)==null?void 0:g.code)===4902)try{const{default:E,..._}=h.blockExplorers??{};let x;l!=null&&l.blockExplorerUrls?x=l.blockExplorerUrls:E&&(x=[E.url,...Object.values(_).map(C=>C.url)]);let S;(y=l==null?void 0:l.rpcUrls)!=null&&y.length?S=l.rpcUrls:S=[((w=h.rpcUrls.default)==null?void 0:w.http[0])??""];const T={blockExplorerUrls:x,chainId:je(u),chainName:(l==null?void 0:l.chainName)??h.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??h.nativeCurrency,rpcUrls:S};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[T]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new gn(new Error("User rejected switch after adding network."))}),f]),h}catch(E){throw new gn(E)}throw v.code===gn.code?new gn(v):new eo(v)}},async onAccountsChanged(l){var u;if(l.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const d=(await this.getChainId()).toString();this.onConnect({chainId:d}),e&&await((u=c.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:l.map(d=>Za(d))})},onChainChanged(l){const u=Number(l);c.emitter.emit("change",{chainId:u})},async onConnect(l){const u=await this.getAccounts();if(u.length===0)return;const d=Number(l.chainId);c.emitter.emit("connect",{accounts:u,chainId:d});const h=await this.getProvider();h&&(o&&(h.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),h.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),h.on("disconnect",a)))},async onDisconnect(l){const u=await this.getProvider();l&&l.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(i&&(u.removeListener("chainChanged",i),i=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const gq={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:zy(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return zy(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:zy(t,"isPhantom")}}};function zy(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function mq(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function yq(){const t=new Set;let e=[];const n=()=>mq(s=>{e.some(({info:i})=>i.uuid===s.info.uuid)||(e=[...e,s],t.forEach(i=>i(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:s}){return e.find(i=>i.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:i}={}){return t.add(s),i&&s(e,{added:e}),()=>t.delete(s)}}}const wq=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let d=o(r.getState());l=h=>{const f=o(h);if(!u(d,f)){const p=d;a(d=f,p)}},c!=null&&c.fireImmediately&&a(d,d)}return s(l)},t(e,n,r)},vq=wq;function bq(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const SE=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return SE(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return SE(r)(n)}}}},_q=(t,e)=>(n,r,s)=>{let i={storage:bq(()=>localStorage),partialize:g=>g,version:0,merge:(g,y)=>({...y,...g}),...e},o=!1;const a=new Set,c=new Set;let l=i.storage;if(!l)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...g)},r,s);const u=()=>{const g=i.partialize({...r()});return l.setItem(i.name,{state:g,version:i.version})},d=s.setState;s.setState=(g,y)=>{d(g,y),u()};const h=t((...g)=>{n(...g),u()},r,s);s.getInitialState=()=>h;let f;const p=()=>{var g,y;if(!l)return;o=!1,a.forEach(b=>{var v;return b((v=r())!=null?v:h)});const w=((y=i.onRehydrateStorage)==null?void 0:y.call(i,(g=r())!=null?g:h))||void 0;return SE(l.getItem.bind(l))(i.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return[!0,i.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var v;const[E,_]=b;if(f=i.merge(_,(v=r())!=null?v:h),n(f,!0),E)return u()}).then(()=>{w==null||w(f,void 0),f=r(),o=!0,c.forEach(b=>b(f))}).catch(b=>{w==null||w(void 0,b)})};return s.persist={setOptions:g=>{i={...i,...g},g.storage&&(l=g.storage)},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},i.skipHydration||p(),f||h},Eq=_q,KI=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const h=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(f=>f(e,h))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,s,a);return a},Ib=t=>t?KI(t):KI;var $D={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function i(c,l,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new s(u,d||c,h),p=n?n+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},a.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,h,f,p){var g=n?n+l:l;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,b,v;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,f),!0;case 6:return y.fn.call(y.context,u,d,h,f,p),!0}for(v=1,b=new Array(w-1);v<w;v++)b[v-1]=arguments[v];y.fn.apply(y.context,b)}else{var E=y.length,_;for(v=0;v<E;v++)switch(y[v].once&&this.removeListener(l,y[v].fn,void 0,!0),w){case 1:y[v].fn.call(y[v].context);break;case 2:y[v].fn.call(y[v].context,u);break;case 3:y[v].fn.call(y[v].context,u,d);break;case 4:y[v].fn.call(y[v].context,u,d,h);break;default:if(!b)for(_=1,b=new Array(w-1);_<w;_++)b[_-1]=arguments[_];y[v].fn.apply(y[v].context,b)}}return!0},a.prototype.on=function(l,u,d){return i(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return i(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,h){var f=n?n+l:l;if(!this._events[f])return this;if(!u)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&o(this,f);else{for(var g=0,y=[],w=p.length;g<w;g++)(p[g].fn!==u||h&&!p[g].once||d&&p[g].context!==d)&&y.push(p[g]);y.length?this._events[f]=y.length===1?y[0]:y:o(this,f)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})($D);var Cq=$D.exports;const xq=ru(Cq);class Sq{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new xq})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function Aq(t){return new Sq(t)}function Iq(t,e){return JSON.parse(t,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(n,s))??s})}function YI(t,e){return t.slice(0,e).join(".")||"."}function JI(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function Tq(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],i=[];return function(a,c){if(typeof c=="object")if(s.length){const l=JI(s,this);l===0?s[s.length]=this:(s.splice(l),i.splice(l)),i[i.length]=a;const u=JI(s,c);if(u!==0)return r?e.call(this,a,c,YI(i,u)):`[ref=${YI(i,u)}]`}else s[0]=c,i[0]=a;return n?t.call(this,a,c):c}}function Nq(t,e,n,r){return JSON.stringify(t,Tq((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(e==null?void 0:e(s,o))??o},r),n??void 0)}function Pq(t){const{deserialize:e=Iq,key:n="wagmi",serialize:r=Nq,storage:s=DD}=t;function i(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...s,key:n,async getItem(o,a){const c=s.getItem(`${n}.${o}`),l=await i(c);return l?e(l)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await i(s.removeItem(c)):await i(s.setItem(c,r(a)))},async removeItem(o){await i(s.removeItem(`${n}.${o}`))}}}const DD={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function kq(){const t=typeof window<"u"&&window.localStorage?window.localStorage:DD;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const AE=256;let Mm=AE,Bm;function Oq(t=11){if(!Bm||Mm+t>AE*2){Bm="",Mm=0;for(let e=0;e<AE;e++)Bm+=(256+Math.random()*256|0).toString(16).substring(1)}return Bm.substring(Mm,Mm+++t)}function Rq(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=Pq({storage:kq()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=t,o=typeof window<"u"&&e?yq():void 0,a=Ib(()=>i.chains),c=Ib(()=>{const _=[],x=new Set;for(const S of i.connectors??[]){const T=l(S);if(_.push(T),!s&&T.rdns){const C=typeof T.rdns=="string"?[T.rdns]:T.rdns;for(const O of C)x.add(O)}}if(!s&&o){const S=o.getProviders();for(const T of S)x.has(T.info.rdns)||_.push(l(u(T)))}return _});function l(_){var T;const x=Aq(Oq()),S={..._({emitter:x,chains:a.getState(),storage:n,transports:i.transports}),emitter:x,uid:x.uid};return x.on("connect",v),(T=S.setup)==null||T.call(S),S}function u(_){const{info:x}=_,S=_.provider;return Ww({target:{...x,id:x.rdns,provider:S}})}const d=new Map;function h(_={}){const x=_.chainId??y.getState().chainId,S=a.getState().find(C=>C.id===x);if(_.chainId&&!S)throw new Vp;{const C=d.get(y.getState().chainId);if(C&&!S)return C;if(!S)throw new Vp}{const C=d.get(x);if(C)return C}let T;if(i.client)T=i.client({chain:S});else{const C=S.id,O=a.getState().map(z=>z.id),R={},L=Object.entries(i);for(const[z,M]of L)if(!(z==="chains"||z==="client"||z==="connectors"||z==="transports"))if(typeof M=="object")if(C in M)R[z]=M[C];else{if(O.some(I=>I in M))continue;R[z]=M}else R[z]=M;T=ND({...R,chain:S,batch:R.batch??{multicall:!0},transport:z=>i.transports[C]({...z,connectors:c})})}return d.set(x,T),T}function f(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const g="0.0.0-canary-";By.startsWith(g)?p=Number.parseInt(By.replace(g,"")):p=Number.parseInt(By.split(".")[0]??"0");const y=Ib(vq(n?Eq(f,{migrate(_,x){if(x===p)return _;const S=f(),T=w(_,S.chainId);return{...S,chainId:T}},name:"store",partialize(_){return{connections:{__type:"Map",value:Array.from(_.connections.entries()).map(([x,S])=>{const{id:T,name:C,type:O,uid:R}=S.connector;return[x,{...S,connector:{id:T,name:C,type:O,uid:R}}]})},chainId:_.chainId,current:_.current}},merge(_,x){typeof _=="object"&&_&&"status"in _&&delete _.status;const S=w(_,x.chainId);return{...x,..._,chainId:S}},skipHydration:s,storage:n,version:p}):f));y.setState(f());function w(_,x){return _&&typeof _=="object"&&"chainId"in _&&typeof _.chainId=="number"&&a.getState().some(S=>S.id===_.chainId)?_.chainId:x}r&&y.subscribe(({connections:_,current:x})=>{var S;return x?(S=_.get(x))==null?void 0:S.chainId:void 0},_=>{if(a.getState().some(S=>S.id===_))return y.setState(S=>({...S,chainId:_??S.chainId}))}),o==null||o.subscribe(_=>{const x=new Set,S=new Set;for(const C of c.getState())if(x.add(C.id),C.rdns){const O=typeof C.rdns=="string"?[C.rdns]:C.rdns;for(const R of O)S.add(R)}const T=[];for(const C of _){if(S.has(C.info.rdns))continue;const O=l(u(C));x.has(O.id)||T.push(O)}n&&!y.persist.hasHydrated()||c.setState(C=>[...C,...T],!0)});function b(_){y.setState(x=>{const S=x.connections.get(_.uid);return S?{...x,connections:new Map(x.connections).set(_.uid,{accounts:_.accounts??S.accounts,chainId:_.chainId??S.chainId,connector:S.connector})}:x})}function v(_){y.getState().status==="connecting"||y.getState().status==="reconnecting"||y.setState(x=>{const S=c.getState().find(T=>T.uid===_.uid);return S?(S.emitter.listenerCount("connect")&&S.emitter.off("connect",b),S.emitter.listenerCount("change")||S.emitter.on("change",b),S.emitter.listenerCount("disconnect")||S.emitter.on("disconnect",E),{...x,connections:new Map(x.connections).set(_.uid,{accounts:_.accounts,chainId:_.chainId,connector:S}),current:_.uid,status:"connected"}):x})}function E(_){y.setState(x=>{const S=x.connections.get(_.uid);if(S){const C=S.connector;C.emitter.listenerCount("change")&&S.connector.emitter.off("change",b),C.emitter.listenerCount("disconnect")&&S.connector.emitter.off("disconnect",E),C.emitter.listenerCount("connect")||S.connector.emitter.on("connect",v)}if(x.connections.delete(_.uid),x.connections.size===0)return{...x,connections:new Map,current:null,status:"disconnected"};const T=x.connections.values().next().value;return{...x,connections:new Map(x.connections),current:T.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:h,get state(){return y.getState()},setState(_){let x;typeof _=="function"?x=_(y.getState()):x=_;const S=f();typeof x!="object"&&(x=S),Object.keys(S).some(C=>!(C in x))&&(x=S),y.setState(x,!0)},subscribe(_,x,S){return y.subscribe(_,x,S?{...S,fireImmediately:S.emitImmediately}:void 0)},_internal:{mipd:o,store:y,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(_){const x=typeof _=="function"?_(a.getState()):_;if(x.length!==0)return a.setState(x,!0)},subscribe(_){return a.subscribe(_)}},connectors:{providerDetailToConnector:u,setup:l,setState(_){return c.setState(typeof _=="function"?_(c.getState()):_,!0)},subscribe(_){return c.subscribe(_)}},events:{change:b,connect:v,disconnect:E}}}}function $q(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(s=>{var c;const i=new Set;for(const l of s??[])if(l.rdns){const u=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const d of u)i.add(d)}const o=[],a=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const l of a){if(i.has(l.info.rdns))continue;const u=t._internal.connectors.providerDetailToConnector(l),d=t._internal.connectors.setup(u);o.push(d)}return[...s,...o]})),r?xE(t):t.storage&&t.setState(s=>({...s,connections:new Map}))}}}function Dq(t){const{children:e,config:n,initialState:r,reconnectOnMount:s=!0}=t,{onMount:i}=$q(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||i();const o=F.useRef(!0);return F.useEffect(()=>{if(o.current&&n._internal.ssr)return i(),()=>{o.current=!1}},[]),e}const jD=F.createContext(void 0);function jq(t){const{children:e,config:n}=t,r={value:n};return F.createElement(Dq,t,F.createElement(jD.Provider,r,e))}const Uq="2.15.6",Lq=()=>`wagmi@${Uq}`;let Mq=class extends Qo{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return Lq()}};class Bq extends Mq{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function jc(t={}){const e=t.config??F.useContext(jD);if(!e)throw new Bq;return e}var UD={exports:{}},LD={},MD={exports:{}},BD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd=F;function Fq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zq=typeof Object.is=="function"?Object.is:Fq,qq=Qd.useState,Wq=Qd.useEffect,Hq=Qd.useLayoutEffect,Vq=Qd.useDebugValue;function Gq(t,e){var n=e(),r=qq({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return Hq(function(){s.value=n,s.getSnapshot=e,Tb(s)&&i({inst:s})},[t,n,e]),Wq(function(){return Tb(s)&&i({inst:s}),t(function(){Tb(s)&&i({inst:s})})},[t]),Vq(n),n}function Tb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zq(t,n)}catch{return!0}}function Kq(t,e){return e()}var Yq=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Kq:Gq;BD.useSyncExternalStore=Qd.useSyncExternalStore!==void 0?Qd.useSyncExternalStore:Yq;MD.exports=BD;var Jq=MD.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw=F,Qq=Jq;function Zq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xq=typeof Object.is=="function"?Object.is:Zq,eW=Qq.useSyncExternalStore,tW=Hw.useRef,nW=Hw.useEffect,rW=Hw.useMemo,sW=Hw.useDebugValue;LD.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=tW(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=rW(function(){function c(f){if(!l){if(l=!0,u=f,f=r(f),s!==void 0&&o.hasValue){var p=o.value;if(s(p,f))return d=p}return d=f}if(p=d,Xq(u,f))return p;var g=r(f);return s!==void 0&&s(p,g)?(u=f,p):(u=f,d=g)}var l=!1,u,d,h=n===void 0?null:n;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,n,r,s]);var a=eW(t,i[0],i[1]);return nW(function(){o.hasValue=!0,o.value=a},[a]),sW(a),a};UD.exports=LD;var iW=UD.exports;const Nb=t=>typeof t=="object"&&!Array.isArray(t);function oW(t,e,n=e,r=ql){const s=F.useRef([]),i=iW.useSyncExternalStoreWithSelector(t,e,n,o=>o,(o,a)=>{if(Nb(o)&&Nb(a)&&s.current.length){for(const c of s.current)if(!r(o[c],a[c]))return!1;return!0}return r(o,a)});return F.useMemo(()=>{if(Nb(i)){const o={...i};let a={};for(const[c,l]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),l)}};return Object.defineProperties(o,a),o}return i},[i])}function Wg(t={}){const e=jc(t);return oW(n=>OD(e,{onChange:n}),()=>Ed(e))}var mh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wl=typeof window>"u"||"Deno"in globalThis;function mr(){}function aW(t,e){return typeof t=="function"?t(e):t}function IE(t){return typeof t=="number"&&t>=0&&t!==1/0}function FD(t,e){return Math.max(t+(e||0)-Date.now(),0)}function fc(t,e){return typeof t=="function"?t(e):t}function li(t,e){return typeof t=="function"?t(e):t}function QI(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==LS(o,e.options))return!1}else if(!Gp(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function ZI(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Hl(e.options.mutationKey)!==Hl(i))return!1}else if(!Gp(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function LS(t,e){return((e==null?void 0:e.queryKeyHashFn)||Hl)(t)}function Hl(t){return JSON.stringify(t,(e,n)=>TE(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Gp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Gp(t[n],e[n])):!1}function zD(t,e){if(t===e)return t;const n=XI(t)&&XI(e);if(n||TE(t)&&TE(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&c.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=zD(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function L0(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function XI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function TE(t){if(!eT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!eT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function eT(t){return Object.prototype.toString.call(t)==="[object Object]"}function cW(t){return new Promise(e=>{setTimeout(e,t)})}function NE(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?zD(t,e):e}function lW(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function uW(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var MS=Symbol();function qD(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===MS?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function WD(t,e){return typeof t=="function"?t(...e):!!t}var vl,Ba,Td,NO,dW=(NO=class extends mh{constructor(){super();Ie(this,vl);Ie(this,Ba);Ie(this,Td);pe(this,Td,e=>{if(!Wl&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,Ba)||this.setEventListener(B(this,Td))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,Ba))==null||e.call(this),pe(this,Ba,void 0))}setEventListener(e){var n;pe(this,Td,e),(n=B(this,Ba))==null||n.call(this),pe(this,Ba,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){B(this,vl)!==e&&(pe(this,vl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof B(this,vl)=="boolean"?B(this,vl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},vl=new WeakMap,Ba=new WeakMap,Td=new WeakMap,NO),BS=new dW,Nd,Fa,Pd,PO,hW=(PO=class extends mh{constructor(){super();Ie(this,Nd,!0);Ie(this,Fa);Ie(this,Pd);pe(this,Pd,e=>{if(!Wl&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,Fa)||this.setEventListener(B(this,Pd))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,Fa))==null||e.call(this),pe(this,Fa,void 0))}setEventListener(e){var n;pe(this,Pd,e),(n=B(this,Fa))==null||n.call(this),pe(this,Fa,e(this.setOnline.bind(this)))}setOnline(e){B(this,Nd)!==e&&(pe(this,Nd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return B(this,Nd)}},Nd=new WeakMap,Fa=new WeakMap,Pd=new WeakMap,PO),M0=new hW;function PE(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function fW(t){return Math.min(1e3*2**t,3e4)}function HD(t){return(t??"online")==="online"?M0.isOnline():!0}var VD=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Pb(t){return t instanceof VD}function GD(t){let e=!1,n=0,r=!1,s;const i=PE(),o=g=>{var y;r||(h(new VD(g)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},c=()=>{e=!1},l=()=>BS.isFocused()&&(t.networkMode==="always"||M0.isOnline())&&t.canRun(),u=()=>HD(t.networkMode)&&t.canRun(),d=g=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,g),s==null||s(),i.resolve(g))},h=g=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,g),s==null||s(),i.reject(g))},f=()=>new Promise(g=>{var y;s=w=>{(r||l())&&g(w)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(r)return;let g;const y=n===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(d).catch(w=>{var x;if(r)return;const b=t.retry??(Wl?0:3),v=t.retryDelay??fW,E=typeof v=="function"?v(n,w):v,_=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,w);if(e||!_){h(w);return}n++,(x=t.onFail)==null||x.call(t,n,w),cW(E).then(()=>l()?void 0:f()).then(()=>{e?h(w):p()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?p():f().then(p),i)}}var pW=t=>setTimeout(t,0);function gW(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=pW;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var wn=gW(),bl,kO,KD=(kO=class{constructor(){Ie(this,bl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),IE(this.gcTime)&&pe(this,bl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Wl?1/0:5*60*1e3))}clearGcTimeout(){B(this,bl)&&(clearTimeout(B(this,bl)),pe(this,bl,void 0))}},bl=new WeakMap,kO),kd,_l,Ps,El,ir,Ig,Cl,si,yo,OO,mW=(OO=class extends KD{constructor(e){super();Ie(this,si);Ie(this,kd);Ie(this,_l);Ie(this,Ps);Ie(this,El);Ie(this,ir);Ie(this,Ig);Ie(this,Cl);pe(this,Cl,!1),pe(this,Ig,e.defaultOptions),this.setOptions(e.options),this.observers=[],pe(this,El,e.client),pe(this,Ps,B(this,El).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,pe(this,kd,yW(this.options)),this.state=e.state??B(this,kd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=B(this,ir))==null?void 0:e.promise}setOptions(e){this.options={...B(this,Ig),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Ps).remove(this)}setData(e,n){const r=NE(this.state.data,e,this.options);return We(this,si,yo).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){We(this,si,yo).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=B(this,ir))==null?void 0:r.promise;return(s=B(this,ir))==null||s.cancel(e),n?n.then(mr).catch(mr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,kd))}isActive(){return this.observers.some(e=>li(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===MS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>fc(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!FD(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=B(this,ir))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=B(this,ir))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),B(this,Ps).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(B(this,ir)&&(B(this,Cl)?B(this,ir).cancel({revert:!0}):B(this,ir).cancelRetry()),this.scheduleGc()),B(this,Ps).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||We(this,si,yo).call(this,{type:"invalidate"})}fetch(e,n){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,ir))return B(this,ir).continueRetry(),B(this,ir).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(pe(this,Cl,!0),r.signal)})},i=()=>{const h=qD(this.options,n),p=(()=>{const g={client:B(this,El),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return pe(this,Cl,!1),this.options.persister?this.options.persister(h,p,this):h(p)},a=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:B(this,El),state:this.state,fetchFn:i};return s(h),h})();(l=this.options.behavior)==null||l.onFetch(a,this),pe(this,_l,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&We(this,si,yo).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const c=h=>{var f,p,g,y;Pb(h)&&h.silent||We(this,si,yo).call(this,{type:"error",error:h}),Pb(h)||((p=(f=B(this,Ps).config).onError)==null||p.call(f,h,this),(y=(g=B(this,Ps).config).onSettled)==null||y.call(g,this.state.data,h,this)),this.scheduleGc()};return pe(this,ir,GD({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,p,g,y;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){c(w);return}(p=(f=B(this,Ps).config).onSuccess)==null||p.call(f,h,this),(y=(g=B(this,Ps).config).onSettled)==null||y.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,f)=>{We(this,si,yo).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{We(this,si,yo).call(this,{type:"pause"})},onContinue:()=>{We(this,si,yo).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),B(this,ir).start()}},kd=new WeakMap,_l=new WeakMap,Ps=new WeakMap,El=new WeakMap,ir=new WeakMap,Ig=new WeakMap,Cl=new WeakMap,si=new WeakSet,yo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...YD(r.data,this.options),fetchMeta:e.meta??null};case"success":return pe(this,_l,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Pb(s)&&s.revert&&B(this,_l)?{...B(this,_l),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),wn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),B(this,Ps).notify({query:this,type:"updated",action:e})})},OO);function YD(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:HD(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function yW(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Mi,RO,wW=(RO=class extends mh{constructor(e={}){super();Ie(this,Mi);this.config=e,pe(this,Mi,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??LS(s,n);let o=this.get(i);return o||(o=new mW({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){B(this,Mi).has(e.queryHash)||(B(this,Mi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=B(this,Mi).get(e.queryHash);n&&(e.destroy(),n===e&&B(this,Mi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){wn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,Mi).get(e)}getAll(){return[...B(this,Mi).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>QI(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>QI(e,r)):n}notify(e){wn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){wn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){wn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Mi=new WeakMap,RO),Bi,fr,xl,Fi,_a,$O,vW=($O=class extends KD{constructor(e){super();Ie(this,Fi);Ie(this,Bi);Ie(this,fr);Ie(this,xl);this.mutationId=e.mutationId,pe(this,fr,e.mutationCache),pe(this,Bi,[]),this.state=e.state||JD(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){B(this,Bi).includes(e)||(B(this,Bi).push(e),this.clearGcTimeout(),B(this,fr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){pe(this,Bi,B(this,Bi).filter(n=>n!==e)),this.scheduleGc(),B(this,fr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){B(this,Bi).length||(this.state.status==="pending"?this.scheduleGc():B(this,fr).remove(this))}continue(){var e;return((e=B(this,xl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,c,l,u,d,h,f,p,g,y,w,b,v,E,_,x,S,T;const n=()=>{We(this,Fi,_a).call(this,{type:"continue"})};pe(this,xl,GD({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,O)=>{We(this,Fi,_a).call(this,{type:"failed",failureCount:C,error:O})},onPause:()=>{We(this,Fi,_a).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,fr).canRun(this)}));const r=this.state.status==="pending",s=!B(this,xl).canStart();try{if(r)n();else{We(this,Fi,_a).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=B(this,fr).config).onMutate)==null?void 0:o.call(i,e,this));const O=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));O!==this.state.context&&We(this,Fi,_a).call(this,{type:"pending",context:O,variables:e,isPaused:s})}const C=await B(this,xl).start();return await((u=(l=B(this,fr).config).onSuccess)==null?void 0:u.call(l,C,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,C,e,this.state.context)),await((p=(f=B(this,fr).config).onSettled)==null?void 0:p.call(f,C,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,C,null,e,this.state.context)),We(this,Fi,_a).call(this,{type:"success",data:C}),C}catch(C){try{throw await((b=(w=B(this,fr).config).onError)==null?void 0:b.call(w,C,e,this.state.context,this)),await((E=(v=this.options).onError)==null?void 0:E.call(v,C,e,this.state.context)),await((x=(_=B(this,fr).config).onSettled)==null?void 0:x.call(_,void 0,C,this.state.variables,this.state.context,this)),await((T=(S=this.options).onSettled)==null?void 0:T.call(S,void 0,C,e,this.state.context)),C}finally{We(this,Fi,_a).call(this,{type:"error",error:C})}}finally{B(this,fr).runNext(this)}}},Bi=new WeakMap,fr=new WeakMap,xl=new WeakMap,Fi=new WeakSet,_a=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),wn.batch(()=>{B(this,Bi).forEach(r=>{r.onMutationUpdate(e)}),B(this,fr).notify({mutation:this,type:"updated",action:e})})},$O);function JD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ao,ii,Tg,DO,bW=(DO=class extends mh{constructor(e={}){super();Ie(this,Ao);Ie(this,ii);Ie(this,Tg);this.config=e,pe(this,Ao,new Set),pe(this,ii,new Map),pe(this,Tg,0)}build(e,n,r){const s=new vW({mutationCache:this,mutationId:++gm(this,Tg)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){B(this,Ao).add(e);const n=Fm(e);if(typeof n=="string"){const r=B(this,ii).get(n);r?r.push(e):B(this,ii).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(B(this,Ao).delete(e)){const n=Fm(e);if(typeof n=="string"){const r=B(this,ii).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&B(this,ii).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Fm(e);if(typeof n=="string"){const r=B(this,ii).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Fm(e);if(typeof n=="string"){const s=(r=B(this,ii).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){wn.batch(()=>{B(this,Ao).forEach(e=>{this.notify({type:"removed",mutation:e})}),B(this,Ao).clear(),B(this,ii).clear()})}getAll(){return Array.from(B(this,Ao))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>ZI(n,r))}findAll(e={}){return this.getAll().filter(n=>ZI(e,n))}notify(e){wn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return wn.batch(()=>Promise.all(e.map(n=>n.continue().catch(mr))))}},Ao=new WeakMap,ii=new WeakMap,Tg=new WeakMap,DO);function Fm(t){var e;return(e=t.options.scope)==null?void 0:e.id}function tT(t){return{onFetch:(e,n)=>{var u,d,h,f,p;const r=e.options,s=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((f=e.state.data)==null?void 0:f.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let g=!1;const y=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},w=qD(e.options,e.fetchOptions),b=async(v,E,_)=>{if(g)return Promise.reject();if(E==null&&v.pages.length)return Promise.resolve(v);const S=(()=>{const R={client:e.client,queryKey:e.queryKey,pageParam:E,direction:_?"backward":"forward",meta:e.options.meta};return y(R),R})(),T=await w(S),{maxPages:C}=e.options,O=_?uW:lW;return{pages:O(v.pages,T,C),pageParams:O(v.pageParams,E,C)}};if(s&&i.length){const v=s==="backward",E=v?_W:nT,_={pages:i,pageParams:o},x=E(r,_);a=await b(_,x,v)}else{const v=t??i.length;do{const E=c===0?o[0]??r.initialPageParam:nT(r,a);if(c>0&&E==null)break;a=await b(a,E),c++}while(c<v)}return a};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function nT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function _W(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Zt,za,qa,Od,Rd,Wa,$d,Dd,jO,EW=(jO=class{constructor(t={}){Ie(this,Zt);Ie(this,za);Ie(this,qa);Ie(this,Od);Ie(this,Rd);Ie(this,Wa);Ie(this,$d);Ie(this,Dd);pe(this,Zt,t.queryCache||new wW),pe(this,za,t.mutationCache||new bW),pe(this,qa,t.defaultOptions||{}),pe(this,Od,new Map),pe(this,Rd,new Map),pe(this,Wa,0)}mount(){gm(this,Wa)._++,B(this,Wa)===1&&(pe(this,$d,BS.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,Zt).onFocus())})),pe(this,Dd,M0.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,Zt).onOnline())})))}unmount(){var t,e;gm(this,Wa)._--,B(this,Wa)===0&&((t=B(this,$d))==null||t.call(this),pe(this,$d,void 0),(e=B(this,Dd))==null||e.call(this),pe(this,Dd,void 0))}isFetching(t){return B(this,Zt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,za).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,Zt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=B(this,Zt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(fc(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return B(this,Zt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=B(this,Zt).get(r.queryHash),i=s==null?void 0:s.state.data,o=aW(e,i);if(o!==void 0)return B(this,Zt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return wn.batch(()=>B(this,Zt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,Zt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=B(this,Zt);wn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=B(this,Zt);return wn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=wn.batch(()=>B(this,Zt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(mr).catch(mr)}invalidateQueries(t,e={}){return wn.batch(()=>(B(this,Zt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=wn.batch(()=>B(this,Zt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(mr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(mr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=B(this,Zt).build(this,e);return n.isStaleByTime(fc(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(mr).catch(mr)}fetchInfiniteQuery(t){return t.behavior=tT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(mr).catch(mr)}ensureInfiniteQueryData(t){return t.behavior=tT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return M0.isOnline()?B(this,za).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,Zt)}getMutationCache(){return B(this,za)}getDefaultOptions(){return B(this,qa)}setDefaultOptions(t){pe(this,qa,t)}setQueryDefaults(t,e){B(this,Od).set(Hl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,Od).values()],n={};return e.forEach(r=>{Gp(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){B(this,Rd).set(Hl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,Rd).values()],n={};return e.forEach(r=>{Gp(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,qa).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=LS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===MS&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,qa).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,Zt).clear(),B(this,za).clear()}},Zt=new WeakMap,za=new WeakMap,qa=new WeakMap,Od=new WeakMap,Rd=new WeakMap,Wa=new WeakMap,$d=new WeakMap,Dd=new WeakMap,jO),Lr,et,Ng,pr,Sl,jd,Ha,Va,Pg,Ud,Ld,Al,Il,Ga,Md,pt,wf,kE,OE,RE,$E,DE,jE,UE,QD,UO,CW=(UO=class extends mh{constructor(e,n){super();Ie(this,pt);Ie(this,Lr);Ie(this,et);Ie(this,Ng);Ie(this,pr);Ie(this,Sl);Ie(this,jd);Ie(this,Ha);Ie(this,Va);Ie(this,Pg);Ie(this,Ud);Ie(this,Ld);Ie(this,Al);Ie(this,Il);Ie(this,Ga);Ie(this,Md,new Set);this.options=n,pe(this,Lr,e),pe(this,Va,null),pe(this,Ha,PE()),this.options.experimental_prefetchInRender||B(this,Ha).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(B(this,et).addObserver(this),rT(B(this,et),this.options)?We(this,pt,wf).call(this):this.updateResult(),We(this,pt,$E).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return LE(B(this,et),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return LE(B(this,et),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,We(this,pt,DE).call(this),We(this,pt,jE).call(this),B(this,et).removeObserver(this)}setOptions(e){const n=this.options,r=B(this,et);if(this.options=B(this,Lr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof li(this.options.enabled,B(this,et))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");We(this,pt,UE).call(this),B(this,et).setOptions(this.options),n._defaulted&&!L0(this.options,n)&&B(this,Lr).getQueryCache().notify({type:"observerOptionsUpdated",query:B(this,et),observer:this});const s=this.hasListeners();s&&sT(B(this,et),r,this.options,n)&&We(this,pt,wf).call(this),this.updateResult(),s&&(B(this,et)!==r||li(this.options.enabled,B(this,et))!==li(n.enabled,B(this,et))||fc(this.options.staleTime,B(this,et))!==fc(n.staleTime,B(this,et)))&&We(this,pt,kE).call(this);const i=We(this,pt,OE).call(this);s&&(B(this,et)!==r||li(this.options.enabled,B(this,et))!==li(n.enabled,B(this,et))||i!==B(this,Ga))&&We(this,pt,RE).call(this,i)}getOptimisticResult(e){const n=B(this,Lr).getQueryCache().build(B(this,Lr),e),r=this.createResult(n,e);return SW(this,r)&&(pe(this,pr,r),pe(this,jd,this.options),pe(this,Sl,B(this,et).state)),r}getCurrentResult(){return B(this,pr)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){B(this,Md).add(e)}getCurrentQuery(){return B(this,et)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=B(this,Lr).defaultQueryOptions(e),r=B(this,Lr).getQueryCache().build(B(this,Lr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return We(this,pt,wf).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),B(this,pr)))}createResult(e,n){var C;const r=B(this,et),s=this.options,i=B(this,pr),o=B(this,Sl),a=B(this,jd),l=e!==r?e.state:B(this,Ng),{state:u}=e;let d={...u},h=!1,f;if(n._optimisticResults){const O=this.hasListeners(),R=!O&&rT(e,n),L=O&&sT(e,r,n,s);(R||L)&&(d={...d,...YD(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:y}=d;f=d.data;let w=!1;if(n.placeholderData!==void 0&&f===void 0&&y==="pending"){let O;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(O=i.data,w=!0):O=typeof n.placeholderData=="function"?n.placeholderData((C=B(this,Ld))==null?void 0:C.state.data,B(this,Ld)):n.placeholderData,O!==void 0&&(y="success",f=NE(i==null?void 0:i.data,O,n),h=!0)}if(n.select&&f!==void 0&&!w)if(i&&f===(o==null?void 0:o.data)&&n.select===B(this,Pg))f=B(this,Ud);else try{pe(this,Pg,n.select),f=n.select(f),f=NE(i==null?void 0:i.data,f,n),pe(this,Ud,f),pe(this,Va,null)}catch(O){pe(this,Va,O)}B(this,Va)&&(p=B(this,Va),f=B(this,Ud),g=Date.now(),y="error");const b=d.fetchStatus==="fetching",v=y==="pending",E=y==="error",_=v&&b,x=f!==void 0,T={status:y,fetchStatus:d.fetchStatus,isPending:v,isSuccess:y==="success",isError:E,isInitialLoading:_,isLoading:_,data:f,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!v,isLoadingError:E&&!x,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:E&&x,isStale:FS(e,n),refetch:this.refetch,promise:B(this,Ha)};if(this.options.experimental_prefetchInRender){const O=z=>{T.status==="error"?z.reject(T.error):T.data!==void 0&&z.resolve(T.data)},R=()=>{const z=pe(this,Ha,T.promise=PE());O(z)},L=B(this,Ha);switch(L.status){case"pending":e.queryHash===r.queryHash&&O(L);break;case"fulfilled":(T.status==="error"||T.data!==L.value)&&R();break;case"rejected":(T.status!=="error"||T.error!==L.reason)&&R();break}}return T}updateResult(){const e=B(this,pr),n=this.createResult(B(this,et),this.options);if(pe(this,Sl,B(this,et).state),pe(this,jd,this.options),B(this,Sl).data!==void 0&&pe(this,Ld,B(this,et)),L0(n,e))return;pe(this,pr,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!B(this,Md).size)return!0;const o=new Set(i??B(this,Md));return this.options.throwOnError&&o.add("error"),Object.keys(B(this,pr)).some(a=>{const c=a;return B(this,pr)[c]!==e[c]&&o.has(c)})};We(this,pt,QD).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&We(this,pt,$E).call(this)}},Lr=new WeakMap,et=new WeakMap,Ng=new WeakMap,pr=new WeakMap,Sl=new WeakMap,jd=new WeakMap,Ha=new WeakMap,Va=new WeakMap,Pg=new WeakMap,Ud=new WeakMap,Ld=new WeakMap,Al=new WeakMap,Il=new WeakMap,Ga=new WeakMap,Md=new WeakMap,pt=new WeakSet,wf=function(e){We(this,pt,UE).call(this);let n=B(this,et).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(mr)),n},kE=function(){We(this,pt,DE).call(this);const e=fc(this.options.staleTime,B(this,et));if(Wl||B(this,pr).isStale||!IE(e))return;const r=FD(B(this,pr).dataUpdatedAt,e)+1;pe(this,Al,setTimeout(()=>{B(this,pr).isStale||this.updateResult()},r))},OE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(B(this,et)):this.options.refetchInterval)??!1},RE=function(e){We(this,pt,jE).call(this),pe(this,Ga,e),!(Wl||li(this.options.enabled,B(this,et))===!1||!IE(B(this,Ga))||B(this,Ga)===0)&&pe(this,Il,setInterval(()=>{(this.options.refetchIntervalInBackground||BS.isFocused())&&We(this,pt,wf).call(this)},B(this,Ga)))},$E=function(){We(this,pt,kE).call(this),We(this,pt,RE).call(this,We(this,pt,OE).call(this))},DE=function(){B(this,Al)&&(clearTimeout(B(this,Al)),pe(this,Al,void 0))},jE=function(){B(this,Il)&&(clearInterval(B(this,Il)),pe(this,Il,void 0))},UE=function(){const e=B(this,Lr).getQueryCache().build(B(this,Lr),this.options);if(e===B(this,et))return;const n=B(this,et);pe(this,et,e),pe(this,Ng,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},QD=function(e){wn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(B(this,pr))}),B(this,Lr).getQueryCache().notify({query:B(this,et),type:"observerResultsUpdated"})})},UO);function xW(t,e){return li(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function rT(t,e){return xW(t,e)||t.state.data!==void 0&&LE(t,e,e.refetchOnMount)}function LE(t,e,n){if(li(e.enabled,t)!==!1&&fc(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&FS(t,e)}return!1}function sT(t,e,n,r){return(t!==e||li(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&FS(t,n)}function FS(t,e){return li(e.enabled,t)!==!1&&t.isStaleByTime(fc(e.staleTime,t))}function SW(t,e){return!L0(t.getCurrentResult(),e)}var Ka,Ya,Mr,Io,Lo,qy,ME,LO,AW=(LO=class extends mh{constructor(n,r){super();Ie(this,Lo);Ie(this,Ka);Ie(this,Ya);Ie(this,Mr);Ie(this,Io);pe(this,Ka,n),this.setOptions(r),this.bindMethods(),We(this,Lo,qy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=B(this,Ka).defaultMutationOptions(n),L0(this.options,r)||B(this,Ka).getMutationCache().notify({type:"observerOptionsUpdated",mutation:B(this,Mr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Hl(r.mutationKey)!==Hl(this.options.mutationKey)?this.reset():((s=B(this,Mr))==null?void 0:s.state.status)==="pending"&&B(this,Mr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=B(this,Mr))==null||n.removeObserver(this)}onMutationUpdate(n){We(this,Lo,qy).call(this),We(this,Lo,ME).call(this,n)}getCurrentResult(){return B(this,Ya)}reset(){var n;(n=B(this,Mr))==null||n.removeObserver(this),pe(this,Mr,void 0),We(this,Lo,qy).call(this),We(this,Lo,ME).call(this)}mutate(n,r){var s;return pe(this,Io,r),(s=B(this,Mr))==null||s.removeObserver(this),pe(this,Mr,B(this,Ka).getMutationCache().build(B(this,Ka),this.options)),B(this,Mr).addObserver(this),B(this,Mr).execute(n)}},Ka=new WeakMap,Ya=new WeakMap,Mr=new WeakMap,Io=new WeakMap,Lo=new WeakSet,qy=function(){var r;const n=((r=B(this,Mr))==null?void 0:r.state)??JD();pe(this,Ya,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},ME=function(n){wn.batch(()=>{var r,s,i,o,a,c,l,u;if(B(this,Io)&&this.hasListeners()){const d=B(this,Ya).variables,h=B(this,Ya).context;(n==null?void 0:n.type)==="success"?((s=(r=B(this,Io)).onSuccess)==null||s.call(r,n.data,d,h),(o=(i=B(this,Io)).onSettled)==null||o.call(i,n.data,null,d,h)):(n==null?void 0:n.type)==="error"&&((c=(a=B(this,Io)).onError)==null||c.call(a,n.error,d,h),(u=(l=B(this,Io)).onSettled)==null||u.call(l,void 0,n.error,d,h))}this.listeners.forEach(d=>{d(B(this,Ya))})})},LO);function IW(t){return JSON.stringify(t,(e,n)=>TW(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function TW(t){if(!iT(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!iT(n)||!n.hasOwnProperty("isPrototypeOf"))}function iT(t){return Object.prototype.toString.call(t)==="[object Object]"}function ZD(t){const{_defaulted:e,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:i,maxPages:o,meta:a,networkMode:c,queryFn:l,queryHash:u,queryKey:d,queryKeyHashFn:h,retry:f,retryDelay:p,structuralSharing:g,getPreviousPageParam:y,getNextPageParam:w,initialPageParam:b,_optimisticResults:v,enabled:E,notifyOnChangeProps:_,placeholderData:x,refetchInterval:S,refetchIntervalInBackground:T,refetchOnMount:C,refetchOnReconnect:O,refetchOnWindowFocus:R,retryOnMount:L,select:z,staleTime:M,suspense:A,throwOnError:I,config:D,connector:N,query:k,...U}=t;return U}function NW(t){return{mutationFn(e){return Fy(t,e)},mutationKey:["connect"]}}function PW(t){return{mutationFn(e){return PD(t,e)},mutationKey:["disconnect"]}}function kW(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...i}=n[1];if(!r)throw new Error("address is required");return sq(t,{...i,address:r})},queryKey:OW(e)}}function OW(t={}){return["ensName",ZD(t)]}function RW(t,e={}){return{gcTime:0,async queryFn({queryKey:n}){const{connector:r}=e,{connectorUid:s,scopeKey:i,...o}=n[1];return iq(t,{...o,connector:r})},queryKey:$W(e)}}function $W(t={}){const{connector:e,...n}=t;return["walletClient",{...ZD(n),connectorUid:e==null?void 0:e.uid}]}var XD=F.createContext(void 0),zS=t=>{const e=F.useContext(XD);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},DW=({client:t,children:e})=>(F.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(XD.Provider,{value:t,children:e})),e5=F.createContext(!1),jW=()=>F.useContext(e5);e5.Provider;function UW(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var LW=F.createContext(UW()),MW=()=>F.useContext(LW),BW=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},FW=t=>{F.useEffect(()=>{t.clearReset()},[t])},zW=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||WD(n,[t.error,r])),qW=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},WW=(t,e)=>t.isLoading&&t.isFetching&&!e,HW=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,oT=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function VW(t,e,n){var d,h,f,p,g;const r=jW(),s=MW(),i=zS(),o=i.defaultQueryOptions(t);(h=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",qW(o),BW(o,s),FW(s);const a=!i.getQueryCache().get(o.queryHash),[c]=F.useState(()=>new e(i,o)),l=c.getOptimisticResult(o),u=!r&&t.subscribed!==!1;if(F.useSyncExternalStore(F.useCallback(y=>{const w=u?c.subscribe(wn.batchCalls(y)):mr;return c.updateResult(),w},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),F.useEffect(()=>{c.setOptions(o)},[o,c]),HW(o,l))throw oT(o,c,s);if(zW({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;if((p=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,o,l),o.experimental_prefetchInRender&&!Wl&&WW(l,r)){const y=a?oT(o,c,s):(g=i.getQueryCache().get(o.queryHash))==null?void 0:g.promise;y==null||y.catch(mr).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?l:c.trackResult(l)}function GW(t,e){return VW(t,CW)}function t5(t,e){const n=zS(),[r]=F.useState(()=>new AW(n,t));F.useEffect(()=>{r.setOptions(t)},[r,t]);const s=F.useSyncExternalStore(F.useCallback(o=>r.subscribe(wn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=F.useCallback((o,a)=>{r.mutate(o,a).catch(mr)},[r]);if(s.error&&WD(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function n5(t){const e=GW({...t,queryKeyHashFn:IW});return e.queryKey=t.queryKey,e}function r5(t={}){const e=jc(t);return F.useSyncExternalStore(n=>uq(e,{onChange:n}),()=>HI(e),()=>HI(e))}function KW(t={}){const e=jc(t);return F.useSyncExternalStore(n=>RD(e,{onChange:n}),()=>VI(e),()=>VI(e))}function s5(t={}){const{mutation:e}=t,n=jc(t),r=NW(n),{mutate:s,mutateAsync:i,...o}=t5({...e,...r});return F.useEffect(()=>n.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&o.reset()}),[n,o.reset]),{...o,connect:s,connectAsync:i,connectors:KW({config:n})}}function YW(t={}){const e=jc(t);return F.useSyncExternalStore(n=>dq(e,{onChange:n}),()=>Li(e),()=>Li(e))}function i5(t={}){const{mutation:e}=t,n=jc(t),r=PW(n),{mutate:s,mutateAsync:i,...o}=t5({...e,...r});return{...o,connectors:YW({config:n}).map(a=>a.connector),disconnect:s,disconnectAsync:i}}function o5(t={}){const{address:e,query:n={}}=t,r=jc(t),s=r5({config:r}),i=kW(r,{...t,chainId:t.chainId??s}),o=!!(e&&(n.enabled??!0));return n5({...n,...i,enabled:o})}function a5(t={}){const{query:e={},...n}=t,r=jc(n),s=zS(),{address:i,connector:o,status:a}=Wg({config:r}),c=r5({config:r}),l=t.connector??o,{queryKey:u,...d}=RW(r,{...t,chainId:t.chainId??c,connector:t.connector??o}),h=!!((a==="connected"||a==="reconnecting"&&(l!=null&&l.getProvider))&&(e.enabled??!0)),f=F.useRef(i);return F.useEffect(()=>{const p=f.current;!i&&p?(s.removeQueries({queryKey:u}),f.current=void 0):i!==p&&(s.invalidateQueries({queryKey:u}),f.current=i)},[i,s]),n5({...e,...d,queryKey:u,enabled:h,staleTime:Number.POSITIVE_INFINITY})}const JW="_verified_lvyh0_1",qS={verified:JW},QW=()=>m.jsx("svg",{viewBox:"0 0 24 24","aria-label":"Verified account",role:"img",className:qS.verified,children:m.jsx("g",{children:m.jsx("path",{d:"M22.25 12c0-1.43-.88-2.67-2.19-3.34.46-1.39.2-2.9-.81-3.91s-2.52-1.27-3.91-.81c-.66-1.31-1.91-2.19-3.34-2.19s-2.67.88-3.33 2.19c-1.4-.46-2.91-.2-3.92.81s-1.26 2.52-.8 3.91c-1.31.67-2.2 1.91-2.2 3.34s.89 2.67 2.2 3.34c-.46 1.39-.21 2.9.8 3.91s2.52 1.26 3.91.81c.67 1.31 1.91 2.19 3.34 2.19s2.68-.88 3.34-2.19c1.39.45 2.9.2 3.91-.81s1.27-2.52.81-3.91c1.31-.67 2.19-1.91 2.19-3.34zm-11.71 4.2L6.8 12.46l1.41-1.42 2.26 2.26 4.8-5.23 1.47 1.36-6.2 6.77z"})})}),ZW=()=>m.jsx("svg",{viewBox:"0 0 22 22","aria-label":"Verified account",role:"img",className:qS.verified,children:m.jsxs("g",{children:[m.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-a",x1:"4.411",x2:"18.083",y1:"2.495",y2:"21.508",children:[m.jsx("stop",{offset:"0",stopColor:"#f4e72a"}),m.jsx("stop",{offset:".539",stopColor:"#cd8105"}),m.jsx("stop",{offset:".68",stopColor:"#cb7b00"}),m.jsx("stop",{offset:"1",stopColor:"#f4ec26"}),m.jsx("stop",{offset:"1",stopColor:"#f4e72a"})]}),m.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-b",x1:"5.355",x2:"16.361",y1:"3.395",y2:"19.133",children:[m.jsx("stop",{offset:"0",stopColor:"#f9e87f"}),m.jsx("stop",{offset:".406",stopColor:"#e2b719"}),m.jsx("stop",{offset:".989",stopColor:"#e2b719"})]}),m.jsxs("g",{clipRule:"evenodd",fillRule:"evenodd",children:[m.jsx("path",{d:"M13.324 3.848L11 1.6 8.676 3.848l-3.201-.453-.559 3.184L2.06 8.095 3.48 11l-1.42 2.904 2.856 1.516.559 3.184 3.201-.452L11 20.4l2.324-2.248 3.201.452.559-3.184 2.856-1.516L18.52 11l1.42-2.905-2.856-1.516-.559-3.184zm-7.09 7.575l3.428 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-a)"}),m.jsx("path",{d:"M13.101 4.533L11 2.5 8.899 4.533l-2.895-.41-.505 2.88-2.583 1.37L4.2 11l-1.284 2.627 2.583 1.37.505 2.88 2.895-.41L11 19.5l2.101-2.033 2.895.41.505-2.88 2.583-1.37L17.8 11l1.284-2.627-2.583-1.37-.505-2.88zm-6.868 6.89l3.429 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-b)"}),m.jsx("path",{d:"M6.233 11.423l3.429 3.428 5.65-6.17.038-.033-.005 1.398-5.683 6.206-3.429-3.429-.003-1.405.005.003z",fill:"#d18800"})]})]})}),XW=()=>m.jsx("svg",{viewBox:"0 0 22 22","aria-label":"Verified account",role:"img",className:qS.verified,children:m.jsx("g",{children:m.jsx("path",{clipRule:"evenodd",d:"M12.05 2.056c-.568-.608-1.532-.608-2.1 0l-1.393 1.49c-.284.303-.685.47-1.1.455L5.42 3.932c-.832-.028-1.514.654-1.486 1.486l.069 2.039c.014.415-.152.816-.456 1.1l-1.49 1.392c-.608.568-.608 1.533 0 2.101l1.49 1.393c.304.284.47.684.456 1.1l-.07 2.038c-.027.832.655 1.514 1.487 1.486l2.038-.069c.415-.014.816.152 1.1.455l1.392 1.49c.569.609 1.533.609 2.102 0l1.393-1.49c.283-.303.684-.47 1.099-.455l2.038.069c.832.028 1.515-.654 1.486-1.486L18 14.542c-.015-.415.152-.815.455-1.099l1.49-1.393c.608-.568.608-1.533 0-2.101l-1.49-1.393c-.303-.283-.47-.684-.455-1.1l.068-2.038c.029-.832-.654-1.514-1.486-1.486l-2.038.07c-.415.013-.816-.153-1.1-.456zm-5.817 9.367l3.429 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fillRule:"evenodd"})})});function c5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=c5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pc(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=c5(t))&&(r&&(r+=" "),r+=e);return r}const eH="_root_98iqw_1",tH="_article_98iqw_21",aT={root:eH,article:tH},WS=({className:t,children:e})=>m.jsx("div",{className:pc("react-tweet-theme",aT.root,t),children:m.jsx("article",{className:aT.article,children:e})}),l5=t=>m.jsx("img",{...t}),nH="_header_nqq4j_1",rH="_avatar_nqq4j_11",sH="_avatarOverflow_nqq4j_16",iH="_avatarSquare_nqq4j_23",oH="_avatarShadow_nqq4j_26",aH="_author_nqq4j_37",cH="_authorLink_nqq4j_44",lH="_authorVerified_nqq4j_53",uH="_authorLinkText_nqq4j_56",dH="_authorMeta_nqq4j_63",hH="_authorFollow_nqq4j_66",fH="_username_nqq4j_69",pH="_follow_nqq4j_74",gH="_separator_nqq4j_82",mH="_brand_nqq4j_86",yH="_twitterIcon_nqq4j_90",On={header:nH,avatar:rH,avatarOverflow:sH,avatarSquare:iH,avatarShadow:oH,author:aH,authorLink:cH,authorVerified:lH,authorLinkText:uH,authorMeta:dH,authorFollow:hH,username:fH,follow:pH,separator:gH,brand:mH,twitterIcon:yH},wH="_verifiedOld_lcna5_1",vH="_verifiedBlue_lcna5_4",bH="_verifiedGovernment_lcna5_7",kb={verifiedOld:wH,verifiedBlue:vH,verifiedGovernment:bH},u5=({user:t,className:e})=>{const n=t.verified||t.is_blue_verified||t.verified_type;let r=m.jsx(QW,{}),s=kb.verifiedBlue;if(n)switch(t.is_blue_verified||(s=kb.verifiedOld),t.verified_type){case"Government":r=m.jsx(XW,{}),s=kb.verifiedGovernment;break;case"Business":r=m.jsx(ZW,{}),s=null;break}return n?m.jsx("div",{className:pc(e,s),children:r}):null},_H=({tweet:t,components:e})=>{var n;const r=(n=e==null?void 0:e.AvatarImg)!=null?n:l5,{user:s}=t;return m.jsxs("div",{className:On.header,children:[m.jsxs("a",{href:t.url,className:On.avatar,target:"_blank",rel:"noopener noreferrer",children:[m.jsx("div",{className:pc(On.avatarOverflow,s.profile_image_shape==="Square"&&On.avatarSquare),children:m.jsx(r,{src:s.profile_image_url_https,alt:s.name,width:48,height:48})}),m.jsx("div",{className:On.avatarOverflow,children:m.jsx("div",{className:On.avatarShadow})})]}),m.jsxs("div",{className:On.author,children:[m.jsxs("a",{href:t.url,className:On.authorLink,target:"_blank",rel:"noopener noreferrer",children:[m.jsx("div",{className:On.authorLinkText,children:m.jsx("span",{title:s.name,children:s.name})}),m.jsx(u5,{user:s,className:On.authorVerified})]}),m.jsxs("div",{className:On.authorMeta,children:[m.jsx("a",{href:t.url,className:On.username,target:"_blank",rel:"noopener noreferrer",children:m.jsxs("span",{title:`@${s.screen_name}`,children:["@",s.screen_name]})}),m.jsxs("div",{className:On.authorFollow,children:[m.jsx("span",{className:On.separator,children:""}),m.jsx("a",{href:s.follow_url,className:On.follow,target:"_blank",rel:"noopener noreferrer",children:"Follow"})]})]})]}),m.jsx("a",{href:t.url,className:On.brand,target:"_blank",rel:"noopener noreferrer","aria-label":"View on Twitter",children:m.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:On.twitterIcon,children:m.jsx("g",{children:m.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})})})]})},EH="_root_1ec15_1",CH={root:EH},xH=({tweet:t})=>m.jsxs("a",{href:t.in_reply_to_url,className:CH.root,target:"_blank",rel:"noopener noreferrer",children:["Replying to @",t.in_reply_to_screen_name]}),SH="_root_eihfa_1",AH={root:SH},IH=({href:t,children:e})=>m.jsx("a",{href:t,className:AH.root,target:"_blank",rel:"noopener noreferrer nofollow",children:e}),TH="_root_1xq52_1",NH={root:TH},PH=({tweet:t})=>m.jsx("p",{className:NH.root,lang:t.lang,dir:"auto",children:t.entities.map((e,n)=>{switch(e.type){case"hashtag":case"mention":case"url":case"symbol":return m.jsx(IH,{href:e.href,children:e.text},n);case"media":return;default:return m.jsx("span",{dangerouslySetInnerHTML:{__html:e.text}},n)}})}),cT=t=>`https://x.com/${t.user.screen_name}/status/${t.id_str}`,d5=t=>`https://x.com/${typeof t=="string"?t:t.user.screen_name}`,kH=t=>`https://x.com/intent/like?tweet_id=${t.id_str}`,OH=t=>`https://x.com/intent/tweet?in_reply_to=${t.id_str}`,RH=t=>`https://x.com/intent/follow?screen_name=${t.user.screen_name}`,$H=t=>`https://x.com/hashtag/${t.text}`,DH=t=>`https://x.com/search?q=%24${t.text}`,jH=t=>`https://x.com/${t.in_reply_to_screen_name}/status/${t.in_reply_to_status_id_str}`,h5=(t,e)=>{const n=new URL(t.media_url_https),r=n.pathname.split(".").pop();return r?(n.pathname=n.pathname.replace(`.${r}`,""),n.searchParams.set("format",r),n.searchParams.set("name",e),n.toString()):t.media_url_https},UH=t=>{const{variants:e}=t.video_info;return e.filter(r=>r.content_type==="video/mp4").sort((r,s)=>{var i,o;return((i=s.bitrate)!=null?i:0)-((o=r.bitrate)!=null?o:0)})},LH=t=>{const e=UH(t);return e.length>1?e[1]:e[0]},BE=t=>t>999999?`${(t/1e6).toFixed(1)}M`:t>999?`${(t/1e3).toFixed(1)}K`:t.toString();function lT(t){const e=Array.from(t.text),n=[{indices:t.display_text_range,type:"text"}];return qh(n,"hashtag",t.entities.hashtags),qh(n,"mention",t.entities.user_mentions),qh(n,"url",t.entities.urls),qh(n,"symbol",t.entities.symbols),t.entities.media&&qh(n,"media",t.entities.media),MH(t,n),n.map(r=>{const s=e.slice(r.indices[0],r.indices[1]).join("");switch(r.type){case"hashtag":return Object.assign(r,{href:$H(r),text:s});case"mention":return Object.assign(r,{href:d5(r.screen_name),text:s});case"url":case"media":return Object.assign(r,{href:r.expanded_url,text:r.display_url});case"symbol":return Object.assign(r,{href:DH(r),text:s});default:return Object.assign(r,{text:s})}})}function qh(t,e,n){for(const r of n)for(const[s,i]of t.entries()){if(i.indices[0]>r.indices[0]||i.indices[1]<r.indices[1])continue;const o=[{...r,type:e}];i.indices[0]<r.indices[0]&&o.unshift({indices:[i.indices[0],r.indices[0]],type:"text"}),i.indices[1]>r.indices[1]&&o.push({indices:[r.indices[1],i.indices[1]],type:"text"}),t.splice(s,1,...o);break}}function MH(t,e){t.entities.media&&t.entities.media[0].indices[0]<t.display_text_range[1]&&(t.display_text_range[1]=t.entities.media[0].indices[0]);const n=e.at(-1);n&&n.indices[1]>t.display_text_range[1]&&(n.indices[1]=t.display_text_range[1])}const BH=t=>({...t,url:cT(t),user:{...t.user,url:d5(t),follow_url:RH(t)},like_url:kH(t),reply_url:OH(t),in_reply_to_url:t.in_reply_to_screen_name?jH(t):void 0,entities:lT(t),quoted_tweet:t.quoted_tweet?{...t.quoted_tweet,url:cT(t.quoted_tweet),entities:lT(t.quoted_tweet)}:void 0}),FH="_root_g9tkv_1",zH="_rounded_g9tkv_6",qH="_mediaWrapper_g9tkv_10",WH="_grid2Columns_g9tkv_17",HH="_grid3_g9tkv_20",VH="_grid2x2_g9tkv_23",GH="_mediaContainer_g9tkv_26",KH="_mediaLink_g9tkv_34",YH="_skeleton_g9tkv_38",JH="_image_g9tkv_43",rs={root:FH,rounded:zH,mediaWrapper:qH,grid2Columns:WH,grid3:HH,grid2x2:VH,mediaContainer:GH,mediaLink:KH,skeleton:YH,image:JH},QH="_anchor_fp31d_1",ZH="_videoButton_fp31d_17",XH="_videoButtonIcon_fp31d_35",eV="_watchOnTwitter_fp31d_44",tV="_viewReplies_fp31d_60",bu={anchor:QH,videoButton:ZH,videoButtonIcon:XH,watchOnTwitter:eV,viewReplies:tV},nV=({tweet:t,media:e})=>{const[n,r]=F.useState(!0),[s,i]=F.useState(!1),[o,a]=F.useState(!1),c=LH(e);let l=0;return m.jsxs(m.Fragment,{children:[m.jsx("video",{className:rs.image,poster:h5(e,"small"),controls:!n,playsInline:!0,preload:"none",tabIndex:n?-1:0,onPlay:()=>{l&&window.clearTimeout(l),s||i(!0),o&&a(!1)},onPause:()=>{l&&window.clearTimeout(l),l=window.setTimeout(()=>{s&&i(!1),l=0},100)},onEnded:()=>{a(!0)},children:m.jsx("source",{src:c.url,type:c.content_type})}),n&&m.jsx("button",{type:"button",className:bu.videoButton,"aria-label":"View video on X",onClick:u=>{const d=u.currentTarget.previousSibling;u.preventDefault(),r(!1),d.load(),d.play().then(()=>{i(!0),d.focus()}).catch(h=>{console.error("Error playing video:",h),r(!0),i(!1)})},children:m.jsx("svg",{viewBox:"0 0 24 24",className:bu.videoButtonIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M21 12L4 2v20l17-10z"})})})}),!s&&!o&&m.jsx("div",{className:bu.watchOnTwitter,children:m.jsx("a",{href:t.url,className:bu.anchor,target:"_blank",rel:"noopener noreferrer",children:n?"Watch on X":"Continue watching on X"})}),o&&m.jsx("a",{href:t.url,className:pc(bu.anchor,bu.viewReplies),target:"_blank",rel:"noopener noreferrer",children:"View replies"})]})},rV=t=>m.jsx("img",{...t}),uT=(t,e)=>{let n=56.25;return e===1&&(n=100/t.original_info.width*t.original_info.height),e===2&&(n=n*2),{width:t.type==="photo"?void 0:"unset",paddingBottom:`${n}%`}},f5=({tweet:t,components:e,quoted:n})=>{var r,s,i;const o=(i=(r=t.mediaDetails)==null?void 0:r.length)!=null?i:0;var a;const c=(a=e==null?void 0:e.MediaImg)!=null?a:rV;return m.jsx("div",{className:pc(rs.root,!n&&rs.rounded),children:m.jsx("div",{className:pc(rs.mediaWrapper,o>1&&rs.grid2Columns,o===3&&rs.grid3,o>4&&rs.grid2x2),children:(s=t.mediaDetails)==null?void 0:s.map(l=>m.jsx(F.Fragment,{children:l.type==="photo"?m.jsxs("a",{href:t.url,className:pc(rs.mediaContainer,rs.mediaLink),target:"_blank",rel:"noopener noreferrer",children:[m.jsx("div",{className:rs.skeleton,style:uT(l,o)}),m.jsx(c,{src:h5(l,"small"),alt:l.ext_alt_text||"Image",className:rs.image,draggable:!0})]},l.media_url_https):m.jsxs("div",{className:rs.mediaContainer,children:[m.jsx("div",{className:rs.skeleton,style:uT(l,o)}),m.jsx(nV,{tweet:t,media:l})]},l.media_url_https)},l.media_url_https))})})},sV={hour:"numeric",minute:"2-digit",hour12:!0,weekday:"short",month:"short",day:"numeric",year:"numeric"},iV=new Intl.DateTimeFormat("en-US",sV),oV=t=>{const e={};for(const n of t)e[n.type]=n.value;return e},aV=t=>{const e=oV(iV.formatToParts(t)),n=`${e.hour}:${e.minute} ${e.dayPeriod}`,r=`${e.month} ${e.day}, ${e.year}`;return`${n}  ${r}`},cV="_root_i24yn_1",lV={root:cV},uV=({tweet:t})=>{const e=new Date(t.created_at),n=aV(e);return m.jsx("a",{className:lV.root,href:t.url,target:"_blank",rel:"noopener noreferrer","aria-label":n,children:m.jsx("time",{dateTime:e.toISOString(),children:n})})},dV="_info_19qcj_1",hV="_infoLink_19qcj_10",fV="_infoIcon_19qcj_30",Ob={info:dV,infoLink:hV,infoIcon:fV},pV=({tweet:t})=>m.jsxs("div",{className:Ob.info,children:[m.jsx(uV,{tweet:t}),m.jsx("a",{className:Ob.infoLink,href:"https://help.x.com/en/x-for-websites-ads-info-and-privacy",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter for Websites, Ads Information and Privacy",children:m.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:Ob.infoIcon,children:m.jsx("g",{children:m.jsx("path",{d:"M13.5 8.5c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5S11.17 7 12 7s1.5.67 1.5 1.5zM13 17v-5h-2v5h2zm-1 5.25c5.66 0 10.25-4.59 10.25-10.25S17.66 1.75 12 1.75 1.75 6.34 1.75 12 6.34 22.25 12 22.25zM20.25 12c0 4.56-3.69 8.25-8.25 8.25S3.75 16.56 3.75 12 7.44 3.75 12 3.75s8.25 3.69 8.25 8.25z"})})})})]}),gV="_actions_n2anf_1",mV="_like_n2anf_13",yV="_reply_n2anf_14",wV="_copy_n2anf_15",vV="_likeIconWrapper_n2anf_27",bV="_likeCount_n2anf_30",_V="_replyIconWrapper_n2anf_35",EV="_copyIconWrapper_n2anf_36",CV="_likeIcon_n2anf_27",xV="_replyIcon_n2anf_35",SV="_copyIcon_n2anf_36",AV="_replyText_n2anf_56",IV="_copyText_n2anf_57",Br={actions:gV,like:mV,reply:yV,copy:wV,likeIconWrapper:vV,likeCount:bV,replyIconWrapper:_V,copyIconWrapper:EV,likeIcon:CV,replyIcon:xV,copyIcon:SV,replyText:AV,copyText:IV},TV=({tweet:t})=>{const[e,n]=F.useState(!1),r=()=>{navigator.clipboard.writeText(t.url),n(!0)};return F.useEffect(()=>{if(e){const s=setTimeout(()=>{n(!1)},6e3);return()=>clearTimeout(s)}},[e]),m.jsxs("button",{type:"button",className:Br.copy,"aria-label":"Copy link",onClick:r,children:[m.jsx("div",{className:Br.copyIconWrapper,children:e?m.jsx("svg",{viewBox:"0 0 24 24",className:Br.copyIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M9.64 18.952l-5.55-4.861 1.317-1.504 3.951 3.459 8.459-10.948L19.4 6.32 9.64 18.952z"})})}):m.jsx("svg",{viewBox:"0 0 24 24",className:Br.copyIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M18.36 5.64c-1.95-1.96-5.11-1.96-7.07 0L9.88 7.05 8.46 5.64l1.42-1.42c2.73-2.73 7.16-2.73 9.9 0 2.73 2.74 2.73 7.17 0 9.9l-1.42 1.42-1.41-1.42 1.41-1.41c1.96-1.96 1.96-5.12 0-7.07zm-2.12 3.53l-7.07 7.07-1.41-1.41 7.07-7.07 1.41 1.41zm-12.02.71l1.42-1.42 1.41 1.42-1.41 1.41c-1.96 1.96-1.96 5.12 0 7.07 1.95 1.96 5.11 1.96 7.07 0l1.41-1.41 1.42 1.41-1.42 1.42c-2.73 2.73-7.16 2.73-9.9 0-2.73-2.74-2.73-7.17 0-9.9z"})})})}),m.jsx("span",{className:Br.copyText,children:e?"Copied!":"Copy link"})]})},NV=({tweet:t})=>{const e=BE(t.favorite_count);return m.jsxs("div",{className:Br.actions,children:[m.jsxs("a",{className:Br.like,href:t.like_url,target:"_blank",rel:"noopener noreferrer","aria-label":`Like. This Tweet has ${e} likes`,children:[m.jsx("div",{className:Br.likeIconWrapper,children:m.jsx("svg",{viewBox:"0 0 24 24",className:Br.likeIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M20.884 13.19c-1.351 2.48-4.001 5.12-8.379 7.67l-.503.3-.504-.3c-4.379-2.55-7.029-5.19-8.382-7.67-1.36-2.5-1.41-4.86-.514-6.67.887-1.79 2.647-2.91 4.601-3.01 1.651-.09 3.368.56 4.798 2.01 1.429-1.45 3.146-2.1 4.796-2.01 1.954.1 3.714 1.22 4.601 3.01.896 1.81.846 4.17-.514 6.67z"})})})}),m.jsx("span",{className:Br.likeCount,children:e})]}),m.jsxs("a",{className:Br.reply,href:t.reply_url,target:"_blank",rel:"noopener noreferrer","aria-label":"Reply to this Tweet on Twitter",children:[m.jsx("div",{className:Br.replyIconWrapper,children:m.jsx("svg",{viewBox:"0 0 24 24",className:Br.replyIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M1.751 10c0-4.42 3.584-8 8.005-8h4.366c4.49 0 8.129 3.64 8.129 8.13 0 2.96-1.607 5.68-4.196 7.11l-8.054 4.46v-3.69h-.067c-4.49.1-8.183-3.51-8.183-8.01z"})})})}),m.jsx("span",{className:Br.replyText,children:"Reply"})]}),m.jsx(TV,{tweet:t})]})},PV="_replies_1cutb_1",kV="_link_1cutb_4",OV="_text_1cutb_23",Rb={replies:PV,link:kV,text:OV},RV=({tweet:t})=>m.jsx("div",{className:Rb.replies,children:m.jsx("a",{className:Rb.link,href:t.url,target:"_blank",rel:"noopener noreferrer",children:m.jsx("span",{className:Rb.text,children:t.conversation_count===0?"Read more on X":t.conversation_count===1?`Read ${BE(t.conversation_count)} reply`:`Read ${BE(t.conversation_count)} replies`})})}),$V="_root_q5799_1",DV="_article_q5799_16",dT={root:$V,article:DV},jV=({tweet:t,children:e})=>m.jsx("div",{className:dT.root,onClick:n=>{n.preventDefault(),window.open(t.url,"_blank")},children:m.jsx("article",{className:dT.article,children:e})}),UV="_header_r31i5_1",LV="_avatar_r31i5_11",MV="_avatarSquare_r31i5_17",BV="_author_r31i5_21",FV="_authorText_r31i5_26",zV="_username_r31i5_33",zc={header:UV,avatar:LV,avatarSquare:MV,author:BV,authorText:FV,username:zV},qV=({tweet:t})=>{const{user:e}=t;return m.jsxs("div",{className:zc.header,children:[m.jsx("a",{href:t.url,className:zc.avatar,target:"_blank",rel:"noopener noreferrer",children:m.jsx("div",{className:pc(zc.avatarOverflow,e.profile_image_shape==="Square"&&zc.avatarSquare),children:m.jsx(l5,{src:e.profile_image_url_https,alt:e.name,width:20,height:20})})}),m.jsxs("div",{className:zc.author,children:[m.jsx("div",{className:zc.authorText,children:m.jsx("span",{title:e.name,children:e.name})}),m.jsx(u5,{user:e}),m.jsx("div",{className:zc.username,children:m.jsxs("span",{title:`@${e.screen_name}`,children:["@",e.screen_name]})})]})]})},WV="_root_175ot_1",HV={root:WV},VV=({tweet:t})=>m.jsx("p",{className:HV.root,lang:t.lang,dir:"auto",children:t.entities.map((e,n)=>m.jsx("span",{dangerouslySetInnerHTML:{__html:e.text}},n))}),GV=({tweet:t})=>{var e;return m.jsxs(jV,{tweet:t,children:[m.jsx(qV,{tweet:t}),m.jsx(VV,{tweet:t}),(e=t.mediaDetails)!=null&&e.length?m.jsx(f5,{quoted:!0,tweet:t}):null]})},KV=({tweet:t,components:e})=>{var n;const r=F.useMemo(()=>BH(t),[t]);return m.jsxs(WS,{children:[m.jsx(_H,{tweet:r,components:e}),r.in_reply_to_status_id_str&&m.jsx(xH,{tweet:r}),m.jsx(PH,{tweet:r}),(n=r.mediaDetails)!=null&&n.length?m.jsx(f5,{tweet:r,components:e}):null,r.quoted_tweet&&m.jsx(GV,{tweet:r.quoted_tweet}),m.jsx(pV,{tweet:r}),m.jsx(NV,{tweet:r}),m.jsx(RV,{tweet:r})]})},YV="_root_16yxa_1",JV={root:YV},QV=t=>m.jsx(WS,{children:m.jsxs("div",{className:JV.root,children:[m.jsx("h3",{children:"Tweet not found"}),m.jsx("p",{children:"The embedded tweet could not be found"})]})}),ZV="_skeleton_oi7hr_1",XV={skeleton:ZV},zm=({style:t})=>m.jsx("span",{className:XV.skeleton,style:t}),eG="_root_17qqv_1",tG={root:eG},nG=()=>m.jsxs(WS,{className:tG.root,children:[m.jsx(zm,{style:{height:"3rem",marginBottom:"0.75rem"}}),m.jsx(zm,{style:{height:"6rem",margin:"0.5rem 0"}}),m.jsx("div",{style:{borderTop:"var(--tweet-border)",margin:"0.5rem 0"}}),m.jsx(zm,{style:{height:"2rem"}}),m.jsx(zm,{style:{height:"2rem",borderRadius:"9999px",marginTop:"0.5rem"}})]});var p5={exports:{}},g5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd=F;function rG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sG=typeof Object.is=="function"?Object.is:rG,iG=Zd.useState,oG=Zd.useEffect,aG=Zd.useLayoutEffect,cG=Zd.useDebugValue;function lG(t,e){var n=e(),r=iG({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return aG(function(){s.value=n,s.getSnapshot=e,$b(s)&&i({inst:s})},[t,n,e]),oG(function(){return $b(s)&&i({inst:s}),t(function(){$b(s)&&i({inst:s})})},[t]),cG(n),n}function $b(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sG(t,n)}catch{return!0}}function uG(t,e){return e()}var dG=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?uG:lG;g5.useSyncExternalStore=Zd.useSyncExternalStore!==void 0?Zd.useSyncExternalStore:dG;p5.exports=g5;var hG=p5.exports;const m5=0,y5=1,w5=2,hT=3;var fT=Object.prototype.hasOwnProperty;function FE(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&FE(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(fT.call(t,n)&&++r&&!fT.call(e,n)||!(n in e)||!FE(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}const To=new WeakMap,Xa=()=>{},yr=Xa(),zE=Object,rt=t=>t===yr,Hi=t=>typeof t=="function",Ac=(t,e)=>({...t,...e}),v5=t=>Hi(t.then),Db={},qm={},HS="undefined",Hg=typeof window!=HS,qE=typeof document!=HS,fG=Hg&&"Deno"in window,pG=()=>Hg&&typeof window.requestAnimationFrame!=HS,b5=(t,e)=>{const n=To.get(t);return[()=>!rt(e)&&t.get(e)||Db,r=>{if(!rt(e)){const s=t.get(e);e in qm||(qm[e]=s),n[5](e,Ac(s,r),s||Db)}},n[6],()=>!rt(e)&&e in qm?qm[e]:!rt(e)&&t.get(e)||Db]};let WE=!0;const gG=()=>WE,[HE,VE]=Hg&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Xa,Xa],mG=()=>{const t=qE&&document.visibilityState;return rt(t)||t!=="hidden"},yG=t=>(qE&&document.addEventListener("visibilitychange",t),HE("focus",t),()=>{qE&&document.removeEventListener("visibilitychange",t),VE("focus",t)}),wG=t=>{const e=()=>{WE=!0,t()},n=()=>{WE=!1};return HE("online",e),HE("offline",n),()=>{VE("online",e),VE("offline",n)}},vG={isOnline:gG,isVisible:mG},bG={initFocus:yG,initReconnect:wG},pT=!Us.useId,Kp=!Hg||fG,_G=t=>pG()?window.requestAnimationFrame(t):setTimeout(t,1),jb=Kp?F.useEffect:F.useLayoutEffect,Ub=typeof navigator<"u"&&navigator.connection,gT=!Kp&&Ub&&(["slow-2g","2g"].includes(Ub.effectiveType)||Ub.saveData),Wm=new WeakMap,Lb=(t,e)=>zE.prototype.toString.call(t)===`[object ${e}]`;let EG=0;const GE=t=>{const e=typeof t,n=Lb(t,"Date"),r=Lb(t,"RegExp"),s=Lb(t,"Object");let i,o;if(zE(t)===t&&!n&&!r){if(i=Wm.get(t),i)return i;if(i=++EG+"~",Wm.set(t,i),Array.isArray(t)){for(i="@",o=0;o<t.length;o++)i+=GE(t[o])+",";Wm.set(t,i)}if(s){i="#";const a=zE.keys(t).sort();for(;!rt(o=a.pop());)rt(t[o])||(i+=o+":"+GE(t[o])+",");Wm.set(t,i)}}else i=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},VS=t=>{if(Hi(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?GE(t):"",[t,e]};let CG=0;const KE=()=>++CG;async function _5(...t){const[e,n,r,s]=t,i=Ac({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let o=i.populateCache;const a=i.rollbackOnError;let c=i.optimisticData;const l=h=>typeof a=="function"?a(h):a!==!1,u=i.throwOnError;if(Hi(n)){const h=n,f=[],p=e.keys();for(const g of p)!/^\$(inf|sub)\$/.test(g)&&h(e.get(g)._k)&&f.push(g);return Promise.all(f.map(d))}return d(n);async function d(h){const[f]=VS(h);if(!f)return;const[p,g]=b5(e,f),[y,w,b,v]=To.get(e),E=()=>{const z=y[f];return(Hi(i.revalidate)?i.revalidate(p().data,h):i.revalidate!==!1)&&(delete b[f],delete v[f],z&&z[0])?z[0](w5).then(()=>p().data):p().data};if(t.length<3)return E();let _=r,x;const S=KE();w[f]=[S,0];const T=!rt(c),C=p(),O=C.data,R=C._c,L=rt(R)?O:R;if(T&&(c=Hi(c)?c(L,O):c,g({data:c,_c:L})),Hi(_))try{_=_(L)}catch(z){x=z}if(_&&v5(_))if(_=await _.catch(z=>{x=z}),S!==w[f][0]){if(x)throw x;return _}else x&&T&&l(x)&&(o=!0,g({data:L,_c:yr}));if(o&&!x)if(Hi(o)){const z=o(_,L);g({data:z,error:yr,_c:yr})}else g({data:_,error:yr,_c:yr});if(w[f][1]=KE(),Promise.resolve(E()).then(()=>{g({_c:yr})}),x){if(u)throw x;return}return _}}const mT=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},xG=(t,e)=>{if(!To.has(t)){const n=Ac(bG,e),r=Object.create(null),s=_5.bind(yr,t);let i=Xa;const o=Object.create(null),a=(u,d)=>{const h=o[u]||[];return o[u]=h,h.push(d),()=>h.splice(h.indexOf(d),1)},c=(u,d,h)=>{t.set(u,d);const f=o[u];if(f)for(const p of f)p(d,h)},l=()=>{if(!To.has(t)&&(To.set(t,[r,Object.create(null),Object.create(null),Object.create(null),s,c,a]),!Kp)){const u=n.initFocus(setTimeout.bind(yr,mT.bind(yr,r,m5))),d=n.initReconnect(setTimeout.bind(yr,mT.bind(yr,r,y5)));i=()=>{u&&u(),d&&d(),To.delete(t)}}};return l(),[t,s,l,i]}return[t,To.get(t)[4]]},SG=(t,e,n,r,s)=>{const i=n.errorRetryCount,o=s.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!rt(i)&&o>i||setTimeout(r,a,s)},AG=FE,[E5,IG]=xG(new Map),TG=Ac({onLoadingSlow:Xa,onSuccess:Xa,onError:Xa,onErrorRetry:SG,onDiscarded:Xa,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:gT?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:gT?5e3:3e3,compare:AG,isPaused:()=>!1,cache:E5,mutate:IG,fallback:{}},vG),NG=(t,e)=>{const n=Ac(t,e);if(e){const{use:r,fallback:s}=t,{use:i,fallback:o}=e;r&&i&&(n.use=r.concat(i)),s&&o&&(n.fallback=Ac(s,o))}return n},PG=F.createContext({}),kG="$inf$",C5=Hg&&window.__SWR_DEVTOOLS_USE__,OG=C5?window.__SWR_DEVTOOLS_USE__:[],RG=()=>{C5&&(window.__SWR_DEVTOOLS_REACT__=Us)},$G=t=>Hi(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],DG=()=>Ac(TG,F.useContext(PG)),jG=t=>(e,n,r)=>t(e,n&&((...i)=>{const[o]=VS(e),[,,,a]=To.get(E5);if(o.startsWith(kG))return n(...i);const c=a[o];return rt(c)?n(...i):(delete a[o],c)}),r),UG=OG.concat(jG),LG=t=>function(...n){const r=DG(),[s,i,o]=$G(n),a=NG(r,o);let c=t;const{use:l}=a,u=(l||[]).concat(UG);for(let d=u.length;d--;)c=u[d](c);return c(s,i||a.fetcher||null,a)},MG=(t,e,n)=>{const r=e[t]||(e[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s>=0&&(r[s]=r[r.length-1],r.pop())}};RG();const Mb=Us.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),Bb={dedupe:!0},BG=(t,e,n)=>{const{cache:r,compare:s,suspense:i,fallbackData:o,revalidateOnMount:a,revalidateIfStale:c,refreshInterval:l,refreshWhenHidden:u,refreshWhenOffline:d,keepPreviousData:h}=n,[f,p,g,y]=To.get(r),[w,b]=VS(t),v=F.useRef(!1),E=F.useRef(!1),_=F.useRef(w),x=F.useRef(e),S=F.useRef(n),T=()=>S.current,C=()=>T().isVisible()&&T().isOnline(),[O,R,L,z]=b5(r,w),M=F.useRef({}).current,A=rt(o)?rt(n.fallback)?yr:n.fallback[w]:o,I=(Ge,Je)=>{for(const Jt in M){const Rt=Jt;if(Rt==="data"){if(!s(Ge[Rt],Je[Rt])&&(!rt(Ge[Rt])||!s(Q,Je[Rt])))return!1}else if(Je[Rt]!==Ge[Rt])return!1}return!0},D=F.useMemo(()=>{const Ge=!w||!e?!1:rt(a)?T().isPaused()||i?!1:c!==!1:a,Je=an=>{const ur=Ac(an);return delete ur._k,Ge?{isValidating:!0,isLoading:!0,...ur}:ur},Jt=O(),Rt=z(),Kn=Je(Jt),Si=Jt===Rt?Kn:Je(Rt);let zt=Kn;return[()=>{const an=Je(O());return I(an,zt)?(zt.data=an.data,zt.isLoading=an.isLoading,zt.isValidating=an.isValidating,zt.error=an.error,zt):(zt=an,an)},()=>Si]},[r,w]),N=hG.useSyncExternalStore(F.useCallback(Ge=>L(w,(Je,Jt)=>{I(Jt,Je)||Ge()}),[r,w]),D[0],D[1]),k=!v.current,U=f[w]&&f[w].length>0,j=N.data,q=rt(j)?A&&v5(A)?Mb(A):A:j,K=N.error,H=F.useRef(q),Q=h?rt(j)?rt(H.current)?q:H.current:j:q,Z=U&&!rt(K)?!1:k&&!rt(a)?a:T().isPaused()?!1:i?rt(q)?!1:c:rt(q)||c,le=!!(w&&e&&k&&Z),Ce=rt(N.isValidating)?le:N.isValidating,Se=rt(N.isLoading)?le:N.isLoading,Oe=F.useCallback(async Ge=>{const Je=x.current;if(!w||!Je||E.current||T().isPaused())return!1;let Jt,Rt,Kn=!0;const Si=Ge||{},zt=!g[w]||!Si.dedupe,an=()=>pT?!E.current&&w===_.current&&v.current:w===_.current,ur={isValidating:!1,isLoading:!1},Zo=()=>{R(ur)},Xo=()=>{const kn=g[w];kn&&kn[1]===Rt&&delete g[w]},Ai={isValidating:!0};rt(O().data)&&(Ai.isLoading=!0);try{if(zt&&(R(Ai),n.loadingTimeout&&rt(O().data)&&setTimeout(()=>{Kn&&an()&&T().onLoadingSlow(w,n)},n.loadingTimeout),g[w]=[Je(b),KE()]),[Jt,Rt]=g[w],Jt=await Jt,zt&&setTimeout(Xo,n.dedupingInterval),!g[w]||g[w][1]!==Rt)return zt&&an()&&T().onDiscarded(w),!1;ur.error=yr;const kn=p[w];if(!rt(kn)&&(Rt<=kn[0]||Rt<=kn[1]||kn[1]===0))return Zo(),zt&&an()&&T().onDiscarded(w),!1;const Ar=O().data;ur.data=s(Ar,Jt)?Ar:Jt,zt&&an()&&T().onSuccess(Jt,w,n)}catch(kn){Xo();const Ar=T(),{shouldRetryOnError:Mc}=Ar;Ar.isPaused()||(ur.error=kn,zt&&an()&&(Ar.onError(kn,w,Ar),(Mc===!0||Hi(Mc)&&Mc(kn))&&(!T().revalidateOnFocus||!T().revalidateOnReconnect||C())&&Ar.onErrorRetry(kn,w,Ar,kh=>{const ea=f[w];ea&&ea[0]&&ea[0](hT,kh)},{retryCount:(Si.retryCount||0)+1,dedupe:!0})))}return Kn=!1,Zo(),!0},[w,r]),Mt=F.useCallback((...Ge)=>_5(r,_.current,...Ge),[]);if(jb(()=>{x.current=e,S.current=n,rt(j)||(H.current=j)}),jb(()=>{if(!w)return;const Ge=Oe.bind(yr,Bb);let Je=0;T().revalidateOnFocus&&(Je=Date.now()+T().focusThrottleInterval);const Rt=MG(w,f,(Kn,Si={})=>{if(Kn==m5){const zt=Date.now();T().revalidateOnFocus&&zt>Je&&C()&&(Je=zt+T().focusThrottleInterval,Ge())}else if(Kn==y5)T().revalidateOnReconnect&&C()&&Ge();else{if(Kn==w5)return Oe();if(Kn==hT)return Oe(Si)}});return E.current=!1,_.current=w,v.current=!0,R({_k:b}),Z&&(rt(q)||Kp?Ge():_G(Ge)),()=>{E.current=!0,Rt()}},[w]),jb(()=>{let Ge;function Je(){const Rt=Hi(l)?l(O().data):l;Rt&&Ge!==-1&&(Ge=setTimeout(Jt,Rt))}function Jt(){!O().error&&(u||T().isVisible())&&(d||T().isOnline())?Oe(Bb).then(Je):Je()}return Je(),()=>{Ge&&(clearTimeout(Ge),Ge=-1)}},[l,u,d,w]),F.useDebugValue(Q),i&&rt(q)&&w){if(!pT&&Kp)throw new Error("Fallback data is required when using Suspense in SSR.");x.current=e,S.current=n,E.current=!1;const Ge=y[w];if(!rt(Ge)){const Je=Mt(Ge);Mb(Je)}if(rt(K)){const Je=Oe(Bb);rt(Q)||(Je.status="fulfilled",Je.value=!0),Mb(Je)}else throw K}return{mutate:Mt,get data(){return M.data=!0,Q},get error(){return M.error=!0,K},get isValidating(){return M.isValidating=!0,Ce},get isLoading(){return M.isLoading=!0,Se}}},yT=LG(BG);class FG extends Error{constructor({message:e,status:n,data:r}){super(e),this.name="TwitterApiError",this.status=n,this.data=r}}const zG=yT.default||yT,qG="https://react-tweet.vercel.app";async function WG([t,e]){const n=await fetch(t,e),r=await n.json();if(n.ok)return r.data||null;throw new FG({message:`Failed to fetch tweet at "${t}" with "${n.status}".`,data:r,status:n.status})}const HG=(t,e,n)=>{const{isLoading:r,data:s,error:i}=zG(()=>e||t?[e||t&&`${qG}/api/tweet/${t}`,n]:null,WG,{revalidateIfStale:!1,revalidateOnFocus:!1,shouldRetryOnError:!1});return{isLoading:!!(r||s===void 0&&!i),data:s,error:i}},VG=({id:t,apiUrl:e,fallback:n=m.jsx(nG,{}),components:r,fetchOptions:s,onError:i})=>{const{data:o,error:a,isLoading:c}=HG(t,e,s);if(c)return n;if(a||!o){const l=(r==null?void 0:r.TweetNotFound)||QV;return m.jsx(l,{error:i?i(a):a})}return m.jsx(KV,{tweet:o,components:r})};var Vw={exports:{}},x5={},S5={exports:{}},GG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",KG=GG,YG=KG;function A5(){}function I5(){}I5.resetWarningCache=A5;var JG=function(){function t(r,s,i,o,a,c){if(c!==YG){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:I5,resetWarningCache:A5};return n.PropTypes=n,n};S5.exports=JG();var T5=S5.exports;function N5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=N5(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function wT(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=N5(t))&&(r&&(r+=" "),r+=e);return r}const QG=Object.freeze(Object.defineProperty({__proto__:null,clsx:wT,default:wT},Symbol.toStringTag,{value:"Module"})),ZG=mw(QG);var tn={},so={};Object.defineProperty(so,"__esModule",{value:!0});so.dontSetMe=rK;so.findInArray=XG;so.int=nK;so.isFunction=eK;so.isNum=tK;function XG(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function eK(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function tK(t){return typeof t=="number"&&!isNaN(t)}function nK(t){return parseInt(t,10)}function rK(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var au={};Object.defineProperty(au,"__esModule",{value:!0});au.browserPrefixToKey=k5;au.browserPrefixToStyle=sK;au.default=void 0;au.getPrefix=P5;const Fb=["Moz","Webkit","O","ms"];function P5(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<Fb.length;r++)if(k5(e,Fb[r])in n)return Fb[r];return""}function k5(t,e){return e?"".concat(e).concat(iK(t)):t}function sK(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function iK(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}au.default=P5();Object.defineProperty(tn,"__esModule",{value:!0});tn.addClassName=$5;tn.addEvent=cK;tn.addUserSelectStyles=vK;tn.createCSSTransform=gK;tn.createSVGTransform=mK;tn.getTouch=yK;tn.getTouchIdentifier=wK;tn.getTranslation=GS;tn.innerHeight=hK;tn.innerWidth=fK;tn.matchesSelector=R5;tn.matchesSelectorAndParentsTo=aK;tn.offsetXYFromParent=pK;tn.outerHeight=uK;tn.outerWidth=dK;tn.removeClassName=D5;tn.removeEvent=lK;tn.removeUserSelectStyles=bK;var ps=so,vT=oK(au);function O5(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(O5=function(r){return r?n:e})(t)}function oK(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=O5(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}let Hm="";function R5(t,e){return Hm||(Hm=(0,ps.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,ps.isFunction)(t[n])})),(0,ps.isFunction)(t[Hm])?t[Hm](e):!1}function aK(t,e,n){let r=t;do{if(R5(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function cK(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,s):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function lK(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,s):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function uK(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,ps.int)(n.borderTopWidth),e+=(0,ps.int)(n.borderBottomWidth),e}function dK(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,ps.int)(n.borderLeftWidth),e+=(0,ps.int)(n.borderRightWidth),e}function hK(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,ps.int)(n.paddingTop),e-=(0,ps.int)(n.paddingBottom),e}function fK(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,ps.int)(n.paddingLeft),e-=(0,ps.int)(n.paddingRight),e}function pK(t,e,n){const s=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),i=(t.clientX+e.scrollLeft-s.left)/n,o=(t.clientY+e.scrollTop-s.top)/n;return{x:i,y:o}}function gK(t,e){const n=GS(t,e,"px");return{[(0,vT.browserPrefixToKey)("transform",vT.default)]:n}}function mK(t,e){return GS(t,e,"")}function GS(t,e,n){let{x:r,y:s}=t,i="translate(".concat(r).concat(n,",").concat(s).concat(n,")");if(e){const o="".concat(typeof e.x=="string"?e.x:e.x+n),a="".concat(typeof e.y=="string"?e.y:e.y+n);i="translate(".concat(o,", ").concat(a,")")+i}return i}function yK(t,e){return t.targetTouches&&(0,ps.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,ps.findInArray)(t.changedTouches,n=>e===n.identifier)}function wK(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function vK(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&$5(t.body,"react-draggable-transparent-selection")}function bK(t){if(t)try{if(t.body&&D5(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function $5(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function D5(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var io={};Object.defineProperty(io,"__esModule",{value:!0});io.canDragX=CK;io.canDragY=xK;io.createCoreData=AK;io.createDraggableData=IK;io.getBoundPosition=_K;io.getControlPosition=SK;io.snapToGrid=EK;var ss=so,dd=tn;function _K(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:TK(r);const s=KS(t);if(typeof r=="string"){const{ownerDocument:i}=s,o=i.defaultView;let a;if(r==="parent"?a=s.parentNode:a=i.querySelector(r),!(a instanceof o.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const c=a,l=o.getComputedStyle(s),u=o.getComputedStyle(c);r={left:-s.offsetLeft+(0,ss.int)(u.paddingLeft)+(0,ss.int)(l.marginLeft),top:-s.offsetTop+(0,ss.int)(u.paddingTop)+(0,ss.int)(l.marginTop),right:(0,dd.innerWidth)(c)-(0,dd.outerWidth)(s)-s.offsetLeft+(0,ss.int)(u.paddingRight)-(0,ss.int)(l.marginRight),bottom:(0,dd.innerHeight)(c)-(0,dd.outerHeight)(s)-s.offsetTop+(0,ss.int)(u.paddingBottom)-(0,ss.int)(l.marginBottom)}}return(0,ss.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,ss.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,ss.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,ss.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function EK(t,e,n){const r=Math.round(e/t[0])*t[0],s=Math.round(n/t[1])*t[1];return[r,s]}function CK(t){return t.props.axis==="both"||t.props.axis==="x"}function xK(t){return t.props.axis==="both"||t.props.axis==="y"}function SK(t,e,n){const r=typeof e=="number"?(0,dd.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const s=KS(n),i=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,dd.offsetXYFromParent)(r||t,i,n.props.scale)}function AK(t,e,n){const r=!(0,ss.isNum)(t.lastX),s=KS(t);return r?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:s,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function IK(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function TK(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function KS(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var Gw={},Kw={};Object.defineProperty(Kw,"__esModule",{value:!0});Kw.default=NK;function NK(){}Object.defineProperty(Gw,"__esModule",{value:!0});Gw.default=void 0;var zb=kK(F),Ir=YS(T5),PK=YS(pS),Qn=tn,ia=io,qb=so,Wh=YS(Kw);function YS(t){return t&&t.__esModule?t:{default:t}}function j5(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(j5=function(r){return r?n:e})(t)}function kK(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=j5(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function hr(t,e,n){return e=OK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OK(t){var e=RK(t,"string");return typeof e=="symbol"?e:String(e)}function RK(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Xs={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let oa=Xs.mouse,Yw=class extends zb.Component{constructor(){super(...arguments),hr(this,"dragging",!1),hr(this,"lastX",NaN),hr(this,"lastY",NaN),hr(this,"touchIdentifier",null),hr(this,"mounted",!1),hr(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Qn.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,Qn.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const s=(0,Qn.getTouchIdentifier)(e);this.touchIdentifier=s;const i=(0,ia.getControlPosition)(e,s,this);if(i==null)return;const{x:o,y:a}=i,c=(0,ia.createCoreData)(this,o,a);(0,Wh.default)("DraggableCore: handleDragStart: %j",c),(0,Wh.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Qn.addUserSelectStyles)(r),this.dragging=!0,this.lastX=o,this.lastY=a,(0,Qn.addEvent)(r,oa.move,this.handleDrag),(0,Qn.addEvent)(r,oa.stop,this.handleDragStop))}),hr(this,"handleDrag",e=>{const n=(0,ia.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,c=s-this.lastY;if([a,c]=(0,ia.snapToGrid)(this.props.grid,a,c),!a&&!c)return;r=this.lastX+a,s=this.lastY+c}const i=(0,ia.createCoreData)(this,r,s);if((0,Wh.default)("DraggableCore: handleDrag: %j",i),this.props.onDrag(e,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=r,this.lastY=s}),hr(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,ia.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let c=r-this.lastX||0,l=s-this.lastY||0;[c,l]=(0,ia.snapToGrid)(this.props.grid,c,l),r=this.lastX+c,s=this.lastY+l}const i=(0,ia.createCoreData)(this,r,s);if(this.props.onStop(e,i)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Qn.removeUserSelectStyles)(a.ownerDocument),(0,Wh.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,Wh.default)("DraggableCore: Removing handlers"),(0,Qn.removeEvent)(a.ownerDocument,oa.move,this.handleDrag),(0,Qn.removeEvent)(a.ownerDocument,oa.stop,this.handleDragStop))}),hr(this,"onMouseDown",e=>(oa=Xs.mouse,this.handleDragStart(e))),hr(this,"onMouseUp",e=>(oa=Xs.mouse,this.handleDragStop(e))),hr(this,"onTouchStart",e=>(oa=Xs.touch,this.handleDragStart(e))),hr(this,"onTouchEnd",e=>(oa=Xs.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Qn.addEvent)(e,Xs.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,Qn.removeEvent)(n,Xs.mouse.move,this.handleDrag),(0,Qn.removeEvent)(n,Xs.touch.move,this.handleDrag),(0,Qn.removeEvent)(n,Xs.mouse.stop,this.handleDragStop),(0,Qn.removeEvent)(n,Xs.touch.stop,this.handleDragStop),(0,Qn.removeEvent)(e,Xs.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Qn.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:PK.default.findDOMNode(this)}render(){return zb.cloneElement(zb.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Gw.default=Yw;hr(Yw,"displayName","DraggableCore");hr(Yw,"propTypes",{allowAnyClick:Ir.default.bool,children:Ir.default.node.isRequired,disabled:Ir.default.bool,enableUserSelectHack:Ir.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Ir.default.arrayOf(Ir.default.number),handle:Ir.default.string,cancel:Ir.default.string,nodeRef:Ir.default.object,onStart:Ir.default.func,onDrag:Ir.default.func,onStop:Ir.default.func,onMouseDown:Ir.default.func,scale:Ir.default.number,className:qb.dontSetMe,style:qb.dontSetMe,transform:qb.dontSetMe});hr(Yw,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var e=h(F),n=u(T5),r=u(pS),s=u(ZG),i=tn,o=io,a=so,c=u(Gw),l=u(Kw);function u(b){return b&&b.__esModule?b:{default:b}}function d(b){if(typeof WeakMap!="function")return null;var v=new WeakMap,E=new WeakMap;return(d=function(_){return _?E:v})(b)}function h(b,v){if(b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var E=d(v);if(E&&E.has(b))return E.get(b);var _={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in b)if(S!=="default"&&Object.prototype.hasOwnProperty.call(b,S)){var T=x?Object.getOwnPropertyDescriptor(b,S):null;T&&(T.get||T.set)?Object.defineProperty(_,S,T):_[S]=b[S]}return _.default=b,E&&E.set(b,_),_}function f(){return f=Object.assign?Object.assign.bind():function(b){for(var v=1;v<arguments.length;v++){var E=arguments[v];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(b[_]=E[_])}return b},f.apply(this,arguments)}function p(b,v,E){return v=g(v),v in b?Object.defineProperty(b,v,{value:E,enumerable:!0,configurable:!0,writable:!0}):b[v]=E,b}function g(b){var v=y(b,"string");return typeof v=="symbol"?v:String(v)}function y(b,v){if(typeof b!="object"||b===null)return b;var E=b[Symbol.toPrimitive];if(E!==void 0){var _=E.call(b,v);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(b)}class w extends e.Component{static getDerivedStateFromProps(v,E){let{position:_}=v,{prevPropsPosition:x}=E;return _&&(!x||_.x!==x.x||_.y!==x.y)?((0,l.default)("Draggable: getDerivedStateFromProps %j",{position:_,prevPropsPosition:x}),{x:_.x,y:_.y,prevPropsPosition:{..._}}):null}constructor(v){super(v),p(this,"onDragStart",(E,_)=>{if((0,l.default)("Draggable: onDragStart: %j",_),this.props.onStart(E,(0,o.createDraggableData)(this,_))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),p(this,"onDrag",(E,_)=>{if(!this.state.dragging)return!1;(0,l.default)("Draggable: onDrag: %j",_);const x=(0,o.createDraggableData)(this,_),S={x:x.x,y:x.y,slackX:0,slackY:0};if(this.props.bounds){const{x:C,y:O}=S;S.x+=this.state.slackX,S.y+=this.state.slackY;const[R,L]=(0,o.getBoundPosition)(this,S.x,S.y);S.x=R,S.y=L,S.slackX=this.state.slackX+(C-S.x),S.slackY=this.state.slackY+(O-S.y),x.x=S.x,x.y=S.y,x.deltaX=S.x-this.state.x,x.deltaY=S.y-this.state.y}if(this.props.onDrag(E,x)===!1)return!1;this.setState(S)}),p(this,"onDragStop",(E,_)=>{if(!this.state.dragging||this.props.onStop(E,(0,o.createDraggableData)(this,_))===!1)return!1;(0,l.default)("Draggable: onDragStop: %j",_);const S={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:C,y:O}=this.props.position;S.x=C,S.y=O}this.setState(S)}),this.state={dragging:!1,dragged:!1,x:v.position?v.position.x:v.defaultPosition.x,y:v.position?v.position.y:v.defaultPosition.y,prevPropsPosition:{...v.position},slackX:0,slackY:0,isElementSVG:!1},v.position&&!(v.onDrag||v.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var v,E;return(v=(E=this.props)===null||E===void 0||(E=E.nodeRef)===null||E===void 0?void 0:E.current)!==null&&v!==void 0?v:r.default.findDOMNode(this)}render(){const{axis:v,bounds:E,children:_,defaultPosition:x,defaultClassName:S,defaultClassNameDragging:T,defaultClassNameDragged:C,position:O,positionOffset:R,scale:L,...z}=this.props;let M={},A=null;const D=!!!O||this.state.dragging,N=O||x,k={x:(0,o.canDragX)(this)&&D?this.state.x:N.x,y:(0,o.canDragY)(this)&&D?this.state.y:N.y};this.state.isElementSVG?A=(0,i.createSVGTransform)(k,R):M=(0,i.createCSSTransform)(k,R);const U=(0,s.default)(_.props.className||"",S,{[T]:this.state.dragging,[C]:this.state.dragged});return e.createElement(c.default,f({},z,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(_),{className:U,style:{..._.props.style,...M},transform:A}))}}t.default=w,p(w,"displayName","Draggable"),p(w,"propTypes",{...c.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),p(w,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(x5);const{default:U5,DraggableCore:$K}=x5;Vw.exports=U5;Vw.exports.default=U5;Vw.exports.DraggableCore=$K;var DK=Vw.exports;const Vg=ru(DK);function Vt(){return Vt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vt.apply(null,arguments)}function L5(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var M5={exports:{}},bt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pn=typeof Symbol=="function"&&Symbol.for,JS=Pn?Symbol.for("react.element"):60103,QS=Pn?Symbol.for("react.portal"):60106,Jw=Pn?Symbol.for("react.fragment"):60107,Qw=Pn?Symbol.for("react.strict_mode"):60108,Zw=Pn?Symbol.for("react.profiler"):60114,Xw=Pn?Symbol.for("react.provider"):60109,ev=Pn?Symbol.for("react.context"):60110,ZS=Pn?Symbol.for("react.async_mode"):60111,tv=Pn?Symbol.for("react.concurrent_mode"):60111,nv=Pn?Symbol.for("react.forward_ref"):60112,rv=Pn?Symbol.for("react.suspense"):60113,jK=Pn?Symbol.for("react.suspense_list"):60120,sv=Pn?Symbol.for("react.memo"):60115,iv=Pn?Symbol.for("react.lazy"):60116,UK=Pn?Symbol.for("react.block"):60121,LK=Pn?Symbol.for("react.fundamental"):60117,MK=Pn?Symbol.for("react.responder"):60118,BK=Pn?Symbol.for("react.scope"):60119;function bs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case JS:switch(t=t.type,t){case ZS:case tv:case Jw:case Zw:case Qw:case rv:return t;default:switch(t=t&&t.$$typeof,t){case ev:case nv:case iv:case sv:case Xw:return t;default:return e}}case QS:return e}}}function B5(t){return bs(t)===tv}bt.AsyncMode=ZS;bt.ConcurrentMode=tv;bt.ContextConsumer=ev;bt.ContextProvider=Xw;bt.Element=JS;bt.ForwardRef=nv;bt.Fragment=Jw;bt.Lazy=iv;bt.Memo=sv;bt.Portal=QS;bt.Profiler=Zw;bt.StrictMode=Qw;bt.Suspense=rv;bt.isAsyncMode=function(t){return B5(t)||bs(t)===ZS};bt.isConcurrentMode=B5;bt.isContextConsumer=function(t){return bs(t)===ev};bt.isContextProvider=function(t){return bs(t)===Xw};bt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===JS};bt.isForwardRef=function(t){return bs(t)===nv};bt.isFragment=function(t){return bs(t)===Jw};bt.isLazy=function(t){return bs(t)===iv};bt.isMemo=function(t){return bs(t)===sv};bt.isPortal=function(t){return bs(t)===QS};bt.isProfiler=function(t){return bs(t)===Zw};bt.isStrictMode=function(t){return bs(t)===Qw};bt.isSuspense=function(t){return bs(t)===rv};bt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Jw||t===tv||t===Zw||t===Qw||t===rv||t===jK||typeof t=="object"&&t!==null&&(t.$$typeof===iv||t.$$typeof===sv||t.$$typeof===Xw||t.$$typeof===ev||t.$$typeof===nv||t.$$typeof===LK||t.$$typeof===MK||t.$$typeof===BK||t.$$typeof===UK)};bt.typeOf=bs;M5.exports=bt;var FK=M5.exports,XS=FK,zK={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},qK={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},WK={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},F5={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},eA={};eA[XS.ForwardRef]=WK;eA[XS.Memo]=F5;function bT(t){return XS.isMemo(t)?F5:eA[t.$$typeof]||zK}var HK=Object.defineProperty,VK=Object.getOwnPropertyNames,_T=Object.getOwnPropertySymbols,GK=Object.getOwnPropertyDescriptor,KK=Object.getPrototypeOf,ET=Object.prototype;function z5(t,e,n){if(typeof e!="string"){if(ET){var r=KK(e);r&&r!==ET&&z5(t,r,n)}var s=VK(e);_T&&(s=s.concat(_T(e)));for(var i=bT(t),o=bT(e),a=0;a<s.length;++a){var c=s[a];if(!qK[c]&&!(n&&n[c])&&!(o&&o[c])&&!(i&&i[c])){var l=GK(e,c);try{HK(t,c,l)}catch{}}}}return t}var YK=z5;const JK=ru(YK);var q5={};Object.defineProperty(q5,"__esModule",{value:!0});q5.default=QK;function QK(t){return t.displayName||t.name||(typeof t=="string"&&t.length>0?t:"Unknown")}function Vm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B0(){return B0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B0.apply(this,arguments)}function ZK(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function aa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XK(t){var e=function(n){ZK(r,n);function r(){for(var i,o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return i=n.call.apply(n,[this].concat(a))||this,Vm(aa(aa(i)),"cachedTheme",void 0),Vm(aa(aa(i)),"lastOuterTheme",void 0),Vm(aa(aa(i)),"lastTheme",void 0),Vm(aa(aa(i)),"renderProvider",function(l){var u=i.props.children;return Us.createElement(t.Provider,{value:i.getTheme(l)},u)}),i}var s=r.prototype;return s.getTheme=function(o){if(this.props.theme!==this.lastTheme||o!==this.lastOuterTheme||!this.cachedTheme)if(this.lastOuterTheme=o,this.lastTheme=this.props.theme,typeof this.lastTheme=="function"){var a=this.props.theme;this.cachedTheme=a(o)}else{var c=this.props.theme;this.cachedTheme=o?B0({},o,c):c}return this.cachedTheme},s.render=function(){var o=this.props.children;return o?Us.createElement(t.Consumer,null,this.renderProvider):null},r}(Us.Component);return e}function eY(t){return function(n){var r=Us.forwardRef(function(s,i){return Us.createElement(t.Consumer,null,function(o){return Us.createElement(n,B0({theme:o,ref:i},s))})});return JK(r,n),r}}function tY(t){var e=function(){var r=Us.useContext(t);return r};return e}function nY(t){return{context:t,withTheme:eY(t),useTheme:tY(t),ThemeProvider:XK(t)}}var W5=F.createContext();nY(W5);var CT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yh=(typeof window>"u"?"undefined":CT(window))==="object"&&(typeof document>"u"?"undefined":CT(document))==="object"&&document.nodeType===9;function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function rY(t,e){if(Yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function sY(t){var e=rY(t,"string");return Yp(e)=="symbol"?e:e+""}function iY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sY(r.key),r)}}function tA(t,e,n){return e&&iY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YE(t,e){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},YE(t,e)}function H5(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,YE(t,e)}function xT(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var oY={}.constructor;function JE(t){if(t==null||typeof t!="object")return t;if(Array.isArray(t))return t.map(JE);if(t.constructor!==oY)return t;var e={};for(var n in t)e[n]=JE(t[n]);return e}function ov(t,e,n){t===void 0&&(t="unnamed");var r=n.jss,s=JE(e),i=r.plugins.onCreateRule(t,s,n);return i||(t[0],null)}var ST=function(e,n){for(var r="",s=0;s<e.length&&e[s]!=="!important";s++)r&&(r+=n),r+=e[s];return r},Pl=function(e){if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&e[r]!=="!important";r++)n&&(n+=", "),n+=ST(e[r]," ");else n=ST(e,", ");return e[e.length-1]==="!important"&&(n+=" !important"),n};function wh(t){return t&&t.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function Hh(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function Jp(t,e,n){n===void 0&&(n={});var r="";if(!e)return r;var s=n,i=s.indent,o=i===void 0?0:i,a=e.fallbacks;n.format===!1&&(o=-1/0);var c=wh(n),l=c.linebreak,u=c.space;if(t&&o++,a)if(Array.isArray(a))for(var d=0;d<a.length;d++){var h=a[d];for(var f in h){var p=h[f];p!=null&&(r&&(r+=l),r+=Hh(f+":"+u+Pl(p)+";",o))}}else for(var g in a){var y=a[g];y!=null&&(r&&(r+=l),r+=Hh(g+":"+u+Pl(y)+";",o))}for(var w in e){var b=e[w];b!=null&&w!=="fallbacks"&&(r&&(r+=l),r+=Hh(w+":"+u+Pl(b)+";",o))}return!r&&!n.allowEmpty||!t?r:(o--,r&&(r=""+l+r+l),Hh(""+t+u+"{"+r,o)+Hh("}",o))}var aY=/([[\].#*$><+~=|^:(),"'`\s])/g,AT=typeof CSS<"u"&&CSS.escape,nA=function(t){return AT?AT(t):t.replace(aY,"\\$1")},V5=function(){function t(n,r,s){this.type="style",this.isProcessed=!1;var i=s.sheet,o=s.Renderer;this.key=n,this.options=s,this.style=r,i?this.renderer=i.renderer:o&&(this.renderer=new o)}var e=t.prototype;return e.prop=function(r,s,i){if(s===void 0)return this.style[r];var o=i?i.force:!1;if(!o&&this.style[r]===s)return this;var a=s;(!i||i.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(s,r,this));var c=a==null||a===!1,l=r in this.style;if(c&&!l&&!o)return this;var u=c&&l;if(u?delete this.style[r]:this.style[r]=a,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,a),this;var d=this.options.sheet;return d&&d.attached,this},t}(),QE=function(t){H5(e,t);function e(r,s,i){var o;o=t.call(this,r,s,i)||this;var a=i.selector,c=i.scoped,l=i.sheet,u=i.generateId;return a?o.selectorText=a:c!==!1&&(o.id=u(xT(xT(o)),l),o.selectorText="."+nA(o.id)),o}var n=e.prototype;return n.applyTo=function(s){var i=this.renderer;if(i){var o=this.toJSON();for(var a in o)i.setProperty(s,a,o[a])}return this},n.toJSON=function(){var s={};for(var i in this.style){var o=this.style[i];typeof o!="object"?s[i]=o:Array.isArray(o)&&(s[i]=Pl(o))}return s},n.toString=function(s){var i=this.options.sheet,o=i?i.options.link:!1,a=o?Vt({},s,{allowEmpty:!0}):s;return Jp(this.selectorText,this.style,a)},tA(e,[{key:"selector",set:function(s){if(s!==this.selectorText){this.selectorText=s;var i=this.renderer,o=this.renderable;if(!(!o||!i)){var a=i.setSelector(o,s);a||i.replaceRule(o,this)}}},get:function(){return this.selectorText}}]),e}(V5),cY={onCreateRule:function(e,n,r){return e[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new QE(e,n,r)}},Wb={indent:1,children:!0},lY=/@([\w-]+)/,uY=function(){function t(n,r,s){this.type="conditional",this.isProcessed=!1,this.key=n;var i=n.match(lY);this.at=i?i[1]:"unknown",this.query=s.name||"@"+this.at,this.options=s,this.rules=new av(Vt({},s,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.indexOf=function(r){return this.rules.indexOf(r)},e.addRule=function(r,s,i){var o=this.rules.add(r,s,i);return o?(this.options.jss.plugins.onProcessRule(o),o):null},e.replaceRule=function(r,s,i){var o=this.rules.replace(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.toString=function(r){r===void 0&&(r=Wb);var s=wh(r),i=s.linebreak;if(r.indent==null&&(r.indent=Wb.indent),r.children==null&&(r.children=Wb.children),r.children===!1)return this.query+" {}";var o=this.rules.toString(r);return o?this.query+" {"+i+o+i+"}":""},t}(),dY=/@container|@media|@supports\s+/,hY={onCreateRule:function(e,n,r){return dY.test(e)?new uY(e,n,r):null}},Hb={indent:1,children:!0},fY=/@keyframes\s+([\w-]+)/,ZE=function(){function t(n,r,s){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=n.match(fY);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=s;var o=s.scoped,a=s.sheet,c=s.generateId;this.id=o===!1?this.name:nA(c(this,a)),this.rules=new av(Vt({},s,{parent:this}));for(var l in r)this.rules.add(l,r[l],Vt({},s,{parent:this}));this.rules.process()}var e=t.prototype;return e.toString=function(r){r===void 0&&(r=Hb);var s=wh(r),i=s.linebreak;if(r.indent==null&&(r.indent=Hb.indent),r.children==null&&(r.children=Hb.children),r.children===!1)return this.at+" "+this.id+" {}";var o=this.rules.toString(r);return o&&(o=""+i+o+i),this.at+" "+this.id+" {"+o+"}"},t}(),pY=/@keyframes\s+/,gY=/\$([\w-]+)/g,XE=function(e,n){return typeof e=="string"?e.replace(gY,function(r,s){return s in n?n[s]:r}):e},IT=function(e,n,r){var s=e[n],i=XE(s,r);i!==s&&(e[n]=i)},mY={onCreateRule:function(e,n,r){return typeof e=="string"&&pY.test(e)?new ZE(e,n,r):null},onProcessStyle:function(e,n,r){return n.type!=="style"||!r||("animation-name"in e&&IT(e,"animation-name",r.keyframes),"animation"in e&&IT(e,"animation",r.keyframes)),e},onChangeValue:function(e,n,r){var s=r.options.sheet;if(!s)return e;switch(n){case"animation":return XE(e,s.keyframes);case"animation-name":return XE(e,s.keyframes);default:return e}}},yY=function(t){H5(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.toString=function(s){var i=this.options.sheet,o=i?i.options.link:!1,a=o?Vt({},s,{allowEmpty:!0}):s;return Jp(this.key,this.style,a)},e}(V5),wY={onCreateRule:function(e,n,r){return r.parent&&r.parent.type==="keyframes"?new yY(e,n,r):null}},vY=function(){function t(n,r,s){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=s}var e=t.prototype;return e.toString=function(r){var s=wh(r),i=s.linebreak;if(Array.isArray(this.style)){for(var o="",a=0;a<this.style.length;a++)o+=Jp(this.at,this.style[a]),this.style[a+1]&&(o+=i);return o}return Jp(this.at,this.style,r)},t}(),bY=/@font-face/,_Y={onCreateRule:function(e,n,r){return bY.test(e)?new vY(e,n,r):null}},EY=function(){function t(n,r,s){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=s}var e=t.prototype;return e.toString=function(r){return Jp(this.key,this.style,r)},t}(),CY={onCreateRule:function(e,n,r){return e==="@viewport"||e==="@-ms-viewport"?new EY(e,n,r):null}},xY=function(){function t(n,r,s){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=s}var e=t.prototype;return e.toString=function(r){if(Array.isArray(this.value)){for(var s="",i=0;i<this.value.length;i++)s+=this.key+" "+this.value[i]+";",this.value[i+1]&&(s+=`
`);return s}return this.key+" "+this.value+";"},t}(),SY={"@charset":!0,"@import":!0,"@namespace":!0},AY={onCreateRule:function(e,n,r){return e in SY?new xY(e,n,r):null}},TT=[cY,hY,mY,wY,_Y,CY,AY],IY={process:!0},NT={force:!0,process:!0},av=function(){function t(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var e=t.prototype;return e.add=function(r,s,i){var o=this.options,a=o.parent,c=o.sheet,l=o.jss,u=o.Renderer,d=o.generateId,h=o.scoped,f=Vt({classes:this.classes,parent:a,sheet:c,jss:l,Renderer:u,generateId:d,scoped:h,name:r,keyframes:this.keyframes,selector:void 0},i),p=r;r in this.raw&&(p=r+"-d"+this.counter++),this.raw[p]=s,p in this.classes&&(f.selector="."+nA(this.classes[p]));var g=ov(p,s,f);if(!g)return null;this.register(g);var y=f.index===void 0?this.index.length:f.index;return this.index.splice(y,0,g),g},e.replace=function(r,s,i){var o=this.get(r),a=this.index.indexOf(o);o&&this.remove(o);var c=i;return a!==-1&&(c=Vt({},i,{index:a})),this.add(r,s,c)},e.get=function(r){return this.map[r]},e.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},e.indexOf=function(r){return this.index.indexOf(r)},e.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},e.register=function(r){this.map[r.key]=r,r instanceof QE?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof ZE&&this.keyframes&&(this.keyframes[r.name]=r.id)},e.unregister=function(r){delete this.map[r.key],r instanceof QE?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof ZE&&delete this.keyframes[r.name]},e.update=function(){var r,s,i;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],s=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2]):(s=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),s,i);else for(var o=0;o<this.index.length;o++)this.updateOne(this.index[o],s,i)},e.updateOne=function(r,s,i){i===void 0&&(i=IY);var o=this.options,a=o.jss.plugins,c=o.sheet;if(r.rules instanceof t){r.rules.update(s,i);return}var l=r.style;if(a.onUpdate(s,r,c,i),i.process&&l&&l!==r.style){a.onProcessStyle(r.style,r,c);for(var u in r.style){var d=r.style[u],h=l[u];d!==h&&r.prop(u,d,NT)}for(var f in l){var p=r.style[f],g=l[f];p==null&&p!==g&&r.prop(f,null,NT)}}},e.toString=function(r){for(var s="",i=this.options.sheet,o=i?i.options.link:!1,a=wh(r),c=a.linebreak,l=0;l<this.index.length;l++){var u=this.index[l],d=u.toString(r);!d&&!o||(s&&(s+=c),s+=d)}return s},t}(),G5=function(){function t(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Vt({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new av(this.options);for(var s in n)this.rules.add(s,n[s]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(r,s,i){var o=this.queue;this.attached&&!o&&(this.queue=[]);var a=this.rules.add(r,s,i);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(o?o.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},e.replaceRule=function(r,s,i){var o=this.rules.get(r);if(!o)return this.addRule(r,s,i);var a=this.rules.replace(r,s,i);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?o.renderable&&this.renderer.replaceRule(o.renderable,a):this.renderer.deleteRule(o)),a):(this.deployed=!1,a)},e.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},e.addRules=function(r,s){var i=[];for(var o in r){var a=this.addRule(o,r[o],s);a&&i.push(a)}return i},e.getRule=function(r){return this.rules.get(r)},e.deleteRule=function(r){var s=typeof r=="object"?r:this.rules.get(r);return!s||this.attached&&!s.renderable?!1:(this.rules.remove(s),this.attached&&s.renderable&&this.renderer?this.renderer.deleteRule(s.renderable):!0)},e.indexOf=function(r){return this.rules.indexOf(r)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},e.updateOne=function(r,s,i){return this.rules.updateOne(r,s,i),this},e.toString=function(r){return this.rules.toString(r)},t}(),TY=function(){function t(){this.plugins={internal:[],external:[]},this.registry={}}var e=t.prototype;return e.onCreateRule=function(r,s,i){for(var o=0;o<this.registry.onCreateRule.length;o++){var a=this.registry.onCreateRule[o](r,s,i);if(a)return a}return null},e.onProcessRule=function(r){if(!r.isProcessed){for(var s=r.options.sheet,i=0;i<this.registry.onProcessRule.length;i++)this.registry.onProcessRule[i](r,s);r.style&&this.onProcessStyle(r.style,r,s),r.isProcessed=!0}},e.onProcessStyle=function(r,s,i){for(var o=0;o<this.registry.onProcessStyle.length;o++)s.style=this.registry.onProcessStyle[o](s.style,s,i)},e.onProcessSheet=function(r){for(var s=0;s<this.registry.onProcessSheet.length;s++)this.registry.onProcessSheet[s](r)},e.onUpdate=function(r,s,i,o){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](r,s,i,o)},e.onChangeValue=function(r,s,i){for(var o=r,a=0;a<this.registry.onChangeValue.length;a++)o=this.registry.onChangeValue[a](o,s,i);return o},e.use=function(r,s){s===void 0&&(s={queue:"external"});var i=this.plugins[s.queue];i.indexOf(r)===-1&&(i.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(o,a){for(var c in a)c in o&&o[c].push(a[c]);return o},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),NY=function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(r){var s=this.registry,i=r.options.index;if(s.indexOf(r)===-1){if(s.length===0||i>=this.index){s.push(r);return}for(var o=0;o<s.length;o++)if(s[o].options.index>i){s.splice(o,0,r);return}}},e.reset=function(){this.registry=[]},e.remove=function(r){var s=this.registry.indexOf(r);this.registry.splice(s,1)},e.toString=function(r){for(var s=r===void 0?{}:r,i=s.attached,o=L5(s,["attached"]),a=wh(o),c=a.linebreak,l="",u=0;u<this.registry.length;u++){var d=this.registry[u];i!=null&&d.attached!==i||(l&&(l+=c),l+=d.toString(o))}return l},tA(t,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),t}(),Ff=new NY,eC=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),tC="2f1acc6c3a606b082e5eef5e54414ffb";eC[tC]==null&&(eC[tC]=0);var PT=eC[tC]++,kT=function(e){e===void 0&&(e={});var n=0,r=function(i,o){n+=1;var a="",c="";return o&&(o.options.classNamePrefix&&(c=o.options.classNamePrefix),o.options.jss.id!=null&&(a=String(o.options.jss.id))),e.minify?""+(c||"c")+PT+a+n:c+i.key+"-"+PT+(a?"-"+a:"")+"-"+n};return r},K5=function(e){var n;return function(){return n||(n=e()),n}},PY=function(e,n){try{return e.attributeStyleMap?e.attributeStyleMap.get(n):e.style.getPropertyValue(n)}catch{return""}},kY=function(e,n,r){try{var s=r;if(Array.isArray(r)&&(s=Pl(r)),e.attributeStyleMap)e.attributeStyleMap.set(n,s);else{var i=s?s.indexOf("!important"):-1,o=i>-1?s.substr(0,i-1):s;e.style.setProperty(n,o,i>-1?"important":"")}}catch{return!1}return!0},OY=function(e,n){try{e.attributeStyleMap?e.attributeStyleMap.delete(n):e.style.removeProperty(n)}catch{}},RY=function(e,n){return e.selectorText=n,e.selectorText===n},Y5=K5(function(){return document.querySelector("head")});function $Y(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}function DY(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}function jY(t){for(var e=Y5(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===t)return r}return null}function UY(t){var e=Ff.registry;if(e.length>0){var n=$Y(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=DY(e,t),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&typeof r=="string"){var s=jY(r);if(s)return{parent:s.parentNode,node:s.nextSibling}}return!1}function LY(t,e){var n=e.insertionPoint,r=UY(e);if(r!==!1&&r.parent){r.parent.insertBefore(t,r.node);return}if(n&&typeof n.nodeType=="number"){var s=n,i=s.parentNode;i&&i.insertBefore(t,s.nextSibling);return}Y5().appendChild(t)}var MY=K5(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),OT=function(e,n,r){try{"insertRule"in e?e.insertRule(n,r):"appendRule"in e&&e.appendRule(n)}catch{return!1}return e.cssRules[r]},RT=function(e,n){var r=e.cssRules.length;return n===void 0||n>r?r:n},BY=function(){var e=document.createElement("style");return e.textContent=`
`,e},FY=function(){function t(n){this.getPropertyValue=PY,this.setProperty=kY,this.removeProperty=OY,this.setSelector=RY,this.hasInsertedRules=!1,this.cssRules=[],n&&Ff.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},s=r.media,i=r.meta,o=r.element;this.element=o||BY(),this.element.setAttribute("data-jss",""),s&&this.element.setAttribute("media",s),i&&this.element.setAttribute("data-meta",i);var a=MY();a&&this.element.setAttribute("nonce",a)}var e=t.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){LY(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},e.insertRules=function(r,s){for(var i=0;i<r.index.length;i++)this.insertRule(r.index[i],i,s)},e.insertRule=function(r,s,i){if(i===void 0&&(i=this.element.sheet),r.rules){var o=r,a=i;if(r.type==="conditional"||r.type==="keyframes"){var c=RT(i,s);if(a=OT(i,o.toString({children:!1}),c),a===!1)return!1;this.refCssRule(r,c,a)}return this.insertRules(o.rules,a),a}var l=r.toString();if(!l)return!1;var u=RT(i,s),d=OT(i,l,u);return d===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,u,d),d)},e.refCssRule=function(r,s,i){r.renderable=i,r.options.parent instanceof G5&&this.cssRules.splice(s,0,i)},e.deleteRule=function(r){var s=this.element.sheet,i=this.indexOf(r);return i===-1?!1:(s.deleteRule(i),this.cssRules.splice(i,1),!0)},e.indexOf=function(r){return this.cssRules.indexOf(r)},e.replaceRule=function(r,s){var i=this.indexOf(r);return i===-1?!1:(this.element.sheet.deleteRule(i),this.cssRules.splice(i,1),this.insertRule(s,i))},e.getRules=function(){return this.element.sheet.cssRules},t}(),zY=0,qY=function(){function t(n){this.id=zY++,this.version="10.10.0",this.plugins=new TY,this.options={id:{minify:!1},createGenerateId:kT,Renderer:yh?FY:null,plugins:[]},this.generateId=kT({minify:!1});for(var r=0;r<TT.length;r++)this.plugins.use(TT[r],{queue:"internal"});this.setup(n)}var e=t.prototype;return e.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=Vt({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},e.createStyleSheet=function(r,s){s===void 0&&(s={});var i=s,o=i.index;typeof o!="number"&&(o=Ff.index===0?0:Ff.index+1);var a=new G5(r,Vt({},s,{jss:this,generateId:s.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:o}));return this.plugins.onProcessSheet(a),a},e.removeStyleSheet=function(r){return r.detach(),Ff.remove(r),this},e.createRule=function(r,s,i){if(s===void 0&&(s={}),i===void 0&&(i={}),typeof r=="object")return this.createRule(void 0,r,s);var o=Vt({},i,{name:r,jss:this,Renderer:this.options.Renderer});o.generateId||(o.generateId=this.generateId),o.classes||(o.classes={}),o.keyframes||(o.keyframes={});var a=ov(r,s,o);return a&&this.plugins.onProcessRule(a),a},e.use=function(){for(var r=this,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return i.forEach(function(a){r.plugins.use(a)}),this},t}(),J5=function(e){return new qY(e)},$T=function(){function t(){this.length=0,this.sheets=new WeakMap}var e=t.prototype;return e.get=function(r){var s=this.sheets.get(r);return s&&s.sheet},e.add=function(r,s){this.sheets.has(r)||(this.length++,this.sheets.set(r,{sheet:s,refs:0}))},e.manage=function(r){var s=this.sheets.get(r);if(s)return s.refs===0&&s.sheet.attach(),s.refs++,s.sheet},e.unmanage=function(r){var s=this.sheets.get(r);s&&s.refs>0&&(s.refs--,s.refs===0&&s.sheet.detach())},tA(t,[{key:"size",get:function(){return this.length}}]),t}(),rA=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function Q5(t){var e=null;for(var n in t){var r=t[n],s=typeof r;if(s==="function")e||(e={}),e[n]=r;else if(s==="object"&&r!==null&&!Array.isArray(r)){var i=Q5(r);i&&(e||(e={}),e[n]=i)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */J5();var Z5=Date.now(),Vb="fnValues"+Z5,Gb="fnStyle"+ ++Z5,WY=function(){return{onCreateRule:function(n,r,s){if(typeof r!="function")return null;var i=ov(n,{},s);return i[Gb]=r,i},onProcessStyle:function(n,r){if(Vb in r||Gb in r)return n;var s={};for(var i in n){var o=n[i];typeof o=="function"&&(delete n[i],s[i]=o)}return r[Vb]=s,n},onUpdate:function(n,r,s,i){var o=r,a=o[Gb];a&&(o.style=a(n)||{});var c=o[Vb];if(c)for(var l in c)o.prop(l,c[l](n),i)}}};function HY(t){var e,n=t.Symbol;return typeof n=="function"?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var Gu;typeof self<"u"?Gu=self:typeof window<"u"?Gu=window:typeof global<"u"?Gu=global:typeof module<"u"?Gu=module:Gu=Function("return this")();var DT=HY(Gu),jT=function(e){return e&&e[DT]&&e===e[DT]()},VY=function(e){return{onCreateRule:function(r,s,i){if(!jT(s))return null;var o=s,a=ov(r,{},i);return o.subscribe(function(c){for(var l in c)a.prop(l,c[l],e)}),a},onProcessRule:function(r){if(!(r&&r.type!=="style")){var s=r,i=s.style,o=function(u){var d=i[u];if(!jT(d))return"continue";delete i[u],d.subscribe({next:function(f){s.prop(u,f,e)}})};for(var a in i)var c=o(a)}}}},GY=/;\n/,KY=function(e){for(var n={},r=e.split(GY),s=0;s<r.length;s++){var i=(r[s]||"").trim();if(i){var o=i.indexOf(":");if(o!==-1){var a=i.substr(0,o).trim(),c=i.substr(o+1).trim();n[a]=c}}}return n},YY=function(e){typeof e.style=="string"&&(e.style=KY(e.style))};function JY(){return{onProcessRule:YY}}var gc="@global",nC="@global ",QY=function(){function t(n,r,s){this.type="global",this.at=gc,this.isProcessed=!1,this.key=n,this.options=s,this.rules=new av(Vt({},s,{parent:this}));for(var i in r)this.rules.add(i,r[i]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.addRule=function(r,s,i){var o=this.rules.add(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.replaceRule=function(r,s,i){var o=this.rules.replace(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.indexOf=function(r){return this.rules.indexOf(r)},e.toString=function(r){return this.rules.toString(r)},t}(),ZY=function(){function t(n,r,s){this.type="global",this.at=gc,this.isProcessed=!1,this.key=n,this.options=s;var i=n.substr(nC.length);this.rule=s.jss.createRule(i,r,Vt({},s,{parent:this}))}var e=t.prototype;return e.toString=function(r){return this.rule?this.rule.toString(r):""},t}(),XY=/\s*,\s*/g;function X5(t,e){for(var n=t.split(XY),r="",s=0;s<n.length;s++)r+=e+" "+n[s].trim(),n[s+1]&&(r+=", ");return r}function eJ(t,e){var n=t.options,r=t.style,s=r?r[gc]:null;if(s){for(var i in s)e.addRule(i,s[i],Vt({},n,{selector:X5(i,t.selector)}));delete r[gc]}}function tJ(t,e){var n=t.options,r=t.style;for(var s in r)if(!(s[0]!=="@"||s.substr(0,gc.length)!==gc)){var i=X5(s.substr(gc.length),t.selector);e.addRule(i,r[s],Vt({},n,{selector:i})),delete r[s]}}function nJ(){function t(n,r,s){if(!n)return null;if(n===gc)return new QY(n,r,s);if(n[0]==="@"&&n.substr(0,nC.length)===nC)return new ZY(n,r,s);var i=s.parent;return i&&(i.type==="global"||i.options.parent&&i.options.parent.type==="global")&&(s.scoped=!1),!s.selector&&s.scoped===!1&&(s.selector=n),null}function e(n,r){n.type!=="style"||!r||(eJ(n,r),tJ(n,r))}return{onCreateRule:t,onProcessRule:e}}var Wy=function(e){return e&&typeof e=="object"&&!Array.isArray(e)},Kb="extendCurrValue"+Date.now();function rJ(t,e,n,r){var s=typeof t.extend;if(s==="string"){if(!n)return;var i=n.getRule(t.extend);if(!i||i===e)return;var o=i.options.parent;if(o){var a=o.rules.raw[t.extend];hl(a,e,n,r)}return}if(Array.isArray(t.extend)){for(var c=0;c<t.extend.length;c++){var l=t.extend[c],u=typeof l=="string"?Vt({},t,{extend:l}):t.extend[c];hl(u,e,n,r)}return}for(var d in t.extend){if(d==="extend"){hl(t.extend.extend,e,n,r);continue}if(Wy(t.extend[d])){d in r||(r[d]={}),hl(t.extend[d],e,n,r[d]);continue}r[d]=t.extend[d]}}function sJ(t,e,n,r){for(var s in t)if(s!=="extend"){if(Wy(r[s])&&Wy(t[s])){hl(t[s],e,n,r[s]);continue}if(Wy(t[s])){r[s]=hl(t[s],e,n);continue}r[s]=t[s]}}function hl(t,e,n,r){return r===void 0&&(r={}),rJ(t,e,n,r),sJ(t,e,n,r),r}function iJ(){function t(n,r,s){return"extend"in n?hl(n,r,s):n}function e(n,r,s){if(r!=="extend")return n;if(n==null||n===!1){for(var i in s[Kb])s.prop(i,null);return s[Kb]=null,null}if(typeof n=="object"){for(var o in n)s.prop(o,n[o]);s[Kb]=n}return null}return{onProcessStyle:t,onChangeValue:e}}var UT=/\s*,\s*/g,oJ=/&/g,aJ=/\$([\w-]+)/g;function cJ(){function t(s,i){return function(o,a){var c=s.getRule(a)||i&&i.getRule(a);return c?c.selector:a}}function e(s,i){for(var o=i.split(UT),a=s.split(UT),c="",l=0;l<o.length;l++)for(var u=o[l],d=0;d<a.length;d++){var h=a[d];c&&(c+=", "),c+=h.indexOf("&")!==-1?h.replace(oJ,u):u+" "+h}return c}function n(s,i,o){if(o)return Vt({},o,{index:o.index+1});var a=s.options.nestingLevel;a=a===void 0?1:a+1;var c=Vt({},s.options,{nestingLevel:a,index:i.indexOf(s)+1});return delete c.name,c}function r(s,i,o){if(i.type!=="style")return s;var a=i,c=a.options.parent,l,u;for(var d in s){var h=d.indexOf("&")!==-1,f=d[0]==="@";if(!(!h&&!f)){if(l=n(a,c,l),h){var p=e(d,a.selector);u||(u=t(c,o)),p=p.replace(aJ,u);var g=a.key+"-"+d;"replaceRule"in c?c.replaceRule(g,s[d],Vt({},l,{selector:p})):c.addRule(g,s[d],Vt({},l,{selector:p}))}else f&&c.addRule(d,{},l).addRule(a.key,s[d],{selector:a.selector});delete s[d]}}return s}return{onProcessStyle:r}}function rC(t,e){if(!e)return!0;if(Array.isArray(e)){for(var n=0;n<e.length;n++){var r=rC(t,e[n]);if(!r)return!1}return!0}if(e.indexOf(" ")>-1)return rC(t,e.split(" "));var s=t.options.parent;if(e[0]==="$"){var i=s.getRule(e.substr(1));return!i||i===t?!1:(s.classes[t.key]+=" "+s.classes[i.key],!0)}return s.classes[t.key]+=" "+e,!0}function lJ(){function t(e,n){return"composes"in e&&(rC(n,e.composes),delete e.composes),e}return{onProcessStyle:t}}var uJ=/[A-Z]/g,dJ=/^ms-/,Yb={};function hJ(t){return"-"+t.toLowerCase()}function e8(t){if(Yb.hasOwnProperty(t))return Yb[t];var e=t.replace(uJ,hJ);return Yb[t]=dJ.test(e)?"-"+e:e}function F0(t){var e={};for(var n in t){var r=n.indexOf("--")===0?n:e8(n);e[r]=t[n]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(F0):e.fallbacks=F0(t.fallbacks)),e}function fJ(){function t(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=F0(n[r]);return n}return F0(n)}function e(n,r,s){if(r.indexOf("--")===0)return n;var i=e8(r);return r===i?n:(s.prop(i,n),null)}return{onProcessStyle:t,onChangeValue:e}}var Y=rA&&CSS?CSS.px:"px",Gm=rA&&CSS?CSS.ms:"ms",_u=rA&&CSS?CSS.percent:"%",pJ={"animation-delay":Gm,"animation-duration":Gm,"background-position":Y,"background-position-x":Y,"background-position-y":Y,"background-size":Y,border:Y,"border-bottom":Y,"border-bottom-left-radius":Y,"border-bottom-right-radius":Y,"border-bottom-width":Y,"border-left":Y,"border-left-width":Y,"border-radius":Y,"border-right":Y,"border-right-width":Y,"border-top":Y,"border-top-left-radius":Y,"border-top-right-radius":Y,"border-top-width":Y,"border-width":Y,"border-block":Y,"border-block-end":Y,"border-block-end-width":Y,"border-block-start":Y,"border-block-start-width":Y,"border-block-width":Y,"border-inline":Y,"border-inline-end":Y,"border-inline-end-width":Y,"border-inline-start":Y,"border-inline-start-width":Y,"border-inline-width":Y,"border-start-start-radius":Y,"border-start-end-radius":Y,"border-end-start-radius":Y,"border-end-end-radius":Y,margin:Y,"margin-bottom":Y,"margin-left":Y,"margin-right":Y,"margin-top":Y,"margin-block":Y,"margin-block-end":Y,"margin-block-start":Y,"margin-inline":Y,"margin-inline-end":Y,"margin-inline-start":Y,padding:Y,"padding-bottom":Y,"padding-left":Y,"padding-right":Y,"padding-top":Y,"padding-block":Y,"padding-block-end":Y,"padding-block-start":Y,"padding-inline":Y,"padding-inline-end":Y,"padding-inline-start":Y,"mask-position-x":Y,"mask-position-y":Y,"mask-size":Y,height:Y,width:Y,"min-height":Y,"max-height":Y,"min-width":Y,"max-width":Y,bottom:Y,left:Y,top:Y,right:Y,inset:Y,"inset-block":Y,"inset-block-end":Y,"inset-block-start":Y,"inset-inline":Y,"inset-inline-end":Y,"inset-inline-start":Y,"box-shadow":Y,"text-shadow":Y,"column-gap":Y,"column-rule":Y,"column-rule-width":Y,"column-width":Y,"font-size":Y,"font-size-delta":Y,"letter-spacing":Y,"text-decoration-thickness":Y,"text-indent":Y,"text-stroke":Y,"text-stroke-width":Y,"word-spacing":Y,motion:Y,"motion-offset":Y,outline:Y,"outline-offset":Y,"outline-width":Y,perspective:Y,"perspective-origin-x":_u,"perspective-origin-y":_u,"transform-origin":_u,"transform-origin-x":_u,"transform-origin-y":_u,"transform-origin-z":_u,"transition-delay":Gm,"transition-duration":Gm,"vertical-align":Y,"flex-basis":Y,"shape-margin":Y,size:Y,gap:Y,grid:Y,"grid-gap":Y,"row-gap":Y,"grid-row-gap":Y,"grid-column-gap":Y,"grid-template-rows":Y,"grid-template-columns":Y,"grid-auto-rows":Y,"grid-auto-columns":Y,"box-shadow-x":Y,"box-shadow-y":Y,"box-shadow-blur":Y,"box-shadow-spread":Y,"font-line-height":Y,"text-shadow-x":Y,"text-shadow-y":Y,"text-shadow-blur":Y};function t8(t){var e=/(-[a-z])/g,n=function(o){return o[1].toUpperCase()},r={};for(var s in t)r[s]=t[s],r[s.replace(e,n)]=t[s];return r}var gJ=t8(pJ);function zf(t,e,n){if(e==null)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=zf(t,e[r],n);else if(typeof e=="object")if(t==="fallbacks")for(var s in e)e[s]=zf(s,e[s],n);else for(var i in e)e[i]=zf(t+"-"+i,e[i],n);else if(typeof e=="number"&&isNaN(e)===!1){var o=n[t]||gJ[t];return o&&!(e===0&&o===Y)?typeof o=="function"?o(e).toString():""+e+o:e.toString()}return e}function mJ(t){t===void 0&&(t={});var e=t8(t);function n(s,i){if(i.type!=="style")return s;for(var o in s)s[o]=zf(o,s[o],e);return s}function r(s,i){return zf(i,s,e)}return{onProcessStyle:n,onChangeValue:r}}var yJ={"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},wJ={position:!0,size:!0},Km={padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},Jb={border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function vJ(t,e,n){return t.map(function(r){return r8(r,e,n,!1,!0)})}function n8(t,e,n,r){return n[e]==null?t:t.length===0?[]:Array.isArray(t[0])?n8(t[0],e,n,r):typeof t[0]=="object"?vJ(t,e,r):[t]}function r8(t,e,n,r,s){if(!(Km[e]||Jb[e]))return[];var i=[];if(Jb[e]&&(t=bJ(t,n,Jb[e],r)),Object.keys(t).length)for(var o in Km[e]){if(t[o]){Array.isArray(t[o])?i.push(wJ[o]===null?t[o]:t[o].join(" ")):i.push(t[o]);continue}Km[e][o]!=null&&i.push(Km[e][o])}return!i.length||s?i:[i]}function bJ(t,e,n,r){for(var s in n){var i=n[s];if(typeof t[s]<"u"&&(r||!e.prop(i))){var o,a=Qp((o={},o[i]=t[s],o),e)[i];r?e.style.fallbacks[i]=a:e.style[i]=a}delete t[s]}return t}function Qp(t,e,n){for(var r in t){var s=t[r];if(Array.isArray(s)){if(!Array.isArray(s[0])){if(r==="fallbacks"){for(var i=0;i<t.fallbacks.length;i++)t.fallbacks[i]=Qp(t.fallbacks[i],e,!0);continue}t[r]=n8(s,r,yJ,e),t[r].length||delete t[r]}}else if(typeof s=="object"){if(r==="fallbacks"){t.fallbacks=Qp(t.fallbacks,e,!0);continue}t[r]=r8(s,r,e,n),t[r].length||delete t[r]}else t[r]===""&&delete t[r]}return t}function _J(){function t(e,n){if(!e||n.type!=="style")return e;if(Array.isArray(e)){for(var r=0;r<e.length;r++)e[r]=Qp(e[r],n);return e}return Qp(e,n)}return{onProcessStyle:t}}function sC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function EJ(t){if(Array.isArray(t))return sC(t)}function CJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xJ(t,e){if(t){if(typeof t=="string")return sC(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sC(t,e):void 0}}function SJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AJ(t){return EJ(t)||CJ(t)||xJ(t)||SJ()}var vf="",iC="",s8="",i8="",IJ=yh&&"ontouchstart"in document.documentElement;if(yh){var Qb={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},TJ=document.createElement("p"),Zb=TJ.style,NJ="Transform";for(var Xb in Qb)if(Xb+NJ in Zb){vf=Xb,iC=Qb[Xb];break}vf==="Webkit"&&"msHyphens"in Zb&&(vf="ms",iC=Qb.ms,i8="edge"),vf==="Webkit"&&"-apple-trailing-word"in Zb&&(s8="apple")}var ze={js:vf,css:iC,vendor:s8,browser:i8,isTouch:IJ};function PJ(t){return t[1]==="-"||ze.js==="ms"?t:"@"+ze.css+"keyframes"+t.substr(10)}var kJ={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:ze.js==="ms"?"-webkit-"+e:ze.css+e}},OJ={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:ze.js==="Webkit"?ze.css+"print-"+e:e}},RJ=/[-\s]+(.)?/g;function $J(t,e){return e?e.toUpperCase():""}function sA(t){return t.replace(RJ,$J)}function Ic(t){return sA("-"+t)}var DJ={noPrefill:["mask"],supportedProperty:function(e,n){if(!/^mask/.test(e))return!1;if(ze.js==="Webkit"){var r="mask-image";if(sA(r)in n)return e;if(ze.js+Ic(r)in n)return ze.css+e}return e}},jJ={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:ze.vendor==="apple"&&!ze.isTouch?ze.css+e:e}},UJ={noPrefill:["transform"],supportedProperty:function(e,n,r){return e!=="transform"?!1:r.transform?e:ze.css+e}},LJ={noPrefill:["transition"],supportedProperty:function(e,n,r){return e!=="transition"?!1:r.transition?e:ze.css+e}},MJ={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:ze.js==="Webkit"||ze.js==="ms"&&ze.browser!=="edge"?ze.css+e:e}},BJ={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:ze.js==="Moz"||ze.js==="ms"||ze.vendor==="apple"?ze.css+e:e}},FJ={supportedProperty:function(e,n){if(!/^break-/.test(e))return!1;if(ze.js==="Webkit"){var r="WebkitColumn"+Ic(e);return r in n?ze.css+"column-"+e:!1}if(ze.js==="Moz"){var s="page"+Ic(e);return s in n?"page-"+e:!1}return!1}},zJ={supportedProperty:function(e,n){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(ze.js==="Moz")return e;var r=e.replace("-inline","");return ze.js+Ic(r)in n?ze.css+r:!1}},qJ={supportedProperty:function(e,n){return sA(e)in n?e:!1}},WJ={supportedProperty:function(e,n){var r=Ic(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:ze.js+r in n?ze.css+e:ze.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+e:!1}},HJ={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:ze.js==="ms"?""+ze.css+e:e}},VJ={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:ze.js==="ms"?ze.css+"scroll-chaining":e}},GJ={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},KJ={supportedProperty:function(e,n){var r=GJ[e];return r&&ze.js+Ic(r)in n?ze.css+r:!1}},o8={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},YJ=Object.keys(o8),JJ=function(e){return ze.css+e},QJ={supportedProperty:function(e,n,r){var s=r.multiple;if(YJ.indexOf(e)>-1){var i=o8[e];if(!Array.isArray(i))return ze.js+Ic(i)in n?ze.css+i:!1;if(!s)return!1;for(var o=0;o<i.length;o++)if(!(ze.js+Ic(i[0])in n))return!1;return i.map(JJ)}return!1}},a8=[kJ,OJ,DJ,jJ,UJ,LJ,MJ,BJ,FJ,zJ,qJ,WJ,HJ,VJ,KJ,QJ],LT=a8.filter(function(t){return t.supportedProperty}).map(function(t){return t.supportedProperty}),ZJ=a8.filter(function(t){return t.noPrefill}).reduce(function(t,e){return t.push.apply(t,AJ(e.noPrefill)),t},[]),bf,nl={};if(yh){bf=document.createElement("p");var e1=window.getComputedStyle(document.documentElement,"");for(var t1 in e1)isNaN(t1)||(nl[e1[t1]]=e1[t1]);ZJ.forEach(function(t){return delete nl[t]})}function oC(t,e){if(e===void 0&&(e={}),!bf)return t;if(nl[t]!=null)return nl[t];(t==="transition"||t==="transform")&&(e[t]=t in bf.style);for(var n=0;n<LT.length&&(nl[t]=LT[n](t,bf.style,e),!nl[t]);n++);try{bf.style[t]=""}catch{return!1}return nl[t]}var Eu={},XJ={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},eQ=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Ea;function tQ(t,e,n){if(e==="var")return"var";if(e==="all")return"all";if(n==="all")return", all";var r=e?oC(e):", "+oC(n);return r||e||n}yh&&(Ea=document.createElement("p"));function MT(t,e){var n=e;if(!Ea||t==="content")return e;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=t+n;if(Eu[r]!=null)return Eu[r];try{Ea.style[t]=n}catch{return Eu[r]=!1,!1}if(XJ[t])n=n.replace(eQ,tQ);else if(Ea.style[t]===""&&(n=ze.css+n,n==="-ms-flex"&&(Ea.style[t]="-ms-flexbox"),Ea.style[t]=n,Ea.style[t]===""))return Eu[r]=!1,!1;return Ea.style[t]="",Eu[r]=n,Eu[r]}function nQ(){function t(s){if(s.type==="keyframes"){var i=s;i.at=PJ(i.at)}}function e(s){for(var i in s){var o=s[i];if(i==="fallbacks"&&Array.isArray(o)){s[i]=o.map(e);continue}var a=!1,c=oC(i);c&&c!==i&&(a=!0);var l=!1,u=MT(c,Pl(o));u&&u!==o&&(l=!0),(a||l)&&(a&&delete s[i],s[c||i]=u||o)}return s}function n(s,i){return i.type!=="style"?s:e(s)}function r(s,i){return MT(i,Pl(s))||s}return{onProcessRule:t,onProcessStyle:n,onChangeValue:r}}function rQ(){var t=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var s={},i=Object.keys(n).sort(t),o=0;o<i.length;o++)s[i[o]]=n[i[o]];return s}}}var sQ=function(e){return e===void 0&&(e={}),{plugins:[WY(),VY(e.observable),JY(),nJ(),iJ(),cJ(),lJ(),fJ(),mJ(e.defaultUnit),_J(),nQ(),rQ()]}},iQ=Number.MIN_SAFE_INTEGER||-1e9,oQ=function(){return iQ++},aQ=F.createContext({classNamePrefix:"",disableStylesGeneration:!1,isSSR:!yh}),BT=new Map,iA=function(e,n){var r=e.managers;if(r)return r[n]||(r[n]=new $T),r[n];var s=BT.get(n);return s||(s=new $T,BT.set(n,s)),s},FT=function(e){var n=e.sheet,r=e.context,s=e.index,i=e.theme;if(n){var o=iA(r,s);o.manage(i),r.registry&&r.registry.add(n)}},cQ=function(e){if(e.sheet){var n=iA(e.context,e.index);n.unmanage(e.theme)}},lQ=J5(sQ()),c8=new WeakMap,l8=function(e){return c8.get(e)},uQ=function(e,n){c8.set(e,n)},dQ=function(e){var n=e.styles;return typeof n!="function"?n:n(e.theme)};function hQ(t,e){var n;t.context.id&&t.context.id.minify!=null&&(n=t.context.id.minify);var r=t.context.classNamePrefix||"";t.name&&!n&&(r+=t.name.replace(/\s/g,"-")+"-");var s="";return t.name&&(s=t.name+", "),s+=typeof t.styles=="function"?"Themed":"Unthemed",Vt({},t.sheetOptions,{index:t.index,meta:s,classNamePrefix:r,link:e,generateId:t.sheetOptions&&t.sheetOptions.generateId?t.sheetOptions.generateId:t.context.generateId})}var fQ=function(e){if(!e.context.disableStylesGeneration){var n=iA(e.context,e.index),r=n.get(e.theme);if(r)return r;var s=e.context.jss||lQ,i=dQ(e),o=Q5(i),a=s.createStyleSheet(i,hQ(e,o!==null));return uQ(a,{dynamicStyles:o,styles:i}),n.add(e.theme,a),a}},pQ=function(e,n){for(var r in n)e.deleteRule(n[r])},gQ=function(e,n,r){for(var s in r)n.updateOne(r[s],e)},mQ=function(e,n){var r=l8(e);if(r){var s={};for(var i in r.dynamicStyles)for(var o=e.rules.index.length,a=e.addRule(i,r.dynamicStyles[i]),c=o;c<e.rules.index.length;c++){var l=e.rules.index[c];e.updateOne(l,n),s[a===l?i:l.key]=l}return s}},yQ=function(e,n){if(!n)return e.classes;var r=l8(e);if(!r)return e.classes;var s={};for(var i in r.styles)s[i]=e.classes[i],i in n&&(s[i]+=" "+e.classes[n[i].key]);return s};function zT(t){return t?F.useEffect:Us.useInsertionEffect||F.useLayoutEffect}var n1={},Ws=function(e,n){n===void 0&&(n={});var r=n,s=r.index,i=s===void 0?oQ():s,o=r.theming,a=r.name,c=L5(r,["index","theming","name"]),l=o&&o.context||W5,u=function(f){return typeof e=="function"&&(f||F.useContext(l))||n1},d={};return function(f){var p=F.useRef(!0),g=F.useContext(aQ),y=u(f&&f.theme),w=F.useMemo(function(){var _=fQ({context:g,styles:e,name:a,theme:y,index:i,sheetOptions:c});return _&&g.isSSR&&FT({index:i,context:g,sheet:_,theme:y}),[_,_?mQ(_,f):null]},[g,y]),b=w[0],v=w[1];zT(g.isSSR)(function(){b&&v&&!p.current&&gQ(f,b,v)},[f]),zT(g.isSSR)(function(){return b&&FT({index:i,context:g,sheet:b,theme:y}),function(){b&&(cQ({index:i,context:g,sheet:b,theme:y}),v&&pQ(b,v))}},[b]);var E=F.useMemo(function(){return b&&v?yQ(b,v):d},[b,v]);return F.useDebugValue(E),F.useDebugValue(y===n1?"No theme":y),F.useEffect(function(){p.current=!1}),E}};const wQ=Ws({icon:{position:"absolute",width:"80px",textAlign:"center",cursor:"pointer",zIndex:3e3,userSelect:"none",pointerEvents:"auto"},iconImage:{width:"48px",height:"48px",display:"block",margin:"0 auto"},iconLabel:{display:"block",background:"#c0c0c0",color:"#000",fontSize:"12px",padding:"2px 4px",marginTop:"2px",border:"1px outset #fff"}});function r1({image:t,label:e,action:n,url:r,popupId:s,folderId:i,isInFolder:o=!1,position:a,onDrag:c,onClick:l}){const u=wQ(),d=F.useRef(null),h=p=>{p.stopPropagation(),p.preventDefault(),l(n,s,r,i)},f=m.jsxs("div",{ref:d,className:u.icon,onClick:h,style:{position:o?"relative":"absolute",zIndex:3e3,left:!o&&a?a.x:void 0,top:!o&&a?a.y:void 0},children:[m.jsx("img",{src:t,alt:e,className:u.iconImage}),m.jsx("span",{className:u.iconLabel,children:e})]});return o?f:m.jsx(Vg,{nodeRef:d,position:a,onDrag:c,bounds:"parent",children:f})}const vQ=Ws({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"600px",height:"480px",minWidth:"360px",minHeight:"240px",top:"calc(50vh - 240px)",left:"calc(50vw - 300px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto"},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"15px",height:"calc(100% - 30px)",overflow:"auto"}});function Ts({id:t,isOpen:e,onClose:n,onMinimize:r,children:s,title:i,initialPosition:o,initialSize:a,zIndex:c}){const l=vQ({isOpen:e}),u=F.useRef(null),d=()=>{r&&r(t)};return m.jsx(Vg,{nodeRef:u,handle:`.${l.header}`,defaultPosition:o,children:m.jsxs("div",{ref:u,className:l.popup,style:{width:a==null?void 0:a.width,height:a==null?void 0:a.height,zIndex:c||100},children:[m.jsxs("div",{className:l.header,children:[m.jsx("span",{children:i||t.replace("-popup","")}),m.jsxs("div",{className:l.titleBarButtons,children:[m.jsx("button",{className:l.titleBarButton,onClick:d,title:"Minimize",children:"_"}),m.jsx("button",{className:l.titleBarButton,onClick:n,title:"Close",children:""})]})]}),m.jsx("div",{className:l.content,children:s})]})})}const s1=[{id:"evm-folder",image:"/assets/evmfolder.png",label:"EVM NFTs",action:"folder",folderId:"evm-folder",row:0,col:3},{id:"sol-folder",image:"/assets/solfolder.png",label:"SOL NFTs",action:"folder",folderId:"sol-folder",row:1,col:3},{id:"wallet",image:"/assets/wallet.png",label:"Wallet",action:"wallet",row:0,col:0},{id:"mint",image:"/assets/mint.gif",label:"Mint",action:"mint",row:0,col:1},{id:"gallery",image:"/assets/lawbstarz.gif",label:"NFT Gallery",action:"nft-gallery",row:0,col:2},{id:"meme-generator",image:"/assets/meme.gif",label:"Meme Generator",action:"meme-generator",row:0,col:4},{id:"chess",image:"/assets/chess.svg",label:"Chess",action:"chess",row:0,col:5},{id:"purity",image:"/assets/purityfinance.png",label:"Purity",action:"popup",popupId:"purity-popup",row:1,col:0},{id:"lawbshop",image:"/assets/lawbshop.png",label:"Lawb.Shop",action:"url",url:"https://store.fun/lawbshop",row:1,col:1},{id:"lawbstarz",image:"/assets/lawbstarz.gif",label:"Lawbstarz",action:"popup",popupId:"lawbstarz-popup",row:-1,col:-1},{id:"lawbsters",image:"/assets/lawbsters.gif",label:"Lawbsters",action:"popup",popupId:"lawbsters-popup",row:-1,col:-1},{id:"halloween",image:"/assets/lawbsterhalloween.gif",label:"Halloween",action:"popup",popupId:"halloween-popup",row:-1,col:-1},{id:"pixelawbs",image:"/assets/pixelawb.png",label:"Pixelawbs",action:"popup",popupId:"pixelawbs-popup",row:-1,col:-1},{id:"lawbstation",image:"/assets/lawbstation.GIF",label:"Lawbstation",action:"popup",popupId:"lawbstation-popup",row:-1,col:-1},{id:"nexus",image:"/assets/nexus.gif",label:"Nexus",action:"popup",popupId:"nexus-popup",row:-1,col:-1},{id:"chat",image:"/assets/miladychan.png",label:"Chat",action:"popup",popupId:"chat-popup",row:3,col:0},{id:"lawb",image:"/assets/lawbticker.gif",label:"$LAWB",action:"popup",popupId:"lawb-popup",row:3,col:2}],bQ=80,_Q=80,EQ=10,CQ=10,xQ=10,SQ=10,AQ=({onIconClick:t})=>{const e=s1.filter(l=>l.row>=0&&l.col>=0),n=()=>{const l={};let u=0,d=0;return e.forEach(h=>{l[h.id]={x:xQ+d*(bQ+EQ),y:SQ+u*(_Q+CQ)},u++,u>=4&&(u=0,d++)}),l},[r,s]=F.useState(n()),[i,o]=F.useState({}),a=(l,u)=>{s(d=>({...d,[l]:{x:u.x,y:u.y}}))},c=(l,u,d,h)=>{if(l==="folder"&&h){o(f=>({...f,[h]:!0}));return}t(l,u,d)};return m.jsx("div",{style:{position:"relative",width:"100vw",height:"100vh",background:"url('/assets/background.gif') no-repeat center center fixed",backgroundSize:"cover",overflow:"hidden"},children:m.jsxs("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 60px)",padding:"10px",zIndex:10,overflow:"visible"},children:[e.map(l=>m.jsx(r1,{image:l.image,label:l.label,action:l.action,url:l.url,popupId:l.popupId,folderId:l.folderId,position:r[l.id],onDrag:(u,d)=>a(l.id,d),onClick:c},l.id)),i["evm-folder"]&&m.jsx(Ts,{id:"evm-folder",isOpen:!0,onClose:()=>o(l=>({...l,"evm-folder":!1})),onMinimize:()=>o(l=>({...l,"evm-folder":!1})),zIndex:3001,children:m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(96px, 1fr))",gap:24,padding:32,justifyItems:"center",alignItems:"center",minHeight:"100%"},children:s1.filter(l=>["lawbsters","lawbstarz","halloween","pixelawbs"].includes(l.id)).map(l=>m.jsx(r1,{image:l.image,label:l.label,action:l.action,popupId:l.popupId,folderId:l.folderId,onClick:c,isInFolder:!0},l.id))})}),i["sol-folder"]&&m.jsx(Ts,{id:"sol-folder",isOpen:!0,onClose:()=>o(l=>({...l,"sol-folder":!1})),onMinimize:()=>o(l=>({...l,"sol-folder":!1})),zIndex:3001,children:m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(96px, 1fr))",gap:24,padding:32,justifyItems:"center",alignItems:"center",minHeight:"100%"},children:s1.filter(l=>["lawbstation","nexus"].includes(l.id)).map(l=>m.jsx(r1,{image:l.image,label:l.label,action:l.action,popupId:l.popupId,folderId:l.folderId,onClick:c,isInFolder:!0},l.id))})})]})})},IQ=Ws({taskbar:{position:"fixed",left:0,bottom:0,width:"100vw",height:40,background:"#c0c0c0",borderTop:"2px outset #fff",display:"flex",alignItems:"center",justifyContent:"space-between",zIndex:200},leftSection:{display:"flex",alignItems:"center"},rightSection:{display:"flex",alignItems:"center",marginRight:"5px",height:"100%"},statusSection:{display:"flex",alignItems:"center",padding:"0 8px",marginRight:"4px",border:"2px inset #fff",height:"calc(100% - 8px)"},menuBtn:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer"},menu:{position:"absolute",bottom:"45px",left:"5px",background:"#c0c0c0",border:"2px outset #fff",padding:"5px",display:({isOpen:t})=>t?"block":"none",zIndex:9999,maxHeight:"300px",overflowY:"auto"},menuLink:{display:"block",padding:"4px 12px",color:"#000",textDecoration:"none",background:"#c0c0c0",border:"2px outset #fff",marginBottom:"1px",cursor:"pointer",fontSize:"12px","&:hover":{background:"#d0d0d0",border:"2px inset #fff"},"&:active":{border:"2px inset #c0c0c0"}},minimizedWindow:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:"12px"},clock:{padding:"5px 10px",background:"#c0c0c0",border:"2px inset #fff",fontSize:"12px",fontFamily:"monospace",height:"calc(100% - 8px)",display:"flex",alignItems:"center"},windows:{display:"flex",alignItems:"center"},windowButton:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer"}}),TQ=({minimizedWindows:t,onRestoreWindow:e,walletButton:n,connectionStatus:r})=>{const[s,i]=F.useState(!1),[o,a]=F.useState(new Date),c=IQ({isOpen:s});F.useEffect(()=>{const h=window.setInterval(()=>{a(new Date)},1e3);return()=>window.clearInterval(h)},[]);const l=h=>h.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),u=()=>{i(!s)},d=()=>{i(!1)};return m.jsxs("div",{className:c.taskbar,children:[m.jsxs("div",{className:c.leftSection,children:[m.jsx("button",{className:c.menuBtn,onClick:u,children:"Menu"}),m.jsx("div",{className:c.windows,children:t.map(h=>m.jsx("button",{className:c.windowButton,onClick:()=>e(h),children:h.replace("-popup","").replace("-"," ").toUpperCase()},h))})]}),m.jsxs("div",{className:c.rightSection,children:[m.jsxs("div",{className:c.statusSection,children:[m.jsx("div",{style:{display:"flex",alignItems:"center",gap:4,fontSize:12},children:m.jsx("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",background:r.connected?"limegreen":"red",marginRight:4,border:"1px solid #222"}})}),n]}),m.jsx("div",{className:c.clock,children:l(o)})]}),s&&m.jsxs("div",{className:c.menu,children:[m.jsx("a",{href:"https://dexscreener.com/solana/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Dexscreener"}),m.jsx("a",{href:"https://x.com/lawbstation",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"LawbStation Twitter"}),m.jsx("a",{href:"https://x.com/lawbnexus",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"LawbNexus Twitter"}),m.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/info/",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"NFTX - Lawbsters"}),m.jsx("a",{href:"https://uwu.pro/memoji/ulawb",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"UwU LAWB"}),m.jsx("a",{href:"https://t.me/lawblawblawb",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Telegram"}),m.jsx("a",{href:"https://discord.gg/JdkzUHYmMy",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Discord"}),m.jsx("a",{href:"https://store.fun/lawbshop",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Lawb.Shop"})]})]})};async function u8(t){const e="https://api.scatter.art/v1",n="pixelawbs";try{console.log(`Getting eligible invite lists for collection: ${n}`);const r=await fetch(`${e}/collection/${n}/eligible-invite-lists?minterAddress=${t}`);if(console.log("Response status:",r.status),r.ok){const s=await r.json();return console.log("Lists found:",s),s}else return console.log("Failed to get lists:",r.status,r.statusText),[]}catch(r){return console.log("Error getting lists:",r),[]}}async function oA(t,e=1,n=50,r){let i=`https://api.scatter.art/v1/collection/${t}/nfts?page=${e}&pageSize=${n}&sortBy=recent&sortOrder=desc`;r&&(i+=`&ownerAddress=${r}`);try{const o=await fetch(i);if(o.ok)return await o.json();throw new Error(`Failed to get NFTs: ${o.statusText}`)}catch(o){throw console.error("Error getting collection NFTs:",o),o}}async function d8(t,e){const i=await fetch("https://api.scatter.art/v1/mint",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({collectionAddress:"0x2d278e95b2fC67D4b27a276807e24E479D9707F6",chainId:1,minterAddress:t,lists:e})}),o=await i.json();if(!i.ok)throw console.error("Scatter API Error:",JSON.stringify(o,null,2)),new Error(o.message||"Minting failed");return{success:!0,mintTransaction:o.mintTransaction,erc20s:o.erc20s}}async function aA(t,e=50,n){const r="030a5ee582f64b8ab3a598ab2b97d85f";let s=`https://api.opensea.io/api/v2/collection/${t}/nfts?limit=${e}`;n&&console.warn("Owner filtering is not supported for OpenSea collections in this view.");try{const i=await fetch(s,{headers:{"X-API-KEY":r}});if(!i.ok)throw new Error(`Failed to get OpenSea NFTs: ${i.statusText}`);const a=(await i.json()).nfts.map(c=>{var l,u,d;return{id:c.identifier,address:c.contract,token_id:parseInt(c.identifier,10),attributes:JSON.stringify(c.traits||[]),name:c.name||`#${c.identifier}`,image_url:c.image_url,owner_of:((u=(l=c.owners)==null?void 0:l[0])==null?void 0:u.address)||"",block_minted:0,contract_type:"ERC721",description:c.description||"",image:c.image_url,image_url_shrunk:c.image_url,animation_url:c.animation_url,metadata:"",chain_id:1,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:t,num_items:1,created_at:c.updated_at||new Date().toISOString(),updated_at:c.updated_at||new Date().toISOString(),owners:((d=c.owners)==null?void 0:d.map(h=>({owner_of:h.address,quantity:h.quantity})))||[]}});return{page:1,pageSize:e,totalCount:a.length,totalPages:1,data:a}}catch(i){throw console.error("Error getting OpenSea NFTs:",i),i}}async function h8(t,e,n){const r="030a5ee582f64b8ab3a598ab2b97d85f",s=`https://api.opensea.io/api/v2/chain/${t}/contract/${e}/nfts/${n}`;try{const i=await fetch(s,{headers:{"X-API-KEY":r}});if(!i.ok)throw new Error(`Failed to get single OpenSea NFT: ${i.statusText}`);return(await i.json()).nft}catch(i){throw console.error("Error getting single OpenSea NFT:",i),i}}async function f8(t,e=50){var s;const n="030a5ee582f64b8ab3a598ab2b97d85f",r=`https://api.opensea.io/api/v2/collection/${t}/nfts?chain=solana&limit=${e}&include_orders=true`;try{const i=await fetch(r,{headers:{"X-API-KEY":n}});if(!i.ok)throw new Error(`Failed to get OpenSea Solana NFTs: ${i.statusText}`);const o=await i.json();console.log("Solana collection response:",o),console.log("Sample NFT from response:",o.nfts[0]),console.log("Sample NFT owners:",(s=o.nfts[0])==null?void 0:s.owners),console.log("Sample NFT full structure:",JSON.stringify(o.nfts[0],null,2));const a=o.nfts.map(c=>{var l,u,d;return{id:c.identifier,address:c.contract,token_id:parseInt(c.identifier,10),attributes:JSON.stringify(c.traits||[]),name:c.name||`#${c.identifier}`,image_url:c.image_url,owner_of:((u=(l=c.owners)==null?void 0:l[0])==null?void 0:u.address)||"",block_minted:0,contract_type:"SOL",description:c.description||"",image:c.image_url,image_url_shrunk:c.image_url,animation_url:c.animation_url,metadata:"",chain_id:1399811149,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:t,num_items:1,created_at:c.updated_at||new Date().toISOString(),updated_at:c.updated_at||new Date().toISOString(),owners:((d=c.owners)==null?void 0:d.map(h=>({owner_of:h.address,quantity:h.quantity})))||[]}});return{page:1,pageSize:e,totalCount:a.length,totalPages:1,data:a}}catch(i){throw console.error("Error getting OpenSea Solana NFTs:",i),i}}async function NQ(t,e=50){var s;const n="030a5ee582f64b8ab3a598ab2b97d85f",r=[`https://api.opensea.io/api/v2/chain/solana/account/${t}/nfts?limit=${e}`,`https://api.opensea.io/api/v2/chain/solana/account/${t}/nfts?limit=${e}&include_orders=false`,`https://api.opensea.io/api/v2/chain/solana/account/${t}/nfts?limit=${e}&include_orders=false&include_metadata=true`];for(const i of r){console.log("Trying OpenSea endpoint:",i);try{const o=await fetch(i,{headers:{"X-API-KEY":n}});if(console.log("Response status:",o.status),!o.ok){const c=await o.text();console.error("API Error response:",c);continue}const a=await o.json();if(console.log("Raw API response:",a),console.log("Number of NFTs returned:",((s=a.nfts)==null?void 0:s.length)||0),a.nfts&&a.nfts.length>0){const c=a.nfts.map(l=>({id:l.identifier,address:l.contract,token_id:parseInt(l.identifier,10),attributes:JSON.stringify(l.traits||[]),name:l.name||`#${l.identifier}`,image_url:l.image_url,owner_of:t,block_minted:0,contract_type:"SOL",description:l.description||"",image:l.image_url,image_url_shrunk:l.image_url,animation_url:l.animation_url,metadata:"",chain_id:1399811149,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:"",num_items:1,created_at:l.updated_at||new Date().toISOString(),updated_at:l.updated_at||new Date().toISOString(),owners:[{owner_of:t,quantity:1}]}));return console.log("Transformed NFTs:",c.length),{page:1,pageSize:e,totalCount:c.length,totalPages:1,data:c}}}catch(o){console.error("Error with endpoint:",i,o);continue}}return console.log("All OpenSea endpoints failed, returning empty result"),{page:1,pageSize:e,totalCount:0,totalPages:1,data:[]}}const PQ=Ws({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"600px",height:"480px",minWidth:"360px",minHeight:"240px",top:"calc(50vh - 240px)",left:"calc(50vw - 300px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto",zIndex:5e3},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",height:"calc(100% - 30px)",overflow:"auto"}}),kQ=({isOpen:t,onClose:e,onMinimize:n,walletAddress:r})=>{const s=PQ({isOpen:t}),i=F.useRef(null),[o,a]=F.useState([]),[c,l]=F.useState(!1),[u,d]=F.useState(!1),[h,f]=F.useState({}),[p,g]=F.useState(null),{data:y}=a5();F.useEffect(()=>{t&&r&&w()},[t,r]);const w=async()=>{l(!0),g(null);try{const x=await u8(r);a(x);const S={};x.forEach(T=>{S[T.id]=0}),f(S)}catch(x){g(x.message)}finally{l(!1)}},b=(x,S)=>{f(T=>({...T,[x]:Math.max(0,S)}))},v=async()=>{const x=Object.entries(h).filter(([,S])=>S>0).map(([S,T])=>({id:S,quantity:T}));if(x.length===0){g("Please select at least one item to mint");return}if(!y){g("Wallet not connected");return}d(!0),g(null);try{console.log("Starting mint process for address:",r);const S=await d8(r,x);if(console.log("Mint API result:",S),S.success&&S.mintTransaction){console.log("Got mint transaction:",S.mintTransaction),alert("Please confirm the transaction in your wallet.");try{console.log("Sending transaction to wallet...");const T=await y.sendTransaction({to:S.mintTransaction.to,value:BigInt(S.mintTransaction.value),data:S.mintTransaction.data});console.log("Transaction sent successfully:",T),alert(`NFT Minted Successfully: Transaction Hash - ${T}`),e()}catch(T){console.error("Transaction sending failed:",T),g("Transaction failed: "+T.message)}}else throw new Error(S.message||"Could not retrieve minting transaction.")}catch(S){console.error("Minting failed:",S),g("Minting failed: "+S.message)}finally{d(!1)}},E=(x,S)=>`${parseFloat(x)} ${S}`,_=()=>{n&&n()};return t?m.jsx(Vg,{nodeRef:i,handle:`.${s.header}`,children:m.jsxs("div",{ref:i,className:s.popup,children:[m.jsxs("div",{className:s.header,children:[m.jsx("span",{children:"Mint Pixelawbster"}),m.jsxs("div",{className:s.titleBarButtons,children:[m.jsx("button",{className:s.titleBarButton,onClick:_,title:"Minimize",children:"_"}),m.jsx("button",{className:s.titleBarButton,onClick:e,title:"Close",children:""})]})]}),m.jsxs("div",{className:s.content,children:[p&&m.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:p}),c?m.jsx("div",{children:"Loading eligible invite lists..."}):o.length===0?m.jsx("div",{children:"No eligible invite lists found for your wallet."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{marginBottom:"20px"},children:[m.jsx("h3",{children:"Available Lists:"}),o.map(x=>m.jsxs("div",{style:{border:"1px solid #808080",padding:"10px",marginBottom:"10px",backgroundColor:"#ffffff"},children:[m.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:x.name}),m.jsxs("div",{style:{fontSize:"12px",marginBottom:"5px"},children:["Price: ",E(x.token_price,x.currency_symbol)]}),m.jsxs("div",{style:{fontSize:"12px",marginBottom:"10px"},children:["Limit: ",x.wallet_limit===4294967295?"Unlimited":x.wallet_limit," per wallet"]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[m.jsx("label",{style:{fontSize:"12px"},children:"Quantity:"}),m.jsx("input",{type:"number",min:"0",max:x.wallet_limit===4294967295?999:x.wallet_limit,value:h[x.id]||0,onChange:S=>b(x.id,parseInt(S.target.value)||0),style:{width:"60px",padding:"2px 5px",border:"1px solid #808080"}})]})]},x.id))]}),m.jsx("button",{onClick:v,disabled:u,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"10px 20px",cursor:u?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"},children:u?"Minting...":"Mint Selected NFTs"})]})]})]})}):null},OQ=Ws({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"400px",height:"auto",top:"20vh",left:"30vw",zIndex:102,display:"flex",flexDirection:"column"},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",background:"white",color:"black"},detailImage:{width:"100%",height:"auto",marginBottom:"10px"},detailTraits:{listStyleType:"none",paddingLeft:"0","& li":{marginBottom:"5px"}}}),RQ=t=>{try{const e=JSON.parse(t);return Array.isArray(e)&&e.every(n=>"trait_type"in n&&"value"in n)?e:[]}catch{return[]}},$Q=({nft:t,onClose:e})=>{const n=OQ(),r=F.useRef(null),s=RQ(t.attributes);return m.jsx(Vg,{nodeRef:r,handle:`.${n.header}`,children:m.jsxs("div",{className:n.popup,ref:r,children:[m.jsxs("div",{className:n.header,children:[m.jsxs("span",{children:[t.name," - Details"]}),m.jsx("button",{className:n.titleBarButton,onClick:e,children:"X"})]}),m.jsxs("div",{className:n.content,children:[m.jsx("img",{src:t.image_url,alt:t.name,className:n.detailImage}),m.jsx("h3",{children:"Traits"}),m.jsx("ul",{className:n.detailTraits,children:s.length>0?s.map((i,o)=>m.jsxs("li",{children:[m.jsxs("strong",{children:[i.trait_type,":"]})," ",i.value]},o)):m.jsx("li",{children:"No traits found."})})]})]})})},DQ=Symbol(),qT=Object.getPrototypeOf,aC=new WeakMap,jQ=t=>t&&(aC.has(t)?aC.get(t):qT(t)===Object.prototype||qT(t)===Array.prototype),UQ=t=>jQ(t)&&t[DQ]||null,WT=(t,e=!0)=>{aC.set(t,e)},z0={},i1=t=>typeof t=="object"&&t!==null,Ta=new WeakMap,_f=new WeakSet,LQ=(t=Object.is,e=(l,u)=>new Proxy(l,u),n=l=>i1(l)&&!_f.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),r=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},s=new WeakMap,i=(l,u,d=r)=>{const h=s.get(l);if((h==null?void 0:h[0])===u)return h[1];const f=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return WT(f,!0),s.set(l,[u,f]),Reflect.ownKeys(l).forEach(p=>{if(Object.getOwnPropertyDescriptor(f,p))return;const g=Reflect.get(l,p),{enumerable:y}=Reflect.getOwnPropertyDescriptor(l,p),w={value:g,enumerable:y,configurable:!0};if(_f.has(g))WT(g,!1);else if(g instanceof Promise)delete w.value,w.get=()=>d(g);else if(Ta.has(g)){const[b,v]=Ta.get(g);w.value=i(b,v(),d)}Object.defineProperty(f,p,w)}),Object.preventExtensions(f)},o=new WeakMap,a=[1,1],c=l=>{if(!i1(l))throw new Error("object required");const u=o.get(l);if(u)return u;let d=a[0];const h=new Set,f=(C,O=++a[0])=>{d!==O&&(d=O,h.forEach(R=>R(C,O)))};let p=a[1];const g=(C=++a[1])=>(p!==C&&!h.size&&(p=C,w.forEach(([O])=>{const R=O[1](C);R>d&&(d=R)})),d),y=C=>(O,R)=>{const L=[...O];L[1]=[C,...L[1]],f(L,R)},w=new Map,b=(C,O)=>{if((z0?"production":void 0)!=="production"&&w.has(C))throw new Error("prop listener already exists");if(h.size){const R=O[3](y(C));w.set(C,[O,R])}else w.set(C,[O])},v=C=>{var O;const R=w.get(C);R&&(w.delete(C),(O=R[1])==null||O.call(R))},E=C=>(h.add(C),h.size===1&&w.forEach(([R,L],z)=>{if((z0?"production":void 0)!=="production"&&L)throw new Error("remove already exists");const M=R[3](y(z));w.set(z,[R,M])}),()=>{h.delete(C),h.size===0&&w.forEach(([R,L],z)=>{L&&(L(),w.set(z,[R]))})}),_=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),S=e(_,{deleteProperty(C,O){const R=Reflect.get(C,O);v(O);const L=Reflect.deleteProperty(C,O);return L&&f(["delete",[O],R]),L},set(C,O,R,L){const z=Reflect.has(C,O),M=Reflect.get(C,O,L);if(z&&(t(M,R)||o.has(R)&&t(M,o.get(R))))return!0;v(O),i1(R)&&(R=UQ(R)||R);let A=R;if(R instanceof Promise)R.then(I=>{R.status="fulfilled",R.value=I,f(["resolve",[O],I])}).catch(I=>{R.status="rejected",R.reason=I,f(["reject",[O],I])});else{!Ta.has(R)&&n(R)&&(A=c(R));const I=!_f.has(A)&&Ta.get(A);I&&b(O,I)}return Reflect.set(C,O,A,L),f(["set",[O],R,M]),!0}});o.set(l,S);const T=[_,g,i,E];return Ta.set(S,T),Reflect.ownKeys(l).forEach(C=>{const O=Object.getOwnPropertyDescriptor(l,C);"value"in O&&(S[C]=l[C],delete O.value,delete O.writable),Object.defineProperty(_,C,O)}),S})=>[c,Ta,_f,t,e,n,r,s,i,o,a],[MQ]=LQ();function Ot(t={}){return MQ(t)}function qn(t,e,n){const r=Ta.get(t);(z0?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],o=r[3];let a=!1;const l=o(u=>{i.push(u),s||(s=Promise.resolve().then(()=>{s=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,l()}}function Zp(t,e){const n=Ta.get(t);(z0?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,s,i]=n;return i(r,s(),e)}function Vl(t){return _f.add(t),t}function Wn(t,e,n,r){let s=t[e];return qn(t,()=>{const i=t[e];Object.is(s,i)||n(s=i)})}function BQ(t){const e=Ot({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const s=this.data.find(i=>i[0]===n);return s?s[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(s=>s[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(s=>s[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}var HT={};const J={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof HT<"u"?HT.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},Xp={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){var s;if(!e)return;const n=t.find(i=>i.caipNetworkId===e);if(n)return n.name;const[r]=e.split(":");return((s=J.CHAIN_NAME_MAP)==null?void 0:s[r])||void 0}};var FQ=20,zQ=1,Gl=1e6,VT=1e6,qQ=-7,WQ=21,HQ=!1,Gg="[big.js] ",cu=Gg+"Invalid ",cv=cu+"decimal places",VQ=cu+"rounding mode",p8=Gg+"Division by zero",vt={},Yi=void 0,GQ=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function g8(){function t(e){var n=this;if(!(n instanceof t))return e===Yi?g8():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(cu+"value");e=e===0&&1/e<0?"-0":String(e)}KQ(n,e)}n.constructor=t}return t.prototype=vt,t.DP=FQ,t.RM=zQ,t.NE=qQ,t.PE=WQ,t.strict=HQ,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function KQ(t,e){var n,r,s;if(!GQ.test(e))throw Error(cu+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),s=e.length,r=0;r<s&&e.charAt(r)=="0";)++r;if(r==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=s;)t.c[n++]=+e.charAt(r++)}return t}function lu(t,e,n,r){var s=t.c;if(n===Yi&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(VQ);if(e<1)r=n===3&&(r||!!s[0])||e===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==Yi))),s.length=1,r?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(r=n===1&&s[e]>=5||n===2&&(s[e]>5||s[e]===5&&(r||s[e+1]!==Yi||s[e-1]&1))||n===3&&(r||!!s[0]),s.length=e,r){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function uu(t,e,n){var r=t.e,s=t.c.join(""),i=s.length;if(e)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&n?"-"+s:s}vt.abs=function(){var t=new this.constructor(this);return t.s=1,t};vt.cmp=function(t){var e,n=this,r=n.c,s=(t=new n.constructor(t)).c,i=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!s[0])return r[0]?i:s[0]?-o:0;if(i!=o)return i;if(e=i<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=s.length)?a:c,i=-1;++i<o;)if(r[i]!=s[i])return r[i]>s[i]^e?1:-1;return a==c?0:a>c^e?1:-1};vt.div=function(t){var e=this,n=e.constructor,r=e.c,s=(t=new n(t)).c,i=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>Gl)throw Error(cv);if(!s[0])throw Error(p8);if(!r[0])return t.s=i,t.c=[t.e=0],t;var a,c,l,u,d,h=s.slice(),f=a=s.length,p=r.length,g=r.slice(0,a),y=g.length,w=t,b=w.c=[],v=0,E=o+(w.e=e.e-t.e)+1;for(w.s=i,i=E<0?0:E,h.unshift(0);y++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(y=g.length))u=a>y?1:-1;else for(d=-1,u=0;++d<a;)if(s[d]!=g[d]){u=s[d]>g[d]?1:-1;break}if(u<0){for(c=y==a?s:h;y;){if(g[--y]<c[y]){for(d=y;d&&!g[--d];)g[d]=9;--g[d],g[y]+=10}g[y]-=c[y]}for(;!g[0];)g.shift()}else break}b[v++]=u?l:++l,g[0]&&u?g[y]=r[f]||0:g=[r[f]]}while((f++<p||g[0]!==Yi)&&i--);return!b[0]&&v!=1&&(b.shift(),w.e--,E--),v>E&&lu(w,E,n.RM,g[0]!==Yi),w};vt.eq=function(t){return this.cmp(t)===0};vt.gt=function(t){return this.cmp(t)>0};vt.gte=function(t){return this.cmp(t)>-1};vt.lt=function(t){return this.cmp(t)<0};vt.lte=function(t){return this.cmp(t)<1};vt.minus=vt.sub=function(t){var e,n,r,s,i=this,o=i.constructor,a=i.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,i.plus(t);var l=i.c.slice(),u=i.e,d=t.c,h=t.e;if(!l[0]||!d[0])return d[0]?t.s=-c:l[0]?t=new o(i):t.s=1,t;if(a=u-h){for((s=a<0)?(a=-a,r=l):(h=u,r=d),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((s=l.length<d.length)?l:d).length,a=c=0;c<n;c++)if(l[c]!=d[c]){s=l[c]<d[c];break}if(s&&(r=l,l=d,d=r,t.s=-t.s),(c=(n=d.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>a;){if(l[--n]<d[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=d[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--h;return l[0]||(t.s=1,l=[h=0]),t.c=l,t.e=h,t};vt.mod=function(t){var e,n=this,r=n.constructor,s=n.s,i=(t=new r(t)).s;if(!t.c[0])throw Error(p8);return n.s=t.s=1,e=t.cmp(n)==1,n.s=s,t.s=i,e?new r(n):(s=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=s,r.RM=i,this.minus(n.times(t)))};vt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};vt.plus=vt.add=function(t){var e,n,r,s=this,i=s.constructor;if(t=new i(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var o=s.e,a=s.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new i(s):t.s=s.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};vt.pow=function(t){var e=this,n=new e.constructor("1"),r=n,s=t<0;if(t!==~~t||t<-VT||t>VT)throw Error(cu+"exponent");for(s&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return s?n.div(r):r};vt.prec=function(t,e){if(t!==~~t||t<1||t>Gl)throw Error(cu+"precision");return lu(new this.constructor(this),t,e)};vt.round=function(t,e){if(t===Yi)t=0;else if(t!==~~t||t<-Gl||t>Gl)throw Error(cv);return lu(new this.constructor(this),t+this.e+1,e)};vt.sqrt=function(){var t,e,n,r=this,s=r.constructor,i=r.s,o=r.e,a=new s("0.5");if(!r.c[0])return new s(r);if(i<0)throw Error(Gg+"No square root");i=Math.sqrt(+uu(r,!0,!0)),i===0||i===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),i=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):t=new s(i+""),o=t.e+(s.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return lu(t,(s.DP-=4)+t.e+1,s.RM)};vt.times=vt.mul=function(t){var e,n=this,r=n.constructor,s=n.c,i=(t=new r(t)).c,o=s.length,a=i.length,c=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!s[0]||!i[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=s,s=i,i=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+i[c]*s[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};vt.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==Yi){if(t!==~~t||t<0||t>Gl)throw Error(cv);for(n=lu(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return uu(n,!0,!!r)};vt.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==Yi){if(t!==~~t||t<0||t>Gl)throw Error(cv);for(n=lu(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return uu(n,!1,!!r)};vt[Symbol.for("nodejs.util.inspect.custom")]=vt.toJSON=vt.toString=function(){var t=this,e=t.constructor;return uu(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};vt.toNumber=function(){var t=+uu(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(Gg+"Imprecise conversion");return t};vt.toPrecision=function(t,e){var n=this,r=n.constructor,s=n.c[0];if(t!==Yi){if(t!==~~t||t<1||t>Gl)throw Error(cu+"precision");for(n=lu(new r(n),t,e);n.c.length<t;)n.c.push(0)}return uu(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};vt.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(Gg+"valueOf disallowed");return uu(t,t.e<=e.NE||t.e>=e.PE,!0)};var Vh=g8();const YQ={bigNumber(t){return t?new Vh(t):new Vh(0)},multiply(t,e){if(t===void 0||e===void 0)return new Vh(0);const n=new Vh(t),r=new Vh(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},JQ=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],QQ=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],ZQ=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],XQ={getERC20Abi:t=>J.USDT_CONTRACT_ADDRESSES.includes(t)?ZQ:JQ,getSwapAbi:()=>QQ},as={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,s]=e;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},Ue={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids"};function o1(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const $e={setItem(t,e){Ef()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Ef())return localStorage.getItem(t)||void 0},removeItem(t){Ef()&&localStorage.removeItem(t)},clear(){Ef()&&localStorage.clear()}};function Ef(){return typeof window<"u"&&typeof localStorage<"u"}function Oo(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var GT={};const a1=(typeof process<"u"&&typeof GT<"u"?GT.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",m8=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]},{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]}],eZ="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",mt={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:a1,SECURE_SITE_DASHBOARD:`${a1}/dashboard`,SECURE_SITE_FAVICON:`${a1}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld","coinbase"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},ue={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=ue.getActiveNamespace(),e=ue.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{$e.setItem(Ue.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=$e.getItem(Ue.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{$e.removeItem(Ue.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{$e.setItem(Ue.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{$e.setItem(Ue.ACTIVE_CAIP_NETWORK_ID,t),ue.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return $e.getItem(Ue.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{$e.removeItem(Ue.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=o1(t);$e.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=ue.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),$e.setItem(Ue.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=$e.getItem(Ue.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=o1(t);$e.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return $e.getItem(Ue.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=o1(t);return $e.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{$e.setItem(Ue.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return $e.getItem(Ue.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{$e.removeItem(Ue.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return $e.getItem(Ue.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=$e.getItem(Ue.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{$e.setItem(Ue.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return $e.getItem(Ue.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=$e.getItem(Ue.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));$e.setItem(Ue.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=ue.getConnectedNamespaces();e.includes(t)||(e.push(t),ue.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=ue.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),ue.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return $e.getItem(Ue.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{$e.setItem(Ue.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{$e.removeItem(Ue.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=$e.getItem(Ue.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=ue.getBalanceCache();$e.setItem(Ue.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=ue.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;ue.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=ue.getBalanceCache();e[t.caipAddress]=t,$e.setItem(Ue.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=$e.getItem(Ue.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=ue.getBalanceCache();$e.setItem(Ue.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=ue.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),ue.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=ue.getNativeBalanceCache();e[t.caipAddress]=t,$e.setItem(Ue.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=$e.getItem(Ue.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=ue.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;ue.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=ue.getEnsCache();e[t.address]=t,$e.setItem(Ue.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=ue.getEnsCache();$e.setItem(Ue.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=$e.getItem(Ue.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=ue.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;ue.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=ue.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},$e.setItem(Ue.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=ue.getIdentityCache();$e.setItem(Ue.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{$e.removeItem(Ue.PORTFOLIO_CACHE),$e.removeItem(Ue.NATIVE_BALANCE_CACHE),$e.removeItem(Ue.ENS_CACHE),$e.removeItem(Ue.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{$e.setItem(Ue.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=$e.getItem(Ue.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n=ue.getConnections(),r=n[e]??[],s=new Map;for(const o of r)s.set(o.connectorId,{...o});for(const o of t){const a=s.get(o.connectorId),c=o.connectorId===J.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(d=>d.address.toLowerCase())),u=o.accounts.filter(d=>!l.has(d.address.toLowerCase()));a.accounts.push(...u)}else s.set(o.connectorId,{...o})}const i={...n,[e]:Array.from(s.values())};$e.setItem(Ue.CONNECTIONS,JSON.stringify(i))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=$e.getItem(Ue.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:n}){try{const r=ue.getConnections(),s=r[n]??[],i=new Map(s.map(a=>[a.connectorId,a])),o=i.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?i.delete(t):i.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),$e.setItem(Ue.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const t=$e.getItem(Ue.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const n=ue.getDisconnectedConnectorIds(),r=n[e]??[];r.push(t),$e.setItem(Ue.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const n=ue.getDisconnectedConnectorIds();let r=n[e]??[];r=r.filter(s=>s.toLowerCase()!==t.toLowerCase()),$e.setItem(Ue.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(ue.getDisconnectedConnectorIds()[e]??[]).some(s=>s.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1}},Ee={isMobile(){var t;return this.isClient()?!!(window!=null&&window.matchMedia&&typeof window.matchMedia=="function"&&((t=window.matchMedia("(pointer:coarse)"))!=null&&t.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return Ee.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=mt.TEN_SEC_MS:!0},isAllowedRetry(t,e=mt.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var t,e;if(Ee.isClient()&&window.self!==window.top)try{const n=(e=(t=window==null?void 0:window.location)==null?void 0:t.ancestorOrigins)==null?void 0:e[0],r="https://app.safe.global";if(n){const s=new URL(n),i=new URL(r);return s.hostname===i.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+mt.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function s(){t(...r)}n&&clearTimeout(n),n=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(Ee.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,s=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!(s!=null&&s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const i=encodeURIComponent(e);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(t,e){if(!Ee.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?ue.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,r;if(typeof window>"u")return!1;const t=window!=null&&window.matchMedia&&typeof window.matchMedia=="function"?(n=window.matchMedia("(display-mode: standalone)"))==null?void 0:n.matches:!1,e=(r=window==null?void 0:window.navigator)==null?void 0:r.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,Ee.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const s=Math.floor(r*1e3)/1e3;s&&(n=s.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){var r;let n;if(t==="0")n="0";else if(typeof t=="string"){const s=Number(t);s&&(n=(r=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return J.W3M_API_URL},getBlockchainApiUrl(){return J.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return J.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,s)=>{n[r]=s}),e.sort((r,s)=>{const i=n[r.id],o=n[s.id];return i!==void 0&&o!==void 0?i-o:i!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const s=r[e];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(t,e,n){const s=t.length===0?mt.ADAPTER_TYPES.UNIVERSAL:t.map(i=>i.adapterType).join(",");return`${e}-${s}-${n}`},createAccount(t,e,n,r,s){return{namespace:t,address:e,type:n,publicKey:r,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in J.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",i=t.substring(t.indexOf(s)+s.length),o=this.injectIntoUrl(decodeURIComponent(i),n,e);return t.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",r),i=e.length,o=s!==-1?s:t.length,a=t.substring(0,r+i),c=t.substring(r+i,o),l=t.substring(s),u=c+n;return a+u+l}};async function Gh(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class Kg{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...s}){const i=this.createUrl(s);return(await Gh(i,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const s=this.createUrl(r);return(await Gh(s,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Gh(i,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Gh(i,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Gh(i,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([s,i])=>{i&&r.searchParams.append(s,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const tZ={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?mt.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(Ee.isTelegram()){if(Ee.isIos())return t.filter(e=>e!=="google");if(Ee.isMac())return t.filter(e=>e!=="x");if(Ee.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},Ne=Ot({features:mt.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:mt.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),te={state:Ne,subscribeKey(t,e){return Wn(Ne,t,e)},setOptions(t){Object.assign(Ne,t)},setRemoteFeatures(t){var n;if(!t)return;const e={...Ne.remoteFeatures,...t};Ne.remoteFeatures=e,(n=Ne.remoteFeatures)!=null&&n.socials&&(Ne.remoteFeatures.socials=tZ.filterSocialsByPlatform(Ne.remoteFeatures.socials))},setFeatures(t){if(!t)return;Ne.features||(Ne.features=mt.DEFAULT_FEATURES);const e={...Ne.features,...t};Ne.features=e},setProjectId(t){Ne.projectId=t},setCustomRpcUrls(t){Ne.customRpcUrls=t},setAllWallets(t){Ne.allWallets=t},setIncludeWalletIds(t){Ne.includeWalletIds=t},setExcludeWalletIds(t){Ne.excludeWalletIds=t},setFeaturedWalletIds(t){Ne.featuredWalletIds=t},setTokens(t){Ne.tokens=t},setTermsConditionsUrl(t){Ne.termsConditionsUrl=t},setPrivacyPolicyUrl(t){Ne.privacyPolicyUrl=t},setCustomWallets(t){Ne.customWallets=t},setIsSiweEnabled(t){Ne.isSiweEnabled=t},setIsUniversalProvider(t){Ne.isUniversalProvider=t},setSdkVersion(t){Ne.sdkVersion=t},setMetadata(t){Ne.metadata=t},setDisableAppend(t){Ne.disableAppend=t},setEIP6963Enabled(t){Ne.enableEIP6963=t},setDebug(t){Ne.debug=t},setEnableWalletConnect(t){Ne.enableWalletConnect=t},setEnableWalletGuide(t){Ne.enableWalletGuide=t},setEnableAuthLogger(t){Ne.enableAuthLogger=t},setEnableWallets(t){Ne.enableWallets=t},setPreferUniversalLinks(t){Ne.experimental_preferUniversalLinks=t},setHasMultipleAddresses(t){Ne.hasMultipleAddresses=t},setSIWX(t){Ne.siwx=t},setConnectMethodsOrder(t){Ne.features={...Ne.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){Ne.features={...Ne.features,walletFeaturesOrder:t}},setSocialsOrder(t){Ne.remoteFeatures={...Ne.remoteFeatures,socials:t}},setCollapseWallets(t){Ne.features={...Ne.features,collapseWallets:t}},setEnableEmbedded(t){Ne.enableEmbedded=t},setAllowUnsupportedChain(t){Ne.allowUnsupportedChain=t},setManualWCControl(t){Ne.manualWCControl=t},setEnableNetworkSwitch(t){Ne.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(Ne.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){Ne.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return Ne.universalProviderConfigOverride},getSnapshot(){return Zp(Ne)}},nZ=Object.freeze({enabled:!0,events:[]}),rZ=new Kg({baseUrl:Ee.getAnalyticsUrl(),clientId:null}),sZ=5,iZ=60*1e3,ca=Ot({...nZ}),oZ={state:ca,subscribeKey(t,e){return Wn(ca,t,e)},async sendError(t,e){if(!ca.enabled)return;const n=Date.now();if(ca.events.filter(i=>{const o=new Date(i.properties.timestamp||"").getTime();return n-o<iZ}).length>=sZ)return;const s={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};ca.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:o,sdkVersion:a}=te.state;await rZ.post({path:"/e",params:{projectId:i,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:Ee.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){ca.enabled=!0},disable(){ca.enabled=!1},clearEvents(){ca.events=[]}};class Xd extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,Xd.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const i=r.stack,o=i.indexOf(`
`);if(o>-1){const a=i.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,Xd):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function KT(t,e){const n=t instanceof Xd?t:new Xd(t instanceof Error?t.message:String(t),e,t);throw oZ.sendError(n,n.category),n}function _s(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const s=t[r];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...o)=>{try{return await s(...o)}catch(a){return KT(a,e)}}:i=(...o)=>{try{return s(...o)}catch(a){return KT(a,e)}},n[r]=i}else n[r]=s}),n}const zi={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},aZ={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===zi.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",i=n.split("/")[2],o=encodeURIComponent(`${s}://${i}`);window.location.href=`${zi.PHANTOM.url}/ul/browse/${r}?ref=${o}`}t===zi.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${zi.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===J.CHAIN.SOLANA&&t===zi.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${zi.COINBASE.url}/dapp?cb_url=${r}`)}},ts=Ot({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),cZ={state:ts,subscribeNetworkImages(t){return qn(ts.networkImages,()=>t(ts.networkImages))},subscribeKey(t,e){return Wn(ts,t,e)},subscribe(t){return qn(ts,()=>t(ts))},setWalletImage(t,e){ts.walletImages[t]=e},setNetworkImage(t,e){ts.networkImages[t]=e},setChainImage(t,e){ts.chainImages[t]=e},setConnectorImage(t,e){ts.connectorImages={...ts.connectorImages,[t]:e}},setTokenImage(t,e){ts.tokenImages[t]=e},setCurrencyImage(t,e){ts.currencyImages[t]=e}},ui=_s(cZ),lZ={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},c1=Ot({networkImagePromises:{}}),y8={async fetchWalletImage(t){if(t)return await Ae._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(c1.networkImagePromises[t]||(c1.networkImagePromises[t]=Ae._fetchNetworkImage(t)),await c1.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return ui.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return ui.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return ui.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return ui.state.networkImages[t]},getConnectorImage(t){var e;if(t!=null&&t.imageUrl)return t.imageUrl;if((e=t==null?void 0:t.info)!=null&&e.icon)return t.info.icon;if(t!=null&&t.imageId)return ui.state.connectorImages[t.imageId]},getChainImage(t){return ui.state.networkImages[lZ[t]]}},la=Ot({message:"",variant:"info",open:!1}),uZ={state:la,subscribeKey(t,e){return Wn(la,t,e)},open(t,e){const{debug:n}=te.state,{shortMessage:r,longMessage:s}=t;n&&(la.message=r,la.variant=e,la.open=!0),s&&console.error(typeof s=="function"?s():s)},close(){la.open=!1,la.message="",la.variant="info"}},ln=_s(uZ),dZ=Ee.getAnalyticsUrl(),hZ=new Kg({baseUrl:dZ,clientId:null}),fZ=["MODAL_CREATED"],co=Ot({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),yt={state:co,subscribe(t){return qn(co,()=>t(co))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=te.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=ce.state.address;if(fZ.includes(t.data.event)||typeof window>"u")return;await hZ.post({path:"/e",params:yt.getSdkProperties(),body:{eventId:Ee.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),co.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===J.HTTP_STATUS_CODES.FORBIDDEN&&!co.reportedErrors.FORBIDDEN&&(ln.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Ef()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),co.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;co.timestamp=Date.now(),co.data=t,(e=te.state.features)!=null&&e.analytics&&yt._sendAnalyticsEvent(co)}},pZ=Ee.getApiUrl(),Tr=new Kg({baseUrl:pZ,clientId:null}),gZ=40,YT=4,mZ=20,Me=Ot({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Ae={state:Me,subscribeKey(t,e){return Wn(Me,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=te.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return te.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${Tr.baseUrl}/getWalletImage/${t}`,n=await Tr.getBlob({path:e,params:Ae._getSdkProperties()});ui.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${Tr.baseUrl}/public/getAssetImage/${t}`,n=await Tr.getBlob({path:e,params:Ae._getSdkProperties()});ui.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${Tr.baseUrl}/public/getAssetImage/${t}`,n=await Tr.getBlob({path:e,params:Ae._getSdkProperties()});ui.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${Tr.baseUrl}/public/getCurrencyImage/${t}`,n=await Tr.getBlob({path:e,params:Ae._getSdkProperties()});ui.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${Tr.baseUrl}/public/getTokenImage/${t}`,n=await Tr.getBlob({path:e,params:Ae._getSdkProperties()});ui.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return Ee.isMobile()?t==null?void 0:t.filter(n=>n.mobile_link||n.id===zi.COINBASE.id?!0:$.state.activeChain==="solana"&&(n.id===zi.SOLFLARE.id||n.id===zi.PHANTOM.id)):t},async fetchProjectConfig(){return(await Tr.get({path:"/appkit/v1/config",params:Ae._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await Tr.get({path:"/projects/v1/origins",params:Ae._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===J.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=J.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const t=$.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!y8.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>Ae._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=de.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>Ae._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Ae._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Ae._fetchTokenImage(e)))},async fetchWallets(t){var i;const e=t.exclude??[];Ae._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(zi).map(o=>o.id));const r=await Tr.get({path:"/getWallets",params:{...Ae._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(i=t.include)==null?void 0:i.join(","),exclude:e.join(",")}});return{data:Ae._filterWalletsByPlatform(r==null?void 0:r.data)||[],count:r==null?void 0:r.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=te.state;if(t!=null&&t.length){const e={...Ae._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??YT,include:t},{data:n}=await Ae.fetchWallets(e),r=[...n].sort((i,o)=>t.indexOf(i.id)-t.indexOf(o.id)),s=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>Ae._fetchWalletImage(i))),Me.featured=r,Me.allFeatured=r}},async fetchRecommendedWallets(){try{Me.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=te.state,r=[...e??[],...n??[]].filter(Boolean),s=$.getRequestedCaipNetworkIds().join(","),i={page:1,entries:YT,include:t,exclude:r,chains:s},{data:o,count:a}=await Ae.fetchWallets(i),c=ue.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>Ae._fetchWalletImage(d))),Me.recommended=o,Me.allRecommended=o,Me.count=a??0}catch{}finally{Me.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=te.state,s=$.getRequestedCaipNetworkIds().join(","),i=[...Me.recommended.map(({id:u})=>u),...n??[],...r??[]].filter(Boolean),o={page:t,entries:gZ,include:e,exclude:i,chains:s},{data:a,count:c}=await Ae.fetchWallets(o),l=a.slice(0,mZ).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>Ae._fetchWalletImage(u))),Me.wallets=Ee.uniqueBy([...Me.wallets,...Ae._filterOutExtensions(a)],"id").filter(u=>{var d;return(d=u.chains)==null?void 0:d.some(h=>s.includes(h))}),Me.count=c>Me.count?c:Me.count,Me.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await Ae.fetchWallets(e);n&&n.forEach(r=>{Me.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=te.state,s=$.getRequestedCaipNetworkIds().join(",");Me.search=[];const i={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:s},{data:o}=await Ae.fetchWallets(i);yt.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>Ae._fetchWalletImage(c)),Ee.wait(300)]),Me.search=Ae._filterOutExtensions(o)},initPromise(t,e){const n=Me.promises[t];return n||(Me.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[t&&Ae.initPromise("connectorImages",Ae.fetchConnectorImages),e&&Ae.initPromise("featuredWallets",Ae.fetchFeaturedWallets),n&&Ae.initPromise("recommendedWallets",Ae.fetchRecommendedWallets),r&&Ae.initPromise("networkImages",Ae.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){var t;(t=te.state.features)!=null&&t.analytics&&Ae.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await Tr.get({path:"/getAnalyticsConfig",params:Ae._getSdkProperties()});te.setFeatures({analytics:t})}catch{te.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){Me.featured=Me.allFeatured,Me.recommended=Me.allRecommended;return}const e=$.getRequestedCaipNetworkIds().join(",");Me.featured=Me.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Me.recommended=Me.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Me.filteredWallets=Me.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})},clearFilterByNamespaces(){Me.filteredWallets=[]},setFilterByNamespace(t){if(!t){Me.featured=Me.allFeatured,Me.recommended=Me.allRecommended;return}const e=$.getRequestedCaipNetworkIds().join(",");Me.featured=Me.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Me.recommended=Me.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Me.filteredWallets=Me.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})}},Et=Ot({view:"Connect",history:["Connect"],transactionStack:[]}),yZ={state:Et,subscribeKey(t,e){return Wn(Et,t,e)},pushTransactionStack(t){Et.transactionStack.push(t)},popTransactionStack(t){const e=Et.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:s}=e;switch(t){case"success":n==null||n();break;case"error":r==null||r(),ke.goBack();break;case"cancel":s==null||s(),ke.goBack();break}},push(t,e){t!==Et.view&&(Et.view=t,Et.history.push(t),Et.data=e)},reset(t,e){Et.view=t,Et.history=[t],Et.data=e},replace(t,e){Et.history.at(-1)===t||(Et.view=t,Et.history[Et.history.length-1]=t,Et.data=e)},goBack(){var r;const t=$.state.activeCaipAddress,e=ke.state.view==="ConnectingFarcaster",n=!t&&e;if(Et.history.length>1){Et.history.pop();const[s]=Et.history.slice(-1);s&&(t&&s==="Connect"?Et.view="Account":Et.view=s)}else ft.close();(r=Et.data)!=null&&r.wallet&&(Et.data.wallet=void 0),setTimeout(()=>{var s,i,o;if(n){ce.setFarcasterUrl(void 0,$.state.activeChain);const a=de.getAuthConnector();(s=a==null?void 0:a.provider)==null||s.reload();const c=Zp(te.state);(o=(i=a==null?void 0:a.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(t){if(Et.history.length>1){Et.history=Et.history.slice(0,t+1);const[e]=Et.history.slice(-1);e&&(Et.view=e)}},goBackOrCloseModal(){ke.state.history.length>1?ke.goBack():ft.close()}},ke=_s(yZ),lo=Ot({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),cC={state:lo,subscribe(t){return qn(lo,()=>t(lo))},setThemeMode(t){lo.themeMode=t;try{const e=de.getAuthConnector();if(e){const n=cC.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:Oo(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){lo.themeVariables={...lo.themeVariables,...t};try{const e=de.getAuthConnector();if(e){const n=cC.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:Oo(lo.themeVariables,lo.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Zp(lo)}},Fr=_s(cC),w8={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},it=Ot({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...w8},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),wZ={state:it,subscribe(t){return qn(it,()=>{t(it)})},subscribeKey(t,e){return Wn(it,t,e)},initialize(t){t.forEach(e=>{const n=ue.getConnectedConnectorId(e);n&&de.setConnectorId(n,e)})},setActiveConnector(t){t&&(it.activeConnector=Vl(t))},setConnectors(t){t.filter(s=>!it.allConnectors.some(i=>i.id===s.id&&de.getConnectorName(i.name)===de.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&it.allConnectors.push(Vl(s))});const n=de.getEnabledNamespaces(),r=de.getEnabledConnectors(n);it.connectors=de.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(it.filterByNamespaceMap).forEach(e=>{it.filterByNamespaceMap[e]=!1}),t.forEach(e=>{it.filterByNamespaceMap[e]=!0}),de.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){it.filterByNamespaceMap[t]=e,de.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=de.getEnabledNamespaces(),e=de.getEnabledConnectors(t),n=de.areAllNamespacesEnabled();it.connectors=de.mergeMultiChainConnectors(e),n?Ae.clearFilterByNamespaces():Ae.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(it.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return it.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(it.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=de.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const s=r[0],i=(s==null?void 0:s.id)===J.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&n.push(s)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,s=de.getConnectorName(r);if(!s)return;const i=e.get(s)||[];i.find(a=>a.chain===n.chain)||i.push(n),e.set(s,i)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===J.CONNECTOR_ID.AUTH){const s=t,i=Zp(te.state),o=Fr.getSnapshot().themeMode,a=Fr.getSnapshot().themeVariables;(n=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType}),(r=s==null?void 0:s.provider)==null||r.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:Oo(a,o)}),de.setConnectors([t])}else de.setConnectors([t])},getAuthConnector(t){var r;const e=t||$.state.activeChain,n=it.connectors.find(s=>s.id===J.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(i=>i.chain===e):n},getAnnouncedConnectorRdns(){return it.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return it.allConnectors.find(e=>e.id===t)},getConnector(t,e){return it.allConnectors.filter(r=>r.chain===$.state.activeChain).find(r=>{var s;return r.explorerId===t||((s=r.info)==null?void 0:s.rdns)===e})},syncIfAuthConnector(t){var i,o;if(t.id!=="ID_AUTH")return;const e=t,n=Zp(te.state),r=Fr.getSnapshot().themeMode,s=Fr.getSnapshot().themeVariables;(o=(i=e==null?void 0:e.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:Oo(s,r)})},getConnectorsByNamespace(t){const e=it.allConnectors.filter(n=>n.chain===t);return de.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=de.getConnector(t.id,t.rdns),n=$.state.activeChain;aZ.handleMobileDeeplinkRedirect((e==null?void 0:e.explorerId)||t.id,n),e?ke.push("ConnectingExternal",{connector:e}):ke.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?de.getConnectorsByNamespace(t):de.mergeMultiChainConnectors(it.allConnectors)},setFilterByNamespace(t){it.filterByNamespace=t,it.connectors=de.getConnectors(t),Ae.setFilterByNamespace(t)},setConnectorId(t,e){t&&(it.activeConnectorIds={...it.activeConnectorIds,[e]:t},ue.setConnectedConnectorId(e,t))},removeConnectorId(t){it.activeConnectorIds={...it.activeConnectorIds,[t]:void 0},ue.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return it.activeConnectorIds[t]},isConnected(t){return t?!!it.activeConnectorIds[t]:Object.values(it.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){it.activeConnectorIds={...w8}}},de=_s(wZ),eg={getConnectionStatus(t,e){const n=de.state.activeConnectorIds[e],r=we.state.connections.get(e)??[];return!!n&&t.connectorId===n?"connected":r.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},validateAccountSwitch({namespace:t,connection:e,address:n}){if(t===J.CHAIN.BITCOIN){if(!n)throw new Error("Address parameter is required for switching bip122 connection");const{type:s}=e.accounts.find(i=>i.address.toLowerCase()===n.toLowerCase())??{};if(typeof s=="string"&&s!=="payment")throw new Error(`Switching to non-payment accounts is not allowed for ${t}`)}},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:n}){return t.map(r=>{if((e?r.connectorId.toLowerCase()===e.toLowerCase():!1)&&n){const i=r.accounts.filter(o=>!n.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...r,accounts:i}}return r})},excludeExistingConnections(t,e){const n=new Set(t);return e.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(n=>n.connectorId.toLowerCase()===e.toLowerCase())},filterConnectionsByAccountType(t,e){return t.map(n=>{const r=n.accounts.filter(s=>typeof s.type=="string"?s.type.toLowerCase()===e.toLowerCase():!0);return{...n,accounts:r}})},getConnectionsData(t){const e=we.state.connections.get(t)??[],n=e.filter(a=>!a.recent),r=de.state.activeConnectorIds[t],i=e.filter(a=>a.recent).filter(a=>de.getConnectorById(a.connectorId)),o=eg.excludeExistingConnections([...n.map(a=>a.connectorId),...r?[r]:[]],i);return{connections:n,recentConnections:o}}};var eh={};const vZ="https://secure.walletconnect.org/sdk",bZ=(typeof process<"u"&&typeof eh<"u"?eh.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||vZ,_Z=(typeof process<"u"&&typeof eh<"u"?eh.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",EZ=(typeof process<"u"&&typeof eh<"u"?eh.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",be={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Nn={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},CZ=1e3,No={checkNamespaceConnectorId(t,e){return de.getConnectorId(t)===e},isSocialProvider(t){return mt.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:i}){return new Promise((o,a)=>{if(t&&de.setActiveConnector(e),s==null||s(Ee.isMobile()&&t),r){const l=ft.subscribeKey("open",u=>{u||(ke.state.view!==r&&ke.replace(r),l(),a(new Error("Modal closed")))})}const c=$.subscribeKey("activeCaipAddress",l=>{l&&(i==null||i(),n&&ft.close(),c(),o(as.parseCaipAddress(l)))})})},connectExternal(t){return new Promise((e,n)=>{const r=$.subscribeKey("activeCaipAddress",s=>{s&&(ft.close(),r(),e(as.parseCaipAddress(s)))});we.connectExternal(t,t.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:t,closeModalOnConnect:e=!0,onOpenFarcaster:n,onConnect:r}){let s=ce.state.socialWindow,i=ce.state.socialProvider,o=!1,a=null;const c=$.subscribeKey("activeCaipAddress",l=>{l&&(e&&ft.close(),c())});return new Promise((l,u)=>{async function d(f){var p;if((p=f.data)!=null&&p.resultUri)if(f.origin===J.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",d,!1);try{const g=de.getAuthConnector();if(g&&!o){s&&(s.close(),ce.setSocialWindow(void 0,$.state.activeChain),s=ce.state.socialWindow),o=!0;const y=f.data.resultUri;if(i&&yt.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:i}}),await g.provider.connectSocial(y),i){ue.setConnectedSocialProvider(i),await we.connectExternal({id:g.id,type:g.type,socialUri:y},g.chain);const w=$.state.activeCaipAddress;if(!w){u(new Error("Failed to connect"));return}l(as.parseCaipAddress(w)),yt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:i}})}}}catch{i&&yt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}}),u(new Error("Failed to connect"))}}else i&&yt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}})}async function h(){if(t&&(ce.setSocialProvider(t,$.state.activeChain),i=ce.state.socialProvider,yt.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:i}})),i==="farcaster"){n==null||n();const f=ft.subscribeKey("open",g=>{!g&&t==="farcaster"&&(u(new Error("Popup closed")),r==null||r(),f())}),p=de.getAuthConnector();if(p&&!ce.state.farcasterUrl)try{const{url:g}=await p.provider.getFarcasterUri();ce.setFarcasterUrl(g,$.state.activeChain)}catch{u(new Error("Failed to connect to farcaster"))}}else{const f=de.getAuthConnector();a=Ee.returnOpenHref(`${J.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(f&&i){const{uri:p}=await f.provider.getSocialRedirectUri({provider:i});if(a&&p){ce.setSocialWindow(a,$.state.activeChain),s=ce.state.socialWindow,a.location.href=p;const g=setInterval(()=>{s!=null&&s.closed&&!o&&(u(new Error("Popup closed")),clearInterval(g))},1e3);window.addEventListener("message",d,!1)}else a==null||a.close(),u(new Error("Failed to initiate social connection"))}}catch{u(new Error("Failed to initiate social connection")),a==null||a.close()}}}h()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:n,onConnect:r}){return new Promise((s,i)=>{if(n==null||n(),e){const a=ft.subscribeKey("open",c=>{c||(ke.state.view!==e&&ke.replace(e),a(),i(new Error("Modal closed")))})}const o=$.subscribeKey("activeCaipAddress",a=>{a&&(r==null||r(),t&&ft.close(),o(),s(as.parseCaipAddress(a)))})})},async updateEmail(){const t=ue.getConnectedConnectorId($.state.activeChain),e=de.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==J.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=e.provider.getEmail()??"";return ke.push("UpdateEmailWallet",{email:n,redirectView:void 0}),new Promise((r,s)=>{const i=setInterval(()=>{const a=e.provider.getEmail()??"";a!==n&&(ft.close(),clearInterval(i),o(),r({email:a}))},CZ),o=ft.subscribeKey("open",a=>{a||(ke.state.view!=="Connect"&&ke.push("Connect"),clearInterval(i),o(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){var n;return $.checkIfSmartAccountEnabled()&&((n=ce.state.preferredAccountTypes)==null?void 0:n[t])===Nn.ACCOUNT_TYPES.EOA}},Xc=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),hn=Ot({...Xc}),xZ={state:hn,subscribeKey(t,e){return Wn(hn,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Ee.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){hn.message=Xc.message,hn.variant=Xc.variant,hn.svg=Xc.svg,hn.open=Xc.open,hn.autoClose=Xc.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=Xc.autoClose}){hn.open?(hn.open=!1,setTimeout(()=>{hn.message=t,hn.variant=n,hn.svg=e,hn.open=!0,hn.autoClose=r},150)):(hn.message=t,hn.variant=n,hn.svg=e,hn.open=!0,hn.autoClose=r)}},hi=xZ,It=Ot({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),SZ={state:It,subscribe(t){return qn(It,()=>t(It))},setLastNetworkInView(t){It.lastNetworkInView=t},async fetchTransactions(t,e){var n,r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");It.loading=!0;try{const s=await Pe.fetchTransactions({account:t,cursor:It.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),i=Cf.filterSpamTransactions(s.data),o=Cf.filterByConnectedChain(i),a=[...It.transactions,...o];It.loading=!1,e==="coinbase"?It.coinbaseTransactions=Cf.groupTransactionsByYearAndMonth(It.coinbaseTransactions,s.data):(It.transactions=a,It.transactionsByYear=Cf.groupTransactionsByYearAndMonth(It.transactionsByYear,o)),It.empty=a.length===0,It.next=s.next?s.next:void 0}catch{const i=$.state.activeChain;yt.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:te.state.projectId,cursor:It.next,isSmartAccount:((r=ce.state.preferredAccountTypes)==null?void 0:r[i])===Nn.ACCOUNT_TYPES.SMART_ACCOUNT}}),hi.showError("Failed to fetch transactions"),It.loading=!1,It.empty=!0,It.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),o=n[s]??{},c=(o[i]??[]).filter(l=>l.id!==r.id);n[s]={...o,[i]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var s;return((s=r.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=$.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){It.next=void 0},resetTransactions(){It.transactions=[],It.transactionsByYear={},It.lastNetworkInView=void 0,It.loading=!1,It.empty=!1,It.next=void 0}},Cf=_s(SZ,"API_ERROR"),tt=Ot({connections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let qc;const AZ={state:tt,subscribe(t){return qn(tt,()=>t(tt))},subscribeKey(t,e){return Wn(tt,t,e)},_getClient(){return tt._client},setClient(t){tt._client=Vl(t)},initialize(t){const e=ue.getConnections();for(const n of t){const r=n.namespace;if(r){const s=tt.connections.get(r)??[],i=e[r]??[],o=[...s,...i];tt.connections.set(r,o)}}},async connectWalletConnect(){var t,e,n,r;if(Ee.isTelegram()||Ee.isSafari()&&Ee.isIos()){if(qc){await qc,qc=void 0;return}if(!Ee.isPairingExpired(tt==null?void 0:tt.wcPairingExpiry)){const s=tt.wcUri;tt.wcUri=s;return}qc=(e=(t=we._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),we.state.status="connecting",await qc,qc=void 0,tt.wcPairingExpiry=void 0,we.state.status="connected"}else await((r=(n=we._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var s,i;const r=await((i=(s=we._getClient())==null?void 0:s.connectExternal)==null?void 0:i.call(s,t));return n&&$.setActiveNamespace(e),r},async reconnectExternal(t){var n,r;await((r=(n=we._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||$.state.activeChain;e&&de.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;ft.setLoading(!0,$.state.activeChain);const n=de.getAuthConnector();n&&(ce.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),ue.setPreferredAccountTypes(ce.state.preferredAccountTypes??{[e]:t}),await we.reconnectExternal(n),ft.setLoading(!1,$.state.activeChain),yt.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=$.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=we._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=we._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=we._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=we._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=we._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=we._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=we._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=we._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=we._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=we._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=we._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=we._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){tt.wcUri=void 0,tt.wcPairingExpiry=void 0,tt.wcLinking=void 0,tt.recentWallet=void 0,tt.status="disconnected",Cf.resetTransactions(),ue.deleteWalletConnectDeepLink()},resetUri(){tt.wcUri=void 0,tt.wcPairingExpiry=void 0,qc=void 0},finalizeWcConnection(){var n,r;const{wcLinking:t,recentWallet:e}=we.state;t&&ue.setWalletConnectDeepLink(t),e&&ue.setAppKitRecent(e),yt.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((r=(n=ke.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown"}})},setWcBasic(t){tt.wcBasic=t},setUri(t){tt.wcUri=t,tt.wcPairingExpiry=Ee.getPairingExpiry()},setWcLinking(t){tt.wcLinking=t},setWcError(t){tt.wcError=t,tt.buffering=!1},setRecentWallet(t){tt.recentWallet=t},setBuffering(t){tt.buffering=t},setStatus(t){tt.status=t},setIsSwitchingConnection(t){tt.isSwitchingConnection=t},async disconnect({id:t,namespace:e}={}){var n;try{await((n=we._getClient())==null?void 0:n.disconnect({id:t,chainNamespace:e}))}catch(r){throw new Xd("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},setConnections(t,e){tt.connections=new Map(tt.connections.set(e,t))},async handleAuthAccountSwitch({address:t,connection:e,namespace:n}){var o;const r=(o=e.accounts.find(a=>a.type==="smartAccount"))==null?void 0:o.address,i=(r==null?void 0:r.toLowerCase())===t.toLowerCase()&&No.canSwitchToSmartAccount(n)?"smartAccount":"eoa";await we.setPreferredAccountType(i,n)},async handleActiveConnection({connection:t,namespace:e,address:n}){const r=de.getConnectorById(t.connectorId),s=t.connectorId===J.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${t.connectorId}`);const i=await we.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:e},e);return s&&n&&await we.handleAuthAccountSwitch({address:n,connection:t,namespace:e}),i==null?void 0:i.address},async handleDisconnectedConnection({connection:t,namespace:e,address:n,closeModalOnConnect:r}){var l,u;const s=de.getConnectorById(t.connectorId),i=(u=(l=t.auth)==null?void 0:l.name)==null?void 0:u.toLowerCase(),o=t.connectorId===J.CONNECTOR_ID.AUTH,a=t.connectorId===J.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(i&&No.isSocialProvider(i)){const{address:d}=await No.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){ft.open({view:"ConnectingFarcaster"})},onConnect(){ke.replace("ProfileWallets")}});c=d}else{const{address:d}=await No.connectEmail({closeModalOnConnect:r,onOpen(){ft.open({view:"EmailLogin"})},onConnect(){ke.replace("ProfileWallets")}});c=d}else if(a){const{address:d}=await No.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(h){ft.open({view:h?"AllWallets":"ConnectingWalletConnect"})},onConnect(){ke.replace("ProfileWallets")}});c=d}else{const d=await we.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:e},e);d&&(c=d.address)}return o&&n&&await we.handleAuthAccountSwitch({address:n,connection:t,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:n,closeModalOnConnect:r,onChange:s}){eg.validateAccountSwitch({namespace:n,connection:t,address:e});let i;const o=ce.getCaipAddress(n);if(o){const{address:c}=as.parseCaipAddress(o);i=c}const a=eg.getConnectionStatus(t,n);switch(a){case"connected":case"active":{const c=await we.handleActiveConnection({connection:t,namespace:n,address:e});if(i&&c){const l=c.toLowerCase()!==i.toLowerCase();s==null||s({address:c,namespace:n,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await we.handleDisconnectedConnection({connection:t,namespace:n,address:e,closeModalOnConnect:r});c&&(s==null||s({address:c,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0}));break}default:throw new Error(`Invalid connection status: ${a}`)}}},we=_s(AZ),Cu=Ot({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Ji={state:Cu,subscribe(t){return qn(Cu,()=>t(Cu))},subscribeOpen(t){return Wn(Cu,"open",t)},set(t){Object.assign(Cu,{...Cu,...t})}};function IZ(t){const e=Array.from($.state.chains.keys());let n=[];return t?(n.push([t,$.state.chains.get(t)]),No.checkNamespaceConnectorId(t,J.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&No.checkNamespaceConnectorId(r,J.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,$.state.chains.get(r)])}):No.checkNamespaceConnectorId(t,J.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&No.checkNamespaceConnectorId(r,J.CONNECTOR_ID.AUTH)&&n.push([r,$.state.chains.get(r)])})):n=Array.from($.state.chains.entries()),n}function v8(){var r,s;const t=((r=$.state.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((s=$.state.activeCaipNetwork)==null?void 0:s.id)||1,n=mt.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`}const TZ={async getTokenList(){var r;const t=$.state.activeCaipNetwork,e=await Pe.fetchSwapTokens({chainId:t==null?void 0:t.caipNetworkId});return((r=e==null?void 0:e.tokens)==null?void 0:r.map(s=>({...s,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var e;const t=$.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const n=(e=await(we==null?void 0:we.estimateGas({chainNamespace:"solana"})))==null?void 0:e.toString();return{standard:n,fast:n,instant:n};case"eip155":default:return await Pe.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await Pe.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(s!=null&&s.allowance&&n&&r){const i=we.parseUnits(n,r)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(t){const e=await cA.getMyTokensWithBalance(t);return ce.setTokenBalance(e,$.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:v8(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},gt=Ot({tokenBalances:[],loading:!1}),NZ={state:gt,subscribe(t){return qn(gt,()=>t(gt))},subscribeKey(t,e){return Wn(gt,t,e)},setToken(t){t&&(gt.token=Vl(t))},setTokenAmount(t){gt.sendTokenAmount=t},setReceiverAddress(t){gt.receiverAddress=t},setReceiverProfileImageUrl(t){gt.receiverProfileImageUrl=t},setReceiverProfileName(t){gt.receiverProfileName=t},setNetworkBalanceInUsd(t){gt.networkBalanceInUSD=t},setLoading(t){gt.loading=t},async sendToken(){var t;try{switch(dt.setLoading(!0),(t=$.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await dt.sendEvmToken();return;case"solana":await dt.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{dt.setLoading(!1)}},async sendEvmToken(){var n,r,s,i;const t=$.state.activeChain,e=(n=ce.state.preferredAccountTypes)==null?void 0:n[t];if(!dt.state.sendTokenAmount||!dt.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!dt.state.token)throw new Error("A token is required");(r=dt.state.token)!=null&&r.address?(yt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Nn.ACCOUNT_TYPES.SMART_ACCOUNT,token:dt.state.token.address,amount:dt.state.sendTokenAmount,network:((s=$.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),await dt.sendERC20Token({receiverAddress:dt.state.receiverAddress,tokenAddress:dt.state.token.address,sendTokenAmount:dt.state.sendTokenAmount,decimals:dt.state.token.quantity.decimals})):(yt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Nn.ACCOUNT_TYPES.SMART_ACCOUNT,token:dt.state.token.symbol||"",amount:dt.state.sendTokenAmount,network:((i=$.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),await dt.sendNativeToken({receiverAddress:dt.state.receiverAddress,sendTokenAmount:dt.state.sendTokenAmount,decimals:dt.state.token.quantity.decimals}))},async fetchTokenBalance(t){var i,o;gt.loading=!0;const e=(i=$.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=$.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=$.state.activeCaipAddress,s=r?Ee.getPlainAddress(r):void 0;if(gt.lastRetry&&!Ee.isAllowedRetry(gt.lastRetry,30*mt.ONE_SEC_MS))return gt.loading=!1,[];try{if(s&&e&&n){const a=await cA.getMyTokensWithBalance();return gt.tokenBalances=a,gt.lastRetry=void 0,a}}catch(a){gt.lastRetry=Date.now(),t==null||t(a),hi.showError("Token Balance Unavailable")}finally{gt.loading=!1}return[]},fetchNetworkBalance(){if(gt.tokenBalances.length===0)return;const t=TZ.mapBalancesToSwapTokens(gt.tokenBalances);if(!t)return;const e=t.find(n=>n.address===v8());e&&(gt.networkBalanceInUSD=e?YQ.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var i,o,a,c;ke.pushTransactionStack({});const e=t.receiverAddress,n=ce.state.address,r=we.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await we.sendTransaction({chainNamespace:"eip155",to:e,address:n,data:"0x",value:r??BigInt(0)}),yt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((i=ce.state.preferredAccountTypes)==null?void 0:i.eip155)===Nn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((o=dt.state.token)==null?void 0:o.symbol)||"",amount:t.sendTokenAmount,network:((a=$.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),(c=we._getClient())==null||c.updateBalance("eip155"),dt.resetSend()},async sendERC20Token(t){ke.pushTransactionStack({onSuccess(){ke.replace("Account")}});const e=we.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(ce.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=Ee.getPlainAddress(t.tokenAddress);await we.writeContract({fromAddress:ce.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:XQ.getERC20Abi(n),chainNamespace:"eip155"}),dt.resetSend()}},async sendSolanaToken(){var t;if(!dt.state.sendTokenAmount||!dt.state.receiverAddress)throw new Error("An amount and receiver address are required");ke.pushTransactionStack({onSuccess(){ke.replace("Account")}}),await we.sendTransaction({chainNamespace:"solana",to:dt.state.receiverAddress,value:dt.state.sendTokenAmount}),(t=we._getClient())==null||t.updateBalance("solana"),dt.resetSend()},resetSend(){gt.token=void 0,gt.sendTokenAmount=void 0,gt.receiverAddress=void 0,gt.receiverProfileImageUrl=void 0,gt.receiverProfileName=void 0,gt.loading=!1,gt.tokenBalances=[]}},dt=_s(NZ),l1={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},Ym={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},he=Ot({chains:BQ(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),PZ={state:he,subscribe(t){return qn(he,()=>{t(he)})},subscribeKey(t,e){return Wn(he,t,e)},subscribeChainProp(t,e,n){let r;return qn(he.chains,()=>{var i;const s=n||he.activeChain;if(s){const o=(i=he.chains.get(s))==null?void 0:i[t];r!==o&&(r=o,e(o))}})},initialize(t,e,n){const{chainId:r,namespace:s}=ue.getActiveNetworkProps(),i=e==null?void 0:e.find(u=>u.id.toString()===(r==null?void 0:r.toString())),a=t.find(u=>(u==null?void 0:u.namespace)===s)||(t==null?void 0:t[0]),c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=te.state.enableEmbedded?new Set([...c]):new Set([...(e==null?void 0:e.map(u=>u.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(he.noAdapters=!0),he.noAdapters||(he.activeChain=a==null?void 0:a.namespace,he.activeCaipNetwork=i,$.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:i}),he.activeChain&&Ji.set({activeChain:a==null?void 0:a.namespace})),l.forEach(u=>{const d=e==null?void 0:e.filter(h=>h.chainNamespace===u);$.state.chains.set(u,{namespace:u,networkState:Ot({...Ym,caipNetwork:d==null?void 0:d[0]}),accountState:Ot(l1),caipNetworks:d??[],...n}),$.setRequestedCaipNetworks(d??[],u)})},removeAdapter(t){var e,n;if(he.activeChain===t){const r=Array.from(he.chains.entries()).find(([s])=>s!==t);if(r){const s=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];s&&$.setActiveCaipNetwork(s)}}he.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){he.chains.set(t.namespace,{namespace:t.namespace,networkState:{...Ym,caipNetwork:r[0]},accountState:l1,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),$.setRequestedCaipNetworks((r==null?void 0:r.filter(s=>s.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=he.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(s=>s.id===t.id)||r.push(t),he.chains.set(t.chainNamespace,{...e,caipNetworks:r}),$.setRequestedCaipNetworks(r,t.chainNamespace),de.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var r,s,i;const n=he.chains.get(t);if(n){const o=((r=he.activeCaipNetwork)==null?void 0:r.id)===e,a=[...((s=n.caipNetworks)==null?void 0:s.filter(c=>c.id!==e))||[]];o&&((i=n==null?void 0:n.caipNetworks)!=null&&i[0])&&$.setActiveCaipNetwork(n.caipNetworks[0]),he.chains.set(t,{...n,caipNetworks:a}),$.setRequestedCaipNetworks(a||[],t),a.length===0&&de.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=he.chains.get(t);n&&(n.networkState={...n.networkState||Ym,...e},he.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=he.chains.get(t);if(r){const s={...r.accountState||l1,...e};he.chains.set(t,{...r,accountState:s}),(he.chains.size===1||he.activeChain===t)&&(e.caipAddress&&(he.activeCaipAddress=e.caipAddress),ce.replaceState(s))}},setChainNetworkData(t,e){if(!t)return;const n=he.chains.get(t);if(n){const r={...n.networkState||Ym,...e};he.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){$.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&de.removeConnectorId(n)},setActiveNamespace(t){var r,s;he.activeChain=t;const e=t?he.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(he.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,he.activeCaipNetwork=n,$.setChainNetworkData(t,{caipNetwork:n}),ue.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),Ji.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,s,i;if(!t)return;he.activeChain!==t.chainNamespace&&$.setIsSwitchingNamespace(!0);const e=he.chains.get(t.chainNamespace);he.activeChain=t.chainNamespace,he.activeCaipNetwork=t,$.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?he.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(s=e==null?void 0:e.accountState)==null?void 0:s.address}`:he.activeCaipAddress=void 0,$.setAccountProp("caipAddress",he.activeCaipAddress,t.chainNamespace),e&&ce.replaceState(e.accountState),dt.resetSend(),Ji.set({activeChain:he.activeChain,selectedNetworkId:(i=he.activeCaipNetwork)==null?void 0:i.caipNetworkId}),ue.setActiveCaipNetworkId(t.caipNetworkId),!$.checkIfSupportedNetwork(t.chainNamespace)&&te.state.enableNetworkSwitch&&!te.state.allowUnsupportedChain&&!we.state.wcBasic&&$.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=he.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var s;if(!t)return;const e=t!==$.state.activeChain,n=(s=$.getNetworkData(t))==null?void 0:s.caipNetwork,r=$.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await $.switchActiveNetwork(r)},async switchActiveNetwork(t){var s;const e=$.state.chains.get($.state.activeChain),n=!((s=e==null?void 0:e.caipNetworks)!=null&&s.some(i=>{var o;return i.id===((o=he.activeCaipNetwork)==null?void 0:o.id)})),r=$.getNetworkControllerClient(t.chainNamespace);if(r){try{await r.switchCaipNetwork(t),n&&ft.close()}catch{ke.goBack()}yt.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||he.activeChain,n=he.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||he.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=he.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){var s;let n=he.activeChain;if(e&&(n=e),!n)return;const r=(s=he.chains.get(n))==null?void 0:s.accountState;if(r)return r[t]},getNetworkProp(t,e){var r;const n=(r=he.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=he.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return Ee.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return he.chains.forEach(e=>{const n=$.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){$.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=$.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(r));de.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const t=[];return he.chains.forEach(e=>{const n=$.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return he.activeCaipNetwork},getActiveCaipAddress(){return he.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=he.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=$.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());$.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||he.activeCaipNetwork,r=$.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(s=>s.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(t){if(!he.activeChain)return!0;const e=$.getRequestedCaipNetworks(he.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){$.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=Xp.caipNetworkIdToNumber((r=he.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=he.activeChain;if(!e||!t)return!1;const n=$.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},showUnsupportedChainUI(){ft.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=he.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&mt.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){$.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");he.activeCaipAddress=void 0,$.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),de.removeConnectorId(e)},setIsSwitchingNamespace(t){he.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(he.chains.forEach(s=>{J.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===s.namespace)&&s.namespace&&t.push(s.namespace)}),t.length>0){const s=t[0];return e=s?(r=(n=he.chains.get(s))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var e;return t?(e=$.state.chains.get(t))==null?void 0:e.accountState:ce.state},getNetworkData(t){var n;const e=t||he.activeChain;if(e)return(n=$.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var s,i,o;if(!t)return;const n=$.state.chains.get(t),r=(s=n==null?void 0:n.caipNetworks)==null?void 0:s.find(a=>a.id===e);return r||((i=n==null?void 0:n.networkState)==null?void 0:i.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=de.state.filterByNamespace;return(t?[he.chains.get(t)]:Array.from(he.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?$.getRequestedCaipNetworks(t):$.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){he.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return he.lastConnectedSIWECaipNetwork}},$=_s(PZ),kZ={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},b8=Ee.getBlockchainApiUrl(),Nr=Ot({clientId:null,api:new Kg({baseUrl:b8,clientId:null}),supportedChains:{http:[],ws:[]}}),Pe={state:Nr,async get(t){const{st:e,sv:n}=Pe.getSdkProperties(),r=te.state.projectId,s={...t.params||{},st:e,sv:n,projectId:r};return Nr.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=te.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{Nr.supportedChains.http.length||await Pe.getSupportedNetworks()}catch{return!1}return Nr.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Pe.get({path:"v1/supported-chains"});return Nr.supportedChains=t,t}catch{return Nr.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await Pe.isNetworkSupported(e))return{avatar:"",name:""};const r=ue.getIdentityFromCacheForAddress(t);if(r)return r;const s=await Pe.get({path:`/v1/identity/${t}`,params:{sender:$.state.activeCaipAddress?Ee.getPlainAddress($.state.activeCaipAddress):void 0}});return ue.updateIdentityCache({address:t,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:s,chainId:i}){var a;return await Pe.isNetworkSupported((a=$.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?Pe.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:i},signal:r,cache:s}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:s}){var o;return await Pe.isNetworkSupported((o=$.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?Pe.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await Pe.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Pe.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var n;return await Pe.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Nr.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:te.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await Pe.isNetworkSupported((r=$.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Pe.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var s;const{st:e,sv:n}=Pe.getSdkProperties();if(!await Pe.isNetworkSupported((s=$.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return Pe.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:s}){var o;if(!await Pe.isNetworkSupported((o=$.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Nr.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:mt.CONVERT_SLIPPAGE_TOLERANCE},projectId:te.state.projectId,from:e,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var o;const{st:r,sv:s}=Pe.getSdkProperties();if(!await Pe.isNetworkSupported((o=$.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Pe.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:s}})},async getBalance(t,e,n){var l;const{st:r,sv:s}=Pe.getSdkProperties();if(!await Pe.isNetworkSupported((l=$.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return hi.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=ue.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Pe.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:s}});return ue.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var n;return await Pe.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Pe.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await Pe.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Pe.get({path:`/v1/profile/reverse/${t}`,params:{sender:ce.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await Pe.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Pe.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var i;return await Pe.isNetworkSupported((i=$.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?Nr.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){var a;return await Pe.isNetworkSupported((a=$.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await Nr.api.post({path:"/v1/generators/onrampurl",params:{projectId:te.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await Pe.isNetworkSupported((e=$.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Pe.get({path:"/v1/onramp/options"})}catch{return kZ}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var s;try{return await Pe.isNetworkSupported((s=$.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await Nr.api.post({path:"/v1/onramp/quote",params:{projectId:te.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await Pe.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Pe.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var s;return await Pe.isNetworkSupported((s=$.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?Nr.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:te.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){Nr.clientId=t,Nr.api=new Kg({baseUrl:b8,clientId:t})}},u1={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return ph(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},cA={async getMyTokensWithBalance(t){const e=ce.state.address,n=$.state.activeCaipNetwork,r=de.getConnectorId("eip155")===J.CONNECTOR_ID.AUTH;if(!e||!n)return[];const s=`${n.caipNetworkId}:${e}`,i=ue.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(n.chainNamespace==="eip155"&&r){const a=await this.getEIP155Balances(e,n);if(a)return this.filterLowQualityTokens(a)}const o=await Pe.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){var n,r;try{const s=u1.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),i=await we.getCapabilities(t);if(!((r=(n=i==null?void 0:i[s])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await we.walletGetAssets({account:t,chainFilter:[s]});if(!u1.isWalletGetAssetsResponse(o))return null;const c=(o[s]||[]).map(l=>u1.createBalance(l,e.caipNetworkId));return ue.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:c},timestamp:Date.now()}),c}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},Es=Ot({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),OZ={state:Es,replaceState(t){t&&Object.assign(Es,Vl(t))},subscribe(t){return $.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return $.subscribeChainProp("accountState",s=>{if(s){const i=s[t];r!==i&&(r=i,e(i))}},n)},setStatus(t,e){$.setAccountProp("status",t,e)},getCaipAddress(t){return $.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?Ee.getPlainAddress(t):void 0;e===$.state.activeChain&&($.state.activeCaipAddress=t),$.setAccountProp("caipAddress",t,e),$.setAccountProp("address",n,e)},setBalance(t,e,n){$.setAccountProp("balance",t,n),$.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){$.setAccountProp("profileName",t,e)},setProfileImage(t,e){$.setAccountProp("profileImage",t,e)},setUser(t,e){$.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){$.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){$.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){$.setAccountProp("currentTab",t,$.state.activeChain)},setTokenBalance(t,e){t&&$.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){$.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){$.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=$.getAccountProp("addressLabels",n)||new Map;r.set(t,e),$.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=$.getAccountProp("addressLabels",e)||new Map;n.delete(t),$.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){$.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){$.setAccountProp("preferredAccountTypes",{...Es.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){Es.preferredAccountTypes=t},setSocialProvider(t,e){t&&$.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){$.setAccountProp("socialWindow",t?Vl(t):void 0,e)},setFarcasterUrl(t,e){$.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var i,o;Es.balanceLoading=!0;const e=(i=$.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=$.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=$.state.activeCaipAddress,s=r?Ee.getPlainAddress(r):void 0;if(Es.lastRetry&&!Ee.isAllowedRetry(Es.lastRetry,30*mt.ONE_SEC_MS))return Es.balanceLoading=!1,[];try{if(s&&e&&n){const a=await cA.getMyTokensWithBalance();return ce.setTokenBalance(a,n),Es.lastRetry=void 0,Es.balanceLoading=!1,a}}catch(a){Es.lastRetry=Date.now(),t==null||t(a),hi.showError("Token Balance Unavailable")}finally{Es.balanceLoading=!1}return[]},resetAccount(t){$.resetAccount(t)}},ce=_s(OZ),RZ={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=$.state.activeCaipNetwork,r=ke.state.data;if(t.id===(n==null?void 0:n.id))return;const i=ce.getCaipAddress($.state.activeChain),o=t.chainNamespace!==$.state.activeChain,a=ce.getCaipAddress(t.chainNamespace),l=de.getConnectorId($.state.activeChain)===J.CONNECTOR_ID.AUTH,u=J.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(d=>d===t.chainNamespace);e||l&&u?ke.push("SwitchNetwork",{...r,network:t}):i&&o&&!a?ke.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):ke.push("SwitchNetwork",{...r,network:t})}},Pr=Ot({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),$Z={state:Pr,subscribe(t){return qn(Pr,()=>t(Pr))},subscribeKey(t,e){return Wn(Pr,t,e)},async open(t){var o,a;const e=ce.state.status==="connected",n=t==null?void 0:t.namespace,r=$.state.activeChain,s=n&&n!==r,i=(o=$.getAccountData(t==null?void 0:t.namespace))==null?void 0:o.caipAddress;if(we.state.wcBasic?Ae.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Ae.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),de.setFilterByNamespace(t==null?void 0:t.namespace),ft.setLoading(!0,n),n&&s){const c=((a=$.getNetworkData(n))==null?void 0:a.caipNetwork)||$.getRequestedCaipNetworks(n)[0];c&&RZ.onSwitchNetwork({network:c,ignoreSwitchConfirmation:!0})}else{const c=$.state.noAdapters;te.state.manualWCControl||c&&!i?Ee.isMobile()?ke.reset("AllWallets"):ke.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?ke.reset(t.view,t.data):i?ke.reset("Account"):ke.reset("Connect")}Pr.open=!0,Ji.set({open:!0}),yt.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const t=te.state.enableEmbedded,e=!!$.state.activeCaipAddress;Pr.open&&yt.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Pr.open=!1,ke.reset("Connect"),ft.clearLoading(),t?e?ke.replace("Account"):ke.push("Connect"):Ji.set({open:!1}),we.resetUri()},setLoading(t,e){e&&Pr.loadingNamespaceMap.set(e,t),Pr.loading=t,Ji.set({loading:t})},clearLoading(){Pr.loadingNamespaceMap.clear(),Pr.loading=!1},shake(){Pr.shake||(Pr.shake=!0,setTimeout(()=>{Pr.shake=!1},500))}},ft=_s($Z),qf={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},lC={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},DZ={providers:m8,selectedProvider:null,error:null,purchaseCurrency:qf,paymentCurrency:lC,purchaseCurrencies:[qf],paymentCurrencies:[],quotesLoading:!1},nt=Ot(DZ),jZ={state:nt,subscribe(t){return qn(nt,()=>t(nt))},subscribeKey(t,e){return Wn(nt,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=$.state.activeChain===J.CHAIN.SOLANA?"SOL":"USDC",n=ce.state.address??"",r=new URL(t.url);r.searchParams.append("publicKey",eZ),r.searchParams.append("destinationCurrencyCode",e),r.searchParams.append("walletAddress",n),r.searchParams.append("externalCustomerId",te.state.projectId),nt.selectedProvider={...t,url:r.toString()}}else nt.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=m8.filter(r=>e.includes(r.name));nt.providers=n}else nt.providers=[]},setPurchaseCurrency(t){nt.purchaseCurrency=t},setPaymentCurrency(t){nt.paymentCurrency=t},setPurchaseAmount(t){uC.state.purchaseAmount=t},setPaymentAmount(t){uC.state.paymentAmount=t},async getAvailableCurrencies(){const t=await Pe.getOnrampOptions();nt.purchaseCurrencies=t.purchaseCurrencies,nt.paymentCurrencies=t.paymentCurrencies,nt.paymentCurrency=t.paymentCurrencies[0]||lC,nt.purchaseCurrency=t.purchaseCurrencies[0]||qf,await Ae.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await Ae.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){var t,e;nt.quotesLoading=!0;try{const n=await Pe.getOnrampQuote({purchaseCurrency:nt.purchaseCurrency,paymentCurrency:nt.paymentCurrency,amount:((t=nt.paymentAmount)==null?void 0:t.toString())||"0",network:(e=nt.purchaseCurrency)==null?void 0:e.symbol});return nt.quotesLoading=!1,nt.purchaseAmount=Number(n==null?void 0:n.purchaseAmount.amount),n}catch(n){return nt.error=n.message,nt.quotesLoading=!1,null}finally{nt.quotesLoading=!1}},resetState(){nt.selectedProvider=null,nt.error=null,nt.purchaseCurrency=qf,nt.paymentCurrency=lC,nt.purchaseCurrencies=[qf],nt.paymentCurrencies=[],nt.paymentAmount=void 0,nt.purchaseAmount=void 0,nt.quotesLoading=!1}},uC=_s(jZ),JT=2147483648,UZ={convertEVMChainIdToCoinType(t){if(t>=JT)throw new Error("Invalid chainId");return(JT|t)>>>0}},Cs=Ot({suggestions:[],loading:!1}),LZ={state:Cs,subscribe(t){return qn(Cs,()=>t(Cs))},subscribeKey(t,e){return Wn(Cs,t,e)},async resolveName(t){var e,n;try{return await Pe.lookupEnsName(t)}catch(r){const s=r;throw new Error(((n=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await Pe.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{Cs.loading=!0,Cs.suggestions=[];const e=await Pe.getEnsNameSuggestions(t);return Cs.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],Cs.suggestions}catch(e){const n=Wf.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{Cs.loading=!1}},async getNamesForAddress(t){try{if(!$.state.activeCaipNetwork)return[];const n=ue.getEnsFromCacheForAddress(t);if(n)return n;const r=await Pe.reverseLookupEnsName({address:t});return ue.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=Wf.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=$.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=ce.state.address,r=de.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");Cs.loading=!0;try{const s=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});ke.pushTransactionStack({onCancel(){ke.replace("RegisterAccountName")}});const i=await we.signMessage(s);Cs.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=UZ.convertEVMChainIdToCoinType(Number(o));await Pe.registerEnsName({coinType:a,address:n,signature:i,message:s}),ce.setProfileName(t,e.chainNamespace),ke.replace("RegisterAccountNameSuccess")}catch(s){const i=Wf.parseEnsApiError(s,`Error registering name ${t}`);throw ke.replace("RegisterAccountName"),new Error(i)}finally{Cs.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,s;const n=t;return((s=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:s.description)||e}},Wf=_s(LZ);var lA={exports:{}},Cd=typeof Reflect=="object"?Reflect:null,QT=Cd&&typeof Cd.apply=="function"?Cd.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},Hy;Cd&&typeof Cd.ownKeys=="function"?Hy=Cd.ownKeys:Object.getOwnPropertySymbols?Hy=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Hy=function(e){return Object.getOwnPropertyNames(e)};function MZ(t){console&&console.warn&&console.warn(t)}var _8=Number.isNaN||function(e){return e!==e};function St(){St.init.call(this)}lA.exports=St;lA.exports.once=qZ;St.EventEmitter=St;St.prototype._events=void 0;St.prototype._eventsCount=0;St.prototype._maxListeners=void 0;var ZT=10;function lv(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(St,"defaultMaxListeners",{enumerable:!0,get:function(){return ZT},set:function(t){if(typeof t!="number"||t<0||_8(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");ZT=t}});St.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};St.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||_8(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function E8(t){return t._maxListeners===void 0?St.defaultMaxListeners:t._maxListeners}St.prototype.getMaxListeners=function(){return E8(this)};St.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=e==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[e];if(c===void 0)return!1;if(typeof c=="function")QT(c,this,n);else for(var l=c.length,u=I8(c,l),r=0;r<l;++r)QT(u[r],this,n);return!0};function C8(t,e,n,r){var s,i,o;if(lv(n),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),o=i[e]),o===void 0)o=i[e]=n,++t._eventsCount;else if(typeof o=="function"?o=i[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=E8(t),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,MZ(a)}return t}St.prototype.addListener=function(e,n){return C8(this,e,n,!1)};St.prototype.on=St.prototype.addListener;St.prototype.prependListener=function(e,n){return C8(this,e,n,!0)};function BZ(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function x8(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},s=BZ.bind(r);return s.listener=n,r.wrapFn=s,s}St.prototype.once=function(e,n){return lv(n),this.on(e,x8(this,e,n)),this};St.prototype.prependOnceListener=function(e,n){return lv(n),this.prependListener(e,x8(this,e,n)),this};St.prototype.removeListener=function(e,n){var r,s,i,o,a;if(lv(n),s=this._events,s===void 0)return this;if(r=s[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():FZ(r,i),r.length===1&&(s[e]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};St.prototype.off=St.prototype.removeListener;St.prototype.removeAllListeners=function(e){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(e,n[s]);return this};function S8(t,e,n){var r=t._events;if(r===void 0)return[];var s=r[e];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?zZ(s):I8(s,s.length)}St.prototype.listeners=function(e){return S8(this,e,!0)};St.prototype.rawListeners=function(e){return S8(this,e,!1)};St.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):A8.call(t,e)};St.prototype.listenerCount=A8;function A8(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}St.prototype.eventNames=function(){return this._eventsCount>0?Hy(this._events):[]};function I8(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function FZ(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function zZ(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function qZ(t,e){return new Promise(function(n,r){function s(o){t.removeListener(e,i),r(o)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),n([].slice.call(arguments))}T8(t,e,i,{once:!0}),e!=="error"&&WZ(t,s,{once:!0})})}function WZ(t,e,n){typeof t.on=="function"&&T8(t,"error",e,n)}function T8(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){r.once&&t.removeEventListener(e,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Hs=lA.exports;const uA=ru(Hs);var oe={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dC=function(t,e){return dC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},dC(t,e)};function HZ(t,e){dC(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var hC=function(){return hC=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},hC.apply(this,arguments)};function VZ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function GZ(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function KZ(t,e){return function(n,r){e(n,r,t)}}function YZ(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function JZ(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function QZ(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ZZ(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function XZ(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function fC(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function N8(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function eX(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(N8(arguments[e]));return t}function tX(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function tg(t){return this instanceof tg?(this.v=t,this):new tg(t)}function nX(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(f){return new Promise(function(p,g){i.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(i[0][3],p)}}function c(h){h.value instanceof tg?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function rX(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:tg(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function sX(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof fC=="function"?fC(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function iX(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function oX(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function aX(t){return t&&t.__esModule?t:{default:t}}function cX(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function lX(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const uX=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return hC},__asyncDelegator:rX,__asyncGenerator:nX,__asyncValues:sX,__await:tg,__awaiter:JZ,__classPrivateFieldGet:cX,__classPrivateFieldSet:lX,__createBinding:ZZ,__decorate:GZ,__exportStar:XZ,__extends:HZ,__generator:QZ,__importDefault:aX,__importStar:oX,__makeTemplateObject:iX,__metadata:YZ,__param:KZ,__read:N8,__rest:VZ,__spread:eX,__spreadArrays:tX,__values:fC},Symbol.toStringTag,{value:"Module"})),uv=mw(uX);var d1={},Kh={},XT;function dX(){if(XT)return Kh;XT=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return Kh.delay=t,Kh}var Wc={},h1={},Hc={},eN;function hX(){return eN||(eN=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.ONE_THOUSAND=Hc.ONE_HUNDRED=void 0,Hc.ONE_HUNDRED=100,Hc.ONE_THOUSAND=1e3),Hc}var f1={},tN;function fX(){return tN||(tN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(f1)),f1}var nN;function P8(){return nN||(nN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=uv;e.__exportStar(hX(),t),e.__exportStar(fX(),t)}(h1)),h1}var rN;function pX(){if(rN)return Wc;rN=1,Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.fromMiliseconds=Wc.toMiliseconds=void 0;const t=P8();function e(r){return r*t.ONE_THOUSAND}Wc.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return Wc.fromMiliseconds=n,Wc}var sN;function gX(){return sN||(sN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=uv;e.__exportStar(dX(),t),e.__exportStar(pX(),t)}(d1)),d1}var xu={},iN;function mX(){if(iN)return xu;iN=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return xu.Watch=t,xu.default=t,xu}var p1={},Yh={},oN;function yX(){if(oN)return Yh;oN=1,Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.IWatch=void 0;class t{}return Yh.IWatch=t,Yh}var aN;function wX(){return aN||(aN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),uv.__exportStar(yX(),t)}(p1)),p1}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=uv;e.__exportStar(gX(),t),e.__exportStar(mX(),t),e.__exportStar(wX(),t),e.__exportStar(P8(),t)})(oe);class du{}let vX=class extends du{constructor(e){super()}};const cN=oe.FIVE_SECONDS,hu={pulse:"heartbeat_pulse"};let bX=class k8 extends vX{constructor(e){super(e),this.events=new Hs.EventEmitter,this.interval=cN,this.interval=(e==null?void 0:e.interval)||cN}static async init(e){const n=new k8(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),oe.toMiliseconds(this.interval))}pulse(){this.events.emit(hu.pulse)}};const _X=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,EX=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,CX=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function xX(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){SX(t);return}return e}function SX(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Jm(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!CX.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(_X.test(t)||EX.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,xX)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function AX(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function En(t,...e){try{return AX(t(...e))}catch(n){return Promise.reject(n)}}function IX(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function TX(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Vy(t){if(IX(t))return String(t);if(TX(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Vy(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const pC="base64:";function NX(t){return typeof t=="string"?t:pC+OX(t)}function PX(t){return typeof t!="string"||!t.startsWith(pC)?t:kX(t.slice(pC.length))}function kX(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function OX(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function jr(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function RX(...t){return jr(t.join(":"))}function Qm(t){return t=jr(t),t?t+":":""}function $X(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function DX(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const jX="memory",UX=()=>{const t=new Map;return{name:jX,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function LX(t={}){const e={mounts:{"":t.driver||UX()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),s=(l,u)=>{if(e.watching){u=jr(u);for(const d of e.watchListeners)d(l,u)}},i=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await lN(e.mounts[l],s,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,d)=>{const h=new Map,f=p=>{let g=h.get(p.base);return g||(g={driver:p.driver,base:p.base,items:[]},h.set(p.base,g)),g};for(const p of l){const g=typeof p=="string",y=jr(g?p:p.key),w=g?void 0:p.value,b=g||!p.options?u:{...u,...p.options},v=n(y);f(v).items.push({key:y,value:w,relativeKey:v.relativeKey,options:b})}return Promise.all([...h.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=jr(l);const{relativeKey:d,driver:h}=n(l);return En(h.hasItem,d,u)},getItem(l,u={}){l=jr(l);const{relativeKey:d,driver:h}=n(l);return En(h.getItem,d,u).then(f=>Jm(f))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?En(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(f=>({key:RX(d.base,f.key),value:Jm(f.value)}))):Promise.all(d.items.map(h=>En(d.driver.getItem,h.relativeKey,h.options).then(f=>({key:h.key,value:Jm(f)})))))},getItemRaw(l,u={}){l=jr(l);const{relativeKey:d,driver:h}=n(l);return h.getItemRaw?En(h.getItemRaw,d,u):En(h.getItem,d,u).then(f=>PX(f))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=jr(l);const{relativeKey:h,driver:f}=n(l);f.setItem&&(await En(f.setItem,h,Vy(u),d),f.watch||s("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return En(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:Vy(h.value),options:h.options})),u);d.driver.setItem&&await Promise.all(d.items.map(h=>En(d.driver.setItem,h.relativeKey,Vy(h.value),h.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=jr(l);const{relativeKey:h,driver:f}=n(l);if(f.setItemRaw)await En(f.setItemRaw,h,u,d);else if(f.setItem)await En(f.setItem,h,NX(u),d);else return;f.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=jr(l);const{relativeKey:d,driver:h}=n(l);h.removeItem&&(await En(h.removeItem,d,u),(u.removeMeta||u.removeMata)&&await En(h.removeItem,d+"$",u),h.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=jr(l);const{relativeKey:d,driver:h}=n(l),f=Object.create(null);if(h.getMeta&&Object.assign(f,await En(h.getMeta,d,u)),!u.nativeOnly){const p=await En(h.getItem,d+"$",u).then(g=>Jm(g));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(f,p))}return f},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var y;l=Qm(l);const d=r(l,!0);let h=[];const f=[];let p=!0;for(const w of d){(y=w.driver.flags)!=null&&y.maxDepth||(p=!1);const b=await En(w.driver.getKeys,w.relativeBase,u);for(const v of b){const E=w.mountpoint+jr(v);h.some(_=>E.startsWith(_))||f.push(E)}h=[w.mountpoint,...h.filter(v=>!v.startsWith(w.mountpoint))]}const g=u.maxDepth!==void 0&&!p;return f.filter(w=>(!g||$X(w,u.maxDepth))&&DX(w,l))},async clear(l,u={}){l=Qm(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return En(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(h.map(f=>d.driver.removeItem(f,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>uN(l)))},async watch(l){return await i(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=Qm(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,h)=>h.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(lN(u,s,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){var d,h;l=Qm(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((h=(d=e.unwatch)[l])==null||h.call(d),delete e.unwatch[l]),u&&await uN(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=jr(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=jr(l),r(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function lN(t,e,n){return t.watch?t.watch((r,s)=>e(r,n+s)):()=>{}}async function uN(t){typeof t.dispose=="function"&&await En(t.dispose)}function fu(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function O8(t,e){let n;const r=()=>{if(n)return n;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),n=fu(s),n.then(i=>{i.onclose=()=>n=void 0},()=>{}),n};return(s,i)=>r().then(o=>i(o.transaction(e,s).objectStore(e)))}let g1;function Yg(){return g1||(g1=O8("keyval-store","keyval")),g1}function dN(t,e=Yg()){return e("readonly",n=>fu(n.get(t)))}function MX(t,e,n=Yg()){return n("readwrite",r=>(r.put(e,t),fu(r.transaction)))}function BX(t,e=Yg()){return e("readwrite",n=>(n.delete(t),fu(n.transaction)))}function FX(t=Yg()){return t("readwrite",e=>(e.clear(),fu(e.transaction)))}function zX(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},fu(t.transaction)}function qX(t=Yg()){return t("readonly",e=>{if(e.getAllKeys)return fu(e.getAllKeys());const n=[];return zX(e,r=>n.push(r.key)).then(()=>n)})}const WX=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),HX=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function Kl(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return HX(t)}catch{return t}}function Vo(t){return typeof t=="string"?t:WX(t)||""}const VX="idb-keyval";var GX=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=s=>e+s;let r;return t.dbName&&t.storeName&&(r=O8(t.dbName,t.storeName)),{name:VX,options:t,async hasItem(s){return!(typeof await dN(n(s),r)>"u")},async getItem(s){return await dN(n(s),r)??null},setItem(s,i){return MX(n(s),i,r)},removeItem(s){return BX(n(s),r)},getKeys(){return qX(r)},clear(){return FX(r)}}};const KX="WALLET_CONNECT_V2_INDEXED_DB",YX="keyvaluestorage";let JX=class{constructor(){this.indexedDb=LX({driver:GX({dbName:KX,storeName:YX})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Vo(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var m1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gy={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof m1<"u"&&m1.localStorage?Gy.exports=m1.localStorage:typeof window<"u"&&window.localStorage?Gy.exports=window.localStorage:Gy.exports=new e})();function QX(t){var e;return[t[0],Kl((e=t[1])!=null?e:"")]}let ZX=class{constructor(){this.localStorage=Gy.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(QX)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return Kl(n)}async setItem(e,n){this.localStorage.setItem(e,Vo(n))}async removeItem(e){this.localStorage.removeItem(e)}};const XX="wc_storage_version",hN=1,eee=async(t,e,n)=>{const r=XX,s=await e.getItem(r);if(s&&s>=hN){n(e);return}const i=await t.getKeys();if(!i.length){n(e);return}const o=[];for(;i.length;){const a=i.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,hN),n(e),tee(t,o)},tee=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let nee=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new ZX;this.storage=e;try{const n=new JX;eee(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};function ree(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var see=iee;function iee(t,e,n){var r=n&&n.stringify||ree,s=1;if(typeof t=="object"&&t!==null){var i=e.length+s;if(i===1)return t;var o=new Array(i);o[0]=r(t);for(var a=1;a<i;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-s,d=-1,h=t&&t.length||0,f=0;f<h;){if(t.charCodeAt(f)===37&&f+1<h){switch(d=d>-1?d:0,t.charCodeAt(f+1)){case 100:case 102:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Number(e[u]),d=f+2,f++;break;case 105:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Math.floor(Number(e[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;d<f&&(l+=t.slice(d,f));var p=typeof e[u];if(p==="string"){l+="'"+e[u]+"'",d=f+2,f++;break}if(p==="function"){l+=e[u].name||"<anonymous>",d=f+2,f++;break}l+=r(e[u]),d=f+2,f++;break;case 115:if(u>=c)break;d<f&&(l+=t.slice(d,f)),l+=String(e[u]),d=f+2,f++;break;case 37:d<f&&(l+=t.slice(d,f)),l+="%",d=f+2,f++,u--;break}++u}++f}return d===-1?t:(d<h&&(l+=t.slice(d)),l)}const fN=see;var Ku=Qi;const ng=gee().console||{},oee={mapHttpRequest:Zm,mapHttpResponse:Zm,wrapRequestSerializer:y1,wrapResponseSerializer:y1,wrapErrorSerializer:y1,req:Zm,res:Zm,err:dee};function aee(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Qi(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||ng;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},s=aee(t.browser.serialize,r);let i=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(n);c.log||(c.log=rg),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:d,set:h});const l={transmit:e,serialize:s,asObject:t.browser.asObject,levels:o,timestamp:hee(t)};c.levels=Qi.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=rg,c.serializers=r,c._serialize=s,c._stdErrSerialize=i,c.child=f,e&&(c._logEvent=gC());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function h(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,Su(l,c,"error","log"),Su(l,c,"fatal","error"),Su(l,c,"warn","error"),Su(l,c,"info","log"),Su(l,c,"debug","log"),Su(l,c,"trace","log")}function f(p,g){if(!p)throw new Error("missing bindings for child Pino");g=g||{},s&&p.serializers&&(g.serializers=p.serializers);const y=g.serializers;if(s&&y){var w=Object.assign({},r,y),b=t.browser.serialize===!0?Object.keys(w):s;delete p.serializers,dv([p],b,w,this._stdErrSerialize)}function v(E){this._childLevel=(E._childLevel|0)+1,this.error=Au(E,p,"error"),this.fatal=Au(E,p,"fatal"),this.warn=Au(E,p,"warn"),this.info=Au(E,p,"info"),this.debug=Au(E,p,"debug"),this.trace=Au(E,p,"trace"),w&&(this.serializers=w,this._serialize=b),e&&(this._logEvent=gC([].concat(E._logEvent.bindings,p)))}return v.prototype=this,new v(this)}return c}Qi.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Qi.stdSerializers=oee;Qi.stdTimeFunctions=Object.assign({},{nullTime:R8,epochTime:$8,unixTime:fee,isoTime:pee});function Su(t,e,n,r){const s=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?rg:s[n]?s[n]:ng[n]||ng[r]||rg,cee(t,e,n)}function cee(t,e,n){!t.transmit&&e[n]===rg||(e[n]=function(r){return function(){const i=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===ng?ng:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&dv(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,lee(this,n,o,i)):r.apply(a,o),t.transmit){const l=t.transmit.level||e.level,u=Qi.levels.values[l],d=Qi.levels.values[n];if(d<u)return;uee(this,{ts:i,methodLevel:n,methodValue:d,transmitValue:Qi.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function lee(t,e,n,r){t._serialize&&dv(n,t._serialize,t.serializers,t._stdErrSerialize);const s=n.slice();let i=s[0];const o={};r&&(o.time=r),o.level=Qi.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),i!==null&&typeof i=="object"){for(;a--&&typeof s[0]=="object";)Object.assign(o,s.shift());i=s.length?fN(s.shift(),s):void 0}else typeof i=="string"&&(i=fN(s.shift(),s));return i!==void 0&&(o.msg=i),o}function dv(t,e,n,r){for(const s in t)if(r&&t[s]instanceof Error)t[s]=Qi.stdSerializers.err(t[s]);else if(typeof t[s]=="object"&&!Array.isArray(t[s]))for(const i in t[s])e&&e.indexOf(i)>-1&&i in n&&(t[s][i]=n[i](t[s][i]))}function Au(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var s=1;s<r.length;s++)r[s]=arguments[s-1];return t[n].apply(this,r)}}function uee(t,e,n){const r=e.send,s=e.ts,i=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;dv(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=i,t._logEvent.level.value=o,r(i,t._logEvent,a),t._logEvent=gC(c)}function gC(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function dee(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function hee(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?R8:$8}function Zm(){return{}}function y1(t){return t}function rg(){}function R8(){return!1}function $8(){return Date.now()}function fee(){return Math.round(Date.now()/1e3)}function pee(){return new Date(Date.now()).toISOString()}function gee(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const Jg=ru(Ku),mee={level:"info"},Qg="custom_context",dA=1e3*1024;let yee=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},pN=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new yee(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},D8=class{constructor(e,n=dA){this.level=e??"error",this.levelValue=Ku.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new pN(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Ku.levels.values.error?console.error(e):n===Ku.levels.values.warn?console.warn(e):n===Ku.levels.values.debug?console.debug(e):n===Ku.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Vo({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new pN(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Vo({extraMetadata:e})),new Blob(n,{type:"application/json"})}},wee=class{constructor(e,n=dA){this.baseChunkLogger=new D8(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},vee=class{constructor(e,n=dA){this.baseChunkLogger=new D8(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var bee=Object.defineProperty,_ee=Object.defineProperties,Eee=Object.getOwnPropertyDescriptors,gN=Object.getOwnPropertySymbols,Cee=Object.prototype.hasOwnProperty,xee=Object.prototype.propertyIsEnumerable,mN=(t,e,n)=>e in t?bee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q0=(t,e)=>{for(var n in e||(e={}))Cee.call(e,n)&&mN(t,n,e[n]);if(gN)for(var n of gN(e))xee.call(e,n)&&mN(t,n,e[n]);return t},W0=(t,e)=>_ee(t,Eee(e));function vh(t){return W0(q0({},t),{level:(t==null?void 0:t.level)||mee.level})}function See(t,e=Qg){return t[e]||""}function Aee(t,e,n=Qg){return t[n]=e,t}function es(t,e=Qg){let n="";return typeof t.bindings>"u"?n=See(t,e):n=t.bindings().context||"",n}function Iee(t,e,n=Qg){const r=es(t,n);return r.trim()?`${r}/${e}`:e}function lr(t,e,n=Qg){const r=Iee(t,e,n),s=t.child({context:r});return Aee(s,r,n)}function Tee(t){var e,n;const r=new wee((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Jg(W0(q0({},t.opts),{level:"trace",browser:W0(q0({},(n=t.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function Nee(t){var e;const n=new vee((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Jg(W0(q0({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function hA(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Tee(t):Nee(t)}var Pee=Object.defineProperty,kee=(t,e,n)=>e in t?Pee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yN=(t,e,n)=>kee(t,typeof e!="symbol"?e+"":e,n);let Oee=class extends du{constructor(e){super(),this.opts=e,yN(this,"protocol","wc"),yN(this,"version",2)}};var Ree=Object.defineProperty,$ee=(t,e,n)=>e in t?Ree(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dee=(t,e,n)=>$ee(t,e+"",n);let jee=class extends du{constructor(e,n){super(),this.core=e,this.logger=n,Dee(this,"records",new Map)}},Uee=class{constructor(e,n){this.logger=e,this.core=n}},Lee=class extends du{constructor(e,n){super(),this.relayer=e,this.logger=n}},Mee=class extends du{constructor(e){super()}},Bee=class{constructor(e,n,r,s){this.core=e,this.logger=n,this.name=r}},Fee=class extends du{constructor(e,n){super(),this.relayer=e,this.logger=n}},zee=class extends du{constructor(e,n){super(),this.core=e,this.logger=n}},qee=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},Wee=class{constructor(e,n){this.projectId=e,this.logger=n}},Hee=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var Vee=Object.defineProperty,Gee=(t,e,n)=>e in t?Vee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wN=(t,e,n)=>Gee(t,typeof e!="symbol"?e+"":e,n);let Kee=class{constructor(e){this.opts=e,wN(this,"protocol","wc"),wN(this,"version",2)}},Yee=class{constructor(e){this.client=e}};function Jee(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function j8(t,...e){if(!Jee(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function vN(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Qee(t,e){j8(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Iu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const w1=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function Zee(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function U8(t){return typeof t=="string"&&(t=Zee(t)),j8(t),t}let Xee=class{clone(){return this._cloneInto()}};function ete(t){const e=r=>t().update(U8(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function L8(t=32){if(Iu&&typeof Iu.getRandomValues=="function")return Iu.getRandomValues(new Uint8Array(t));if(Iu&&typeof Iu.randomBytes=="function")return Iu.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function tte(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}let nte=class extends Xee{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=w1(this.buffer)}update(e){vN(this);const{view:n,buffer:r,blockLen:s}=this;e=U8(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=w1(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){vN(this),Qee(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;tte(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=w1(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}};const Xm=BigInt(2**32-1),mC=BigInt(32);function M8(t,e=!1){return e?{h:Number(t&Xm),l:Number(t>>mC&Xm)}:{h:Number(t>>mC&Xm)|0,l:Number(t&Xm)|0}}function rte(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=M8(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const ste=(t,e)=>BigInt(t>>>0)<<mC|BigInt(e>>>0),ite=(t,e,n)=>t>>>n,ote=(t,e,n)=>t<<32-n|e>>>n,ate=(t,e,n)=>t>>>n|e<<32-n,cte=(t,e,n)=>t<<32-n|e>>>n,lte=(t,e,n)=>t<<64-n|e>>>n-32,ute=(t,e,n)=>t>>>n-32|e<<64-n,dte=(t,e)=>e,hte=(t,e)=>t,fte=(t,e,n)=>t<<n|e>>>32-n,pte=(t,e,n)=>e<<n|t>>>32-n,gte=(t,e,n)=>e<<n-32|t>>>64-n,mte=(t,e,n)=>t<<n-32|e>>>64-n;function yte(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const wte=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),vte=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,bte=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),_te=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,Ete=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Cte=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,He={fromBig:M8,split:rte,toBig:ste,shrSH:ite,shrSL:ote,rotrSH:ate,rotrSL:cte,rotrBH:lte,rotrBL:ute,rotr32H:dte,rotr32L:hte,rotlSH:fte,rotlSL:pte,rotlBH:gte,rotlBL:mte,add:yte,add3L:wte,add3H:vte,add4L:bte,add4H:_te,add5H:Cte,add5L:Ete},[xte,Ste]=He.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ua=new Uint32Array(80),da=new Uint32Array(80);let Ate=class extends nte{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:g,Hl:y}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let v=0;v<16;v++,n+=4)ua[v]=e.getUint32(n),da[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const E=ua[v-15]|0,_=da[v-15]|0,x=He.rotrSH(E,_,1)^He.rotrSH(E,_,8)^He.shrSH(E,_,7),S=He.rotrSL(E,_,1)^He.rotrSL(E,_,8)^He.shrSL(E,_,7),T=ua[v-2]|0,C=da[v-2]|0,O=He.rotrSH(T,C,19)^He.rotrBH(T,C,61)^He.shrSH(T,C,6),R=He.rotrSL(T,C,19)^He.rotrBL(T,C,61)^He.shrSL(T,C,6),L=He.add4L(S,R,da[v-7],da[v-16]),z=He.add4H(L,x,O,ua[v-7],ua[v-16]);ua[v]=z|0,da[v]=L|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:g,Gl:y,Hh:w,Hl:b}=this;for(let v=0;v<80;v++){const E=He.rotrSH(d,h,14)^He.rotrSH(d,h,18)^He.rotrBH(d,h,41),_=He.rotrSL(d,h,14)^He.rotrSL(d,h,18)^He.rotrBL(d,h,41),x=d&f^~d&g,S=h&p^~h&y,T=He.add5L(b,_,S,Ste[v],da[v]),C=He.add5H(T,w,E,x,xte[v],ua[v]),O=T|0,R=He.rotrSH(r,s,28)^He.rotrBH(r,s,34)^He.rotrBH(r,s,39),L=He.rotrSL(r,s,28)^He.rotrBL(r,s,34)^He.rotrBL(r,s,39),z=r&i^r&a^i&a,M=s&o^s&c^o&c;w=g|0,b=y|0,g=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=He.add(l|0,u|0,C|0,O|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const A=He.add3L(O,L,M);r=He.add3H(A,C,R,z),s=A|0}({h:r,l:s}=He.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=He.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=He.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=He.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=He.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=He.add(this.Fh|0,this.Fl|0,f|0,p|0),{h:g,l:y}=He.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:b}=He.add(this.Hh|0,this.Hl|0,w|0,b|0),this.set(r,s,i,o,a,c,l,u,d,h,f,p,g,y,w,b)}roundClean(){ua.fill(0),da.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Ite=ete(()=>new Ate);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fA=BigInt(0),B8=BigInt(1),Tte=BigInt(2);function pA(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function gA(t){if(!pA(t))throw new Error("Uint8Array expected")}function v1(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Nte=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function mA(t){gA(t);let e="";for(let n=0;n<t.length;n++)e+=Nte[t[n]];return e}function F8(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?fA:BigInt("0x"+t)}const uo={_0:48,_9:57,A:65,F:70,a:97,f:102};function bN(t){if(t>=uo._0&&t<=uo._9)return t-uo._0;if(t>=uo.A&&t<=uo.F)return t-(uo.A-10);if(t>=uo.a&&t<=uo.f)return t-(uo.a-10)}function z8(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=bN(t.charCodeAt(i)),a=bN(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Pte(t){return F8(mA(t))}function Ky(t){return gA(t),F8(mA(Uint8Array.from(t).reverse()))}function q8(t,e){return z8(t.toString(16).padStart(e*2,"0"))}function yC(t,e){return q8(t,e).reverse()}function ho(t,e,n){let r;if(typeof e=="string")try{r=z8(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(pA(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function _N(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];gA(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const b1=t=>typeof t=="bigint"&&fA<=t;function kte(t,e,n){return b1(t)&&b1(e)&&b1(n)&&e<=t&&t<n}function Jh(t,e,n,r){if(!kte(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Ote(t){let e;for(e=0;t>fA;t>>=B8,e+=1);return e}const Rte=t=>(Tte<<BigInt(t-1))-B8,$te={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||pA(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function yA(t,e,n={}){const r=(s,i,o)=>{const a=$te[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function EN(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const In=BigInt(0),sn=BigInt(1),rl=BigInt(2),Dte=BigInt(3),wC=BigInt(4),CN=BigInt(5),xN=BigInt(8);function yn(t,e){const n=t%e;return n>=In?n:e+n}function jte(t,e,n){if(e<In)throw new Error("invalid exponent, negatives unsupported");if(n<=In)throw new Error("invalid modulus");if(n===sn)return In;let r=sn;for(;e>In;)e&sn&&(r=r*t%n),t=t*t%n,e>>=sn;return r}function Ni(t,e,n){let r=t;for(;e-- >In;)r*=r,r%=n;return r}function SN(t,e){if(t===In)throw new Error("invert: expected non-zero number");if(e<=In)throw new Error("invert: expected positive modulus, got "+e);let n=yn(t,e),r=e,s=In,i=sn;for(;n!==In;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==sn)throw new Error("invert: does not exist");return yn(s,e)}function Ute(t){const e=(t-sn)/rl;let n,r,s;for(n=t-sn,r=0;n%rl===In;n/=rl,r++);for(s=rl;s<t&&jte(s,e,t)!==t-sn;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+sn)/wC;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(n+sn)/rl;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,s),n),u=o.pow(a,i),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let p=o.sqr(d);h<c&&!o.eql(p,o.ONE);h++)p=o.sqr(p);const f=o.pow(l,sn<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function Lte(t){if(t%wC===Dte){const e=(t+sn)/wC;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%xN===CN){const e=(t-CN)/xN;return function(n,r){const s=n.mul(r,rl),i=n.pow(s,e),o=n.mul(r,i),a=n.mul(n.mul(o,rl),i),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return Ute(t)}const Mte=(t,e)=>(yn(t,e)&sn)===sn,Bte=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Fte(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Bte.reduce((r,s)=>(r[s]="function",r),e);return yA(t,n)}function zte(t,e,n){if(n<In)throw new Error("invalid exponent, negatives unsupported");if(n===In)return t.ONE;if(n===sn)return e;let r=t.ONE,s=e;for(;n>In;)n&sn&&(r=t.mul(r,s)),s=t.sqr(s),n>>=sn;return r}function qte(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function W8(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function H8(t,e,n=!1,r={}){if(t<=In)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=W8(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:Rte(s),ZERO:In,ONE:sn,create:c=>yn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return In<=c&&c<t},is0:c=>c===In,isOdd:c=>(c&sn)===sn,neg:c=>yn(-c,t),eql:(c,l)=>c===l,sqr:c=>yn(c*c,t),add:(c,l)=>yn(c+l,t),sub:(c,l)=>yn(c-l,t),mul:(c,l)=>yn(c*l,t),pow:(c,l)=>zte(a,c,l),div:(c,l)=>yn(c*SN(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>SN(c,t),sqrt:r.sqrt||(c=>(o||(o=Lte(t)),o(a,c))),invertBatch:c=>qte(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?yC(c,i):q8(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?Ky(c):Pte(c)}});return Object.freeze(a)}const AN=BigInt(0),ey=BigInt(1);function _1(t,e){const n=e.negate();return t?n:e}function V8(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function E1(t,e){V8(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function Wte(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Hte(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const C1=new WeakMap,G8=new WeakMap;function x1(t){return G8.get(t)||1}function Vte(t,e){return{constTimeNegate:_1,hasPrecomputes(n){return x1(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>AN;)r&ey&&(s=s.add(i)),i=i.double(),r>>=ey;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=E1(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){const{windows:i,windowSize:o}=E1(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<i;h++){const f=h*o;let p=Number(s&l);s>>=d,p>o&&(p-=u,s+=ey);const g=f,y=f+Math.abs(p)-1,w=h%2!==0,b=p<0;p===0?c=c.add(_1(w,r[g])):a=a.add(_1(b,r[y]))}return{p:a,f:c}},wNAFUnsafe(n,r,s,i=t.ZERO){const{windows:o,windowSize:a}=E1(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(s===AN)break;let f=Number(s&c);if(s>>=u,f>a&&(f-=l,s+=ey),f===0)continue;let p=r[h+Math.abs(f)-1];f<0&&(p=p.negate()),i=i.add(p)}return i},getPrecomputes(n,r,s){let i=C1.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&C1.set(r,s(i))),i},wNAFCached(n,r,s){const i=x1(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=x1(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){V8(r,e),G8.set(n,r),C1.delete(n)}}}function Gte(t,e,n,r){if(Wte(n,t),Hte(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=Ote(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),l=Math.floor((e.BITS-1)/o)*o;let u=s;for(let d=l;d>=0;d-=o){c.fill(s);for(let f=0;f<r.length;f++){const p=r[f],g=Number(p>>BigInt(d)&BigInt(a));c[g]=c[g].add(n[f])}let h=s;for(let f=c.length-1,p=s;f>0;f--)p=p.add(c[f]),h=h.add(p);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function Kte(t){return Fte(t.Fp),yA(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...W8(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Ys=BigInt(0),kr=BigInt(1),ty=BigInt(2),Yte=BigInt(8),Jte={zip215:!0};function Qte(t){const e=Kte(t);return yA(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Zte(t){const e=Qte(t),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,l=ty<<BigInt(a*8)-kr,u=n.create,d=H8(e.n,e.nBitLength),h=e.uvRatio||((A,I)=>{try{return{isValid:!0,value:n.sqrt(A*n.inv(I))}}catch{return{isValid:!1,value:Ys}}}),f=e.adjustScalarBytes||(A=>A),p=e.domain||((A,I,D)=>{if(v1("phflag",D),I.length||D)throw new Error("Contexts/pre-hash are not supported");return A});function g(A,I){Jh("coordinate "+A,I,Ys,l)}function y(A){if(!(A instanceof v))throw new Error("ExtendedPoint expected")}const w=EN((A,I)=>{const{ex:D,ey:N,ez:k}=A,U=A.is0();I==null&&(I=U?Yte:n.inv(k));const j=u(D*I),q=u(N*I),K=u(k*I);if(U)return{x:Ys,y:kr};if(K!==kr)throw new Error("invZ was invalid");return{x:j,y:q}}),b=EN(A=>{const{a:I,d:D}=e;if(A.is0())throw new Error("bad point: ZERO");const{ex:N,ey:k,ez:U,et:j}=A,q=u(N*N),K=u(k*k),H=u(U*U),Q=u(H*H),Z=u(q*I),le=u(H*u(Z+K)),Ce=u(Q+u(D*u(q*K)));if(le!==Ce)throw new Error("bad point: equation left != right (1)");const Se=u(N*k),Oe=u(U*j);if(Se!==Oe)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(I,D,N,k){this.ex=I,this.ey=D,this.ez=N,this.et=k,g("x",I),g("y",D),g("z",N),g("t",k),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(I){if(I instanceof v)throw new Error("extended point not allowed");const{x:D,y:N}=I||{};return g("x",D),g("y",N),new v(D,N,kr,u(D*N))}static normalizeZ(I){const D=n.invertBatch(I.map(N=>N.ez));return I.map((N,k)=>N.toAffine(D[k])).map(v.fromAffine)}static msm(I,D){return Gte(v,d,I,D)}_setWindowSize(I){x.setWindowSize(this,I)}assertValidity(){b(this)}equals(I){y(I);const{ex:D,ey:N,ez:k}=this,{ex:U,ey:j,ez:q}=I,K=u(D*q),H=u(U*k),Q=u(N*q),Z=u(j*k);return K===H&&Q===Z}is0(){return this.equals(v.ZERO)}negate(){return new v(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:I}=e,{ex:D,ey:N,ez:k}=this,U=u(D*D),j=u(N*N),q=u(ty*u(k*k)),K=u(I*U),H=D+N,Q=u(u(H*H)-U-j),Z=K+j,le=Z-q,Ce=K-j,Se=u(Q*le),Oe=u(Z*Ce),Mt=u(Q*Ce),Yt=u(le*Z);return new v(Se,Oe,Yt,Mt)}add(I){y(I);const{a:D,d:N}=e,{ex:k,ey:U,ez:j,et:q}=this,{ex:K,ey:H,ez:Q,et:Z}=I;if(D===BigInt(-1)){const zt=u((U-k)*(H+K)),an=u((U+k)*(H-K)),ur=u(an-zt);if(ur===Ys)return this.double();const Zo=u(j*ty*Z),Xo=u(q*ty*Q),Ai=Xo+Zo,kn=an+zt,Ar=Xo-Zo,Mc=u(Ai*ur),kh=u(kn*Ar),ea=u(Ai*Ar),um=u(ur*kn);return new v(Mc,kh,um,ea)}const le=u(k*K),Ce=u(U*H),Se=u(q*N*Z),Oe=u(j*Q),Mt=u((k+U)*(K+H)-le-Ce),Yt=Oe-Se,Ge=Oe+Se,Je=u(Ce-D*le),Jt=u(Mt*Yt),Rt=u(Ge*Je),Kn=u(Mt*Je),Si=u(Yt*Ge);return new v(Jt,Rt,Si,Kn)}subtract(I){return this.add(I.negate())}wNAF(I){return x.wNAFCached(this,I,v.normalizeZ)}multiply(I){const D=I;Jh("scalar",D,kr,r);const{p:N,f:k}=this.wNAF(D);return v.normalizeZ([N,k])[0]}multiplyUnsafe(I,D=v.ZERO){const N=I;return Jh("scalar",N,Ys,r),N===Ys?_:this.is0()||N===kr?this:x.wNAFCachedUnsafe(this,N,v.normalizeZ,D)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return x.unsafeLadder(this,r).is0()}toAffine(I){return w(this,I)}clearCofactor(){const{h:I}=e;return I===kr?this:this.multiplyUnsafe(I)}static fromHex(I,D=!1){const{d:N,a:k}=e,U=n.BYTES;I=ho("pointHex",I,U),v1("zip215",D);const j=I.slice(),q=I[U-1];j[U-1]=q&-129;const K=Ky(j),H=D?l:n.ORDER;Jh("pointHex.y",K,Ys,H);const Q=u(K*K),Z=u(Q-kr),le=u(N*Q-k);let{isValid:Ce,value:Se}=h(Z,le);if(!Ce)throw new Error("Point.fromHex: invalid y coordinate");const Oe=(Se&kr)===kr,Mt=(q&128)!==0;if(!D&&Se===Ys&&Mt)throw new Error("Point.fromHex: x=0 and x_0=1");return Mt!==Oe&&(Se=u(-Se)),v.fromAffine({x:Se,y:K})}static fromPrivateKey(I){return C(I).point}toRawBytes(){const{x:I,y:D}=this.toAffine(),N=yC(D,n.BYTES);return N[N.length-1]|=I&kr?128:0,N}toHex(){return mA(this.toRawBytes())}}v.BASE=new v(e.Gx,e.Gy,kr,u(e.Gx*e.Gy)),v.ZERO=new v(Ys,kr,kr,Ys);const{BASE:E,ZERO:_}=v,x=Vte(v,a*8);function S(A){return yn(A,r)}function T(A){return S(Ky(A))}function C(A){const I=n.BYTES;A=ho("private key",A,I);const D=ho("hashed private key",i(A),2*I),N=f(D.slice(0,I)),k=D.slice(I,2*I),U=T(N),j=E.multiply(U),q=j.toRawBytes();return{head:N,prefix:k,scalar:U,point:j,pointBytes:q}}function O(A){return C(A).pointBytes}function R(A=new Uint8Array,...I){const D=_N(...I);return T(i(p(D,ho("context",A),!!s)))}function L(A,I,D={}){A=ho("message",A),s&&(A=s(A));const{prefix:N,scalar:k,pointBytes:U}=C(I),j=R(D.context,N,A),q=E.multiply(j).toRawBytes(),K=R(D.context,q,U,A),H=S(j+K*k);Jh("signature.s",H,Ys,r);const Q=_N(q,yC(H,n.BYTES));return ho("result",Q,n.BYTES*2)}const z=Jte;function M(A,I,D,N=z){const{context:k,zip215:U}=N,j=n.BYTES;A=ho("signature",A,2*j),I=ho("message",I),D=ho("publicKey",D,j),U!==void 0&&v1("zip215",U),s&&(I=s(I));const q=Ky(A.slice(j,2*j));let K,H,Q;try{K=v.fromHex(D,U),H=v.fromHex(A.slice(0,j),U),Q=E.multiplyUnsafe(q)}catch{return!1}if(!U&&K.isSmallOrder())return!1;const Z=R(k,H.toRawBytes(),K.toRawBytes(),I);return H.add(K.multiplyUnsafe(Z)).subtract(Q).clearCofactor().equals(v.ZERO)}return E._setWindowSize(8),{CURVE:e,getPublicKey:O,sign:L,verify:M,ExtendedPoint:v,utils:{getExtendedPublicKey:C,randomPrivateKey:()=>o(n.BYTES),precompute(A=8,I=v.BASE){return I._setWindowSize(A),I.multiply(BigInt(3)),I}}}}BigInt(0),BigInt(1);const wA=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),IN=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Xte=BigInt(1),TN=BigInt(2);BigInt(3);const ene=BigInt(5),tne=BigInt(8);function nne(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=wA,o=t*t%i*t%i,a=Ni(o,TN,i)*o%i,c=Ni(a,Xte,i)*t%i,l=Ni(c,ene,i)*c%i,u=Ni(l,e,i)*l%i,d=Ni(u,n,i)*u%i,h=Ni(d,r,i)*d%i,f=Ni(h,s,i)*h%i,p=Ni(f,s,i)*h%i,g=Ni(p,e,i)*l%i;return{pow_p_5_8:Ni(g,TN,i)*t%i,b2:o}}function rne(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function sne(t,e){const n=wA,r=yn(e*e*e,n),s=yn(r*r*e,n),i=nne(t*s).pow_p_5_8;let o=yn(t*r*i,n);const a=yn(e*o*o,n),c=o,l=yn(o*IN,n),u=a===t,d=a===yn(-t,n),h=a===yn(-t*IN,n);return u&&(o=c),(d||h)&&(o=l),Mte(o,n)&&(o=yn(-o,n)),{isValid:u||d,value:o}}const ine=H8(wA,void 0,!0),one={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ine,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:tne,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Ite,randomBytes:L8,adjustScalarBytes:rne,uvRatio:sne},K8=Zte(one),ane="EdDSA",cne="JWT",H0=".",hv="base64url",Y8="utf8",J8="utf8",lne=":",une="did",dne="key",NN="base58btc",hne="z",fne="K36",pne=32;function vA(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Q8(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?vA(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Z8(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=Q8(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return vA(n)}function gne(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,w=0,b=p.length;w!==b&&p[w]===0;)w++,g++;for(var v=(b-w)*u+1>>>0,E=new Uint8Array(v);w!==b;){for(var _=p[w],x=0,S=v-1;(_!==0||x<y)&&S!==-1;S--,x++)_+=256*E[S]>>>0,E[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");y=x,w++}for(var T=v-y;T!==v&&E[T]===0;)T++;for(var C=c.repeat(g);T<v;++T)C+=t.charAt(E[T]);return C}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,w=0;p[g]===c;)y++,g++;for(var b=(p.length-g)*l+1>>>0,v=new Uint8Array(b);p[g];){var E=n[p.charCodeAt(g)];if(E===255)return;for(var _=0,x=b-1;(E!==0||_<w)&&x!==-1;x--,_++)E+=a*v[x]>>>0,v[x]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=_,g++}if(p[g]!==" "){for(var S=b-w;S!==b&&v[S]===0;)S++;for(var T=new Uint8Array(y+(b-S)),C=y;S!==b;)T[C++]=v[S++];return T}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var mne=gne,yne=mne;const X8=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},wne=t=>new TextEncoder().encode(t),vne=t=>new TextDecoder().decode(t);let bne=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},_ne=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return e6(this,e)}},Ene=class{constructor(e){this.decoders=e}or(e){return e6(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const e6=(t,e)=>new Ene({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Cne=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new bne(e,n,r),this.decoder=new _ne(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const fv=({name:t,prefix:e,encode:n,decode:r})=>new Cne(t,e,n,r),Zg=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=yne(n,e);return fv({prefix:t,name:e,encode:r,decode:i=>X8(s(i))})},xne=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Sne=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Hn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>fv({prefix:e,name:t,encode(s){return Sne(s,r,n)},decode(s){return xne(s,r,n,t)}}),Ane=fv({prefix:"\0",name:"identity",encode:t=>vne(t),decode:t=>wne(t)});var Ine=Object.freeze({__proto__:null,identity:Ane});const Tne=Hn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Nne=Object.freeze({__proto__:null,base2:Tne});const Pne=Hn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var kne=Object.freeze({__proto__:null,base8:Pne});const One=Zg({prefix:"9",name:"base10",alphabet:"0123456789"});var Rne=Object.freeze({__proto__:null,base10:One});const $ne=Hn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Dne=Hn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var jne=Object.freeze({__proto__:null,base16:$ne,base16upper:Dne});const Une=Hn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Lne=Hn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Mne=Hn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Bne=Hn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Fne=Hn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),zne=Hn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),qne=Hn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Wne=Hn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Hne=Hn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Vne=Object.freeze({__proto__:null,base32:Une,base32upper:Lne,base32pad:Mne,base32padupper:Bne,base32hex:Fne,base32hexupper:zne,base32hexpad:qne,base32hexpadupper:Wne,base32z:Hne});const Gne=Zg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Kne=Zg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Yne=Object.freeze({__proto__:null,base36:Gne,base36upper:Kne});const Jne=Zg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Qne=Zg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Zne=Object.freeze({__proto__:null,base58btc:Jne,base58flickr:Qne});const Xne=Hn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ere=Hn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),tre=Hn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),nre=Hn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var rre=Object.freeze({__proto__:null,base64:Xne,base64pad:ere,base64url:tre,base64urlpad:nre});const t6=Array.from(""),sre=t6.reduce((t,e,n)=>(t[n]=e,t),[]),ire=t6.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function ore(t){return t.reduce((e,n)=>(e+=sre[n],e),"")}function are(t){const e=[];for(const n of t){const r=ire[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const cre=fv({prefix:"",name:"base256emoji",encode:ore,decode:are});var lre=Object.freeze({__proto__:null,base256emoji:cre}),ure=n6,PN=128,dre=-128,hre=Math.pow(2,31);function n6(t,e,n){e=e||[],n=n||0;for(var r=n;t>=hre;)e[n++]=t&255|PN,t/=128;for(;t&dre;)e[n++]=t&255|PN,t>>>=7;return e[n]=t|0,n6.bytes=n-r+1,e}var fre=vC,pre=128,kN=127;function vC(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw vC.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&kN)<<s:(o&kN)*Math.pow(2,s),s+=7}while(o>=pre);return vC.bytes=i-r,n}var gre=Math.pow(2,7),mre=Math.pow(2,14),yre=Math.pow(2,21),wre=Math.pow(2,28),vre=Math.pow(2,35),bre=Math.pow(2,42),_re=Math.pow(2,49),Ere=Math.pow(2,56),Cre=Math.pow(2,63),xre=function(t){return t<gre?1:t<mre?2:t<yre?3:t<wre?4:t<vre?5:t<bre?6:t<_re?7:t<Ere?8:t<Cre?9:10},Sre={encode:ure,decode:fre,encodingLength:xre},r6=Sre;const ON=(t,e,n=0)=>(r6.encode(t,e,n),e),RN=t=>r6.encodingLength(t),bC=(t,e)=>{const n=e.byteLength,r=RN(t),s=r+RN(n),i=new Uint8Array(s+n);return ON(t,i,0),ON(n,i,r),i.set(e,s),new Are(t,n,e,i)};let Are=class{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}};const s6=({name:t,code:e,encode:n})=>new Ire(t,e,n);let Ire=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?bC(this.code,n):n.then(r=>bC(this.code,r))}else throw Error("Unknown type, must be binary type")}};const i6=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Tre=s6({name:"sha2-256",code:18,encode:i6("SHA-256")}),Nre=s6({name:"sha2-512",code:19,encode:i6("SHA-512")});var Pre=Object.freeze({__proto__:null,sha256:Tre,sha512:Nre});const o6=0,kre="identity",a6=X8,Ore=t=>bC(o6,a6(t)),Rre={code:o6,name:kre,encode:a6,digest:Ore};var $re=Object.freeze({__proto__:null,identity:Rre});new TextEncoder,new TextDecoder;const $N={...Ine,...Nne,...kne,...Rne,...jne,...Vne,...Yne,...Zne,...rre,...lre};({...Pre,...$re});function c6(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const DN=c6("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),S1=c6("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Q8(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),l6={utf8:DN,"utf-8":DN,hex:$N.base16,latin1:S1,ascii:S1,binary:S1,...$N};function pv(t,e="utf8"){const n=l6[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function bh(t,e="utf8"){const n=l6[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?vA(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function jN(t){return Kl(pv(bh(t,hv),Y8))}function V0(t){return pv(bh(Vo(t),Y8),hv)}function u6(t){const e=bh(fne,NN),n=hne+pv(Z8([e,t]),NN);return[une,dne,n].join(lne)}function Dre(t){return pv(t,hv)}function jre(t){return bh(t,hv)}function Ure(t){return bh([V0(t.header),V0(t.payload)].join(H0),J8)}function Lre(t){return[V0(t.header),V0(t.payload),Dre(t.signature)].join(H0)}function _C(t){const e=t.split(H0),n=jN(e[0]),r=jN(e[1]),s=jre(e[2]),i=bh(e.slice(0,2).join(H0),J8);return{header:n,payload:r,signature:s,data:i}}function UN(t=L8(pne)){const e=K8.getPublicKey(t);return{secretKey:Z8([t,e]),publicKey:e}}async function Mre(t,e,n,r,s=oe.fromMiliseconds(Date.now())){const i={alg:ane,typ:cne},o=u6(r.publicKey),a=s+n,c={iss:o,sub:t,aud:e,iat:s,exp:a},l=Ure({header:i,payload:c}),u=K8.sign(l,r.secretKey.slice(0,32));return Lre({header:i,payload:c,signature:u})}var LN=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},Bre=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),Fre=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),zre=function(){function t(e,n,r,s){this.name=e,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return t}(),qre=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Wre=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),Hre=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Vre=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,MN=3,Gre=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Hre]],BN=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Kre(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Wre:typeof navigator<"u"?Jre(navigator.userAgent):Zre()}function Yre(t){return t!==""&&Gre.reduce(function(e,n){var r=n[0],s=n[1];if(e)return e;var i=s.exec(t);return!!i&&[r,i]},!1)}function Jre(t){var e=Yre(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new qre;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<MN&&(s=LN(LN([],s,!0),Xre(MN-s.length),!0)):s=[];var i=s.join("."),o=Qre(t),a=Vre.exec(t);return a&&a[1]?new zre(n,i,o,a[1]):new Bre(n,i,o)}function Qre(t){for(var e=0,n=BN.length;e<n;e++){var r=BN[e],s=r[0],i=r[1],o=i.exec(t);if(o)return s}return null}function Zre(){var t=typeof process<"u"&&process.version;return t?new Fre(process.version.slice(1)):null}function Xre(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.getLocalStorage=Pt.getLocalStorageOrThrow=Pt.getCrypto=Pt.getCryptoOrThrow=d6=Pt.getLocation=Pt.getLocationOrThrow=bA=Pt.getNavigator=Pt.getNavigatorOrThrow=Yl=Pt.getDocument=Pt.getDocumentOrThrow=Pt.getFromWindowOrThrow=Pt.getFromWindow=void 0;function pu(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Pt.getFromWindow=pu;function _h(t){const e=pu(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Pt.getFromWindowOrThrow=_h;function ese(){return _h("document")}Pt.getDocumentOrThrow=ese;function tse(){return pu("document")}var Yl=Pt.getDocument=tse;function nse(){return _h("navigator")}Pt.getNavigatorOrThrow=nse;function rse(){return pu("navigator")}var bA=Pt.getNavigator=rse;function sse(){return _h("location")}Pt.getLocationOrThrow=sse;function ise(){return pu("location")}var d6=Pt.getLocation=ise;function ose(){return _h("crypto")}Pt.getCryptoOrThrow=ose;function ase(){return pu("crypto")}Pt.getCrypto=ase;function cse(){return _h("localStorage")}Pt.getLocalStorageOrThrow=cse;function lse(){return pu("localStorage")}Pt.getLocalStorage=lse;var _A={};Object.defineProperty(_A,"__esModule",{value:!0});var h6=_A.getWindowMetadata=void 0;const FN=Pt;function use(){let t,e;try{t=FN.getDocumentOrThrow(),e=FN.getLocationOrThrow()}catch{return null}function n(){const d=t.getElementsByTagName("link"),h=[];for(let f=0;f<d.length;f++){const p=d[f],g=p.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")>-1){const y=p.getAttribute("href");if(y)if(y.toLowerCase().indexOf("https:")===-1&&y.toLowerCase().indexOf("http:")===-1&&y.indexOf("//")!==0){let w=e.protocol+"//"+e.host;if(y.indexOf("/")===0)w+=y;else{const b=e.pathname.split("/");b.pop();const v=b.join("/");w+=v+"/"+y}h.push(w)}else if(y.indexOf("//")===0){const w=e.protocol+y;h.push(w)}else h.push(y)}}return h}function r(...d){const h=t.getElementsByTagName("meta");for(let f=0;f<h.length;f++){const p=h[f],g=["itemprop","property","name"].map(y=>p.getAttribute(y)).filter(y=>y?d.includes(y):!1);if(g.length&&g){const y=p.getAttribute("content");if(y)return y}}return""}function s(){let d=r("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function i(){return r("description","og:description","twitter:description","keywords")}const o=s(),a=i(),c=e.origin,l=n();return{description:a,url:c,icons:l,name:o}}h6=_A.getWindowMetadata=use;function sg(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function EC(t){return sg(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const f6="2.31.0";let Qh={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${f6}`};class Jl extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof Jl?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Jl&&n.cause.docsPath||n.docsPath,i=(a=Qh.getDocsUrl)==null?void 0:a.call(Qh,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Qh.version?[`Version: ${Qh.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=f6}walk(e){return p6(this,e)}}function p6(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?p6(t.cause,e):e?null:t}class g6 extends Jl{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Eh(t,{dir:e,size:n=32}={}){return typeof t=="string"?dse(t,{dir:e,size:n}):hse(t,{dir:e,size:n})}function dse(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new g6({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function hse(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new g6({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}class fse extends Jl{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class pse extends Jl{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Ch(t,{size:e}){if(EC(t)>e)throw new pse({givenSize:EC(t),maxSize:e})}function CC(t,e={}){const{signed:n}=e;e.size&&Ch(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function gse(t,e={}){return Number(CC(t,e))}const mse=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function xC(t,e={}){return typeof t=="number"||typeof t=="bigint"?y6(t,e):typeof t=="string"?vse(t,e):typeof t=="boolean"?yse(t,e):m6(t,e)}function yse(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Ch(n,{size:e.size}),Eh(n,{size:e.size})):n}function m6(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=mse[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Ch(r,{size:e.size}),Eh(r,{dir:"right",size:e.size})):r}function y6(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new fse({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Eh(a,{size:r}):a}const wse=new TextEncoder;function vse(t,e={}){const n=wse.encode(t);return m6(n,e)}const bse=new TextEncoder;function _se(t,e={}){return typeof t=="number"||typeof t=="bigint"?Cse(t,e):typeof t=="boolean"?Ese(t,e):sg(t)?w6(t,e):v6(t,e)}function Ese(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Ch(n,{size:e.size}),Eh(n,{size:e.size})):n}const fo={zero:48,nine:57,A:65,F:70,a:97,f:102};function zN(t){if(t>=fo.zero&&t<=fo.nine)return t-fo.zero;if(t>=fo.A&&t<=fo.F)return t-(fo.A-10);if(t>=fo.a&&t<=fo.f)return t-(fo.a-10)}function w6(t,e={}){let n=t;e.size&&(Ch(n,{size:e.size}),n=Eh(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=zN(r.charCodeAt(a++)),l=zN(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new Jl(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function Cse(t,e){const n=y6(t,e);return w6(n)}function v6(t,e={}){const n=bse.encode(t);return typeof e.size=="number"?(Ch(n,{size:e.size}),Eh(n,{dir:"right",size:e.size})):n}function b6(t,e){const n=e||"hex",r=gS(sg(t,{strict:!1})?_se(t):t);return n==="bytes"?r:xC(r)}class xse extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const A1=new xse(8192);function Sse(t,e){if(A1.has(`${t}.${e}`))return A1.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=b6(v6(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return A1.set(`${t}.${e}`,i),i}function Ase(t){const e=b6(`0x${t.substring(4)}`).substring(26);return Sse(`0x${e}`)}async function Ise({hash:t,signature:e}){const n=sg(t)?t:xC(t),{secp256k1:r}=await nn(async()=>{const{secp256k1:o}=await import("./secp256k1-HDxQXmQZ.js");return{secp256k1:o}},__vite__mapDeps([2,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=qN(f);return new r.Signature(CC(l),CC(u)).addRecoveryBit(p)}const o=sg(e)?e:xC(e);if(EC(o)!==65)throw new Error("invalid signature length");const a=gse(`0x${o.slice(130)}`),c=qN(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function qN(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Tse({hash:t,signature:e}){return Ase(await Ise({hash:t,signature:e}))}function Nse(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,h=0;const f=l.length;for(;h!==f&&l[h]===0;)h++,u++;const p=(f-h)*i+1>>>0,g=new Uint8Array(p);for(;h!==f;){let b=l[h],v=0;for(let E=p-1;(b!==0||v<d)&&E!==-1;E--,v++)b+=256*g[E]>>>0,g[E]=b%n>>>0,b=b/n>>>0;if(b!==0)throw new Error("Non-zero carry");d=v,h++}let y=p-d;for(;y!==p&&g[y]===0;)y++;let w=r.repeat(u);for(;y<p;++y)w+=t.charAt(g[y]);return w}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,h=0;for(;l[u]===r;)d++,u++;const f=(l.length-u)*s+1>>>0,p=new Uint8Array(f);for(;u<l.length;){const b=l.charCodeAt(u);if(b>255)return;let v=e[b];if(v===255)return;let E=0;for(let _=f-1;(v!==0||E<h)&&_!==-1;_--,E++)v+=n*p[_]>>>0,p[_]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");h=E,u++}let g=f-h;for(;g!==f&&p[g]===0;)g++;const y=new Uint8Array(d+(f-g));let w=d;for(;g!==f;)y[w++]=p[g++];return y}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var Pse="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const xh=Nse(Pse);function kse(t){const e=t.length;let n=0,r=0;for(;r<e;){let s=t.charCodeAt(r++);if(s&4294967168)if(!(s&4294965248))n+=2;else{if(s>=55296&&s<=56319&&r<e){const i=t.charCodeAt(r);(i&64512)===56320&&(++r,s=((s&1023)<<10)+(i&1023)+65536)}s&4294901760?n+=4:n+=3}else{n++;continue}}return n}function Ose(t,e,n){const r=t.length;let s=n,i=0;for(;i<r;){let o=t.charCodeAt(i++);if(o&4294967168)if(!(o&4294965248))e[s++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&i<r){const a=t.charCodeAt(i);(a&64512)===56320&&(++i,o=((o&1023)<<10)+(a&1023)+65536)}o&4294901760?(e[s++]=o>>18&7|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128):(e[s++]=o>>12&15|224,e[s++]=o>>6&63|128)}else{e[s++]=o;continue}e[s++]=o&63|128}}const Rse=new TextEncoder,$se=50;function Dse(t,e,n){Rse.encodeInto(t,e.subarray(n))}function jse(t,e,n){t.length>$se?Dse(t,e,n):Ose(t,e,n)}const Use=4096;function _6(t,e,n){let r=e;const s=r+n,i=[];let o="";for(;r<s;){const a=t[r++];if(!(a&128))i.push(a);else if((a&224)===192){const c=t[r++]&63;i.push((a&31)<<6|c)}else if((a&240)===224){const c=t[r++]&63,l=t[r++]&63;i.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[r++]&63,l=t[r++]&63,u=t[r++]&63;let d=(a&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|d&1023),i.push(d)}else i.push(a);i.length>=Use&&(o+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(o+=String.fromCharCode(...i)),o}const Lse=new TextDecoder,Mse=200;function Bse(t,e,n){const r=t.subarray(e,e+n);return Lse.decode(r)}function Fse(t,e,n){return n>Mse?Bse(t,e,n):_6(t,e,n)}class ny{constructor(e,n){this.type=e,this.data=n}}class cs extends Error{constructor(e){super(e);const n=Object.create(cs.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:cs.name})}}const Zh=4294967295;function zse(t,e,n){const r=n/4294967296,s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function E6(t,e,n){const r=Math.floor(n/4294967296),s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function C6(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function qse(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const Wse=-1,Hse=4294967296-1,Vse=17179869184-1;function Gse({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=Vse)if(e===0&&t<=Hse){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,e<<2|n&3),i.setUint32(4,r),s}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),E6(r,4,t),n}}function Kse(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,s=Math.floor(r/1e9);return{sec:n+s,nsec:r-s*1e9}}function Yse(t){if(t instanceof Date){const e=Kse(t);return Gse(e)}else return null}function Jse(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),s=(n&3)*4294967296+r,i=n>>>2;return{sec:s,nsec:i}}case 12:{const n=C6(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new cs(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function Qse(t){const e=Jse(t);return new Date(e.sec*1e3+e.nsec/1e6)}const Zse={type:Wse,encode:Yse,decode:Qse};class G0{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Zse)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const s=-1-e;this.builtInEncoders[s]=n,this.builtInDecoders[s]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const s=this.builtInEncoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=-1-r;return new ny(o,i)}}}for(let r=0;r<this.encoders.length;r++){const s=this.encoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=r;return new ny(o,i)}}}return e instanceof ny?e:null}decode(e,n,r){const s=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return s?s(e,n,r):new ny(n,e)}}G0.defaultCodec=new G0;function Xse(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function SC(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Xse(t)?new Uint8Array(t):Uint8Array.from(t)}const eie=100,tie=2048;let nie=class x6{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??G0.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??eie,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??tie,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new x6({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),s=new DataView(n);r.set(this.bytes),this.view=s,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=kse(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),jse(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=SC(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const s of e)this.doEncode(s,n+1)}countWithoutUndefined(e,n){let r=0;for(const s of n)e[s]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const s=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(const i of r){const o=e[i];this.ignoreUndefined&&o===void 0||(this.encodeString(i),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),s=r.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),zse(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),E6(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function rie(t,e){return new nie(e).encodeSharedRef(t)}function I1(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const sie=16,iie=16;class oie{constructor(e=sie,n=iie){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const s=this.caches[r-1];e:for(const i of s){const o=i.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return i.str}return null}store(e,n){const r=this.caches[e.length-1],s={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=s:r.push(s)}decode(e,n,r){const s=this.find(e,n,r);if(s!=null)return this.hit++,s;this.miss++;const i=_6(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,i),i}}const AC="array",Hf="map_key",S6="map_value",aie=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new cs("The type of key must be string or number but "+typeof t)};class cie{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=AC,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=Hf,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===AC){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===Hf||e.type===S6){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Xh=-1,EA=new DataView(new ArrayBuffer(0)),lie=new Uint8Array(EA.buffer);try{EA.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const WN=new RangeError("Insufficient data"),uie=new oie;let die=class A6{constructor(e){this.totalPos=0,this.pos=0,this.view=EA,this.bytes=lie,this.headByte=Xh,this.stack=new cie,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??G0.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??Zh,this.maxBinLength=(e==null?void 0:e.maxBinLength)??Zh,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??Zh,this.maxMapLength=(e==null?void 0:e.maxMapLength)??Zh,this.maxExtLength=(e==null?void 0:e.maxExtLength)??Zh,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:uie,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??aie}clone(){return new A6({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Xh,this.stack.reset()}setBuffer(e){const n=SC(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===Xh&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=SC(e),s=new Uint8Array(n.length+r.length);s.set(n),s.set(r,n.length),this.setBuffer(s)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:s,pos:i,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${I1(s)} at ${o} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,s=-1;for await(const i of e){if(n&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(s=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e<160){const s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{const s=e-160;n=this.decodeString(s,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const s=this.lookU8();n=this.decodeString(s,1)}else if(e===218){const s=this.lookU16();n=this.decodeString(s,2)}else if(e===219){const s=this.lookU32();n=this.decodeString(s,4)}else if(e===220){const s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===221){const s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===222){const s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===223){const s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===196){const s=this.lookU8();n=this.decodeBinary(s,1)}else if(e===197){const s=this.lookU16();n=this.decodeBinary(s,2)}else if(e===198){const s=this.lookU32();n=this.decodeBinary(s,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const s=this.lookU8();n=this.decodeExtension(s,1)}else if(e===200){const s=this.lookU16();n=this.decodeExtension(s,2)}else if(e===201){const s=this.lookU32();n=this.decodeExtension(s,4)}else throw new cs(`Unrecognized type byte: ${I1(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const s=r.top();if(s.type===AC)if(s.array[s.position]=n,s.position++,s.position===s.size)n=s.array,r.release(s);else continue e;else if(s.type===Hf){if(n==="__proto__")throw new cs("The key __proto__ is not allowed");s.key=this.mapKeyConverter(n),s.type=S6;continue e}else if(s.map[s.key]=n,s.readCount++,s.readCount===s.size)n=s.map,r.release(s);else{s.key=null,s.type=Hf;continue e}}return n}}readHeadByte(){return this.headByte===Xh&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Xh}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new cs(`Unrecognized array type byte: ${I1(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new cs(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new cs(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){var i;if(e>this.maxStrLength)throw new cs(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw WN;const r=this.pos+n;let s;return this.stateIsMapKey()&&((i=this.keyDecoder)!=null&&i.canBeCached(e))?s=this.keyDecoder.decode(this.bytes,r,e):s=Fse(this.bytes,r,e),this.pos+=n+e,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Hf:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new cs(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw WN;const r=this.pos+n,s=this.bytes.subarray(r,r+e);return this.pos+=n+e,s}decodeExtension(e,n){if(e>this.maxExtLength)throw new cs(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),s=this.decodeBinary(e,n+1);return this.extensionCodec.decode(s,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=qse(this.view,this.pos);return this.pos+=8,e}readI64(){const e=C6(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function hie(t,e){return new die(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function fie(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function I6(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function K0(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function CA(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function IC(t){if(!Array.isArray(t))throw new Error("array expected")}function Y0(t,e){if(!I6(!0,e))throw new Error(`${t}: array of strings expected`)}function pie(t,e){if(!I6(!1,e))throw new Error(`${t}: array of numbers expected`)}function gie(...t){const e=i=>i,n=(i,o)=>a=>i(o(a)),r=t.map(i=>i.encode).reduceRight(n,e),s=t.map(i=>i.decode).reduce(n,e);return{encode:r,decode:s}}function mie(t){const e=typeof t=="string"?t.split(""):t,n=e.length;Y0("alphabet",e);const r=new Map(e.map((s,i)=>[s,i]));return{encode:s=>(IC(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${t}`);return e[i]})),decode:s=>(IC(s),s.map(i=>{K0("alphabet.decode",i);const o=r.get(i);if(o===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${t}`);return o}))}}function yie(t=""){return K0("join",t),{encode:e=>(Y0("join.decode",e),e.join(t)),decode:e=>(K0("join.decode",e),e.split(t))}}function wie(t,e="="){return CA(t),K0("padding",e),{encode(n){for(Y0("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){Y0("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const T6=(t,e)=>e===0?t:T6(e,t%e),J0=(t,e)=>t+(e-T6(t,e)),T1=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function HN(t,e,n,r){if(IC(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(J0(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${J0(e,n)}`);let s=0,i=0;const o=T1[e],a=T1[n]-1,c=[];for(const l of t){if(CA(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(s=s<<e|l,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=n;i-=n)c.push((s>>i-n&a)>>>0);const u=T1[i];if(u===void 0)throw new Error("invalid carry");s&=u-1}if(s=s<<n-i&a,!r&&i>=e)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&c.push(s>>>0),c}function vie(t,e=!1){if(CA(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(J0(8,t)>32||J0(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!fie(n))throw new Error("radix2.encode input should be Uint8Array");return HN(Array.from(n),8,t,!e)},decode:n=>(pie("radix2.decode",n),Uint8Array.from(HN(n,t,8,e)))}}const bie=gie(vie(5),mie("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),wie(5),yie(""));function xA(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function N6(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?xA(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Vf(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=N6(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return xA(n)}function _ie(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,w=0,b=p.length;w!==b&&p[w]===0;)w++,g++;for(var v=(b-w)*u+1>>>0,E=new Uint8Array(v);w!==b;){for(var _=p[w],x=0,S=v-1;(_!==0||x<y)&&S!==-1;S--,x++)_+=256*E[S]>>>0,E[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");y=x,w++}for(var T=v-y;T!==v&&E[T]===0;)T++;for(var C=c.repeat(g);T<v;++T)C+=t.charAt(E[T]);return C}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,w=0;p[g]===c;)y++,g++;for(var b=(p.length-g)*l+1>>>0,v=new Uint8Array(b);p[g];){var E=n[p.charCodeAt(g)];if(E===255)return;for(var _=0,x=b-1;(E!==0||_<w)&&x!==-1;x--,_++)E+=a*v[x]>>>0,v[x]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=_,g++}if(p[g]!==" "){for(var S=b-w;S!==b&&v[S]===0;)S++;for(var T=new Uint8Array(y+(b-S)),C=y;S!==b;)T[C++]=v[S++];return T}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Eie=_ie,Cie=Eie;const xie=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Sie=t=>new TextEncoder().encode(t),Aie=t=>new TextDecoder().decode(t);class Iie{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Tie{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return P6(this,e)}}class Nie{constructor(e){this.decoders=e}or(e){return P6(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const P6=(t,e)=>new Nie({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Pie{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new Iie(e,n,r),this.decoder=new Tie(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const gv=({name:t,prefix:e,encode:n,decode:r})=>new Pie(t,e,n,r),Xg=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=Cie(n,e);return gv({prefix:t,name:e,encode:r,decode:i=>xie(s(i))})},kie=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Oie=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Vn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>gv({prefix:e,name:t,encode(s){return Oie(s,r,n)},decode(s){return kie(s,r,n,t)}}),Rie=gv({prefix:"\0",name:"identity",encode:t=>Aie(t),decode:t=>Sie(t)}),$ie=Object.freeze(Object.defineProperty({__proto__:null,identity:Rie},Symbol.toStringTag,{value:"Module"})),Die=Vn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),jie=Object.freeze(Object.defineProperty({__proto__:null,base2:Die},Symbol.toStringTag,{value:"Module"})),Uie=Vn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Lie=Object.freeze(Object.defineProperty({__proto__:null,base8:Uie},Symbol.toStringTag,{value:"Module"})),Mie=Xg({prefix:"9",name:"base10",alphabet:"0123456789"}),Bie=Object.freeze(Object.defineProperty({__proto__:null,base10:Mie},Symbol.toStringTag,{value:"Module"})),Fie=Vn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),zie=Vn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),qie=Object.freeze(Object.defineProperty({__proto__:null,base16:Fie,base16upper:zie},Symbol.toStringTag,{value:"Module"})),Wie=Vn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Hie=Vn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Vie=Vn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Gie=Vn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Kie=Vn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Yie=Vn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Jie=Vn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Qie=Vn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Zie=Vn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Xie=Object.freeze(Object.defineProperty({__proto__:null,base32:Wie,base32hex:Kie,base32hexpad:Jie,base32hexpadupper:Qie,base32hexupper:Yie,base32pad:Vie,base32padupper:Gie,base32upper:Hie,base32z:Zie},Symbol.toStringTag,{value:"Module"})),eoe=Xg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),toe=Xg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),noe=Object.freeze(Object.defineProperty({__proto__:null,base36:eoe,base36upper:toe},Symbol.toStringTag,{value:"Module"})),roe=Xg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),soe=Xg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ioe=Object.freeze(Object.defineProperty({__proto__:null,base58btc:roe,base58flickr:soe},Symbol.toStringTag,{value:"Module"})),ooe=Vn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),aoe=Vn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),coe=Vn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),loe=Vn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),uoe=Object.freeze(Object.defineProperty({__proto__:null,base64:ooe,base64pad:aoe,base64url:coe,base64urlpad:loe},Symbol.toStringTag,{value:"Module"})),k6=Array.from(""),doe=k6.reduce((t,e,n)=>(t[n]=e,t),[]),hoe=k6.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function foe(t){return t.reduce((e,n)=>(e+=doe[n],e),"")}function poe(t){const e=[];for(const n of t){const r=hoe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const goe=gv({prefix:"",name:"base256emoji",encode:foe,decode:poe}),moe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:goe},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const VN={...$ie,...jie,...Lie,...Bie,...qie,...Xie,...noe,...ioe,...uoe,...moe};function O6(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const GN=O6("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),N1=O6("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=N6(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),R6={utf8:GN,"utf-8":GN,hex:VN.base16,latin1:N1,ascii:N1,binary:N1,...VN};function js(t,e="utf8"){const n=R6[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?xA(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Zr(t,e="utf8"){const n=R6[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const yoe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},woe="Input must be an string, Buffer or Uint8Array";function voe(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(woe);return e}function boe(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function ry(t){return(4294967296+t).toString(16).substring(1)}function _oe(t,e,n){let r=`
`+t+" = ";for(let s=0;s<e.length;s+=2){if(n===32)r+=ry(e[s]).toUpperCase(),r+=" ",r+=ry(e[s+1]).toUpperCase();else if(n===64)r+=ry(e[s+1]).toUpperCase(),r+=ry(e[s]).toUpperCase();else throw new Error("Invalid size "+n);s%6===4?r+=`
`+new Array(t.length+4).join(" "):s<e.length-2&&(r+=" ")}console.log(r)}function Eoe(t,e,n){let r=new Date().getTime();const s=new Uint8Array(e);for(let o=0;o<e;o++)s[o]=o%256;const i=new Date().getTime();console.log("Generated random input in "+(i-r)+"ms"),r=i;for(let o=0;o<n;o++){const a=t(s),c=new Date().getTime(),l=c-r;r=c,console.log("Hashed in "+l+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}var $6={normalizeInput:voe,toHex:boe,debugPrint:_oe,testSpeed:Eoe};const Yy=$6;function sy(t,e,n){const r=t[e]+t[n];let s=t[e+1]+t[n+1];r>=4294967296&&s++,t[e]=r,t[e+1]=s}function KN(t,e,n,r){let s=t[e]+n;n<0&&(s+=4294967296);let i=t[e+1]+r;s>=4294967296&&i++,t[e]=s,t[e+1]=i}function D6(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function ha(t,e,n,r,s,i){const o=xf[s],a=xf[s+1],c=xf[i],l=xf[i+1];sy(Be,t,e),KN(Be,t,o,a);let u=Be[r]^Be[t],d=Be[r+1]^Be[t+1];Be[r]=d,Be[r+1]=u,sy(Be,n,r),u=Be[e]^Be[n],d=Be[e+1]^Be[n+1],Be[e]=u>>>24^d<<8,Be[e+1]=d>>>24^u<<8,sy(Be,t,e),KN(Be,t,c,l),u=Be[r]^Be[t],d=Be[r+1]^Be[t+1],Be[r]=u>>>16^d<<16,Be[r+1]=d>>>16^u<<16,sy(Be,n,r),u=Be[e]^Be[n],d=Be[e+1]^Be[n+1],Be[e]=d>>>31^u<<1,Be[e+1]=u>>>31^d<<1}const j6=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Coe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Zn=new Uint8Array(Coe.map(function(t){return t*2})),Be=new Uint32Array(32),xf=new Uint32Array(32);function U6(t,e){let n=0;for(n=0;n<16;n++)Be[n]=t.h[n],Be[n+16]=j6[n];for(Be[24]=Be[24]^t.t,Be[25]=Be[25]^t.t/4294967296,e&&(Be[28]=~Be[28],Be[29]=~Be[29]),n=0;n<32;n++)xf[n]=D6(t.b,4*n);for(n=0;n<12;n++)ha(0,8,16,24,Zn[n*16+0],Zn[n*16+1]),ha(2,10,18,26,Zn[n*16+2],Zn[n*16+3]),ha(4,12,20,28,Zn[n*16+4],Zn[n*16+5]),ha(6,14,22,30,Zn[n*16+6],Zn[n*16+7]),ha(0,10,20,30,Zn[n*16+8],Zn[n*16+9]),ha(2,12,22,24,Zn[n*16+10],Zn[n*16+11]),ha(4,14,16,26,Zn[n*16+12],Zn[n*16+13]),ha(6,8,18,28,Zn[n*16+14],Zn[n*16+15]);for(n=0;n<16;n++)t.h[n]=t.h[n]^Be[n]^Be[n+16]}const fa=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function L6(t,e,n,r){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&r.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const s={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};fa.fill(0),fa[0]=t,e&&(fa[1]=e.length),fa[2]=1,fa[3]=1,n&&fa.set(n,32),r&&fa.set(r,48);for(let i=0;i<16;i++)s.h[i]=j6[i]^D6(fa,i*4);return e&&(SA(s,e),s.c=128),s}function SA(t,e){for(let n=0;n<e.length;n++)t.c===128&&(t.t+=t.c,U6(t,!1),t.c=0),t.b[t.c++]=e[n]}function M6(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;U6(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3);return e}function B6(t,e,n,r,s){n=n||64,t=Yy.normalizeInput(t),r&&(r=Yy.normalizeInput(r)),s&&(s=Yy.normalizeInput(s));const i=L6(n,e,r,s);return SA(i,t),M6(i)}function xoe(t,e,n,r,s){const i=B6(t,e,n,r,s);return Yy.toHex(i)}var Soe={blake2b:B6,blake2bHex:xoe,blake2bInit:L6,blake2bUpdate:SA,blake2bFinal:M6};const F6=$6;function Aoe(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function pa(t,e,n,r,s,i){ct[t]=ct[t]+ct[e]+s,ct[r]=iy(ct[r]^ct[t],16),ct[n]=ct[n]+ct[r],ct[e]=iy(ct[e]^ct[n],12),ct[t]=ct[t]+ct[e]+i,ct[r]=iy(ct[r]^ct[t],8),ct[n]=ct[n]+ct[r],ct[e]=iy(ct[e]^ct[n],7)}function iy(t,e){return t>>>e^t<<32-e}const z6=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xn=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),ct=new Uint32Array(16),Rn=new Uint32Array(16);function q6(t,e){let n=0;for(n=0;n<8;n++)ct[n]=t.h[n],ct[n+8]=z6[n];for(ct[12]^=t.t,ct[13]^=t.t/4294967296,e&&(ct[14]=~ct[14]),n=0;n<16;n++)Rn[n]=Aoe(t.b,4*n);for(n=0;n<10;n++)pa(0,4,8,12,Rn[Xn[n*16+0]],Rn[Xn[n*16+1]]),pa(1,5,9,13,Rn[Xn[n*16+2]],Rn[Xn[n*16+3]]),pa(2,6,10,14,Rn[Xn[n*16+4]],Rn[Xn[n*16+5]]),pa(3,7,11,15,Rn[Xn[n*16+6]],Rn[Xn[n*16+7]]),pa(0,5,10,15,Rn[Xn[n*16+8]],Rn[Xn[n*16+9]]),pa(1,6,11,12,Rn[Xn[n*16+10]],Rn[Xn[n*16+11]]),pa(2,7,8,13,Rn[Xn[n*16+12]],Rn[Xn[n*16+13]]),pa(3,4,9,14,Rn[Xn[n*16+14]],Rn[Xn[n*16+15]]);for(n=0;n<8;n++)t.h[n]^=ct[n]^ct[n+8]}function W6(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=e?e.length:0;if(e&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(z6),b:new Uint8Array(64),c:0,t:0,outlen:t};return r.h[0]^=16842752^n<<8^t,n>0&&(AA(r,e),r.c=64),r}function AA(t,e){for(let n=0;n<e.length;n++)t.c===64&&(t.t+=t.c,q6(t,!1),t.c=0),t.b[t.c++]=e[n]}function H6(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;q6(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3)&255;return e}function V6(t,e,n){n=n||32,t=F6.normalizeInput(t);const r=W6(n,e);return AA(r,t),H6(r)}function Ioe(t,e,n){const r=V6(t,e,n);return F6.toHex(r)}var Toe={blake2s:V6,blake2sHex:Ioe,blake2sInit:W6,blake2sUpdate:AA,blake2sFinal:H6};const ef=Soe,tf=Toe;var Noe={blake2b:ef.blake2b,blake2bHex:ef.blake2bHex,blake2bInit:ef.blake2bInit,blake2bUpdate:ef.blake2bUpdate,blake2bFinal:ef.blake2bFinal,blake2s:tf.blake2s,blake2sHex:tf.blake2sHex,blake2sInit:tf.blake2sInit,blake2sUpdate:tf.blake2sUpdate,blake2sFinal:tf.blake2sFinal},Poe={};const koe=":";function xd(t){const[e,n]=t.split(koe);return{namespace:e,reference:n}}function G6(t,e){return t.includes(":")?[t]:e.chains||[]}var Ooe=Object.defineProperty,Roe=Object.defineProperties,$oe=Object.getOwnPropertyDescriptors,YN=Object.getOwnPropertySymbols,Doe=Object.prototype.hasOwnProperty,joe=Object.prototype.propertyIsEnumerable,JN=(t,e,n)=>e in t?Ooe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,QN=(t,e)=>{for(var n in e||(e={}))Doe.call(e,n)&&JN(t,n,e[n]);if(YN)for(var n of YN(e))joe.call(e,n)&&JN(t,n,e[n]);return t},Uoe=(t,e)=>Roe(t,$oe(e));const Loe="ReactNative",ds={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Moe="js";function Q0(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Uc(){return!Yl()&&!!bA()&&navigator.product===Loe}function Boe(){return Uc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function Foe(){return Uc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Sh(){return!Q0()&&!!bA()&&!!Yl()}function em(){return Uc()?ds.reactNative:Q0()?ds.node:Sh()?ds.browser:ds.unknown}function ZN(){var t;try{return Uc()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function zoe(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const s=e[r];s!==void 0&&n.set(r,s)}return n.toString()}function qoe(t){var e,n;const r=K6();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),Uoe(QN(QN({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),t||r}}function K6(){return h6()||{name:"",description:"",url:"",icons:[""]}}function Woe(){if(em()===ds.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=Kre();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function Hoe(){var t;const e=em();return e===ds.browser?[e,((t=d6())==null?void 0:t.host)||"unknown"].join(":"):e}function Y6(t,e,n){const r=Woe(),s=Hoe();return[[t,e].join("-"),[Moe,n].join("-"),r,s].join("/")}function Voe({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=Y6(t,e,r),d={auth:s,ua:u,projectId:i,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},h=zoe(l[1]||"",d);return l[0]+"?"+h}function fl(t,e){return t.filter(n=>e.includes(n)).length===t.length}function TC(t){return Object.fromEntries(t.entries())}function NC(t){return new Map(Object.entries(t))}function el(t=oe.FIVE_MINUTES,e){const n=oe.toMiliseconds(t||oe.FIVE_MINUTES);let r,s,i,o;return{resolve:a=>{i&&r&&(clearTimeout(i),r(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,s=c})}}function ec(t,e,n){return new Promise(async(r,s)=>{const i=setTimeout(()=>s(new Error(n)),e);try{const o=await t;r(o)}catch(o){s(o)}clearTimeout(i)})}function J6(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Goe(t){return J6("topic",t)}function Koe(t){return J6("id",t)}function Q6(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function pn(t,e){return oe.fromMiliseconds(Date.now()+oe.toMiliseconds(t))}function Na(t){return Date.now()>=oe.toMiliseconds(t)}function ht(t,e){return`${t}${e?`:${e}`:""}`}function Zi(t=[],e=[]){return[...new Set([...t,...e])]}async function Yoe({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,i=s==null?void 0:s.href;if(typeof i!="string")return;const o=Joe(i,t,e),a=em();if(a===ds.browser){if(!((r=Yl())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Qoe(o)}else a===ds.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(s){console.error(s)}}function Joe(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${tae(r,!0)}`}else s=`${s}/wc?${r}`;return s}function Qoe(t){let e="_self";eae()?e="_top":(Xoe()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function Zoe(t,e){let n="";try{if(Sh()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function XN(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function eP(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function IA(){return typeof process<"u"&&Poe.IS_VITEST==="true"}function Xoe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function eae(){try{return window.self!==window.top}catch{return!1}}function tae(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function Z6(t){return Buffer.from(t,"base64").toString("utf-8")}function nae(t){return new Promise(e=>setTimeout(e,t))}const oy=BigInt(2**32-1),tP=BigInt(32);function X6(t,e=!1){return e?{h:Number(t&oy),l:Number(t>>tP&oy)}:{h:Number(t>>tP&oy)|0,l:Number(t&oy)|0}}function e4(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=X6(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const nP=(t,e,n)=>t>>>n,rP=(t,e,n)=>t<<32-n|e>>>n,Pa=(t,e,n)=>t>>>n|e<<32-n,ka=(t,e,n)=>t<<32-n|e>>>n,Sf=(t,e,n)=>t<<64-n|e>>>n-32,Af=(t,e,n)=>t>>>n-32|e<<64-n,rae=(t,e)=>e,sae=(t,e)=>t,iae=(t,e,n)=>t<<n|e>>>32-n,oae=(t,e,n)=>e<<n|t>>>32-n,aae=(t,e,n)=>e<<n-32|t>>>64-n,cae=(t,e,n)=>t<<n-32|e>>>64-n;function ni(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const TA=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),NA=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,lae=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),uae=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,dae=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),hae=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,Tu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function PA(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Go(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Fs(t,...e){if(!PA(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function kA(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Go(t.outputLen),Go(t.blockLen)}function Tc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function OA(t,e){Fs(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function ig(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function zs(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function P1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Pi(t,e){return t<<32-e|t>>>e}const t4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function n4(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const wo=t4?t=>t:t=>n4(t);function fae(t){for(let e=0;e<t.length;e++)t[e]=n4(t[e]);return t}const Oa=t4?t=>t:fae,r4=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",pae=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function og(t){if(Fs(t),r4)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=pae[t[n]];return e}const po={_0:48,_9:57,A:65,F:70,a:97,f:102};function sP(t){if(t>=po._0&&t<=po._9)return t-po._0;if(t>=po.A&&t<=po.F)return t-(po.A-10);if(t>=po.a&&t<=po.f)return t-(po.a-10)}function RA(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(r4)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=sP(t.charCodeAt(i)),a=sP(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function gae(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function yi(t){return typeof t=="string"&&(t=gae(t)),Fs(t),t}function pl(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Fs(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let mv=class{};function tm(t){const e=r=>t().update(yi(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function mae(t){const e=(r,s)=>t(s).update(yi(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Ah(t=32){if(Tu&&typeof Tu.getRandomValues=="function")return Tu.getRandomValues(new Uint8Array(t));if(Tu&&typeof Tu.randomBytes=="function")return Uint8Array.from(Tu.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const yae=BigInt(0),nf=BigInt(1),wae=BigInt(2),vae=BigInt(7),bae=BigInt(256),_ae=BigInt(113),s4=[],i4=[],o4=[];for(let t=0,e=nf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],s4.push(2*(5*r+n)),i4.push((t+1)*(t+2)/2%64);let s=yae;for(let i=0;i<7;i++)e=(e<<nf^(e>>vae)*_ae)%bae,e&wae&&(s^=nf<<(nf<<BigInt(i))-nf);o4.push(s)}const a4=e4(o4,!0),Eae=a4[0],Cae=a4[1],iP=(t,e,n)=>n>32?aae(t,e,n):iae(t,e,n),oP=(t,e,n)=>n>32?cae(t,e,n):oae(t,e,n);function xae(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=iP(l,u,1)^n[a],h=oP(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=i4[o],c=iP(s,i,a),l=oP(s,i,a),u=s4[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Eae[r],t[1]^=Cae[r]}zs(n)}let Sae=class c4 extends mv{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,Go(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=ig(this.state)}clone(){return this._cloneInto()}keccak(){Oa(this.state32),xae(this.state32,this.rounds),Oa(this.state32),this.posOut=0,this.pos=0}update(e){Tc(this),e=yi(e),Fs(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Tc(this,!1),Fs(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Go(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(OA(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,zs(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new c4(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Aae=(t,e,n)=>tm(()=>new Sae(e,t,n)),Iae=Aae(1,136,256/8);function Tae(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function Nae(t,e,n){return t&e^~t&n}function Pae(t,e,n){return t&e^t&n^e&n}let l4=class extends mv{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=P1(this.buffer)}update(e){Tc(this),e=yi(e),Fs(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=P1(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Tc(this),OA(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,zs(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Tae(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=P1(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const ga=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),er=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),tr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),kae=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ma=new Uint32Array(64);let Oae=class extends l4{constructor(e=32){super(64,e,8,!1),this.A=ga[0]|0,this.B=ga[1]|0,this.C=ga[2]|0,this.D=ga[3]|0,this.E=ga[4]|0,this.F=ga[5]|0,this.G=ga[6]|0,this.H=ga[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)ma[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=ma[d-15],f=ma[d-2],p=Pi(h,7)^Pi(h,18)^h>>>3,g=Pi(f,17)^Pi(f,19)^f>>>10;ma[d]=g+ma[d-7]+p+ma[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Pi(a,6)^Pi(a,11)^Pi(a,25),f=u+h+Nae(a,c,l)+kae[d]+ma[d]|0,p=(Pi(r,2)^Pi(r,13)^Pi(r,22))+Pae(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){zs(ma)}destroy(){this.set(0,0,0,0,0,0,0,0),zs(this.buffer)}};const u4=e4(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Rae=u4[0],$ae=u4[1],ya=new Uint32Array(80),wa=new Uint32Array(80);let $A=class extends l4{constructor(e=64){super(128,e,16,!1),this.Ah=tr[0]|0,this.Al=tr[1]|0,this.Bh=tr[2]|0,this.Bl=tr[3]|0,this.Ch=tr[4]|0,this.Cl=tr[5]|0,this.Dh=tr[6]|0,this.Dl=tr[7]|0,this.Eh=tr[8]|0,this.El=tr[9]|0,this.Fh=tr[10]|0,this.Fl=tr[11]|0,this.Gh=tr[12]|0,this.Gl=tr[13]|0,this.Hh=tr[14]|0,this.Hl=tr[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:g,Hl:y}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let v=0;v<16;v++,n+=4)ya[v]=e.getUint32(n),wa[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const E=ya[v-15]|0,_=wa[v-15]|0,x=Pa(E,_,1)^Pa(E,_,8)^nP(E,_,7),S=ka(E,_,1)^ka(E,_,8)^rP(E,_,7),T=ya[v-2]|0,C=wa[v-2]|0,O=Pa(T,C,19)^Sf(T,C,61)^nP(T,C,6),R=ka(T,C,19)^Af(T,C,61)^rP(T,C,6),L=lae(S,R,wa[v-7],wa[v-16]),z=uae(L,x,O,ya[v-7],ya[v-16]);ya[v]=z|0,wa[v]=L|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:g,Gl:y,Hh:w,Hl:b}=this;for(let v=0;v<80;v++){const E=Pa(d,h,14)^Pa(d,h,18)^Sf(d,h,41),_=ka(d,h,14)^ka(d,h,18)^Af(d,h,41),x=d&f^~d&g,S=h&p^~h&y,T=dae(b,_,S,$ae[v],wa[v]),C=hae(T,w,E,x,Rae[v],ya[v]),O=T|0,R=Pa(r,s,28)^Sf(r,s,34)^Sf(r,s,39),L=ka(r,s,28)^Af(r,s,34)^Af(r,s,39),z=r&i^r&a^i&a,M=s&o^s&c^o&c;w=g|0,b=y|0,g=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=ni(l|0,u|0,C|0,O|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const A=TA(O,L,M);r=NA(A,C,R,z),s=A|0}({h:r,l:s}=ni(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=ni(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=ni(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=ni(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=ni(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=ni(this.Fh|0,this.Fl|0,f|0,p|0),{h:g,l:y}=ni(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:b}=ni(this.Hh|0,this.Hl|0,w|0,b|0),this.set(r,s,i,o,a,c,l,u,d,h,f,p,g,y,w,b)}roundClean(){zs(ya,wa)}destroy(){zs(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Dae=class extends $A{constructor(){super(48),this.Ah=er[0]|0,this.Al=er[1]|0,this.Bh=er[2]|0,this.Bl=er[3]|0,this.Ch=er[4]|0,this.Cl=er[5]|0,this.Dh=er[6]|0,this.Dl=er[7]|0,this.Eh=er[8]|0,this.El=er[9]|0,this.Fh=er[10]|0,this.Fl=er[11]|0,this.Gh=er[12]|0,this.Gl=er[13]|0,this.Hh=er[14]|0,this.Hl=er[15]|0}};const nr=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let jae=class extends $A{constructor(){super(32),this.Ah=nr[0]|0,this.Al=nr[1]|0,this.Bh=nr[2]|0,this.Bl=nr[3]|0,this.Ch=nr[4]|0,this.Cl=nr[5]|0,this.Dh=nr[6]|0,this.Dl=nr[7]|0,this.Eh=nr[8]|0,this.El=nr[9]|0,this.Fh=nr[10]|0,this.Fl=nr[11]|0,this.Gh=nr[12]|0,this.Gl=nr[13]|0,this.Hh=nr[14]|0,this.Hl=nr[15]|0}};const yv=tm(()=>new Oae),Uae=tm(()=>new $A),Lae=tm(()=>new Dae),Mae=tm(()=>new jae),Bae=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),fn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),fe=new Uint32Array(32);function va(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=fe[2*t],l=fe[2*t+1],u=fe[2*e],d=fe[2*e+1],h=fe[2*n],f=fe[2*n+1],p=fe[2*r],g=fe[2*r+1],y=TA(c,u,o);l=NA(y,l,d,a),c=y|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:rae(g,p),Dl:sae(g)},{h:f,l:h}=ni(f,h,g,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:Pa(d,u,24),Bl:ka(d,u,24)},fe[2*t]=c,fe[2*t+1]=l,fe[2*e]=u,fe[2*e+1]=d,fe[2*n]=h,fe[2*n+1]=f,fe[2*r]=p,fe[2*r+1]=g}function ba(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=fe[2*t],l=fe[2*t+1],u=fe[2*e],d=fe[2*e+1],h=fe[2*n],f=fe[2*n+1],p=fe[2*r],g=fe[2*r+1],y=TA(c,u,o);l=NA(y,l,d,a),c=y|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:Pa(g,p,16),Dl:ka(g,p,16)},{h:f,l:h}=ni(f,h,g,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:Sf(d,u,63),Bl:Af(d,u,63)},fe[2*t]=c,fe[2*t+1]=l,fe[2*e]=u,fe[2*e+1]=d,fe[2*n]=h,fe[2*n+1]=f,fe[2*r]=p,fe[2*r+1]=g}function Fae(t,e={},n,r,s){if(Go(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:i,salt:o,personalization:a}=e;if(i!==void 0&&(i.length<1||i.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}class zae extends mv{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Go(e),Go(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=ig(this.buffer)}update(e){Tc(this),e=yi(e),Fs(e);const{blockLen:n,buffer:r,buffer32:s}=this,i=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<i;){this.pos===n&&(Oa(s),this.compress(s,0,!1),Oa(s),this.pos=0);const l=Math.min(n-this.pos,i-c),u=o+c;if(l===n&&!(u%4)&&c+l<i){const d=new Uint32Array(a,u,Math.floor((i-c)/4));Oa(d);for(let h=0;c+n<i;h+=s.length,c+=n)this.length+=n,this.compress(d,h,!1);Oa(d);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){Tc(this),OA(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,zs(this.buffer.subarray(n)),Oa(r),this.compress(r,0,!0),Oa(r);const s=ig(e);this.get().forEach((i,o)=>s[o]=wo(i))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=i,e.finished=s,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class qae extends zae{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=fn[0]|0,this.v0h=fn[1]|0,this.v1l=fn[2]|0,this.v1h=fn[3]|0,this.v2l=fn[4]|0,this.v2h=fn[5]|0,this.v3l=fn[6]|0,this.v3h=fn[7]|0,this.v4l=fn[8]|0,this.v4h=fn[9]|0,this.v5l=fn[10]|0,this.v5h=fn[11]|0,this.v6l=fn[12]|0,this.v6h=fn[13]|0,this.v7l=fn[14]|0,this.v7h=fn[15]|0,Fae(n,e,64,16,16);let{key:r,personalization:s,salt:i}=e,o=0;if(r!==void 0&&(r=yi(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=yi(i);const a=ig(i);this.v4l^=wo(a[0]),this.v4h^=wo(a[1]),this.v5l^=wo(a[2]),this.v5h^=wo(a[3])}if(s!==void 0){s=yi(s);const a=ig(s);this.v6l^=wo(a[0]),this.v6h^=wo(a[1]),this.v7l^=wo(a[2]),this.v7h^=wo(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:s,v2l:i,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:h,v6l:f,v6h:p,v7l:g,v7h:y}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=h|0,this.v6l=f|0,this.v6h=p|0,this.v7l=g|0,this.v7h=y|0}compress(e,n,r){this.get().forEach((c,l)=>fe[l]=c),fe.set(fn,16);let{h:s,l:i}=X6(BigInt(this.length));fe[24]=fn[8]^i,fe[25]=fn[9]^s,r&&(fe[28]=~fe[28],fe[29]=~fe[29]);let o=0;const a=Bae;for(let c=0;c<12;c++)va(0,4,8,12,e,n+2*a[o++]),ba(0,4,8,12,e,n+2*a[o++]),va(1,5,9,13,e,n+2*a[o++]),ba(1,5,9,13,e,n+2*a[o++]),va(2,6,10,14,e,n+2*a[o++]),ba(2,6,10,14,e,n+2*a[o++]),va(3,7,11,15,e,n+2*a[o++]),ba(3,7,11,15,e,n+2*a[o++]),va(0,5,10,15,e,n+2*a[o++]),ba(0,5,10,15,e,n+2*a[o++]),va(1,6,11,12,e,n+2*a[o++]),ba(1,6,11,12,e,n+2*a[o++]),va(2,7,8,13,e,n+2*a[o++]),ba(2,7,8,13,e,n+2*a[o++]),va(3,4,9,14,e,n+2*a[o++]),ba(3,4,9,14,e,n+2*a[o++]);this.v0l^=fe[0]^fe[16],this.v0h^=fe[1]^fe[17],this.v1l^=fe[2]^fe[18],this.v1h^=fe[3]^fe[19],this.v2l^=fe[4]^fe[20],this.v2h^=fe[5]^fe[21],this.v3l^=fe[6]^fe[22],this.v3h^=fe[7]^fe[23],this.v4l^=fe[8]^fe[24],this.v4h^=fe[9]^fe[25],this.v5l^=fe[10]^fe[26],this.v5h^=fe[11]^fe[27],this.v6l^=fe[12]^fe[28],this.v6h^=fe[13]^fe[29],this.v7l^=fe[14]^fe[30],this.v7h^=fe[15]^fe[31],zs(fe)}destroy(){this.destroyed=!0,zs(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Wae=mae(t=>new qae(t)),Hae="https://rpc.walletconnect.org/v1";function d4(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(Iae(n)).toString("hex")}async function Vae(t,e,n,r,s,i){switch(n.t){case"eip191":return await Gae(t,e,n.s);case"eip1271":return await Kae(t,e,n.s,r,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function Gae(t,e,n){return(await Tse({hash:d4(e),signature:n})).toLowerCase()===t.toLowerCase()}async function Kae(t,e,n,r,s,i){const o=xd(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:d4(e)).substring(2),h=a+d+c+u+l,f=await fetch(`${i||Hae}/?chainId=${r}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Yae(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:p}=await f.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function Yae(){return Date.now()+Math.floor(Math.random()*1e3)}function Jae(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(t,"base64").slice(1,65);return xh.encode(i)}function Qae(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const s=Wae(r,{dkLen:32});return xh.encode(s)}function aP(t){const e=new Uint8Array(yv(Zae(t)));return xh.encode(e)}function Zae(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function cP(t){const e=Buffer.from(t,"base64"),n=hie(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=rie(n),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(r)]),o=Mae(i);return bie.encode(o).replace(/=+$/,"")}function k1(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function Xae(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(k1(e.length)),s.push(e),s.push(Buffer.from([18])),s.push(k1(n.length)),s.push(n),s.push(Buffer.from([26])),s.push(k1(r.length)),s.push(r);const i=Buffer.concat(s),o=yv(i);return Buffer.from(o).toString("hex").toUpperCase()}var ece=Object.defineProperty,tce=Object.defineProperties,nce=Object.getOwnPropertyDescriptors,lP=Object.getOwnPropertySymbols,rce=Object.prototype.hasOwnProperty,sce=Object.prototype.propertyIsEnumerable,uP=(t,e,n)=>e in t?ece(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ice=(t,e)=>{for(var n in e||(e={}))rce.call(e,n)&&uP(t,n,e[n]);if(lP)for(var n of lP(e))sce.call(e,n)&&uP(t,n,e[n]);return t},oce=(t,e)=>tce(t,nce(e));const ace="did:pkh:",DA=t=>t==null?void 0:t.split(":"),cce=t=>{const e=t&&DA(t);if(e)return t.includes(ace)?e[3]:e[1]},PC=t=>{const e=t&&DA(t);if(e)return e[2]+":"+e[3]},Z0=t=>{const e=t&&DA(t);if(e)return e.pop()};async function dP(t){const{cacao:e,projectId:n}=t,{s:r,p:s}=e,i=h4(s,s.iss),o=Z0(s.iss);return await Vae(o,i,r,PC(s.iss),n)}const h4=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=Z0(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${cce(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,p=Jy(t.resources);if(p){const g=ag(p);s=yce(s,g)}return[n,r,"",s,"",i,o,a,c,l,u,d,h,f].filter(g=>g!=null).join(`
`)};function lce(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function uce(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Ql(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const i=r[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function dce(t,e,n,r={}){return n==null||n.sort((s,i)=>s.localeCompare(i)),{att:{[t]:hce(e,n,r)}}}function hce(t,e,n={}){e=e==null?void 0:e.sort((s,i)=>s.localeCompare(i));const r=e.map(s=>({[`${t}/${s}`]:[n]}));return Object.assign({},...r)}function f4(t){return Ql(t),`urn:recap:${lce(t).replace(/=/g,"")}`}function ag(t){const e=uce(t.replace("urn:recap:",""));return Ql(e),e}function fce(t,e,n){const r=dce(t,e,n);return f4(r)}function pce(t){return t&&t.includes("urn:recap:")}function gce(t,e){const n=ag(t),r=ag(e),s=mce(n,r);return f4(s)}function mce(t,e){Ql(t),Ql(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),r={att:{}};return n.forEach(s=>{var i,o;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[s]=oce(ice({},r.att[s]),{[a]:((c=t.att[s])==null?void 0:c[a])||((l=e.att[s])==null?void 0:l[a])})})}),r}function yce(t="",e){Ql(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let s=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(s++,`(${s}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const i=r.join(" "),o=`${n}${i}`;return`${t?t+" ":""}${o}`}function hP(t){var e;const n=ag(t);Ql(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function fP(t){const e=ag(t);Ql(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function Jy(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return pce(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function p4(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function kC(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function O1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function qr(t,...e){if(!p4(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function pP(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function wce(t,e){qr(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function mc(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function th(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function vce(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const bce=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function _ce(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function OC(t){if(typeof t=="string")t=_ce(t);else if(p4(t))t=RC(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Ece(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Cce(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const xce=(t,e)=>{function n(r,...s){if(qr(r),!bce)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?qr(l):qr(l,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&qr(s[1]);const o=e(r,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");qr(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,qr(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(qr(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function gP(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!Ace(e))throw new Error("invalid output, must be aligned");return e}function mP(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function Sce(t,e,n){kC(n);const r=new Uint8Array(16),s=vce(r);return mP(s,0,BigInt(e),n),mP(s,8,BigInt(t),n),r}function Ace(t){return t.byteOffset%4===0}function RC(t){return Uint8Array.from(t)}const g4=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Ice=g4("expand 16-byte k"),Tce=g4("expand 32-byte k"),Nce=mc(Ice),Pce=mc(Tce);function ot(t,e){return t<<e|t>>>32-e}function $C(t){return t.byteOffset%4===0}const ay=64,kce=16,m4=2**32-1,yP=new Uint32Array;function Oce(t,e,n,r,s,i,o,a){const c=s.length,l=new Uint8Array(ay),u=mc(l),d=$C(s)&&$C(i),h=d?mc(s):yP,f=d?mc(i):yP;for(let p=0;p<c;o++){if(t(e,n,r,u,o,a),o>=m4)throw new Error("arx: counter overflow");const g=Math.min(ay,c-p);if(d&&g===ay){const y=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let w=0,b;w<kce;w++)b=y+w,f[b]=h[b]^u[w];p+=ay;continue}for(let y=0,w;y<g;y++)w=p+y,i[w]=s[w]^l[y];p+=g}}function Rce(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:o}=Ece({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return O1(s),O1(o),kC(i),kC(n),(a,c,l,u,d=0)=>{qr(a),qr(c),qr(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),qr(u),O1(d),d<0||d>=m4)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let p=a.length,g,y;if(p===32)f.push(g=RC(a)),y=Pce;else if(p===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),y=Nce,f.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);$C(c)||f.push(c=RC(c));const w=mc(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,w,mc(c.subarray(0,16)),w),c=c.subarray(16)}const b=16-s;if(b!==c.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const E=new Uint8Array(12);E.set(c,i?0:12-c.length),c=E,f.push(c)}const v=mc(c);return Oce(t,y,w,v,l,u,d,o),th(...f),u}}const $n=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class $ce{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=OC(e),qr(e,32);const n=$n(e,0),r=$n(e,2),s=$n(e,4),i=$n(e,6),o=$n(e,8),a=$n(e,10),c=$n(e,12),l=$n(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=$n(e,16+2*u)}process(e,n,r=!1){const s=r?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],p=o[7],g=o[8],y=o[9],w=$n(e,n+0),b=$n(e,n+2),v=$n(e,n+4),E=$n(e,n+6),_=$n(e,n+8),x=$n(e,n+10),S=$n(e,n+12),T=$n(e,n+14);let C=i[0]+(w&8191),O=i[1]+((w>>>13|b<<3)&8191),R=i[2]+((b>>>10|v<<6)&8191),L=i[3]+((v>>>7|E<<9)&8191),z=i[4]+((E>>>4|_<<12)&8191),M=i[5]+(_>>>1&8191),A=i[6]+((_>>>14|x<<2)&8191),I=i[7]+((x>>>11|S<<5)&8191),D=i[8]+((S>>>8|T<<8)&8191),N=i[9]+(T>>>5|s),k=0,U=k+C*a+O*(5*y)+R*(5*g)+L*(5*p)+z*(5*f);k=U>>>13,U&=8191,U+=M*(5*h)+A*(5*d)+I*(5*u)+D*(5*l)+N*(5*c),k+=U>>>13,U&=8191;let j=k+C*c+O*a+R*(5*y)+L*(5*g)+z*(5*p);k=j>>>13,j&=8191,j+=M*(5*f)+A*(5*h)+I*(5*d)+D*(5*u)+N*(5*l),k+=j>>>13,j&=8191;let q=k+C*l+O*c+R*a+L*(5*y)+z*(5*g);k=q>>>13,q&=8191,q+=M*(5*p)+A*(5*f)+I*(5*h)+D*(5*d)+N*(5*u),k+=q>>>13,q&=8191;let K=k+C*u+O*l+R*c+L*a+z*(5*y);k=K>>>13,K&=8191,K+=M*(5*g)+A*(5*p)+I*(5*f)+D*(5*h)+N*(5*d),k+=K>>>13,K&=8191;let H=k+C*d+O*u+R*l+L*c+z*a;k=H>>>13,H&=8191,H+=M*(5*y)+A*(5*g)+I*(5*p)+D*(5*f)+N*(5*h),k+=H>>>13,H&=8191;let Q=k+C*h+O*d+R*u+L*l+z*c;k=Q>>>13,Q&=8191,Q+=M*a+A*(5*y)+I*(5*g)+D*(5*p)+N*(5*f),k+=Q>>>13,Q&=8191;let Z=k+C*f+O*h+R*d+L*u+z*l;k=Z>>>13,Z&=8191,Z+=M*c+A*a+I*(5*y)+D*(5*g)+N*(5*p),k+=Z>>>13,Z&=8191;let le=k+C*p+O*f+R*h+L*d+z*u;k=le>>>13,le&=8191,le+=M*l+A*c+I*a+D*(5*y)+N*(5*g),k+=le>>>13,le&=8191;let Ce=k+C*g+O*p+R*f+L*h+z*d;k=Ce>>>13,Ce&=8191,Ce+=M*u+A*l+I*c+D*a+N*(5*y),k+=Ce>>>13,Ce&=8191;let Se=k+C*y+O*g+R*p+L*f+z*h;k=Se>>>13,Se&=8191,Se+=M*d+A*u+I*l+D*c+N*a,k+=Se>>>13,Se&=8191,k=(k<<2)+k|0,k=k+U|0,U=k&8191,k=k>>>13,j+=k,i[0]=U,i[1]=j,i[2]=q,i[3]=K,i[4]=H,i[5]=Q,i[6]=Z,i[7]=le,i[8]=Ce,i[9]=Se}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=s,s=e[a]>>>13,e[a]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+s,s=r[a]>>>13,r[a]&=8191;r[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)r[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;th(r)}update(e){pP(this),e=OC(e),qr(e);const{buffer:n,blockLen:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o===r){for(;r<=s-i;i+=r)this.process(e,i);continue}n.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){th(this.h,this.r,this.buffer,this.pad)}digestInto(e){pP(this),wce(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=r[o]>>>0,e[i++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function Dce(t){const e=(r,s)=>t(s).update(OC(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const jce=Dce(t=>new $ce(t));function Uce(t,e,n,r,s,i=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],p=e[4],g=e[5],y=e[6],w=e[7],b=s,v=n[0],E=n[1],_=n[2],x=o,S=a,T=c,C=l,O=u,R=d,L=h,z=f,M=p,A=g,I=y,D=w,N=b,k=v,U=E,j=_;for(let K=0;K<i;K+=2)x=x+O|0,N=ot(N^x,16),M=M+N|0,O=ot(O^M,12),x=x+O|0,N=ot(N^x,8),M=M+N|0,O=ot(O^M,7),S=S+R|0,k=ot(k^S,16),A=A+k|0,R=ot(R^A,12),S=S+R|0,k=ot(k^S,8),A=A+k|0,R=ot(R^A,7),T=T+L|0,U=ot(U^T,16),I=I+U|0,L=ot(L^I,12),T=T+L|0,U=ot(U^T,8),I=I+U|0,L=ot(L^I,7),C=C+z|0,j=ot(j^C,16),D=D+j|0,z=ot(z^D,12),C=C+z|0,j=ot(j^C,8),D=D+j|0,z=ot(z^D,7),x=x+R|0,j=ot(j^x,16),I=I+j|0,R=ot(R^I,12),x=x+R|0,j=ot(j^x,8),I=I+j|0,R=ot(R^I,7),S=S+L|0,N=ot(N^S,16),D=D+N|0,L=ot(L^D,12),S=S+L|0,N=ot(N^S,8),D=D+N|0,L=ot(L^D,7),T=T+z|0,k=ot(k^T,16),M=M+k|0,z=ot(z^M,12),T=T+z|0,k=ot(k^T,8),M=M+k|0,z=ot(z^M,7),C=C+O|0,U=ot(U^C,16),A=A+U|0,O=ot(O^A,12),C=C+O|0,U=ot(U^C,8),A=A+U|0,O=ot(O^A,7);let q=0;r[q++]=o+x|0,r[q++]=a+S|0,r[q++]=c+T|0,r[q++]=l+C|0,r[q++]=u+O|0,r[q++]=d+R|0,r[q++]=h+L|0,r[q++]=f+z|0,r[q++]=p+M|0,r[q++]=g+A|0,r[q++]=y+I|0,r[q++]=w+D|0,r[q++]=b+N|0,r[q++]=v+k|0,r[q++]=E+U|0,r[q++]=_+j|0}const Lce=Rce(Uce,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Mce=new Uint8Array(16),wP=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(Mce.subarray(n))},Bce=new Uint8Array(32);function vP(t,e,n,r,s){const i=t(e,n,Bce),o=jce.create(i);s&&wP(o,s),wP(o,r);const a=Sce(r.length,s?s.length:0,!0);o.update(a);const c=o.digest();return th(i,a),c}const Fce=t=>(e,n,r)=>({encrypt(s,i){const o=s.length;i=gP(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);t(e,n,a,a,1);const c=vP(t,e,n,a,r);return i.set(c,o),th(c),i},decrypt(s,i){i=gP(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=vP(t,e,n,o,r);if(!Cce(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,n,i,i,1),th(c),i}}),y4=xce({blockSize:64,nonceLength:12,tagLength:16},Fce(Lce));let w4=class extends mv{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,kA(e);const r=yi(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),zs(i)}update(e){return Tc(this),this.iHash.update(e),this}digestInto(e){Tc(this),Fs(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const wv=(t,e,n)=>new w4(t,e).update(n).digest();wv.create=(t,e)=>new w4(t,e);function zce(t,e,n){return kA(t),n===void 0&&(n=new Uint8Array(t.outputLen)),wv(t,yi(n),yi(e))}const R1=Uint8Array.from([0]),bP=Uint8Array.of();function qce(t,e,n,r=32){kA(t),Go(r);const s=t.outputLen;if(r>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/s);n===void 0&&(n=bP);const o=new Uint8Array(i*s),a=wv.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<i;u++)R1[0]=u+1,c.update(u===0?bP:l).update(n).update(R1).digestInto(l),o.set(l,s*u),a._cloneInto(c);return a.destroy(),c.destroy(),zs(l,R1),o.slice(0,r)}const Wce=(t,e,n,r,s)=>qce(t,zce(t,e,n),r,s),vv=yv,jA=BigInt(0),DC=BigInt(1);function X0(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function cy(t){const e=t.toString(16);return e.length&1?"0"+e:e}function v4(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?jA:BigInt("0x"+t)}function bv(t){return v4(og(t))}function ew(t){return Fs(t),v4(og(Uint8Array.from(t).reverse()))}function UA(t,e){return RA(t.toString(16).padStart(e*2,"0"))}function LA(t,e){return UA(t,e).reverse()}function zr(t,e,n){let r;if(typeof e=="string")try{r=RA(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(PA(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}const $1=t=>typeof t=="bigint"&&jA<=t;function Hce(t,e,n){return $1(t)&&$1(e)&&$1(n)&&e<=t&&t<n}function jC(t,e,n,r){if(!Hce(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Vce(t){let e;for(e=0;t>jA;t>>=DC,e+=1);return e}const _v=t=>(DC<<BigInt(t))-DC;function Gce(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),s=h=>Uint8Array.of(h);let i=r(t),o=r(t),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},l=(...h)=>n(o,i,...h),u=(h=r(0))=>{o=l(s(0),h),i=l(),h.length!==0&&(o=l(s(1),h),i=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){i=l();const p=i.slice();f.push(p),h+=i.length}return pl(...f)};return(h,f)=>{c(),u(h);let p;for(;!(p=f(d()));)u();return c(),p}}function Ev(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,o){const a=t[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function _P(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const Gr=BigInt(0),br=BigInt(1),gl=BigInt(2),Kce=BigInt(3),b4=BigInt(4),_4=BigInt(5),E4=BigInt(8);function Os(t,e){const n=t%e;return n>=Gr?n:e+n}function ei(t,e,n){let r=t;for(;e-- >Gr;)r*=r,r%=n;return r}function EP(t,e){if(t===Gr)throw new Error("invert: expected non-zero number");if(e<=Gr)throw new Error("invert: expected positive modulus, got "+e);let n=Os(t,e),r=e,s=Gr,i=br;for(;n!==Gr;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==br)throw new Error("invert: does not exist");return Os(s,e)}function C4(t,e){const n=(t.ORDER+br)/b4,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function Yce(t,e){const n=(t.ORDER-_4)/E4,r=t.mul(e,gl),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,gl),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function Jce(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-br,n=0;for(;e%gl===Gr;)e/=gl,n++;let r=gl;const s=Ih(t);for(;CP(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return C4;let i=s.pow(r,e);const o=(e+br)/gl;return function(a,c){if(a.is0(c))return c;if(CP(a,c)!==1)throw new Error("Cannot find square root");let l=n,u=a.mul(a.ONE,i),d=a.pow(c,e),h=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let f=1,p=a.sqr(d);for(;!a.eql(p,a.ONE);)if(f++,p=a.sqr(p),f===l)throw new Error("Cannot find square root");const g=br<<BigInt(l-f-1),y=a.pow(u,g);l=f,u=a.sqr(y),d=a.mul(d,u),h=a.mul(h,y)}return h}}function Qce(t){return t%b4===Kce?C4:t%E4===_4?Yce:Jce(t)}const Zce=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Xce(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Zce.reduce((r,s)=>(r[s]="function",r),e);return Ev(t,n),t}function ele(t,e,n){if(n<Gr)throw new Error("invalid exponent, negatives unsupported");if(n===Gr)return t.ONE;if(n===br)return e;let r=t.ONE,s=e;for(;n>Gr;)n&br&&(r=t.mul(r,s)),s=t.sqr(s),n>>=br;return r}function x4(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),i),r}function CP(t,e){const n=(t.ORDER-br)/gl,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function tle(t,e){e!==void 0&&Go(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ih(t,e,n=!1,r={}){if(t<=Gr)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(s=u.BITS),u.sqrt&&(i=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(s=e),r.sqrt&&(i=r.sqrt);const{nBitLength:o,nByteLength:a}=tle(t,s);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:a,MASK:_v(o),ZERO:Gr,ONE:br,create:u=>Os(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Gr<=u&&u<t},is0:u=>u===Gr,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&br)===br,neg:u=>Os(-u,t),eql:(u,d)=>u===d,sqr:u=>Os(u*u,t),add:(u,d)=>Os(u+d,t),sub:(u,d)=>Os(u-d,t),mul:(u,d)=>Os(u*d,t),pow:(u,d)=>ele(l,u,d),div:(u,d)=>Os(u*EP(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>EP(u,t),sqrt:i||(u=>(c||(c=Qce(t)),c(l,u))),toBytes:u=>n?LA(u,a):UA(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?ew(u):bv(u)},invertBatch:u=>x4(l,u),cmov:(u,d,h)=>h?d:u});return Object.freeze(l)}function S4(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function A4(t){const e=S4(t);return e+Math.ceil(e/2)}function nle(t,e,n=!1){const r=t.length,s=S4(e),i=A4(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?ew(t):bv(t),a=Os(o,e-br)+br;return n?LA(a,s):UA(a,s)}const nh=BigInt(0),ml=BigInt(1);function Gf(t,e){const n=e.negate();return t?n:e}function rle(t,e,n){const r=i=>i.pz,s=x4(t.Fp,n.map(r));return n.map((i,o)=>i.toAffine(s[o])).map(t.fromAffine)}function I4(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function D1(t,e){I4(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=_v(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function xP(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),c=t>>o;a>r&&(a-=i,c+=ml);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function sle(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function ile(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const j1=new WeakMap,T4=new WeakMap;function U1(t){return T4.get(t)||1}function SP(t){if(t!==nh)throw new Error("invalid wNAF")}function ole(t,e){return{constTimeNegate:Gf,hasPrecomputes(n){return U1(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>nh;)r&ml&&(s=s.add(i)),i=i.double(),r>>=ml;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=D1(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=D1(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:p}=xP(s,c,a);s=l,d?o=o.add(Gf(f,r[p])):i=i.add(Gf(h,r[u]))}return SP(s),{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=D1(n,e);for(let a=0;a<o.windows&&s!==nh;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=xP(s,a,o);if(s=c,!u){const h=r[l];i=i.add(d?h.negate():h)}}return SP(s),i},getPrecomputes(n,r,s){let i=j1.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(i=s(i)),j1.set(r,i))),i},wNAFCached(n,r,s){const i=U1(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=U1(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){I4(r,e),T4.set(n,r),j1.delete(n)}}}function ale(t,e,n,r){let s=e,i=t.ZERO,o=t.ZERO;for(;n>nh||r>nh;)n&ml&&(i=i.add(s)),r&ml&&(o=o.add(s)),s=s.double(),n>>=ml,r>>=ml;return{p1:i,p2:o}}function cle(t,e,n,r){sle(n,t),ile(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=Vce(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=_v(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let g=0;g<i;g++){const y=r[g],w=Number(y>>BigInt(f)&l);u[w]=u[w].add(n[g])}let p=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),p=p.add(y);if(h=h.add(p),f!==0)for(let g=0;g<c;g++)h=h.double()}return h}function AP(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Xce(e),e}else return Ih(t)}function lle(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>nh))throw new Error(`CURVE.${o} must be positive bigint`)}const r=AP(e.p,n.Fp),s=AP(e.n,n.Fn),i=["Gx","Gy","a","b"];for(const o of i)if(!r.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const rf=BigInt(0),Nu=BigInt(1),ly=BigInt(2);function ule(t){return Ev(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function dle(t){const e=ule(t),{P:n,type:r,adjustScalarBytes:s,powPminus2:i,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||Ah,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),h=BigInt(a?121665:39081),f=a?ly**BigInt(254):ly**BigInt(447),p=a?BigInt(8)*ly**BigInt(251)-Nu:BigInt(4)*ly**BigInt(445)-Nu,g=f+p+Nu,y=C=>Os(C,n),w=b(d);function b(C){return LA(y(C),u)}function v(C){const O=zr("u coordinate",C,u);return a&&(O[31]&=127),y(ew(O))}function E(C){return ew(s(zr("scalar",C,u)))}function _(C,O){const R=T(v(O),E(C));if(R===rf)throw new Error("invalid private or public key received");return b(R)}function x(C){return _(C,w)}function S(C,O,R){const L=y(C*(O-R));return O=y(O-L),R=y(R+L),{x_2:O,x_3:R}}function T(C,O){jC("u",C,rf,n),jC("scalar",O,f,g);const R=O,L=C;let z=Nu,M=rf,A=C,I=Nu,D=rf;for(let k=BigInt(l-1);k>=rf;k--){const U=R>>k&Nu;D^=U,{x_2:z,x_3:A}=S(D,z,A),{x_2:M,x_3:I}=S(D,M,I),D=U;const j=z+M,q=y(j*j),K=z-M,H=y(K*K),Q=q-H,Z=A+I,le=A-I,Ce=y(le*j),Se=y(Z*K),Oe=Ce+Se,Mt=Ce-Se;A=y(Oe*Oe),I=y(L*y(Mt*Mt)),z=y(q*H),M=y(Q*(q+y(h*Q)))}({x_2:z,x_3:A}=S(D,z,A)),{x_2:M,x_3:I}=S(D,M,I);const N=i(M);return y(z*N)}return{scalarMult:_,scalarMultBase:x,getSharedSecret:(C,O)=>_(C,O),getPublicKey:C=>x(C),utils:{randomPrivateKey:()=>c(u)},GuBytes:w.slice()}}BigInt(0);const hle=BigInt(1),IP=BigInt(2),fle=BigInt(3),ple=BigInt(5);BigInt(8);const N4={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function gle(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=N4.p,o=t*t%i*t%i,a=ei(o,IP,i)*o%i,c=ei(a,hle,i)*t%i,l=ei(c,ple,i)*c%i,u=ei(l,e,i)*l%i,d=ei(u,n,i)*u%i,h=ei(d,r,i)*d%i,f=ei(h,s,i)*h%i,p=ei(f,s,i)*h%i,g=ei(p,e,i)*l%i;return{pow_p_5_8:ei(g,IP,i)*t%i,b2:o}}function mle(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const UC=(()=>{const t=N4.p;return dle({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=gle(e);return Os(ei(n,fle,t)*r,t)},adjustScalarBytes:mle})})();function TP(t){t.lowS!==void 0&&X0("lowS",t.lowS),t.prehash!==void 0&&X0("prehash",t.prehash)}class yle extends Error{constructor(e=""){super(e)}}const So={Err:yle,_tlv:{encode:(t,e)=>{const{Err:n}=So;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=cy(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?cy(s.length/2|128):"";return cy(t)+i+s+e},decode(t,e){const{Err:n}=So;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=So;if(t<Kf)throw new e("integer: negative integers are not allowed");let n=cy(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=So;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return bv(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=So,s=zr("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=So,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},Kf=BigInt(0),Yf=BigInt(1),wle=BigInt(2),uy=BigInt(3),vle=BigInt(4);function ble(t,e,n){function r(s){const i=t.sqr(s),o=t.mul(i,s);return t.add(t.add(o,t.mul(s,e)),n)}return r}function P4(t,e,n){const{BYTES:r}=t;function s(i){let o;if(typeof i=="bigint")o=i;else{let a=zr("private key",i);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(a,c.length-a.length),a=c}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof i}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return s}function _le(t,e={}){const{Fp:n,Fn:r}=lle("weierstrass",t,e),{h:s,n:i}=t;Ev(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(T,C,O){const{x:R,y:L}=C.toAffine(),z=n.toBytes(R);if(X0("isCompressed",O),O){a();const M=!n.isOdd(L);return pl(k4(M),z)}else return pl(Uint8Array.of(4),z,n.toBytes(L))}function l(T){Fs(T);const C=n.BYTES,O=C+1,R=2*C+1,L=T.length,z=T[0],M=T.subarray(1);if(L===O&&(z===2||z===3)){const A=n.fromBytes(M);if(!n.isValid(A))throw new Error("bad point: is not on curve, wrong x");const I=h(A);let D;try{D=n.sqrt(I)}catch(k){const U=k instanceof Error?": "+k.message:"";throw new Error("bad point: is not on curve, sqrt error"+U)}a();const N=n.isOdd(D);return(z&1)===1!==N&&(D=n.neg(D)),{x:A,y:D}}else if(L===R&&z===4){const A=n.fromBytes(M.subarray(C*0,C*1)),I=n.fromBytes(M.subarray(C*1,C*2));if(!f(A,I))throw new Error("bad point: is not on curve");return{x:A,y:I}}else throw new Error(`bad point: got length ${L}, expected compressed=${O} or uncompressed=${R}`)}const u=e.toBytes||c,d=e.fromBytes||l,h=ble(n,t.a,t.b);function f(T,C){const O=n.sqr(C),R=h(T);return n.eql(O,R)}if(!f(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const p=n.mul(n.pow(t.a,uy),vle),g=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(p,g)))throw new Error("bad curve params: a or b");function y(T,C,O=!1){if(!n.isValid(C)||O&&n.is0(C))throw new Error(`bad point coordinate ${T}`);return C}function w(T){if(!(T instanceof _))throw new Error("ProjectivePoint expected")}const b=_P((T,C)=>{const{px:O,py:R,pz:L}=T;if(n.eql(L,n.ONE))return{x:O,y:R};const z=T.is0();C==null&&(C=z?n.ONE:n.inv(L));const M=n.mul(O,C),A=n.mul(R,C),I=n.mul(L,C);if(z)return{x:n.ZERO,y:n.ZERO};if(!n.eql(I,n.ONE))throw new Error("invZ was invalid");return{x:M,y:A}}),v=_P(T=>{if(T.is0()){if(e.allowInfinityPoint&&!n.is0(T.py))return;throw new Error("bad point: ZERO")}const{x:C,y:O}=T.toAffine();if(!n.isValid(C)||!n.isValid(O))throw new Error("bad point: x or y not field elements");if(!f(C,O))throw new Error("bad point: equation left != right");if(!T.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function E(T,C,O,R,L){return O=new _(n.mul(O.px,T),O.py,O.pz),C=Gf(R,C),O=Gf(L,O),C.add(O)}class _{constructor(C,O,R){this.px=y("x",C),this.py=y("y",O,!0),this.pz=y("z",R),Object.freeze(this)}static fromAffine(C){const{x:O,y:R}=C||{};if(!C||!n.isValid(O)||!n.isValid(R))throw new Error("invalid affine point");if(C instanceof _)throw new Error("projective point not allowed");return n.is0(O)&&n.is0(R)?_.ZERO:new _(O,R,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){return rle(_,"pz",C)}static fromBytes(C){return Fs(C),_.fromHex(C)}static fromHex(C){const O=_.fromAffine(d(zr("pointHex",C)));return O.assertValidity(),O}static fromPrivateKey(C){const O=P4(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return _.BASE.multiply(O(C))}static msm(C,O){return cle(_,r,C,O)}precompute(C=8,O=!0){return S.setWindowSize(this,C),O||this.multiply(uy),this}_setWindowSize(C){this.precompute(C)}assertValidity(){v(this)}hasEvenY(){const{y:C}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(C)}equals(C){w(C);const{px:O,py:R,pz:L}=this,{px:z,py:M,pz:A}=C,I=n.eql(n.mul(O,A),n.mul(z,L)),D=n.eql(n.mul(R,A),n.mul(M,L));return I&&D}negate(){return new _(this.px,n.neg(this.py),this.pz)}double(){const{a:C,b:O}=t,R=n.mul(O,uy),{px:L,py:z,pz:M}=this;let A=n.ZERO,I=n.ZERO,D=n.ZERO,N=n.mul(L,L),k=n.mul(z,z),U=n.mul(M,M),j=n.mul(L,z);return j=n.add(j,j),D=n.mul(L,M),D=n.add(D,D),A=n.mul(C,D),I=n.mul(R,U),I=n.add(A,I),A=n.sub(k,I),I=n.add(k,I),I=n.mul(A,I),A=n.mul(j,A),D=n.mul(R,D),U=n.mul(C,U),j=n.sub(N,U),j=n.mul(C,j),j=n.add(j,D),D=n.add(N,N),N=n.add(D,N),N=n.add(N,U),N=n.mul(N,j),I=n.add(I,N),U=n.mul(z,M),U=n.add(U,U),N=n.mul(U,j),A=n.sub(A,N),D=n.mul(U,k),D=n.add(D,D),D=n.add(D,D),new _(A,I,D)}add(C){w(C);const{px:O,py:R,pz:L}=this,{px:z,py:M,pz:A}=C;let I=n.ZERO,D=n.ZERO,N=n.ZERO;const k=t.a,U=n.mul(t.b,uy);let j=n.mul(O,z),q=n.mul(R,M),K=n.mul(L,A),H=n.add(O,R),Q=n.add(z,M);H=n.mul(H,Q),Q=n.add(j,q),H=n.sub(H,Q),Q=n.add(O,L);let Z=n.add(z,A);return Q=n.mul(Q,Z),Z=n.add(j,K),Q=n.sub(Q,Z),Z=n.add(R,L),I=n.add(M,A),Z=n.mul(Z,I),I=n.add(q,K),Z=n.sub(Z,I),N=n.mul(k,Q),I=n.mul(U,K),N=n.add(I,N),I=n.sub(q,N),N=n.add(q,N),D=n.mul(I,N),q=n.add(j,j),q=n.add(q,j),K=n.mul(k,K),Q=n.mul(U,Q),q=n.add(q,K),K=n.sub(j,K),K=n.mul(k,K),Q=n.add(Q,K),j=n.mul(q,Q),D=n.add(D,j),j=n.mul(Z,Q),I=n.mul(H,I),I=n.sub(I,j),j=n.mul(H,q),N=n.mul(Z,N),N=n.add(N,j),new _(I,D,N)}subtract(C){return this.add(C.negate())}is0(){return this.equals(_.ZERO)}multiply(C){const{endo:O}=e;if(!r.isValidNot0(C))throw new Error("invalid scalar: out of range");let R,L;const z=M=>S.wNAFCached(this,M,_.normalizeZ);if(O){const{k1neg:M,k1:A,k2neg:I,k2:D}=O.splitScalar(C),{p:N,f:k}=z(A),{p:U,f:j}=z(D);L=k.add(j),R=E(O.beta,N,U,M,I)}else{const{p:M,f:A}=z(C);R=M,L=A}return _.normalizeZ([R,L])[0]}multiplyUnsafe(C){const{endo:O}=e,R=this;if(!r.isValid(C))throw new Error("invalid scalar: out of range");if(C===Kf||R.is0())return _.ZERO;if(C===Yf)return R;if(S.hasPrecomputes(this))return this.multiply(C);if(O){const{k1neg:L,k1:z,k2neg:M,k2:A}=O.splitScalar(C),{p1:I,p2:D}=ale(_,R,z,A);return E(O.beta,I,D,L,M)}else return S.wNAFCachedUnsafe(R,C)}multiplyAndAddUnsafe(C,O,R){const L=this.multiplyUnsafe(O).add(C.multiplyUnsafe(R));return L.is0()?void 0:L}toAffine(C){return b(this,C)}isTorsionFree(){const{isTorsionFree:C}=e;return s===Yf?!0:C?C(_,this):S.wNAFCachedUnsafe(this,i).is0()}clearCofactor(){const{clearCofactor:C}=e;return s===Yf?this:C?C(_,this):this.multiplyUnsafe(s)}toBytes(C=!0){return X0("isCompressed",C),this.assertValidity(),u(_,this,C)}toRawBytes(C=!0){return this.toBytes(C)}toHex(C=!0){return og(this.toBytes(C))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}_.BASE=new _(t.Gx,t.Gy,n.ONE),_.ZERO=new _(n.ZERO,n.ONE,n.ZERO),_.Fp=n,_.Fn=r;const x=r.BITS,S=ole(_,e.endo?Math.ceil(x/2):x);return _}function k4(t){return Uint8Array.of(t?2:3)}function Ele(t,e,n={}){Ev(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||Ah,s=e.hmac||((R,...L)=>wv(e.hash,R,pl(...L))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:c}=o;function l(R){const L=a>>Yf;return R>L}function u(R){return l(R)?o.neg(R):R}function d(R,L){if(!o.isValidNot0(L))throw new Error(`invalid signature ${R}: out of range 1..CURVE.n`)}class h{constructor(L,z,M){d("r",L),d("s",z),this.r=L,this.s=z,M!=null&&(this.recovery=M),Object.freeze(this)}static fromCompact(L){const z=o.BYTES,M=zr("compactSignature",L,z*2);return new h(o.fromBytes(M.subarray(0,z)),o.fromBytes(M.subarray(z,z*2)))}static fromDER(L){const{r:z,s:M}=So.toSig(zr("DER",L));return new h(z,M)}assertValidity(){}addRecoveryBit(L){return new h(this.r,this.s,L)}recoverPublicKey(L){const z=i.ORDER,{r:M,s:A,recovery:I}=this;if(I==null||![0,1,2,3].includes(I))throw new Error("recovery id invalid");if(a*wle<z&&I>1)throw new Error("recovery id is ambiguous for h>1 curve");const D=I===2||I===3?M+a:M;if(!i.isValid(D))throw new Error("recovery id 2 or 3 invalid");const N=i.toBytes(D),k=t.fromHex(pl(k4((I&1)===0),N)),U=o.inv(D),j=v(zr("msgHash",L)),q=o.create(-j*U),K=o.create(A*U),H=t.BASE.multiplyUnsafe(q).add(k.multiplyUnsafe(K));if(H.is0())throw new Error("point at infinify");return H.assertValidity(),H}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,o.neg(this.s),this.recovery):this}toBytes(L){if(L==="compact")return pl(o.toBytes(this.r),o.toBytes(this.s));if(L==="der")return RA(So.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return og(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return og(this.toBytes("compact"))}}const f=P4(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),p={isValidPrivateKey(R){try{return f(R),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const R=a;return nle(r(A4(R)),R)},precompute(R=8,L=t.BASE){return L.precompute(R,!1)}};function g(R,L=!0){return t.fromPrivateKey(R).toBytes(L)}function y(R){if(typeof R=="bigint")return!1;if(R instanceof t)return!0;const L=zr("key",R).length,z=i.BYTES,M=z+1,A=2*z+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===M))return L===M||L===A}function w(R,L,z=!0){if(y(R)===!0)throw new Error("first arg must be private key");if(y(L)===!1)throw new Error("second arg must be public key");return t.fromHex(L).multiply(f(R)).toBytes(z)}const b=e.bits2int||function(R){if(R.length>8192)throw new Error("input is too large");const L=bv(R),z=R.length*8-c;return z>0?L>>BigInt(z):L},v=e.bits2int_modN||function(R){return o.create(b(R))},E=_v(c);function _(R){return jC("num < 2^"+c,R,Kf,E),o.toBytes(R)}function x(R,L,z=S){if(["recovered","canonical"].some(H=>H in z))throw new Error("sign() legacy options not supported");const{hash:M}=e;let{lowS:A,prehash:I,extraEntropy:D}=z;A==null&&(A=!0),R=zr("msgHash",R),TP(z),I&&(R=zr("prehashed msgHash",M(R)));const N=v(R),k=f(L),U=[_(k),_(N)];if(D!=null&&D!==!1){const H=D===!0?r(i.BYTES):D;U.push(zr("extraEntropy",H))}const j=pl(...U),q=N;function K(H){const Q=b(H);if(!o.isValidNot0(Q))return;const Z=o.inv(Q),le=t.BASE.multiply(Q).toAffine(),Ce=o.create(le.x);if(Ce===Kf)return;const Se=o.create(Z*o.create(q+Ce*k));if(Se===Kf)return;let Oe=(le.x===Ce?0:2)|Number(le.y&Yf),Mt=Se;return A&&l(Se)&&(Mt=u(Se),Oe^=1),new h(Ce,Mt,Oe)}return{seed:j,k2sig:K}}const S={lowS:e.lowS,prehash:!1},T={lowS:e.lowS,prehash:!1};function C(R,L,z=S){const{seed:M,k2sig:A}=x(R,L,z);return Gce(e.hash.outputLen,o.BYTES,s)(M,A)}t.BASE.precompute(8);function O(R,L,z,M=T){const A=R;L=zr("msgHash",L),z=zr("publicKey",z),TP(M);const{lowS:I,prehash:D,format:N}=M;if("strict"in M)throw new Error("options.strict was renamed to lowS");if(N!==void 0&&!["compact","der","js"].includes(N))throw new Error('format must be "compact", "der" or "js"');const k=typeof A=="string"||PA(A),U=!k&&!N&&typeof A=="object"&&A!==null&&typeof A.r=="bigint"&&typeof A.s=="bigint";if(!k&&!U)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let j,q;try{if(U)if(N===void 0||N==="js")j=new h(A.r,A.s);else throw new Error("invalid format");if(k){try{N!=="compact"&&(j=h.fromDER(A))}catch(Oe){if(!(Oe instanceof So.Err))throw Oe}!j&&N!=="der"&&(j=h.fromCompact(A))}q=t.fromHex(z)}catch{return!1}if(!j||I&&j.hasHighS())return!1;D&&(L=e.hash(L));const{r:K,s:H}=j,Q=v(L),Z=o.inv(H),le=o.create(Q*Z),Ce=o.create(K*Z),Se=t.BASE.multiplyUnsafe(le).add(q.multiplyUnsafe(Ce));return Se.is0()?!1:o.create(Se.x)===K}return Object.freeze({getPublicKey:g,getSharedSecret:w,sign:C,verify:O,utils:p,Point:t,Signature:h})}function Cle(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Ih(e.n,t.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function xle(t){const{CURVE:e,curveOpts:n}=Cle(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function Sle(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function Ale(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=xle(t),s=_le(e,n),i=Ele(s,r,n);return Sle(t,i)}function LC(t,e){const n=r=>Ale({...t,hash:r});return{...n(e),create:n}}const O4={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},R4={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},$4={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Ile=Ih(O4.p),Tle=Ih(R4.p),Nle=Ih($4.p),Ple=LC({...O4,Fp:Ile,lowS:!1},yv);LC({...R4,Fp:Tle,lowS:!1},Lae),LC({...$4,Fp:Nle,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Uae);const kle=Ple,D4="base10",_r="base16",fi="base64pad",ja="base64url",nm="utf8",j4=0,Do=1,rm=2,Ole=0,NP=1,Jf=12,MA=32;function Rle(){const t=UC.utils.randomPrivateKey(),e=UC.getPublicKey(t);return{privateKey:Zr(t,_r),publicKey:Zr(e,_r)}}function MC(){const t=Ah(MA);return Zr(t,_r)}function $le(t,e){const n=UC.getSharedSecret(js(t,_r),js(e,_r)),r=Wce(vv,n,void 0,void 0,MA);return Zr(r,_r)}function Qy(t){const e=vv(js(t,_r));return Zr(e,_r)}function qi(t){const e=vv(js(t,nm));return Zr(e,_r)}function U4(t){return js(`${t}`,D4)}function Zl(t){return Number(Zr(t,D4))}function L4(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function M4(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function Dle(t){const e=U4(typeof t.type<"u"?t.type:j4);if(Zl(e)===Do&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?js(t.senderPublicKey,_r):void 0,r=typeof t.iv<"u"?js(t.iv,_r):Ah(Jf),s=js(t.symKey,_r),i=y4(s,r).encrypt(js(t.message,nm)),o=B4({type:e,sealed:i,iv:r,senderPublicKey:n});return t.encoding===ja?L4(o):o}function jle(t){const e=js(t.symKey,_r),{sealed:n,iv:r}=cg({encoded:t.encoded,encoding:t.encoding}),s=y4(e,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return Zr(s,nm)}function Ule(t,e){const n=U4(rm),r=Ah(Jf),s=js(t,nm),i=B4({type:n,sealed:s,iv:r});return e===ja?L4(i):i}function Lle(t,e){const{sealed:n}=cg({encoded:t,encoding:e});return Zr(n,nm)}function B4(t){if(Zl(t.type)===rm)return Zr(Vf([t.type,t.sealed]),fi);if(Zl(t.type)===Do){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Zr(Vf([t.type,t.senderPublicKey,t.iv,t.sealed]),fi)}return Zr(Vf([t.type,t.iv,t.sealed]),fi)}function cg(t){const e=(t.encoding||fi)===ja?M4(t.encoded):t.encoded,n=js(e,fi),r=n.slice(Ole,NP),s=NP;if(Zl(r)===Do){const c=s+MA,l=c+Jf,u=n.slice(s,c),d=n.slice(c,l),h=n.slice(l);return{type:r,sealed:h,iv:d,senderPublicKey:u}}if(Zl(r)===rm){const c=n.slice(s),l=Ah(Jf);return{type:r,sealed:c,iv:l}}const i=s+Jf,o=n.slice(s,i),a=n.slice(i);return{type:r,sealed:a,iv:o}}function Mle(t,e){const n=cg({encoded:t,encoding:e==null?void 0:e.encoding});return F4({type:Zl(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Zr(n.senderPublicKey,_r):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function F4(t){const e=(t==null?void 0:t.type)||j4;if(e===Do){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function PP(t){return t.type===Do&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function kP(t){return t.type===rm}function Ble(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return Vf([new Uint8Array([4]),e,n])}function Fle(t,e){const[n,r,s]=t.split("."),i=Buffer.from(M4(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32),a=i.slice(32,64),c=`${n}.${r}`,l=vv(c),u=Ble(e);if(!kle.verify(Vf([o,a]),l,u))throw new Error("Invalid signature");return _C(t).payload}const zle="irn";function tw(t){return(t==null?void 0:t.relay)||{protocol:zle}}function If(t){const e=yoe[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function qle(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(r)){const i=s.replace(r,""),o=t[s];n[i]=o}}),n}function OP(t){if(!t.includes("wc:")){const l=Z6(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),s=t.substring(e+1,n).split("@"),i=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(i),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:Wle(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:qle(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Wle(t){return t.startsWith("//")?t.substring(2):t}function Hle(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(s=>{const i=s,o=n+e+i;t[i]&&(r[o]=t[i])}),r}function RP(t){const e=new URLSearchParams,n=Hle(t.relay);Object.keys(n).sort().forEach(s=>{e.set(s,n[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function dy(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var Vle=Object.defineProperty,Gle=Object.defineProperties,Kle=Object.getOwnPropertyDescriptors,$P=Object.getOwnPropertySymbols,Yle=Object.prototype.hasOwnProperty,Jle=Object.prototype.propertyIsEnumerable,DP=(t,e,n)=>e in t?Vle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qle=(t,e)=>{for(var n in e||(e={}))Yle.call(e,n)&&DP(t,n,e[n]);if($P)for(var n of $P(e))Jle.call(e,n)&&DP(t,n,e[n]);return t},Zle=(t,e)=>Gle(t,Kle(e));function Th(t){const e=[];return t.forEach(n=>{const[r,s]=n.split(":");e.push(`${r}:${s}`)}),e}function Xle(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Th(n.accounts))}),e}function eue(t,e){const n=[];return Object.values(t).forEach(r=>{Th(r.accounts).includes(e)&&n.push(...r.methods)}),n}function tue(t,e){const n=[];return Object.values(t).forEach(r=>{Th(r.accounts).includes(e)&&n.push(...r.events)}),n}function Cv(t){return t.includes(":")}function hd(t){return Cv(t)?t.split(":")[0]:t}function jP(t){var e,n,r;const s={};if(!yc(t))return s;for(const[i,o]of Object.entries(t)){const a=Cv(i)?[i]:o.chains,c=o.methods||[],l=o.events||[],u=hd(i);s[u]=Zle(Qle({},s[u]),{chains:Zi(a,(e=s[u])==null?void 0:e.chains),methods:Zi(c,(n=s[u])==null?void 0:n.methods),events:Zi(l,(r=s[u])==null?void 0:r.events)})}return s}function nue(t){const e={};return t==null||t.forEach(n=>{var r;const[s,i]=n.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(n),(r=e[s].chains)==null||r.push(`${s}:${i}`)}),e}function UP(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=nue(e);for(const[r,s]of Object.entries(n))s.methods?s.methods=Zi(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return n}function rue(t,e){var n,r,s,i,o,a;const c=jP(t),l=jP(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:Zi((n=c[h])==null?void 0:n.chains,(r=l[h])==null?void 0:r.chains),methods:Zi((s=c[h])==null?void 0:s.methods,(i=l[h])==null?void 0:i.methods),events:Zi((o=c[h])==null?void 0:o.events,(a=l[h])==null?void 0:a.events)};return u}const sue={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},iue={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ae(t,e){const{message:n,code:r}=iue[t];return{message:e?`${n} ${e}`:n,code:r}}function Bt(t,e){const{message:n,code:r}=sue[t];return{message:e?`${n} ${e}`:n,code:r}}function jo(t,e){return!!Array.isArray(t)}function yc(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Mn(t){return typeof t>"u"}function un(t,e){return e&&Mn(t)?!0:typeof t=="string"&&!!t.trim().length}function BA(t,e){return e&&Mn(t)?!0:typeof t=="number"&&!isNaN(t)}function oue(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),s=Object.keys(n);let i=!0;return fl(s,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=Th(a),d=n[o];(!fl(G6(o,d),u)||!fl(d.methods,c)||!fl(d.events,l))&&(i=!1)}),i):!1}function nw(t){return un(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function aue(t){if(un(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&nw(n)}}return!1}function cue(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(un(t,!1)){if(e(t))return!0;const n=Z6(t);return e(n)}}catch{}return!1}function lue(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function uue(t){return t==null?void 0:t.topic}function due(t,e){let n=null;return un(t==null?void 0:t.publicKey,!1)||(n=ae("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function LP(t){let e=!0;return jo(t)?t.length&&(e=t.every(n=>un(n,!1))):e=!1,e}function hue(t,e,n){let r=null;return jo(e)&&e.length?e.forEach(s=>{r||nw(s)||(r=Bt("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):nw(t)||(r=Bt("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function fue(t,e,n){let r=null;return Object.entries(t).forEach(([s,i])=>{if(r)return;const o=hue(s,G6(s,i),`${e} ${n}`);o&&(r=o)}),r}function pue(t,e){let n=null;return jo(t)?t.forEach(r=>{n||aue(r)||(n=Bt("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Bt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function gue(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=pue(r==null?void 0:r.accounts,`${e} namespace`);s&&(n=s)}),n}function mue(t,e){let n=null;return LP(t==null?void 0:t.methods)?LP(t==null?void 0:t.events)||(n=Bt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Bt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function z4(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=mue(r,`${e}, namespace`);s&&(n=s)}),n}function yue(t,e,n){let r=null;if(t&&yc(t)){const s=z4(t,e);s&&(r=s);const i=fue(t,e,n);i&&(r=i)}else r=ae("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function L1(t,e){let n=null;if(t&&yc(t)){const r=z4(t,e);r&&(n=r);const s=gue(t,e);s&&(n=s)}else n=ae("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function q4(t){return un(t.protocol,!0)}function wue(t,e){let n=!1;return t?t&&jo(t)&&t.length&&t.forEach(r=>{n=q4(r)}):n=!0,n}function vue(t){return typeof t=="number"}function Ur(t){return typeof t<"u"&&typeof t!==null}function bue(t){return!(!t||typeof t!="object"||!t.code||!BA(t.code,!1)||!t.message||!un(t.message,!1))}function _ue(t){return!(Mn(t)||!un(t.method,!1))}function Eue(t){return!(Mn(t)||Mn(t.result)&&Mn(t.error)||!BA(t.id,!1)||!un(t.jsonrpc,!1))}function Cue(t){return!(Mn(t)||!un(t.name,!1))}function MP(t,e){return!(!nw(e)||!Xle(t).includes(e))}function xue(t,e,n){return un(n,!1)?eue(t,e).includes(n):!1}function Sue(t,e,n){return un(n,!1)?tue(t,e).includes(n):!1}function BP(t,e,n){let r=null;const s=Aue(t),i=Iue(e),o=Object.keys(s),a=Object.keys(i),c=FP(Object.keys(t)),l=FP(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=ae("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),fl(o,a)||(r=ae("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const h=Th(e[d].accounts);h.includes(d)||(r=ae("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{r||(fl(s[d].methods,i[d].methods)?fl(s[d].events,i[d].events)||(r=ae("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=ae("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function Aue(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(s=>{e[s]={methods:t[n].methods,events:t[n].events}})}),e}function FP(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Iue(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=Th(t[n].accounts);r==null||r.forEach(s=>{e[s]={accounts:t[n].accounts.filter(i=>i.includes(`${s}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function Tue(t,e){return BA(t,!1)&&t<=e.max&&t>=e.min}function zP(){const t=em();return new Promise(e=>{switch(t){case ds.browser:e(Nue());break;case ds.reactNative:e(Pue());break;case ds.node:e(kue());break;default:e(!0)}})}function Nue(){return Sh()&&(navigator==null?void 0:navigator.onLine)}async function Pue(){if(Uc()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function kue(){return!0}function Oue(t){switch(em()){case ds.browser:Rue(t);break;case ds.reactNative:$ue(t);break}}function Rue(t){!Uc()&&Sh()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function $ue(t){Uc()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function Due(){var t;return Sh()&&Yl()?((t=Yl())==null?void 0:t.visibilityState)==="visible":!0}const M1={};class sf{static get(e){return M1[e]}static set(e,n){M1[e]=n}static delete(e){delete M1[e]}}function jue(t){const e=xh.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function Uue({publicKey:t,signature:e,payload:n}){var r;const s=BC(n.method),i=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=Bue(n.address),a=n.era==="00"?new Uint8Array([0]):BC(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${Mue(n.tip)}`),d=zue(u),h=new Uint8Array([0,...t,o,...e,...a,...l,...d,...s]),f=Fue(h.length+1);return new Uint8Array([...f,i,...h])}function Lue(t){const e=BC(t),n=Noe.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function BC(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function Mue(t){return t.startsWith("0x")?t.slice(2):t}function Bue(t){const e=xh.decode(t)[0];return e===42?0:e===60?2:1}function Fue(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function zue(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function que(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=jue(t.transaction.address),r=Uue({publicKey:n,signature:e,payload:t.transaction}),s=Buffer.from(r).toString("hex");return Lue(s)}const Wue="PARSE_ERROR",Hue="INVALID_REQUEST",Vue="METHOD_NOT_FOUND",Gue="INVALID_PARAMS",W4="INTERNAL_ERROR",FA="SERVER_ERROR",Kue=[-32700,-32600,-32601,-32602,-32603],Qf={[Wue]:{code:-32700,message:"Parse error"},[Hue]:{code:-32600,message:"Invalid Request"},[Vue]:{code:-32601,message:"Method not found"},[Gue]:{code:-32602,message:"Invalid params"},[W4]:{code:-32603,message:"Internal error"},[FA]:{code:-32e3,message:"Server error"}},H4=FA;function Yue(t){return Kue.includes(t)}function qP(t){return Object.keys(Qf).includes(t)?Qf[t]:Qf[H4]}function Jue(t){const e=Object.values(Qf).find(n=>n.code===t);return e||Qf[H4]}function V4(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var G4={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var FC=function(t,e){return FC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},FC(t,e)};function Que(t,e){FC(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var zC=function(){return zC=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zC.apply(this,arguments)};function Zue(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Xue(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function ede(t,e){return function(n,r){e(n,r,t)}}function tde(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function nde(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function rde(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function sde(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function ide(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function qC(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function K4(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function ode(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(K4(arguments[e]));return t}function ade(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function lg(t){return this instanceof lg?(this.v=t,this):new lg(t)}function cde(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(f){return new Promise(function(p,g){i.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(i[0][3],p)}}function c(h){h.value instanceof lg?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function lde(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:lg(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function ude(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof qC=="function"?qC(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function dde(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function hde(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function fde(t){return t&&t.__esModule?t:{default:t}}function pde(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function gde(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const mde=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return zC},__asyncDelegator:lde,__asyncGenerator:cde,__asyncValues:ude,__await:lg,__awaiter:nde,__classPrivateFieldGet:pde,__classPrivateFieldSet:gde,__createBinding:sde,__decorate:Xue,__exportStar:ide,__extends:Que,__generator:rde,__importDefault:fde,__importStar:hde,__makeTemplateObject:dde,__metadata:tde,__param:ede,__read:K4,__rest:Zue,__spread:ode,__spreadArrays:ade,__values:qC},Symbol.toStringTag,{value:"Module"})),yde=mw(mde);var go={},WP;function wde(){if(WP)return go;WP=1,Object.defineProperty(go,"__esModule",{value:!0}),go.isBrowserCryptoAvailable=go.getSubtleCrypto=go.getBrowerCrypto=void 0;function t(){return(en==null?void 0:en.crypto)||(en==null?void 0:en.msCrypto)||{}}go.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}go.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return go.isBrowserCryptoAvailable=n,go}var mo={},HP;function vde(){if(HP)return mo;HP=1,Object.defineProperty(mo,"__esModule",{value:!0}),mo.isBrowser=mo.isNode=mo.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}mo.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}mo.isNode=e;function n(){return!t()&&!e()}return mo.isBrowser=n,mo}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=yde;e.__exportStar(wde(),t),e.__exportStar(vde(),t)})(G4);function ji(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function yl(t=6){return BigInt(ji(t))}function tc(t,e,n){return{id:n||ji(),jsonrpc:"2.0",method:t,params:e}}function xv(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Sv(t,e,n){return{id:t,jsonrpc:"2.0",error:bde(e)}}function bde(t,e){return typeof t>"u"?qP(W4):(typeof t=="string"&&(t=Object.assign(Object.assign({},qP(FA)),{message:t})),Yue(t.code)&&(t=Jue(t.code)),t)}let _de=class{},Ede=class extends _de{constructor(){super()}},Cde=class extends Ede{constructor(e){super()}};const xde="^https?:",Sde="^wss?:";function Ade(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Y4(t,e){const n=Ade(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function VP(t){return Y4(t,xde)}function GP(t){return Y4(t,Sde)}function Ide(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function J4(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function zA(t){return J4(t)&&"method"in t}function Av(t){return J4(t)&&(Ui(t)||ks(t))}function Ui(t){return"result"in t}function ks(t){return"error"in t}let Vs=class extends Cde{constructor(e){super(e),this.events=new Hs.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(tc(e.method,e.params||[],e.id||yl().toString()),n)}async requestStrict(e,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{ks(i)?s(i.error):r(i.result)});try{await this.connection.send(e,n)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Av(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const Tde=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Nde=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",KP=t=>t.split("?")[0],YP=10,Pde=Tde();let kde=class{constructor(e){if(this.url=e,this.events=new Hs.EventEmitter,this.registering=!1,!GP(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Vo(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!GP(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const s=G4.isReactNative()?void 0:{rejectUnauthorized:!Ide(e)},i=new Pde(e,[],s);Nde()?i.onerror=o=>{const a=o;r(this.emitError(a.error))}:i.on("error",o=>{r(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),n(i)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Kl(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=Sv(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return V4(e,KP(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>YP&&this.events.setMaxListeners(YP)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${KP(this.url)}`));return this.events.emit("register_error",n),n}};var Ode={};const Q4="wc",Z4=2,WC="core",to=`${Q4}@2:${WC}:`,Rde={logger:"error"},$de={database:":memory:"},Dde="crypto",JP="client_ed25519_seed",jde=oe.ONE_DAY,Ude="keychain",Lde="0.3",Mde="messages",Bde="0.3",QP=oe.SIX_HOURS,Fde="publisher",X4="irn",zde="error",ej="wss://relay.walletconnect.org",qde="relayer",Sn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Wde="_subscription",xs={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Hde=.1,HC="2.21.3",jt={link_mode:"link_mode",relay:"relay"},Zy={inbound:"inbound",outbound:"outbound"},Vde="0.3",Gde="WALLETCONNECT_CLIENT_ID",ZP="WALLETCONNECT_LINK_MODE_APPS",is={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Kde="subscription",Yde="0.3",Jde="pairing",Qde="0.3",of={wc_pairingDelete:{req:{ttl:oe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:oe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:oe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:oe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:oe.ONE_DAY,prompt:!1,tag:0},res:{ttl:oe.ONE_DAY,prompt:!1,tag:0}}},sl={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Js={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Zde="history",Xde="0.3",ehe="expirer",Ns={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},the="0.3",nhe="verify-api",rhe="https://verify.walletconnect.com",tj="https://verify.walletconnect.org",Zf=tj,she=`${Zf}/v3`,ihe=[rhe,tj],ohe="echo",ahe="https://echo.walletconnect.com",$i={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},vo={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Qs={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Vc={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Gc={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},af={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},che=.1,lhe="event-client",uhe=86400,dhe="https://pulse.walletconnect.org/batch";function hhe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,w=0,b=p.length;w!==b&&p[w]===0;)w++,g++;for(var v=(b-w)*u+1>>>0,E=new Uint8Array(v);w!==b;){for(var _=p[w],x=0,S=v-1;(_!==0||x<y)&&S!==-1;S--,x++)_+=256*E[S]>>>0,E[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");y=x,w++}for(var T=v-y;T!==v&&E[T]===0;)T++;for(var C=c.repeat(g);T<v;++T)C+=t.charAt(E[T]);return C}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,w=0;p[g]===c;)y++,g++;for(var b=(p.length-g)*l+1>>>0,v=new Uint8Array(b);p[g];){var E=n[p.charCodeAt(g)];if(E===255)return;for(var _=0,x=b-1;(E!==0||_<w)&&x!==-1;x--,_++)E+=a*v[x]>>>0,v[x]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=_,g++}if(p[g]!==" "){for(var S=b-w;S!==b&&v[S]===0;)S++;for(var T=new Uint8Array(y+(b-S)),C=y;S!==b;)T[C++]=v[S++];return T}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var fhe=hhe,phe=fhe;const nj=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},ghe=t=>new TextEncoder().encode(t),mhe=t=>new TextDecoder().decode(t);class yhe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class whe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return rj(this,e)}}class vhe{constructor(e){this.decoders=e}or(e){return rj(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const rj=(t,e)=>new vhe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class bhe{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new yhe(e,n,r),this.decoder=new whe(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Iv=({name:t,prefix:e,encode:n,decode:r})=>new bhe(t,e,n,r),sm=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=phe(n,e);return Iv({prefix:t,name:e,encode:r,decode:i=>nj(s(i))})},_he=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Ehe=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Gn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Iv({prefix:e,name:t,encode(s){return Ehe(s,r,n)},decode(s){return _he(s,r,n,t)}}),Che=Iv({prefix:"\0",name:"identity",encode:t=>mhe(t),decode:t=>ghe(t)});var xhe=Object.freeze({__proto__:null,identity:Che});const She=Gn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Ahe=Object.freeze({__proto__:null,base2:She});const Ihe=Gn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var The=Object.freeze({__proto__:null,base8:Ihe});const Nhe=sm({prefix:"9",name:"base10",alphabet:"0123456789"});var Phe=Object.freeze({__proto__:null,base10:Nhe});const khe=Gn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ohe=Gn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Rhe=Object.freeze({__proto__:null,base16:khe,base16upper:Ohe});const $he=Gn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Dhe=Gn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),jhe=Gn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Uhe=Gn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Lhe=Gn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Mhe=Gn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Bhe=Gn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Fhe=Gn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),zhe=Gn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var qhe=Object.freeze({__proto__:null,base32:$he,base32upper:Dhe,base32pad:jhe,base32padupper:Uhe,base32hex:Lhe,base32hexupper:Mhe,base32hexpad:Bhe,base32hexpadupper:Fhe,base32z:zhe});const Whe=sm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Hhe=sm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Vhe=Object.freeze({__proto__:null,base36:Whe,base36upper:Hhe});const Ghe=sm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Khe=sm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Yhe=Object.freeze({__proto__:null,base58btc:Ghe,base58flickr:Khe});const Jhe=Gn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Qhe=Gn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Zhe=Gn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Xhe=Gn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var efe=Object.freeze({__proto__:null,base64:Jhe,base64pad:Qhe,base64url:Zhe,base64urlpad:Xhe});const sj=Array.from(""),tfe=sj.reduce((t,e,n)=>(t[n]=e,t),[]),nfe=sj.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function rfe(t){return t.reduce((e,n)=>(e+=tfe[n],e),"")}function sfe(t){const e=[];for(const n of t){const r=nfe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const ife=Iv({prefix:"",name:"base256emoji",encode:rfe,decode:sfe});var ofe=Object.freeze({__proto__:null,base256emoji:ife}),afe=ij,XP=128,cfe=-128,lfe=Math.pow(2,31);function ij(t,e,n){e=e||[],n=n||0;for(var r=n;t>=lfe;)e[n++]=t&255|XP,t/=128;for(;t&cfe;)e[n++]=t&255|XP,t>>>=7;return e[n]=t|0,ij.bytes=n-r+1,e}var ufe=VC,dfe=128,ek=127;function VC(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw VC.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&ek)<<s:(o&ek)*Math.pow(2,s),s+=7}while(o>=dfe);return VC.bytes=i-r,n}var hfe=Math.pow(2,7),ffe=Math.pow(2,14),pfe=Math.pow(2,21),gfe=Math.pow(2,28),mfe=Math.pow(2,35),yfe=Math.pow(2,42),wfe=Math.pow(2,49),vfe=Math.pow(2,56),bfe=Math.pow(2,63),_fe=function(t){return t<hfe?1:t<ffe?2:t<pfe?3:t<gfe?4:t<mfe?5:t<yfe?6:t<wfe?7:t<vfe?8:t<bfe?9:10},Efe={encode:afe,decode:ufe,encodingLength:_fe},oj=Efe;const tk=(t,e,n=0)=>(oj.encode(t,e,n),e),nk=t=>oj.encodingLength(t),GC=(t,e)=>{const n=e.byteLength,r=nk(t),s=r+nk(n),i=new Uint8Array(s+n);return tk(t,i,0),tk(n,i,r),i.set(e,s),new Cfe(t,n,e,i)};class Cfe{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}}const aj=({name:t,code:e,encode:n})=>new xfe(t,e,n);class xfe{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?GC(this.code,n):n.then(r=>GC(this.code,r))}else throw Error("Unknown type, must be binary type")}}const cj=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Sfe=aj({name:"sha2-256",code:18,encode:cj("SHA-256")}),Afe=aj({name:"sha2-512",code:19,encode:cj("SHA-512")});var Ife=Object.freeze({__proto__:null,sha256:Sfe,sha512:Afe});const lj=0,Tfe="identity",uj=nj,Nfe=t=>GC(lj,uj(t)),Pfe={code:lj,name:Tfe,encode:uj,digest:Nfe};var kfe=Object.freeze({__proto__:null,identity:Pfe});new TextEncoder,new TextDecoder;const rk={...xhe,...Ahe,...The,...Phe,...Rhe,...qhe,...Vhe,...Yhe,...efe,...ofe};({...Ife,...kfe});function dj(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Ofe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?dj(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function hj(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const sk=hj("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),B1=hj("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Ofe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Rfe={utf8:sk,"utf-8":sk,hex:rk.base16,latin1:B1,ascii:B1,binary:B1,...rk};function $fe(t,e="utf8"){const n=Rfe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?dj(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var Dfe=Object.defineProperty,jfe=(t,e,n)=>e in t?Dfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ki=(t,e,n)=>jfe(t,typeof e!="symbol"?e+"":e,n);class Ufe{constructor(e,n){this.core=e,this.logger=n,ki(this,"keychain",new Map),ki(this,"name",Ude),ki(this,"version",Lde),ki(this,"initialized",!1),ki(this,"storagePrefix",to),ki(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),ki(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),ki(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),ki(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:i}=ae("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(i)}return s}),ki(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=lr(n,this.name)}get context(){return es(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,TC(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?NC(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Lfe=Object.defineProperty,Mfe=(t,e,n)=>e in t?Lfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dn=(t,e,n)=>Mfe(t,typeof e!="symbol"?e+"":e,n);class Bfe{constructor(e,n,r){this.core=e,this.logger=n,Dn(this,"name",Dde),Dn(this,"keychain"),Dn(this,"randomSessionIdentifier",MC()),Dn(this,"initialized",!1),Dn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Dn(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),Dn(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),i=UN(s);return u6(i.publicKey)}),Dn(this,"generateKeyPair",()=>{this.isInitialized();const s=Rle();return this.setPrivateKey(s.publicKey,s.privateKey)}),Dn(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=UN(i),a=this.randomSessionIdentifier;return await Mre(a,s,jde,o)}),Dn(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=$le(a,i);return this.setSymKey(c,o)}),Dn(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||Qy(s);return await this.keychain.set(o,s),o}),Dn(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),Dn(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),Dn(this,"encode",async(s,i,o)=>{this.isInitialized();const a=F4(o),c=Vo(i);if(kP(a))return Ule(c,o==null?void 0:o.encoding);if(PP(a)){const h=a.senderPublicKey,f=a.receiverPublicKey;s=await this.generateSharedKey(h,f)}const l=this.getSymKey(s),{type:u,senderPublicKey:d}=a;return Dle({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),Dn(this,"decode",async(s,i,o)=>{this.isInitialized();const a=Mle(i,o);if(kP(a)){const c=Lle(i,o==null?void 0:o.encoding);return Kl(c)}if(PP(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=jle({symKey:c,encoded:i,encoding:o==null?void 0:o.encoding});return Kl(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Dn(this,"getPayloadType",(s,i=fi)=>{const o=cg({encoded:s,encoding:i});return Zl(o.type)}),Dn(this,"getPayloadSenderPublicKey",(s,i=fi)=>{const o=cg({encoded:s,encoding:i});return o.senderPublicKey?Zr(o.senderPublicKey,_r):void 0}),this.core=e,this.logger=lr(n,this.name),this.keychain=r||new Ufe(this.core,this.logger)}get context(){return es(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(JP)}catch{e=MC(),await this.keychain.set(JP,e)}return $fe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Ffe=Object.defineProperty,zfe=Object.defineProperties,qfe=Object.getOwnPropertyDescriptors,ik=Object.getOwnPropertySymbols,Wfe=Object.prototype.hasOwnProperty,Hfe=Object.prototype.propertyIsEnumerable,KC=(t,e,n)=>e in t?Ffe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vfe=(t,e)=>{for(var n in e||(e={}))Wfe.call(e,n)&&KC(t,n,e[n]);if(ik)for(var n of ik(e))Hfe.call(e,n)&&KC(t,n,e[n]);return t},Gfe=(t,e)=>zfe(t,qfe(e)),ns=(t,e,n)=>KC(t,typeof e!="symbol"?e+"":e,n);class Kfe extends Uee{constructor(e,n){super(e,n),this.logger=e,this.core=n,ns(this,"messages",new Map),ns(this,"messagesWithoutClientAck",new Map),ns(this,"name",Mde),ns(this,"version",Bde),ns(this,"initialized",!1),ns(this,"storagePrefix",to),ns(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),ns(this,"set",async(r,s,i)=>{this.isInitialized();const o=qi(s);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(r,a),i===Zy.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,Gfe(Vfe({},c),{[o]:s}))}return await this.persist(),o}),ns(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),ns(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const i of r){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),ns(this,"has",(r,s)=>{this.isInitialized();const i=this.get(r),o=qi(s);return typeof i[o]<"u"}),ns(this,"ack",async(r,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(r);if(typeof i>"u")return;const o=qi(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,i),await this.persist()}),ns(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=lr(e,this.name),this.core=n}get context(){return es(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,TC(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,TC(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?NC(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?NC(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Yfe=Object.defineProperty,Jfe=Object.defineProperties,Qfe=Object.getOwnPropertyDescriptors,ok=Object.getOwnPropertySymbols,Zfe=Object.prototype.hasOwnProperty,Xfe=Object.prototype.propertyIsEnumerable,YC=(t,e,n)=>e in t?Yfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hy=(t,e)=>{for(var n in e||(e={}))Zfe.call(e,n)&&YC(t,n,e[n]);if(ok)for(var n of ok(e))Xfe.call(e,n)&&YC(t,n,e[n]);return t},F1=(t,e)=>Jfe(t,Qfe(e)),Zs=(t,e,n)=>YC(t,typeof e!="symbol"?e+"":e,n);class epe extends Lee{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Zs(this,"events",new Hs.EventEmitter),Zs(this,"name",Fde),Zs(this,"queue",new Map),Zs(this,"publishTimeout",oe.toMiliseconds(oe.ONE_MINUTE)),Zs(this,"initialPublishTimeout",oe.toMiliseconds(oe.ONE_SECOND*15)),Zs(this,"needsTransportRestart",!1),Zs(this,"publish",async(r,s,i)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:i}});const a=(i==null?void 0:i.ttl)||QP,c=tw(i),l=(i==null?void 0:i.prompt)||!1,u=(i==null?void 0:i.tag)||0,d=(i==null?void 0:i.id)||yl().toString(),h={topic:r,message:s,opts:{ttl:a,relay:c,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}},f=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{const p=new Promise(async g=>{const y=({id:b})=>{h.opts.id===b&&(this.removeRequestFromQueue(b),this.relayer.events.removeListener(Sn.publish,y),g(h))};this.relayer.events.on(Sn.publish,y);const w=ec(new Promise((b,v)=>{this.rpcPublish({topic:r,message:s,ttl:a,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}).then(b).catch(E=>{this.logger.warn(E,E==null?void 0:E.message),v(E)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await w,this.events.removeListener(Sn.publish,y)}catch(b){this.queue.set(d,F1(hy({},h),{attempt:1})),this.logger.warn(b,b==null?void 0:b.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:r,message:s,opts:i}}),await ec(p,this.publishTimeout,f)}catch(p){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(p),(o=i==null?void 0:i.internal)!=null&&o.throwOnFailedPublish)throw p}finally{this.queue.delete(d)}}),Zs(this,"on",(r,s)=>{this.events.on(r,s)}),Zs(this,"once",(r,s)=>{this.events.once(r,s)}),Zs(this,"off",(r,s)=>{this.events.off(r,s)}),Zs(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=e,this.logger=lr(n,this.name),this.registerEventListeners()}get context(){return es(this.logger)}async rpcPublish(e){var n,r,s,i;const{topic:o,message:a,ttl:c=QP,prompt:l,tag:u,id:d,attestation:h,tvf:f}=e,p={method:If(tw().protocol).publish,params:hy({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:h},f),id:d};Mn((n=p.params)==null?void 0:n.prompt)&&((r=p.params)==null||delete r.prompt),Mn((s=p.params)==null?void 0:s.tag)&&((i=p.params)==null||delete i.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:p});const g=await this.relayer.request(p);return this.relayer.events.emit(Sn.publish,e),this.logger.debug("Successfully Published Payload"),g}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,F1(hy({},e),{attempt:r}));const{topic:s,message:i,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(F1(hy({},e),{topic:s,message:i,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(hu.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Sn.connection_stalled);return}this.checkQueue()}),this.relayer.on(Sn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var tpe=Object.defineProperty,npe=(t,e,n)=>e in t?tpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pu=(t,e,n)=>npe(t,typeof e!="symbol"?e+"":e,n);class rpe{constructor(){Pu(this,"map",new Map),Pu(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Pu(this,"get",e=>this.map.get(e)||[]),Pu(this,"exists",(e,n)=>this.get(e).includes(n)),Pu(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const s=r.filter(i=>i!==n);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),Pu(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var spe=Object.defineProperty,ipe=Object.defineProperties,ope=Object.getOwnPropertyDescriptors,ak=Object.getOwnPropertySymbols,ape=Object.prototype.hasOwnProperty,cpe=Object.prototype.propertyIsEnumerable,JC=(t,e,n)=>e in t?spe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cf=(t,e)=>{for(var n in e||(e={}))ape.call(e,n)&&JC(t,n,e[n]);if(ak)for(var n of ak(e))cpe.call(e,n)&&JC(t,n,e[n]);return t},z1=(t,e)=>ipe(t,ope(e)),At=(t,e,n)=>JC(t,typeof e!="symbol"?e+"":e,n);class lpe extends Fee{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,At(this,"subscriptions",new Map),At(this,"topicMap",new rpe),At(this,"events",new Hs.EventEmitter),At(this,"name",Kde),At(this,"version",Yde),At(this,"pending",new Map),At(this,"cached",[]),At(this,"initialized",!1),At(this,"storagePrefix",to),At(this,"subscribeTimeout",oe.toMiliseconds(oe.ONE_MINUTE)),At(this,"initialSubscribeTimeout",oe.toMiliseconds(oe.ONE_SECOND*15)),At(this,"clientId"),At(this,"batchSubscribeTopicsLimit",500),At(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),At(this,"subscribe",async(r,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const i=tw(s),o={topic:r,relay:i,transportType:s==null?void 0:s.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,i,s);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),a}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}}),At(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),At(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),At(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(i=>i.topic===r))})),At(this,"on",(r,s)=>{this.events.on(r,s)}),At(this,"once",(r,s)=>{this.events.once(r,s)}),At(this,"off",(r,s)=>{this.events.off(r,s)}),At(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),At(this,"start",async()=>{await this.onConnect()}),At(this,"stop",async()=>{await this.onDisconnect()}),At(this,"restart",async()=>{await this.restore(),await this.onRestart()}),At(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),At(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(hu.pulse,async()=>{await this.checkPending()}),this.events.on(is.created,async r=>{const s=is.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(is.deleted,async r=>{const s=is.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=e,this.logger=lr(n,this.name),this.clientId=""}get context(){return es(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async s=>await this.unsubscribeById(e,s,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const s=tw(r);await this.restartToComplete({topic:e,id:n,relay:s}),await this.rpcUnsubscribe(e,n,s);const i=Bt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,n,r){var s;(!r||(r==null?void 0:r.transportType)===jt.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const i={method:If(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const o=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===jt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(u=>this.logger.warn(u))},oe.toMiliseconds(oe.ONE_SECOND)),a;const c=new Promise(async u=>{const d=h=>{h.topic===e&&(this.events.removeListener(is.created,d),u(h.id))};this.events.on(is.created,d);try{const h=await ec(new Promise((f,p)=>{this.relayer.request(i).catch(g=>{this.logger.warn(g,g==null?void 0:g.message),p(g)}).then(f)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(is.created,d),u(h)}catch{}}),l=await ec(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Sn.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:If(n.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await ec(new Promise(s=>{this.relayer.request(r).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Sn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:If(n.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await ec(new Promise((i,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Sn.connection_stalled)}return s}rpcUnsubscribe(e,n,r){const s={method:If(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,n){this.setSubscription(e,z1(cf({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,cf({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,cf({},n)),this.topicMap.set(n.topic,e),this.events.emit(is.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(is.deleted,z1(cf({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(is.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(is.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>z1(cf({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await nae(oe.toMiliseconds(oe.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return qi(e+await this.getClientId())}}var upe=Object.defineProperty,ck=Object.getOwnPropertySymbols,dpe=Object.prototype.hasOwnProperty,hpe=Object.prototype.propertyIsEnumerable,QC=(t,e,n)=>e in t?upe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lk=(t,e)=>{for(var n in e||(e={}))dpe.call(e,n)&&QC(t,n,e[n]);if(ck)for(var n of ck(e))hpe.call(e,n)&&QC(t,n,e[n]);return t},at=(t,e,n)=>QC(t,typeof e!="symbol"?e+"":e,n);class fpe extends Mee{constructor(e){super(e),at(this,"protocol","wc"),at(this,"version",2),at(this,"core"),at(this,"logger"),at(this,"events",new Hs.EventEmitter),at(this,"provider"),at(this,"messages"),at(this,"subscriber"),at(this,"publisher"),at(this,"name",qde),at(this,"transportExplicitlyClosed",!1),at(this,"initialized",!1),at(this,"connectionAttemptInProgress",!1),at(this,"relayUrl"),at(this,"projectId"),at(this,"packageName"),at(this,"bundleId"),at(this,"hasExperiencedNetworkDisruption",!1),at(this,"pingTimeout"),at(this,"heartBeatTimeout",oe.toMiliseconds(oe.THIRTY_SECONDS+oe.FIVE_SECONDS)),at(this,"reconnectTimeout"),at(this,"connectPromise"),at(this,"reconnectInProgress",!1),at(this,"requestsInFlight",[]),at(this,"connectTimeout",oe.toMiliseconds(oe.ONE_SECOND*15)),at(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const i=n.id||yl().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${i}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${i}`),o}}),at(this,"resetPingTimeout",()=>{Q0()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||i.call(s)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),at(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),at(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(Sn.connect)}),at(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),at(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Sn.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),at(this,"registerProviderListeners",()=>{this.provider.on(xs.payload,this.onPayloadHandler),this.provider.on(xs.connect,this.onConnectHandler),this.provider.on(xs.disconnect,this.onDisconnectHandler),this.provider.on(xs.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?lr(e.logger,this.name):Jg(vh({level:e.logger||zde})),this.messages=new Kfe(this.logger,e.core),this.subscriber=new lpe(this,this.logger),this.publisher=new epe(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||ej,this.projectId=e.projectId,Boe()?this.packageName=ZN():Foe()&&(this.bundleId=ZN()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return es(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:jt.relay},Zy.outbound)}async subscribe(e,n){var r,s,i;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;let a=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(is.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(is.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,lk({internal:{throwOnFailedPublish:o}},n)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await ec(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await zP())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const s=pn(oe.FIVE_MINUTES),i={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,i)}this.events.emit(Sn.message,e),await this.recordMessageEvent(e,Zy.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(xs.disconnect,i),await ec(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(xs.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(xs.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(xs.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,oe.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,s,i;if(Q0())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Vs(new kde(Voe({sdkVersion:HC,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:s}=e;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),zA(e)){if(!e.method.endsWith(Wde))return;const n=e.params,{topic:r,message:s,publishedAt:i,attestation:o}=n.data,a={topic:r,message:s,publishedAt:i,transportType:jt.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(lk({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Av(e)&&this.events.emit(Sn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Zy.inbound),this.events.emit(Sn.message,e))}async acknowledgePayload(e){const n=xv(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(xs.payload,this.onPayloadHandler),this.provider.off(xs.connect,this.onConnectHandler),this.provider.off(xs.disconnect,this.onDisconnectHandler),this.provider.off(xs.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await zP();Oue(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(hu.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&Due())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Sn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},oe.toMiliseconds(Hde)))))}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function ppe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function uk(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function dk(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const gpe="[object RegExp]",mpe="[object String]",ype="[object Number]",wpe="[object Boolean]",hk="[object Arguments]",vpe="[object Symbol]",bpe="[object Date]",_pe="[object Map]",Epe="[object Set]",Cpe="[object Array]",xpe="[object Function]",Spe="[object ArrayBuffer]",q1="[object Object]",Ape="[object Error]",Ipe="[object DataView]",Tpe="[object Uint8Array]",Npe="[object Uint8ClampedArray]",Ppe="[object Uint16Array]",kpe="[object Uint32Array]",Ope="[object BigUint64Array]",Rpe="[object Int8Array]",$pe="[object Int16Array]",Dpe="[object Int32Array]",jpe="[object BigInt64Array]",Upe="[object Float32Array]",Lpe="[object Float64Array]";function Mpe(){}function fk(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function Bpe(t,e,n){return Tf(t,e,void 0,void 0,void 0,void 0,n)}function Tf(t,e,n,r,s,i,o){const a=o(t,e,n,r,s,i);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Xf(t,e,i,o)}return Xf(t,e,i,o)}function Xf(t,e,n,r){if(Object.is(t,e))return!0;let s=dk(t),i=dk(e);if(s===hk&&(s=q1),i===hk&&(i=q1),s!==i)return!1;switch(s){case mpe:return t.toString()===e.toString();case ype:{const c=t.valueOf(),l=e.valueOf();return ppe(c,l)}case wpe:case bpe:case vpe:return Object.is(t.valueOf(),e.valueOf());case gpe:return t.source===e.source&&t.flags===e.flags;case xpe:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(s){case _pe:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!Tf(l,e.get(c),c,t,e,n,r))return!1;return!0}case Epe:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(f=>Tf(d,f,void 0,t,e,n,r));if(h===-1)return!1;l.splice(h,1)}return!0}case Cpe:case Tpe:case Npe:case Ppe:case kpe:case Ope:case Rpe:case $pe:case Dpe:case jpe:case Upe:case Lpe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!Tf(t[c],e[c],c,t,e,n,r))return!1;return!0}case Spe:return t.byteLength!==e.byteLength?!1:Xf(new Uint8Array(t),new Uint8Array(e),n,r);case Ipe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Xf(new Uint8Array(t),new Uint8Array(e),n,r);case Ape:return t.name===e.name&&t.message===e.message;case q1:{if(!(Xf(t.constructor,e.constructor,n,r)||fk(t)&&fk(e)))return!1;const c=[...Object.keys(t),...uk(t)],l=[...Object.keys(e),...uk(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const f=e[d];if(!Tf(h,f,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function Fpe(t,e){return Bpe(t,e,Mpe)}var zpe=Object.defineProperty,pk=Object.getOwnPropertySymbols,qpe=Object.prototype.hasOwnProperty,Wpe=Object.prototype.propertyIsEnumerable,ZC=(t,e,n)=>e in t?zpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gk=(t,e)=>{for(var n in e||(e={}))qpe.call(e,n)&&ZC(t,n,e[n]);if(pk)for(var n of pk(e))Wpe.call(e,n)&&ZC(t,n,e[n]);return t},Or=(t,e,n)=>ZC(t,typeof e!="symbol"?e+"":e,n);class gu extends Bee{constructor(e,n,r,s=to,i=void 0){super(e,n,r,s),this.core=e,this.logger=n,this.name=r,Or(this,"map",new Map),Or(this,"version",Vde),Or(this,"cached",[]),Or(this,"initialized",!1),Or(this,"getKey"),Or(this,"storagePrefix",to),Or(this,"recentlyDeleted",[]),Or(this,"recentlyDeletedLimit",200),Or(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Mn(o)?this.map.set(this.getKey(o),o):lue(o)?this.map.set(o.id,o):uue(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Or(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Or(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Or(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Fpe(a[c],o[c]))):this.values)),Or(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=gk(gk({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Or(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=lr(n,this.name),this.storagePrefix=s,this.getKey=i}get context(){return es(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:s}=ae("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:r}=ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Hpe=Object.defineProperty,Vpe=(t,e,n)=>e in t?Hpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ze=(t,e,n)=>Vpe(t,typeof e!="symbol"?e+"":e,n);class Gpe{constructor(e,n){this.core=e,this.logger=n,Ze(this,"name",Jde),Ze(this,"version",Qde),Ze(this,"events",new uA),Ze(this,"pairings"),Ze(this,"initialized",!1),Ze(this,"storagePrefix",to),Ze(this,"ignoredPayloadTypes",[Do]),Ze(this,"registeredMethods",[]),Ze(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Ze(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Ze(this,"create",async r=>{this.isInitialized();const s=MC(),i=await this.core.crypto.setSymKey(s),o=pn(oe.FIVE_MINUTES),a={protocol:X4},c={topic:i,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=RP({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(sl.create,c),this.core.expirer.set(i,o),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:r==null?void 0:r.transportType}),{topic:i,uri:l}}),Ze(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[$i.pairing_started]}});this.isValidPair(r,s);const{topic:i,symKey:o,relay:a,expiryTimestamp:c,methods:l}=OP(r.uri);s.props.properties.topic=i,s.addTrace($i.pairing_uri_validation_success),s.addTrace($i.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace($i.existing_pairing),u.active)throw s.setError(vo.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace($i.pairing_not_expired)}const d=c||pn(oe.FIVE_MINUTES),h={topic:i,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(i,d),await this.pairings.set(i,h),s.addTrace($i.store_new_pairing),r.activatePairing&&await this.activate({topic:i}),this.events.emit(sl.create,h),s.addTrace($i.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace($i.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(vo.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(f){throw s.setError(vo.subscribe_pairing_topic_failure),f}return s.addTrace($i.subscribe_pairing_topic_success),h}),Ze(this,"activate",async({topic:r})=>{this.isInitialized();const s=pn(oe.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),Ze(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=el();this.events.once(ht("pairing_ping",i),({error:l})=>{l?c(l):a()}),await o()}}),Ze(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),Ze(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),Ze(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Ze(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Bt("USER_DISCONNECTED")),await this.deletePairing(s))}),Ze(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(s);return RP({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:o,methods:a})}),Ze(this,"sendRequest",async(r,s,i)=>{const o=tc(s,i),a=await this.core.crypto.encode(r,o),c=of[s].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),Ze(this,"sendResult",async(r,s,i)=>{const o=xv(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=of[c].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),Ze(this,"sendError",async(r,s,i)=>{const o=Sv(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=of[c]?of[c].res:of.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),Ze(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Bt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),Ze(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>Na(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),Ze(this,"onRelayEventRequest",async r=>{const{topic:s,payload:i}=r;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),Ze(this,"onRelayEventResponse",async r=>{const{topic:s,payload:i}=r,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),Ze(this,"onPairingPingRequest",async(r,s)=>{const{id:i}=s;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.events.emit(sl.ping,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),Ze(this,"onPairingPingResponse",(r,s)=>{const{id:i}=s;setTimeout(()=>{Ui(s)?this.events.emit(ht("pairing_ping",i),{}):ks(s)&&this.events.emit(ht("pairing_ping",i),{error:s.error})},500)}),Ze(this,"onPairingDeleteRequest",async(r,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(sl.delete,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),Ze(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=Bt("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,r,a),this.logger.error(a)}catch(a){await this.sendError(i,r,a),this.logger.error(a)}}),Ze(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Bt("WC_METHOD_UNSUPPORTED",r))}),Ze(this,"isValidPair",(r,s)=>{var i;if(!Ur(r)){const{message:a}=ae("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(vo.malformed_pairing_uri),new Error(a)}if(!cue(r.uri)){const{message:a}=ae("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(vo.malformed_pairing_uri),new Error(a)}const o=OP(r==null?void 0:r.uri);if(!((i=o==null?void 0:o.relay)!=null&&i.protocol)){const{message:a}=ae("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(vo.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=ae("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(vo.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&oe.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){s.setError(vo.pairing_expired);const{message:a}=ae("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Ze(this,"isValidPing",async r=>{if(!Ur(r)){const{message:i}=ae("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),Ze(this,"isValidDisconnect",async r=>{if(!Ur(r)){const{message:i}=ae("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),Ze(this,"isValidPairingTopic",async r=>{if(!un(r,!1)){const{message:s}=ae("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=ae("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(Na(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=ae("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=e,this.logger=lr(n,this.name),this.pairings=new gu(this.core,this.logger,this.name,this.storagePrefix)}get context(){return es(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Sn.message,async e=>{const{topic:n,message:r,transportType:s}=e;if(this.pairings.keys.includes(n)&&s!==jt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const i=await this.core.crypto.decode(n,r);zA(i)?(this.core.history.set(n,i),await this.onRelayEventRequest({topic:n,payload:i})):Av(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id)),await this.core.relayer.messages.ack(n,r)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(Ns.expired,async e=>{const{topic:n}=Q6(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(sl.expire,{topic:n}))})}}var Kpe=Object.defineProperty,Ype=(t,e,n)=>e in t?Kpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jn=(t,e,n)=>Ype(t,typeof e!="symbol"?e+"":e,n);class Jpe extends jee{constructor(e,n){super(e,n),this.core=e,this.logger=n,jn(this,"records",new Map),jn(this,"events",new Hs.EventEmitter),jn(this,"name",Zde),jn(this,"version",Xde),jn(this,"cached",[]),jn(this,"initialized",!1),jn(this,"storagePrefix",to),jn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),jn(this,"set",(r,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:i,expiry:pn(oe.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Js.created,o)}),jn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=ks(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(Js.updated,s))}),jn(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),jn(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===r){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(Js.deleted,i)}}),this.persist()}),jn(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),jn(this,"on",(r,s)=>{this.events.on(r,s)}),jn(this,"once",(r,s)=>{this.events.once(r,s)}),jn(this,"off",(r,s)=>{this.events.off(r,s)}),jn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=lr(n,this.name)}get context(){return es(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:tc(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Js.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Js.created,e=>{const n=Js.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Js.updated,e=>{const n=Js.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Js.deleted,e=>{const n=Js.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(hu.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{oe.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Js.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Qpe=Object.defineProperty,Zpe=(t,e,n)=>e in t?Qpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rr=(t,e,n)=>Zpe(t,typeof e!="symbol"?e+"":e,n);class Xpe extends zee{constructor(e,n){super(e,n),this.core=e,this.logger=n,rr(this,"expirations",new Map),rr(this,"events",new Hs.EventEmitter),rr(this,"name",ehe),rr(this,"version",the),rr(this,"cached",[]),rr(this,"initialized",!1),rr(this,"storagePrefix",to),rr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),rr(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),rr(this,"set",(r,s)=>{this.isInitialized();const i=this.formatTarget(r),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(Ns.created,{target:i,expiration:o})}),rr(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),rr(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Ns.deleted,{target:s,expiration:i})}}),rr(this,"on",(r,s)=>{this.events.on(r,s)}),rr(this,"once",(r,s)=>{this.events.once(r,s)}),rr(this,"off",(r,s)=>{this.events.off(r,s)}),rr(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=lr(n,this.name)}get context(){return es(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Goe(e);if(typeof e=="number")return Koe(e);const{message:n}=ae("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Ns.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;oe.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Ns.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(hu.pulse,()=>this.checkExpirations()),this.events.on(Ns.created,e=>{const n=Ns.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Ns.expired,e=>{const n=Ns.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Ns.deleted,e=>{const n=Ns.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var ege=Object.defineProperty,tge=(t,e,n)=>e in t?ege(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cn=(t,e,n)=>tge(t,typeof e!="symbol"?e+"":e,n);class nge extends qee{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,cn(this,"name",nhe),cn(this,"abortController"),cn(this,"isDevEnv"),cn(this,"verifyUrlV3",she),cn(this,"storagePrefix",to),cn(this,"version",Z4),cn(this,"publicKey"),cn(this,"fetchPromise"),cn(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&oe.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),cn(this,"register",async s=>{if(!Sh()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{const l=Yl(),u=this.startAbortTimer(oe.ONE_SECOND*5),d=await new Promise((h,f)=>{const p=()=>{window.removeEventListener("message",y),l.body.removeChild(g),f("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",p,{signal:this.abortController.signal});const y=w=>{if(w.data&&typeof w.data=="string")try{const b=JSON.parse(w.data);if(b.type==="verify_attestation"){if(_C(b.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",y),h(b.attestation===null?"":b.attestation)}}catch(b){this.logger.warn(b)}};l.body.appendChild(g),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),cn(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(_C(i).payload.id!==a)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(o,c)}),cn(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(oe.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),cn(this,"getVerifyUrl",s=>{let i=s||Zf;return ihe.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${Zf}`),i=Zf),i}),cn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(oe.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),cn(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),cn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),cn(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),cn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),cn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),cn(this,"validateAttestation",(s,i)=>{const o=Fle(s,i.publicKey),a={hasExpired:oe.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=lr(n,this.name),this.abortController=new AbortController,this.isDevEnv=IA(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return es(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),oe.toMiliseconds(e))}}var rge=Object.defineProperty,sge=(t,e,n)=>e in t?rge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mk=(t,e,n)=>sge(t,typeof e!="symbol"?e+"":e,n);class ige extends Wee{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,mk(this,"context",ohe),mk(this,"registerDeviceToken",async r=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=r,c=`${ahe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=lr(n,this.context)}}var oge=Object.defineProperty,yk=Object.getOwnPropertySymbols,age=Object.prototype.hasOwnProperty,cge=Object.prototype.propertyIsEnumerable,XC=(t,e,n)=>e in t?oge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lf=(t,e)=>{for(var n in e||(e={}))age.call(e,n)&&XC(t,n,e[n]);if(yk)for(var n of yk(e))cge.call(e,n)&&XC(t,n,e[n]);return t},bn=(t,e,n)=>XC(t,typeof e!="symbol"?e+"":e,n);class lge extends Hee{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,bn(this,"context",lhe),bn(this,"storagePrefix",to),bn(this,"storageVersion",che),bn(this,"events",new Map),bn(this,"shouldPersist",!1),bn(this,"init",async()=>{if(!IA())try{const s={eventId:eP(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Y6(this.core.relayer.protocol,this.core.relayer.version,HC)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),bn(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:a,trace:c}}=s,l=eP(),u=this.core.projectId||"",d=Date.now(),h=lf({eventId:l,timestamp:d,props:{event:i,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),bn(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return lf(lf({},a),this.setMethods(a.eventId))}),bn(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),bn(this,"setEventListeners",()=>{this.core.heartbeat.on(hu.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{oe.fromMiliseconds(Date.now())-oe.fromMiliseconds(s.timestamp)>uhe&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),bn(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),bn(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),bn(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),bn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),bn(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,lf(lf({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),bn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),bn(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${dhe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${HC}${i}`,{method:"POST",body:JSON.stringify(s)})}),bn(this,"getAppDomain",()=>K6().url),this.logger=lr(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var uge=Object.defineProperty,wk=Object.getOwnPropertySymbols,dge=Object.prototype.hasOwnProperty,hge=Object.prototype.propertyIsEnumerable,ex=(t,e,n)=>e in t?uge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vk=(t,e)=>{for(var n in e||(e={}))dge.call(e,n)&&ex(t,n,e[n]);if(wk)for(var n of wk(e))hge.call(e,n)&&ex(t,n,e[n]);return t},Tt=(t,e,n)=>ex(t,typeof e!="symbol"?e+"":e,n);let fge=class fj extends Oee{constructor(e){var n;super(e),Tt(this,"protocol",Q4),Tt(this,"version",Z4),Tt(this,"name",WC),Tt(this,"relayUrl"),Tt(this,"projectId"),Tt(this,"customStoragePrefix"),Tt(this,"events",new Hs.EventEmitter),Tt(this,"logger"),Tt(this,"heartbeat"),Tt(this,"relayer"),Tt(this,"crypto"),Tt(this,"storage"),Tt(this,"history"),Tt(this,"expirer"),Tt(this,"pairing"),Tt(this,"verify"),Tt(this,"echoClient"),Tt(this,"linkModeSupportedApps"),Tt(this,"eventClient"),Tt(this,"initialized",!1),Tt(this,"logChunkController"),Tt(this,"on",(a,c)=>this.events.on(a,c)),Tt(this,"once",(a,c)=>this.events.once(a,c)),Tt(this,"off",(a,c)=>this.events.off(a,c)),Tt(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Tt(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:jt.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||ej,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=vh({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Rde.logger,name:WC}),{logger:i,chunkLoggerController:o}=hA({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=lr(i,this.name),this.heartbeat=new bX,this.crypto=new Bfe(this,this.logger,e==null?void 0:e.keychain),this.history=new Jpe(this,this.logger),this.expirer=new Xpe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new nee(vk(vk({},$de),e==null?void 0:e.storageOptions)),this.relayer=new fpe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Gpe(this,this.logger),this.verify=new nge(this,this.logger,this.storage),this.echoClient=new ige(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new lge(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new fj(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(Gde,r),n}get context(){return es(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(ZP,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(ZP)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Ode.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const pge=fge,pj="wc",gj=2,mj="client",qA=`${pj}@${gj}:${mj}:`,W1={name:mj,logger:"error"},bk="WALLETCONNECT_DEEPLINK_CHOICE",gge="proposal",_k="Proposal expired",mge="session",ku=oe.SEVEN_DAYS,yge="engine",_n={wc_sessionPropose:{req:{ttl:oe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:oe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:oe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:oe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:oe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:oe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:oe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:oe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:oe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:oe.ONE_DAY,prompt:!1,tag:1114},res:{ttl:oe.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:oe.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:oe.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1119}}},H1={min:oe.FIVE_MINUTES,max:oe.SEVEN_DAYS},Oi={idle:"IDLE",active:"ACTIVE"},wge={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},vge="request",bge=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],_ge="wc",Ege="auth",Cge="authKeys",xge="pairingTopics",Sge="requests",Tv=`${_ge}@${1.5}:${Ege}:`,Xy=`${Tv}:PUB_KEY`;var Age=Object.defineProperty,Ige=Object.defineProperties,Tge=Object.getOwnPropertyDescriptors,Ek=Object.getOwnPropertySymbols,Nge=Object.prototype.hasOwnProperty,Pge=Object.prototype.propertyIsEnumerable,tx=(t,e,n)=>e in t?Age(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$t=(t,e)=>{for(var n in e||(e={}))Nge.call(e,n)&&tx(t,n,e[n]);if(Ek)for(var n of Ek(e))Pge.call(e,n)&&tx(t,n,e[n]);return t},Rr=(t,e)=>Ige(t,Tge(e)),ee=(t,e,n)=>tx(t,typeof e!="symbol"?e+"":e,n);class kge extends Yee{constructor(e){super(e),ee(this,"name",yge),ee(this,"events",new uA),ee(this,"initialized",!1),ee(this,"requestQueue",{state:Oi.idle,queue:[]}),ee(this,"sessionRequestQueue",{state:Oi.idle,queue:[]}),ee(this,"requestQueueDelay",oe.ONE_SECOND),ee(this,"expectedPairingMethodMap",new Map),ee(this,"recentlyDeletedMap",new Map),ee(this,"recentlyDeletedLimit",200),ee(this,"relayMessageCache",[]),ee(this,"pendingSessions",new Map),ee(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(_n)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},oe.toMiliseconds(this.requestQueueDelay)))}),ee(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Rr($t({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=rue(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=s,d,h=!1;try{if(u){const x=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=x.active}}catch(x){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),x}if(!u||!h){const{topic:x,uri:S}=await this.client.core.pairing.create();u=x,d=S}if(!u){const{message:x}=ae("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(x)}const f=await this.client.core.crypto.generateKeyPair(),p=_n.wc_sessionPropose.req.ttl||oe.FIVE_MINUTES,g=pn(p),y=Rr($t($t({requiredNamespaces:i,optionalNamespaces:o,relays:l??[{protocol:X4}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:ji()}),w=ht("session_connect",y.id),{reject:b,resolve:v,done:E}=el(p,_k),_=({id:x})=>{x===y.id&&(this.client.events.off("proposal_expire",_),this.pendingSessions.delete(y.id),this.events.emit(w,{error:{message:_k,code:0}}))};return this.client.events.on("proposal_expire",_),this.events.once(w,({error:x,session:S})=>{this.client.events.off("proposal_expire",_),x?b(x):S&&v(S)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:y,throwOnFailedPublish:!0,clientRpcId:y.id}),await this.setProposal(y.id,y),{uri:d,approval:E}}),ee(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),ee(this,"approve",async n=>{var r,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[Qs.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(C){throw o.setError(Vc.no_internet_connection),C}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(C){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(Vc.proposal_not_found),C}try{await this.isValidApprove(n)}catch(C){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Vc.session_approve_namespace_validation_failure),C}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=n,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:g,requiredNamespaces:y,optionalNamespaces:w}=f;let b=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:p});b||(b=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:Qs.session_approve_started,properties:{topic:p,trace:[Qs.session_approve_started,Qs.session_namespaces_validation_success]}}));const v=await this.client.core.crypto.generateKeyPair(),E=g.publicKey,_=await this.client.core.crypto.generateSharedKey(v,E),x=$t($t($t({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:v,metadata:this.client.metadata},expiry:pn(ku)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),S=jt.relay;b.addTrace(Qs.subscribing_session_topic);try{await this.client.core.relayer.subscribe(_,{transportType:S})}catch(C){throw b.setError(Vc.subscribe_session_topic_failure),C}b.addTrace(Qs.subscribe_session_topic_success);const T=Rr($t({},x),{topic:_,requiredNamespaces:y,optionalNamespaces:w,pairingTopic:p,acknowledged:!1,self:x.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:v,transportType:jt.relay});await this.client.session.set(_,T),b.addTrace(Qs.store_session);try{b.addTrace(Qs.publishing_session_settle),await this.sendRequest({topic:_,method:"wc_sessionSettle",params:x,throwOnFailedPublish:!0}).catch(C=>{throw b==null||b.setError(Vc.session_settle_publish_failure),C}),b.addTrace(Qs.session_settle_publish_success),b.addTrace(Qs.publishing_session_approve),await this.sendResult({id:a,topic:p,result:{relay:{protocol:c??"irn"},responderPublicKey:v},throwOnFailedPublish:!0}).catch(C=>{throw b==null||b.setError(Vc.session_approve_publish_failure),C}),b.addTrace(Qs.session_approve_publish_success)}catch(C){throw this.client.logger.error(C),this.client.session.delete(_,Bt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(_),C}return this.client.core.eventClient.deleteEvent({eventId:b.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(_,pn(ku)),{topic:_,acknowledged:()=>Promise.resolve(this.client.session.get(_))}}),ee(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:s}=n;let i;try{i=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}i&&await this.sendError({id:r,topic:i,error:s,rpcOpts:_n.wc_sessionPropose.reject}),await this.deleteProposal(r)}),ee(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:s}=n,{done:i,resolve:o,reject:a}=el(),c=ji(),l=yl().toString(),u=this.client.session.get(r).namespaces;return this.events.once(ht("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:i}}),ee(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,s=ji(),{done:i,resolve:o,reject:a}=el();return this.events.once(ht("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,pn(ku)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:i}}),ee(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:r,request:s,topic:i,expiry:o=_n.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(i);(a==null?void 0:a.transportType)===jt.relay&&await this.confirmOnlineStateOrThrow();const c=ji(),l=yl().toString(),{done:u,resolve:d,reject:h}=el(o,"Request expired. Please try again.");this.events.once(ht("session_request",c),({error:y,result:w})=>{y?h(y):d(w)});const f="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:f,params:{request:Rr($t({},s),{expiryTimestamp:pn(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),await u();const g={request:Rr($t({},s),{expiryTimestamp:pn(o)}),chainId:r};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:f,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(w=>h(w)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),y()}),new Promise(async y=>{var w;if(!((w=a.sessionConfig)!=null&&w.disableDeepLink)){const b=await Zoe(this.client.core.storage,bk);await Yoe({id:c,topic:i,wcDeepLink:b})}y()}),u()]).then(y=>y[2])}),ee(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:i}=s,o=this.client.session.get(r);o.transportType===jt.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Ui(s)?await this.sendResult({id:i,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:a}):ks(s)&&await this.sendError({id:i,topic:r,error:s.error,appLink:a}),this.cleanupAfterResponse(n)}),ee(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=ji(),i=yl().toString(),{done:o,resolve:a,reject:c}=el();this.events.once(ht("session_ping",s),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),ee(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:i}=n,o=yl().toString(),a=ji();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),ee(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Bt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=ae("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),ee(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>oue(r,n)))),ee(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ee(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const i=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?jt.link_mode:jt.relay;o===jt.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:p,methods:g=[],expiry:y}=n,w=[...n.resources||[]],{topic:b,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:b,uri:v}});const E=await this.client.core.crypto.generateKeyPair(),_=Qy(E);if(await Promise.all([this.client.auth.authKeys.set(Xy,{responseTopic:_,publicKey:E}),this.client.auth.pairingTopics.set(_,{topic:_,pairingTopic:b})]),await this.client.core.relayer.subscribe(_,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${b}`),g.length>0){const{namespace:k}=xd(a[0]);let U=fce(k,"request",g);Jy(w)&&(U=gce(U,w.pop())),w.push(U)}const x=y&&y>_n.wc_sessionAuthenticate.req.ttl?y:_n.wc_sessionAuthenticate.req.ttl,S={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:p,resources:w},requester:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:pn(x)},T={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},C={requiredNamespaces:{},optionalNamespaces:T,relays:[{protocol:"irn"}],pairingTopic:b,proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:pn(_n.wc_sessionPropose.req.ttl),id:ji()},{done:O,resolve:R,reject:L}=el(x,"Request expired"),z=ji(),M=ht("session_connect",C.id),A=ht("session_request",z),I=async({error:k,session:U})=>{this.events.off(A,D),k?L(k):U&&R({session:U})},D=async k=>{var U,j,q;if(await this.deletePendingAuthRequest(z,{message:"fulfilled",code:0}),k.error){const Se=Bt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return k.error.code===Se.code?void 0:(this.events.off(M,I),L(k.error.message))}await this.deleteProposal(C.id),this.events.off(M,I);const{cacaos:K,responder:H}=k.result,Q=[],Z=[];for(const Se of K){await dP({cacao:Se,projectId:this.client.core.projectId})||(this.client.logger.error(Se,"Signature verification failed"),L(Bt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Oe}=Se,Mt=Jy(Oe.resources),Yt=[PC(Oe.iss)],Ge=Z0(Oe.iss);if(Mt){const Je=hP(Mt),Jt=fP(Mt);Q.push(...Je),Yt.push(...Jt)}for(const Je of Yt)Z.push(`${Je}:${Ge}`)}const le=await this.client.core.crypto.generateSharedKey(E,H.publicKey);let Ce;Q.length>0&&(Ce={topic:le,acknowledged:!0,self:{publicKey:E,metadata:this.client.metadata},peer:H,controller:H.publicKey,expiry:pn(ku),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:b,namespaces:UP([...new Set(Q)],[...new Set(Z)]),transportType:o},await this.client.core.relayer.subscribe(le,{transportType:o}),await this.client.session.set(le,Ce),b&&await this.client.core.pairing.updateMetadata({topic:b,metadata:H.metadata}),Ce=this.client.session.get(le)),(U=this.client.metadata.redirect)!=null&&U.linkMode&&(j=H.metadata.redirect)!=null&&j.linkMode&&(q=H.metadata.redirect)!=null&&q.universal&&r&&(this.client.core.addLinkModeSupportedApp(H.metadata.redirect.universal),this.client.session.update(le,{transportType:jt.link_mode})),R({auths:K,session:Ce})};this.events.once(M,I),this.events.once(A,D);let N;try{if(i){const k=tc("wc_sessionAuthenticate",S,z);this.client.core.history.set(b,k);const U=await this.client.core.crypto.encode("",k,{type:rm,encoding:ja});N=dy(r,b,U)}else await Promise.all([this.sendRequest({topic:b,method:"wc_sessionAuthenticate",params:S,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:z}),this.sendRequest({topic:b,method:"wc_sessionPropose",params:C,expiry:_n.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:C.id})])}catch(k){throw this.events.off(M,I),this.events.off(A,D),k}return await this.setProposal(C.id,C),await this.setAuthRequest(z,{request:Rr($t({},S),{verifyContext:{}}),pairingTopic:b,transportType:o}),{uri:N??v,response:O}}),ee(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Gc.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw i.setError(af.no_internet_connection),y}const o=this.getPendingAuthRequest(r);if(!o)throw i.setError(af.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||jt.relay;a===jt.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=Qy(c),d={type:Do,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const y of s){if(!await dP({cacao:y,projectId:this.client.core.projectId})){i.setError(af.invalid_cacao);const _=Bt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:_,encodeOpts:d}),new Error(_.message)}i.addTrace(Gc.cacaos_verified);const{p:w}=y,b=Jy(w.resources),v=[PC(w.iss)],E=Z0(w.iss);if(b){const _=hP(b),x=fP(b);h.push(..._),v.push(...x)}for(const _ of v)f.push(`${_}:${E}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(Gc.create_authenticated_session_topic);let g;if((h==null?void 0:h.length)>0){g={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:pn(ku),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:UP([...new Set(h)],[...new Set(f)]),transportType:a},i.addTrace(Gc.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(y){throw i.setError(af.subscribe_authenticated_session_topic_failure),y}i.addTrace(Gc.subscribe_authenticated_session_topic_success),await this.client.session.set(p,g),i.addTrace(Gc.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(Gc.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(y){throw i.setError(af.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:g}}),ee(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,i=this.getPendingAuthRequest(r);if(!i)throw new Error(`Could not find pending auth request with id ${r}`);i.transportType===jt.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Qy(o),l={type:Do,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:s,encodeOpts:l,rpcOpts:_n.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),ee(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return h4(r,s)}),ee(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),ee(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&i.topic&&i.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),ee(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,Bt("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(bk).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,Bt("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Oi.idle),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),ee(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(Vc.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Bt("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),ee(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==n),s&&(this.sessionRequestQueue.state=Oi.idle,this.client.events.emit("session_request_expire",{id:n}))}),ee(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),ee(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),ee(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,pn(_n.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),ee(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:i,transportType:o=jt.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),ee(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:i,verifyContext:o}=n,a=i.request.expiryTimestamp||pn(_n.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:s,params:i,verifyContext:o})}),ee(this,"sendRequest",async n=>{const{topic:r,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d}=n,h=tc(s,i,c);let f;const p=!!u;try{const w=p?ja:fi;f=await this.client.core.crypto.encode(r,h,{encoding:w})}catch(w){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),w}let g;if(bge.includes(s)){const w=qi(JSON.stringify(h)),b=qi(f);g=await this.client.core.verify.register({id:b,decryptedId:w})}const y=_n[s].req;if(y.attestation=g,o&&(y.ttl=o),a&&(y.id=a),this.client.core.history.set(r,h),p){const w=dy(u,r,f);await global.Linking.openURL(w,this.client.name)}else{const w=_n[s].req;o&&(w.ttl=o),a&&(w.id=a),w.tvf=Rr($t({},d),{correlationId:h.id}),l?(w.internal=Rr($t({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,f,w)):this.client.core.relayer.publish(r,f,w).catch(b=>this.client.logger.error(b))}return h.id}),ee(this,"sendResult",async n=>{const{id:r,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=xv(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=d?ja:fi;u=await this.client.core.crypto.encode(s,l,Rr($t({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),p}let h,f;try{h=await this.client.core.history.get(s,r);const p=h.request;try{f=this.getTVFParams(r,p.params,i)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g==null?void 0:g.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),p}if(d){const p=dy(c,s,u);await global.Linking.openURL(p,this.client.name)}else{const p=h.request.method,g=_n[p].res;g.tvf=Rr($t({},f),{correlationId:r}),o?(g.internal=Rr($t({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,g)):this.client.core.relayer.publish(s,u,g).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(l)}),ee(this,"sendError",async n=>{const{id:r,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=Sv(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const f=d?ja:fi;u=await this.client.core.crypto.encode(s,l,Rr($t({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),f}let h;try{h=await this.client.core.history.get(s,r)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),f}if(d){const f=dy(c,s,u);await global.Linking.openURL(f,this.client.name)}else{const f=h.request.method,p=a||_n[f].res;this.client.core.relayer.publish(s,u,p)}await this.client.core.history.resolve(l)}),ee(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let i=!1;Na(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{Na(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),ee(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),ee(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),ee(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Oi.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Oi.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Oi.idle}),ee(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:i,transportType:o,encryptedId:a}=n,c=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),ee(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:i}=n,o=(await this.client.core.history.get(r,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),ee(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=ae("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),ee(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,i=this.expectedPairingMethodMap.get(r);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ee(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:i,encryptedId:o}=n,{params:a,id:c}=s;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(vo.proposal_listener_not_found)),this.isValidConnect($t({},s.params));const u=a.expiryTimestamp||pn(_n.wc_sessionPropose.req.ttl),d=$t({id:c,pairingTopic:r,expiryTimestamp:u,attestation:i,encryptedId:o},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:i,hash:qi(JSON.stringify(s)),encryptedId:o,metadata:d.proposer.metadata});l==null||l.addTrace($i.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:_n.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),ee(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:i}=r;if(Ui(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(i,{sessionTopic:u,pairingTopic:n,proposalId:i,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(ks(r)){await this.deleteProposal(i);const o=ht("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),ee(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:i}=r;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=r.params,f=[...this.pendingSessions.values()].find(y=>y.sessionTopic===n);if(!f)return this.client.logger.error(`Pending session not found for topic ${n}`);const p=this.client.proposal.get(f.proposalId),g=Rr($t($t($t({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:jt.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(ht("session_connect",f.proposalId),{session:g}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),ee(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;Ui(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(ht("session_approve",s),{})):ks(r)&&(await this.client.session.delete(n,Bt("USER_DISCONNECTED")),this.events.emit(ht("session_approve",s),{error:r.error}))}),ee(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:i}=r;try{const o=`${n}_session_update`,a=sf.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:n,error:Bt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate($t({topic:n},s));try{sf.set(o,i),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:n,result:!0})}catch(c){throw sf.delete(o),c}this.client.events.emit("session_update",{id:i,topic:n,params:s})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),ee(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),ee(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,i=ht("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Ui(r)?this.events.emit(ht("session_update",s),{}):ks(r)&&this.events.emit(ht("session_update",s),{error:r.error})}),ee(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,pn(ku)),await this.sendResult({id:s,topic:n,result:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),ee(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,i=ht("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Ui(r)?this.events.emit(ht("session_extend",s),{}):ks(r)&&this.events.emit(ht("session_extend",s),{error:r.error})}),ee(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),ee(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,i=ht("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);Ui(r)?this.events.emit(ht("session_ping",s),{}):ks(r)&&this.events.emit(ht("session_ping",s),{error:r.error})},500)}),ee(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(Sn.publish,async()=>{i(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Bt("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),ee(this,"onSessionRequest",async n=>{var r,s,i;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:h}=a;try{await this.isValidRequest($t({topic:o},h));const f=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:qi(JSON.stringify(tc("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),g={id:d,topic:o,params:h,verifyContext:p};await this.setPendingSessionRequest(g),u===jt.link_mode&&(r=f.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=f.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:o,error:f}),this.client.logger.error(f)}}),ee(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,i=ht("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Ui(r)?this.events.emit(ht("session_request",s),{result:r.result}):ks(r)&&this.events.emit(ht("session_request",s),{error:r.error})}),ee(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:i}=r;try{const o=`${n}_session_event_${i.event.name}`,a=sf.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit($t({topic:n},i)),this.client.events.emit("session_event",{id:s,topic:n,params:i}),sf.set(o,s)}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),ee(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),Ui(r)?this.events.emit(ht("session_request",s),{result:r.result}):ks(r)&&this.events.emit(ht("session_request",s),{error:r.error})}),ee(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:i,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=i.params,h=await this.getVerifyContext({attestationId:o,hash:qi(JSON.stringify(i)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(i.id,{request:f,pairingTopic:s,transportType:c}),c===jt.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=i.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(i.params.requester.metadata,c),f={type:Do,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:f,rpcOpts:_n.wc_sessionAuthenticate.autoReject,appLink:h})}}),ee(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),ee(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Oi.idle,this.processSessionRequestQueue()},oe.toMiliseconds(this.requestQueueDelay))}),ee(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===n&&i.request.method==="wc_sessionRequest").forEach(i=>{const o=i.request.id,a=ht("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(ht("session_request",i.request.id),{error:r})})}),ee(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Oi.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Oi.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),ee(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),ee(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:tc("wc_sessionPropose",Rr($t({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),ee(this,"isValidConnect",async n=>{if(!Ur(n)){const{message:l}=ae("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:c}=n;if(Mn(r)||await this.isValidPairingTopic(r),!wue(c)){const{message:l}=ae("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!Mn(s)&&yc(s)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,"requiredNamespaces")}if(!Mn(i)&&yc(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),Mn(o)||this.validateSessionProps(o,"sessionProperties"),!Mn(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(u=>l.includes(u)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),ee(this,"validateNamespaces",(n,r)=>{const s=yue(n,"connect()",r);if(s)throw new Error(s.message)}),ee(this,"isValidApprove",async n=>{if(!Ur(n))throw new Error(ae("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=L1(s,"approve()");if(l)throw new Error(l.message);const u=BP(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!un(i,!0)){const{message:d}=ae("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(d)}if(Mn(o)||this.validateSessionProps(o,"sessionProperties"),!Mn(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(s));if(!Object.keys(a).every(h=>d.has(h)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),ee(this,"isValidReject",async n=>{if(!Ur(n)){const{message:i}=ae("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(i)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!bue(s)){const{message:i}=ae("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),ee(this,"isValidSessionSettleRequest",n=>{if(!Ur(n)){const{message:l}=ae("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:s,namespaces:i,expiry:o}=n;if(!q4(r)){const{message:l}=ae("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=due(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=L1(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Na(o)){const{message:l}=ae("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),ee(this,"isValidUpdate",async n=>{if(!Ur(n)){const{message:c}=ae("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const i=this.client.session.get(r),o=L1(s,"update()");if(o)throw new Error(o.message);const a=BP(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),ee(this,"isValidExtend",async n=>{if(!Ur(n)){const{message:s}=ae("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),ee(this,"isValidRequest",async n=>{if(!Ur(n)){const{message:c}=ae("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:s,chainId:i,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!MP(a,i)){const{message:c}=ae("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!_ue(s)){const{message:c}=ae("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!xue(a,i,s.method)){const{message:c}=ae("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(o&&!Tue(o,H1)){const{message:c}=ae("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${H1.min} and ${H1.max}`);throw new Error(c)}}),ee(this,"isValidRespond",async n=>{var r;if(!Ur(n)){const{message:o}=ae("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:s,response:i}=n;try{await this.isValidSessionTopic(s)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!Eue(i)){const{message:o}=ae("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(o)}}),ee(this,"isValidPing",async n=>{if(!Ur(n)){const{message:s}=ae("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ee(this,"isValidEmit",async n=>{if(!Ur(n)){const{message:a}=ae("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:s,chainId:i}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!MP(o,i)){const{message:a}=ae("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!Cue(s)){const{message:a}=ae("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!Sue(o,i,s.name)){const{message:a}=ae("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),ee(this,"isValidDisconnect",async n=>{if(!Ur(n)){const{message:s}=ae("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ee(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:i,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!un(s,!1))throw new Error("uri is required parameter");if(!un(i,!1))throw new Error("domain is required parameter");if(!un(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>xd(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=xd(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ee(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:i,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||Zf,validation:"UNKNOWN",origin:o.url||""}};try{if(a===jt.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),ee(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,i)=>{if(s==null){const{message:o}=ae("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[i]}`);throw new Error(o)}})}),ee(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),ee(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),ee(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=ae("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),ee(this,"isLinkModeEnabled",(n,r)=>{var s,i,o,a,c,l,u,d,h;return!n||r!==jt.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==""&&((h=n==null?void 0:n.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ee(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n==null?void 0:n.redirect)==null?void 0:s.universal:void 0}),ee(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=XN(n,"topic")||"",s=decodeURIComponent(XN(n,"wc_ev")||""),i=this.client.session.keys.includes(r);i&&this.client.session.update(r,{transportType:jt.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:i})}),ee(this,"registerLinkModeListeners",async()=>{var n;if(IA()||Uc()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),ee(this,"getTVFParams",(n,r,s)=>{var i,o,a;if(!((i=r.request)!=null&&i.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,s);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),ee(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),ee(this,"extractTxHashesFromResult",(n,r)=>{var s;try{if(!r)return[];const i=n.method,o=wge[i];if(i==="sui_signTransaction")return[Qae(r.transactionBytes)];if(i==="near_signTransaction")return[aP(r)];if(i==="near_signTransactions")return r.map(c=>aP(c));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=r.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[que({transaction:n.params.transactionPayload,signature:r.signature})];if(i==="algo_signTxn")return jo(r)?r.map(c=>cP(c)):[cP(r)];if(i==="cosmos_signDirect")return[Xae(r)];if(typeof r=="string")return[r];const a=r[o.key];if(jo(a))return i==="solana_signAllTransactions"?a.map(c=>Jae(c)):a;if(typeof a=="string")return[a]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,s]of Object.entries(n))for(const i of s)try{await this.onProviderMessageEvent({topic:r,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${i}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Sn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:s,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(Xy)?this.client.auth.authKeys.get(Xy):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:i===jt.link_mode?ja:fi});zA(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:s,transportType:i,encryptedId:qi(r)})):Av(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:i}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:i}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Ns.expired,async e=>{const{topic:n,id:r}=Q6(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,ae("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,ae("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(sl.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(sl.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!un(e,!1)){const{message:n}=ae("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=ae("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Na(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=ae("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!un(e,!1)){const{message:n}=ae("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=ae("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Na(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=ae("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=ae("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(un(e,!1)){const{message:n}=ae("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=ae("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!vue(e)){const{message:n}=ae("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=ae("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Na(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=ae("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class Oge extends gu{constructor(e,n){super(e,n,gge,qA),this.core=e,this.logger=n}}let Rge=class extends gu{constructor(e,n){super(e,n,mge,qA),this.core=e,this.logger=n}};class $ge extends gu{constructor(e,n){super(e,n,vge,qA,r=>r.id),this.core=e,this.logger=n}}class Dge extends gu{constructor(e,n){super(e,n,Cge,Tv,()=>Xy),this.core=e,this.logger=n}}class jge extends gu{constructor(e,n){super(e,n,xge,Tv),this.core=e,this.logger=n}}class Uge extends gu{constructor(e,n){super(e,n,Sge,Tv,r=>r.id),this.core=e,this.logger=n}}var Lge=Object.defineProperty,Mge=(t,e,n)=>e in t?Lge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V1=(t,e,n)=>Mge(t,typeof e!="symbol"?e+"":e,n);class Bge{constructor(e,n){this.core=e,this.logger=n,V1(this,"authKeys"),V1(this,"pairingTopics"),V1(this,"requests"),this.authKeys=new Dge(this.core,this.logger),this.pairingTopics=new jge(this.core,this.logger),this.requests=new Uge(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Fge=Object.defineProperty,zge=(t,e,n)=>e in t?Fge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xe=(t,e,n)=>zge(t,typeof e!="symbol"?e+"":e,n);let qge=class yj extends Kee{constructor(e){super(e),Xe(this,"protocol",pj),Xe(this,"version",gj),Xe(this,"name",W1.name),Xe(this,"metadata"),Xe(this,"core"),Xe(this,"logger"),Xe(this,"events",new Hs.EventEmitter),Xe(this,"engine"),Xe(this,"session"),Xe(this,"proposal"),Xe(this,"pendingRequest"),Xe(this,"auth"),Xe(this,"signConfig"),Xe(this,"on",(r,s)=>this.events.on(r,s)),Xe(this,"once",(r,s)=>this.events.once(r,s)),Xe(this,"off",(r,s)=>this.events.off(r,s)),Xe(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),Xe(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),Xe(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),Xe(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(i){throw this.logger.error(i.message),i}}),Xe(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||W1.name,this.metadata=qoe(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Jg(vh({level:(e==null?void 0:e.logger)||W1.logger}));this.core=(e==null?void 0:e.core)||new pge(e),this.logger=lr(n,this.name),this.session=new Rge(this.core,this.logger),this.proposal=new Oge(this.core,this.logger),this.pendingRequest=new $ge(this.core,this.logger),this.engine=new kge(this),this.auth=new Bge(this.core,this.logger)}static async init(e){const n=new yj(e);return await n.initialize(),n}get context(){return es(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},oe.toMiliseconds(oe.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var nx={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof en<"u"&&en,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof en<"u"&&en||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(A){return A&&DataView.prototype.isPrototypeOf(A)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(A){return A&&u.indexOf(Object.prototype.toString.call(A))>-1};function h(A){if(typeof A!="string"&&(A=String(A)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(A)||A==="")throw new TypeError('Invalid character in header field name: "'+A+'"');return A.toLowerCase()}function f(A){return typeof A!="string"&&(A=String(A)),A}function p(A){var I={next:function(){var D=A.shift();return{done:D===void 0,value:D}}};return c.iterable&&(I[Symbol.iterator]=function(){return I}),I}function g(A){this.map={},A instanceof g?A.forEach(function(I,D){this.append(D,I)},this):Array.isArray(A)?A.forEach(function(I){if(I.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+I.length);this.append(I[0],I[1])},this):A&&Object.getOwnPropertyNames(A).forEach(function(I){this.append(I,A[I])},this)}g.prototype.append=function(A,I){A=h(A),I=f(I);var D=this.map[A];this.map[A]=D?D+", "+I:I},g.prototype.delete=function(A){delete this.map[h(A)]},g.prototype.get=function(A){return A=h(A),this.has(A)?this.map[A]:null},g.prototype.has=function(A){return this.map.hasOwnProperty(h(A))},g.prototype.set=function(A,I){this.map[h(A)]=f(I)},g.prototype.forEach=function(A,I){for(var D in this.map)this.map.hasOwnProperty(D)&&A.call(I,this.map[D],D,this)},g.prototype.keys=function(){var A=[];return this.forEach(function(I,D){A.push(D)}),p(A)},g.prototype.values=function(){var A=[];return this.forEach(function(I){A.push(I)}),p(A)},g.prototype.entries=function(){var A=[];return this.forEach(function(I,D){A.push([D,I])}),p(A)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(A){if(!A._noBody){if(A.bodyUsed)return Promise.reject(new TypeError("Already read"));A.bodyUsed=!0}}function w(A){return new Promise(function(I,D){A.onload=function(){I(A.result)},A.onerror=function(){D(A.error)}})}function b(A){var I=new FileReader,D=w(I);return I.readAsArrayBuffer(A),D}function v(A){var I=new FileReader,D=w(I),N=/charset=([A-Za-z0-9_-]+)/.exec(A.type),k=N?N[1]:"utf-8";return I.readAsText(A,k),D}function E(A){for(var I=new Uint8Array(A),D=new Array(I.length),N=0;N<I.length;N++)D[N]=String.fromCharCode(I[N]);return D.join("")}function _(A){if(A.slice)return A.slice(0);var I=new Uint8Array(A.byteLength);return I.set(new Uint8Array(A)),I.buffer}function x(){return this.bodyUsed=!1,this._initBody=function(A){this.bodyUsed=this.bodyUsed,this._bodyInit=A,A?typeof A=="string"?this._bodyText=A:c.blob&&Blob.prototype.isPrototypeOf(A)?this._bodyBlob=A:c.formData&&FormData.prototype.isPrototypeOf(A)?this._bodyFormData=A:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)?this._bodyText=A.toString():c.arrayBuffer&&c.blob&&l(A)?(this._bodyArrayBuffer=_(A.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(A)||d(A))?this._bodyArrayBuffer=_(A):this._bodyText=A=Object.prototype.toString.call(A):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof A=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var A=y(this);if(A)return A;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var A=y(this);return A||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var A=y(this);if(A)return A;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(O)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function T(A){var I=A.toUpperCase();return S.indexOf(I)>-1?I:A}function C(A,I){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I=I||{};var D=I.body;if(A instanceof C){if(A.bodyUsed)throw new TypeError("Already read");this.url=A.url,this.credentials=A.credentials,I.headers||(this.headers=new g(A.headers)),this.method=A.method,this.mode=A.mode,this.signal=A.signal,!D&&A._bodyInit!=null&&(D=A._bodyInit,A.bodyUsed=!0)}else this.url=String(A);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new g(I.headers)),this.method=T(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal||function(){if("AbortController"in a){var U=new AbortController;return U.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&D)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(D),(this.method==="GET"||this.method==="HEAD")&&(I.cache==="no-store"||I.cache==="no-cache")){var N=/([?&])_=[^&]*/;if(N.test(this.url))this.url=this.url.replace(N,"$1_="+new Date().getTime());else{var k=/\?/;this.url+=(k.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function O(A){var I=new FormData;return A.trim().split("&").forEach(function(D){if(D){var N=D.split("="),k=N.shift().replace(/\+/g," "),U=N.join("=").replace(/\+/g," ");I.append(decodeURIComponent(k),decodeURIComponent(U))}}),I}function R(A){var I=new g,D=A.replace(/\r?\n[\t ]+/g," ");return D.split("\r").map(function(N){return N.indexOf(`
`)===0?N.substr(1,N.length):N}).forEach(function(N){var k=N.split(":"),U=k.shift().trim();if(U){var j=k.join(":").trim();try{I.append(U,j)}catch(q){console.warn("Response "+q.message)}}}),I}x.call(C.prototype);function L(A,I){if(!(this instanceof L))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=I.statusText===void 0?"":""+I.statusText,this.headers=new g(I.headers),this.url=I.url||"",this._initBody(A)}x.call(L.prototype),L.prototype.clone=function(){return new L(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},L.error=function(){var A=new L(null,{status:200,statusText:""});return A.ok=!1,A.status=0,A.type="error",A};var z=[301,302,303,307,308];L.redirect=function(A,I){if(z.indexOf(I)===-1)throw new RangeError("Invalid status code");return new L(null,{status:I,headers:{location:A}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(I,D){this.message=I,this.name=D;var N=Error(I);this.stack=N.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function M(A,I){return new Promise(function(D,N){var k=new C(A,I);if(k.signal&&k.signal.aborted)return N(new o.DOMException("Aborted","AbortError"));var U=new XMLHttpRequest;function j(){U.abort()}U.onload=function(){var H={statusText:U.statusText,headers:R(U.getAllResponseHeaders()||"")};k.url.indexOf("file://")===0&&(U.status<200||U.status>599)?H.status=200:H.status=U.status,H.url="responseURL"in U?U.responseURL:H.headers.get("X-Request-URL");var Q="response"in U?U.response:U.responseText;setTimeout(function(){D(new L(Q,H))},0)},U.onerror=function(){setTimeout(function(){N(new TypeError("Network request failed"))},0)},U.ontimeout=function(){setTimeout(function(){N(new TypeError("Network request timed out"))},0)},U.onabort=function(){setTimeout(function(){N(new o.DOMException("Aborted","AbortError"))},0)};function q(H){try{return H===""&&a.location.href?a.location.href:H}catch{return H}}if(U.open(k.method,q(k.url),!0),k.credentials==="include"?U.withCredentials=!0:k.credentials==="omit"&&(U.withCredentials=!1),"responseType"in U&&(c.blob?U.responseType="blob":c.arrayBuffer&&(U.responseType="arraybuffer")),I&&typeof I.headers=="object"&&!(I.headers instanceof g||a.Headers&&I.headers instanceof a.Headers)){var K=[];Object.getOwnPropertyNames(I.headers).forEach(function(H){K.push(h(H)),U.setRequestHeader(H,f(I.headers[H]))}),k.headers.forEach(function(H,Q){K.indexOf(Q)===-1&&U.setRequestHeader(Q,H)})}else k.headers.forEach(function(H,Q){U.setRequestHeader(Q,H)});k.signal&&(k.signal.addEventListener("abort",j),U.onreadystatechange=function(){U.readyState===4&&k.signal.removeEventListener("abort",j)}),U.send(typeof k._bodyInit>"u"?null:k._bodyInit)})}return M.polyfill=!0,a.fetch||(a.fetch=M,a.Headers=g,a.Request=C,a.Response=L),o.Headers=g,o.Request=C,o.Response=L,o.fetch=M,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(nx,nx.exports);var Wge=nx.exports;const Ck=ru(Wge);var Hge=Object.defineProperty,Vge=Object.defineProperties,Gge=Object.getOwnPropertyDescriptors,xk=Object.getOwnPropertySymbols,Kge=Object.prototype.hasOwnProperty,Yge=Object.prototype.propertyIsEnumerable,Sk=(t,e,n)=>e in t?Hge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ak=(t,e)=>{for(var n in e||(e={}))Kge.call(e,n)&&Sk(t,n,e[n]);if(xk)for(var n of xk(e))Yge.call(e,n)&&Sk(t,n,e[n]);return t},Ik=(t,e)=>Vge(t,Gge(e));const Jge={Accept:"application/json","Content-Type":"application/json"},Qge="POST",Tk={headers:Jge,method:Qge},Nk=10;let xi=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Hs.EventEmitter,this.isAvailable=!1,this.registering=!1,!VP(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Vo(e),r=await(await Ck(this.url,Ik(Ak({},Tk),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!VP(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Vo({id:1,jsonrpc:"2.0",method:"test",params:[]});await Ck(e,Ik(Ak({},Tk),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Kl(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=Sv(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return V4(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Nk&&this.events.setMaxListeners(Nk)}};const Pk="error",Zge="wss://relay.walletconnect.org",Xge="wc",eme="universal_provider",fy=`${Xge}@2:${eme}:`,wj="https://rpc.walletconnect.org/v1/",Yu="generic",tme=`${wj}bundler`,Gs={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function WA(t){return t==null||typeof t!="object"&&typeof t!="function"}function vj(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function bj(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const nme="[object RegExp]",_j="[object String]",Ej="[object Number]",Cj="[object Boolean]",xj="[object Arguments]",rme="[object Symbol]",sme="[object Date]",ime="[object Map]",ome="[object Set]",ame="[object Array]",cme="[object ArrayBuffer]",lme="[object Object]",ume="[object DataView]",dme="[object Uint8Array]",hme="[object Uint8ClampedArray]",fme="[object Uint16Array]",pme="[object Uint32Array]",gme="[object Int8Array]",mme="[object Int16Array]",yme="[object Int32Array]",wme="[object Float32Array]",vme="[object Float64Array]";function HA(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function bme(t,e){return fd(t,void 0,t,new Map,e)}function fd(t,e,n,r=new Map,s=void 0){const i=s==null?void 0:s(t,e,n,r);if(i!=null)return i;if(WA(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=fd(t[a],a,n,r,s);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,fd(c,a,n,r,s));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(fd(a,void 0,n,r,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(HA(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=fd(t[a],a,n,r,s);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),il(o,t,n,r,s),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),il(o,t,n,r,s),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),il(o,t,n,r,s),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,il(o,t,n,r,s),o}if(typeof t=="object"&&_me(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),il(o,t,n,r,s),o}return t}function il(t,e,n=t,r,s){const i=[...Object.keys(e),...vj(e)];for(let o=0;o<i.length;o++){const a=i[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=fd(e[a],a,n,r,s))}}function _me(t){switch(bj(t)){case xj:case ame:case cme:case ume:case Cj:case sme:case wme:case vme:case gme:case mme:case yme:case ime:case Ej:case lme:case nme:case ome:case _j:case rme:case dme:case hme:case fme:case pme:return!0;default:return!1}}function Eme(t,e){return bme(t,(n,r,s,i)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case Ej:case _j:case Cj:{const o=new t.constructor(t==null?void 0:t.valueOf());return il(o,t),o}case xj:{const o={};return il(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function kk(t){return Eme(t)}function Ok(t){return t!==null&&typeof t=="object"&&bj(t)==="[object Arguments]"}function Rk(t){return typeof t=="object"&&t!==null}function Cme(){}function xme(t){return HA(t)}function Sme(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Ame(t){if(WA(t))return t;if(Array.isArray(t)||HA(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function Ime(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let s=t;for(let i=0;i<n.length;i++){const o=n[i];s=rx(s,o,r,new Map)}return s}function rx(t,e,n,r){if(WA(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return Ame(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let i=0;i<e.length;i++)e[i]=e[i]??void 0}const s=[...Object.keys(e),...vj(e)];for(let i=0;i<s.length;i++){const o=s[i];let a=e[o],c=t[o];if(Ok(a)&&(a={...a}),Ok(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=kk(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const f=d[h];u[f]=c[f]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||Rk(c)&&Rk(a)?t[o]=rx(c,a,n,r):c==null&&Sme(a)?t[o]=rx({},a,n,r):c==null&&xme(a)?t[o]=kk(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function Tme(t,...e){return Ime(t,...e,Cme)}var Nme=Object.defineProperty,Pme=Object.defineProperties,kme=Object.getOwnPropertyDescriptors,$k=Object.getOwnPropertySymbols,Ome=Object.prototype.hasOwnProperty,Rme=Object.prototype.propertyIsEnumerable,Dk=(t,e,n)=>e in t?Nme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,py=(t,e)=>{for(var n in e||(e={}))Ome.call(e,n)&&Dk(t,n,e[n]);if($k)for(var n of $k(e))Rme.call(e,n)&&Dk(t,n,e[n]);return t},$me=(t,e)=>Pme(t,kme(e));function ms(t,e,n){var r;const s=xd(t);return((r=e.rpcMap)==null?void 0:r[s.reference])||`${wj}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function mu(t){return t.includes(":")?t.split(":")[1]:t}function Sj(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Dme(t,e){const n=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!n.length)return[];const r=[];return n.forEach(s=>{const i=e.namespaces[s].accounts;r.push(...i)}),r}function gy(t={},e={}){const n=jk(t),r=jk(e);return Tme(n,r)}function jk(t){var e,n,r,s,i;const o={};if(!yc(t))return o;for(const[a,c]of Object.entries(t)){const l=Cv(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},f=hd(a);o[f]=$me(py(py({},o[f]),c),{chains:Zi(l,(e=o[f])==null?void 0:e.chains),methods:Zi(u,(n=o[f])==null?void 0:n.methods),events:Zi(d,(r=o[f])==null?void 0:r.events)}),(yc(h)||yc(((s=o[f])==null?void 0:s.rpcMap)||{}))&&(o[f].rpcMap=py(py({},h),(i=o[f])==null?void 0:i.rpcMap))}return o}function Uk(t){return t.includes(":")?t.split(":")[2]:t}function Lk(t){const e={};for(const[n,r]of Object.entries(t)){const s=r.methods||[],i=r.events||[],o=r.accounts||[],a=Cv(n)?[n]:r.chains?r.chains:Sj(r.accounts);e[n]={chains:a,methods:s,events:i,accounts:o}}return e}function G1(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const Aj={},ut=t=>Aj[t],K1=(t,e)=>{Aj[t]=e};var jme=Object.defineProperty,Ume=(t,e,n)=>e in t?jme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ou=(t,e,n)=>Ume(t,typeof e!="symbol"?e+"":e,n);class Lme{constructor(e){Ou(this,"name","polkadot"),Ou(this,"client"),Ou(this,"httpProviders"),Ou(this,"events"),Ou(this,"namespace"),Ou(this,"chainId"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=mu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ms(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vs(new xi(r,ut("disableProviderPing")))}}var Mme=Object.defineProperty,Bme=Object.defineProperties,Fme=Object.getOwnPropertyDescriptors,Mk=Object.getOwnPropertySymbols,zme=Object.prototype.hasOwnProperty,qme=Object.prototype.propertyIsEnumerable,sx=(t,e,n)=>e in t?Mme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bk=(t,e)=>{for(var n in e||(e={}))zme.call(e,n)&&sx(t,n,e[n]);if(Mk)for(var n of Mk(e))qme.call(e,n)&&sx(t,n,e[n]);return t},Fk=(t,e)=>Bme(t,Fme(e)),Ru=(t,e,n)=>sx(t,typeof e!="symbol"?e+"":e,n);class Wme{constructor(e){Ru(this,"name","eip155"),Ru(this,"client"),Ru(this,"chainId"),Ru(this,"namespace"),Ru(this,"httpProviders"),Ru(this,"events"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||ms(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vs(new xi(r,ut("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(mu(n));e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let s=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,s,i,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((i=(s=e.request)==null?void 0:s.params)==null?void 0:i[1])||[],l=`${a}${c.join(",")}`;if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),d=((o=u==null?void 0:u.sessionProperties)==null?void 0:o.capabilities)||{};if(d!=null&&d[l])return d==null?void 0:d[l];const h=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:Fk(Bk({},u.sessionProperties||{}),{capabilities:Fk(Bk({},d||{}),{[l]:h})})})}catch(f){console.warn("Failed to update session with capabilities",f)}return h}async getCallStatus(e){var n,r;const s=this.client.session.get(e.topic),i=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(i){const a=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const s=new URL(e),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(tc("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,n){return`${tme}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var Hme=Object.defineProperty,Vme=(t,e,n)=>e in t?Hme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$u=(t,e,n)=>Vme(t,typeof e!="symbol"?e+"":e,n);class Gme{constructor(e){$u(this,"name","solana"),$u(this,"client"),$u(this,"httpProviders"),$u(this,"events"),$u(this,"namespace"),$u(this,"chainId"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=mu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ms(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vs(new xi(r,ut("disableProviderPing")))}}var Kme=Object.defineProperty,Yme=(t,e,n)=>e in t?Kme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Du=(t,e,n)=>Yme(t,typeof e!="symbol"?e+"":e,n);class Jme{constructor(e){Du(this,"name","cosmos"),Du(this,"client"),Du(this,"httpProviders"),Du(this,"events"),Du(this,"namespace"),Du(this,"chainId"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=mu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ms(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vs(new xi(r,ut("disableProviderPing")))}}var Qme=Object.defineProperty,Zme=(t,e,n)=>e in t?Qme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ju=(t,e,n)=>Zme(t,typeof e!="symbol"?e+"":e,n);class Xme{constructor(e){ju(this,"name","algorand"),ju(this,"client"),ju(this,"httpProviders"),ju(this,"events"),ju(this,"namespace"),ju(this,"chainId"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||ms(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ms(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Vs(new xi(r,ut("disableProviderPing")))}}var eye=Object.defineProperty,tye=(t,e,n)=>e in t?eye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Uu=(t,e,n)=>tye(t,typeof e!="symbol"?e+"":e,n);class nye{constructor(e){Uu(this,"name","cip34"),Uu(this,"client"),Uu(this,"httpProviders"),Uu(this,"events"),Uu(this,"namespace"),Uu(this,"chainId"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),s=mu(n);e[s]=this.createHttpProvider(s,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vs(new xi(r,ut("disableProviderPing")))}}var rye=Object.defineProperty,sye=(t,e,n)=>e in t?rye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lu=(t,e,n)=>sye(t,typeof e!="symbol"?e+"":e,n);class iye{constructor(e){Lu(this,"name","elrond"),Lu(this,"client"),Lu(this,"httpProviders"),Lu(this,"events"),Lu(this,"namespace"),Lu(this,"chainId"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=mu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ms(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vs(new xi(r,ut("disableProviderPing")))}}var oye=Object.defineProperty,aye=(t,e,n)=>e in t?oye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mu=(t,e,n)=>aye(t,typeof e!="symbol"?e+"":e,n);class cye{constructor(e){Mu(this,"name","multiversx"),Mu(this,"client"),Mu(this,"httpProviders"),Mu(this,"events"),Mu(this,"namespace"),Mu(this,"chainId"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=mu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ms(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vs(new xi(r,ut("disableProviderPing")))}}var lye=Object.defineProperty,uye=(t,e,n)=>e in t?lye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bu=(t,e,n)=>uye(t,typeof e!="symbol"?e+"":e,n);class dye{constructor(e){Bu(this,"name","near"),Bu(this,"client"),Bu(this,"httpProviders"),Bu(this,"events"),Bu(this,"namespace"),Bu(this,"chainId"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||ms(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ms(e,this.namespace);return typeof r>"u"?void 0:new Vs(new xi(r,ut("disableProviderPing")))}}var hye=Object.defineProperty,fye=(t,e,n)=>e in t?hye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fu=(t,e,n)=>fye(t,typeof e!="symbol"?e+"":e,n);class pye{constructor(e){Fu(this,"name","tezos"),Fu(this,"client"),Fu(this,"httpProviders"),Fu(this,"events"),Fu(this,"namespace"),Fu(this,"chainId"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||ms(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ms(e,this.namespace);return typeof r>"u"?void 0:new Vs(new xi(r))}}var gye=Object.defineProperty,mye=(t,e,n)=>e in t?gye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zu=(t,e,n)=>mye(t,typeof e!="symbol"?e+"":e,n);class yye{constructor(e){zu(this,"name",Yu),zu(this,"client"),zu(this,"httpProviders"),zu(this,"events"),zu(this,"namespace"),zu(this,"chainId"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(s=>{const i=xd(s);r[`${i.namespace}:${i.reference}`]=this.createHttpProvider(s)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ms(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vs(new xi(r,ut("disableProviderPing")))}}var wye=Object.defineProperty,vye=Object.defineProperties,bye=Object.getOwnPropertyDescriptors,zk=Object.getOwnPropertySymbols,_ye=Object.prototype.hasOwnProperty,Eye=Object.prototype.propertyIsEnumerable,ix=(t,e,n)=>e in t?wye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,my=(t,e)=>{for(var n in e||(e={}))_ye.call(e,n)&&ix(t,n,e[n]);if(zk)for(var n of zk(e))Eye.call(e,n)&&ix(t,n,e[n]);return t},Y1=(t,e)=>vye(t,bye(e)),Ss=(t,e,n)=>ix(t,typeof e!="symbol"?e+"":e,n);let Cye=class Ij{constructor(e){Ss(this,"client"),Ss(this,"namespaces"),Ss(this,"optionalNamespaces"),Ss(this,"sessionProperties"),Ss(this,"scopedProperties"),Ss(this,"events",new uA),Ss(this,"rpcProviders",{}),Ss(this,"session"),Ss(this,"providerOpts"),Ss(this,"logger"),Ss(this,"uri"),Ss(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Jg(vh({level:(e==null?void 0:e.logger)||Pk})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new Ij(e);return await n.initialize(),n}async request(e,n,r){const[s,i]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:my({},e),chainId:`${s}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,s){const i=new Date().getTime();this.request(e,r,s).then(o=>n(null,xv(i,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Bt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await s();if(this.session=i.session,this.session){const o=Lk(this.session.namespaces);this.namespaces=gy(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const i=Lk(s.namespaces);return this.namespaces=gy(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,s]=this.validateChain(e),i=this.getProvider(r);i.name===Yu?i.setDefaultChain(`${r}:${s}`,n):i.setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(jo(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await qge.init({core:this.providerOpts.core,logger:this.providerOpts.logger||Pk,relayUrl:this.providerOpts.relayUrl||Zge,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>hd(n)))];K1("client",this.client),K1("events",this.events),K1("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=Dme(n,this.session),s=Sj(r),i=gy(this.namespaces,this.optionalNamespaces),o=Y1(my({},i[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new Wme({namespace:o});break;case"algorand":this.rpcProviders[n]=new Xme({namespace:o});break;case"solana":this.rpcProviders[n]=new Gme({namespace:o});break;case"cosmos":this.rpcProviders[n]=new Jme({namespace:o});break;case"polkadot":this.rpcProviders[n]=new Lme({namespace:o});break;case"cip34":this.rpcProviders[n]=new nye({namespace:o});break;case"elrond":this.rpcProviders[n]=new iye({namespace:o});break;case"multiversx":this.rpcProviders[n]=new cye({namespace:o});break;case"near":this.rpcProviders[n]=new dye({namespace:o});break;case"tezos":this.rpcProviders[n]=new pye({namespace:o});break;default:this.rpcProviders[Yu]?this.rpcProviders[Yu].updateNamespace(o):this.rpcProviders[Yu]=new yye({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:s}=e;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:i}=r;if(i.name==="accountsChanged"){const o=i.data;o&&jo(o)&&this.events.emit("accountsChanged",o.map(Uk))}else if(i.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=hd(o),l=G1(o)!==G1(a)?`${c}:${G1(a)}`:o;this.onChainChanged(l)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,s;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:i}=n,o=(s=this.client)==null?void 0:s.session.get(e);this.session=Y1(my({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Y1(my({},Bt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Gs.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Yu]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:s,scopedProperties:i}=e;this.optionalNamespaces=gy(n,r),this.sessionProperties=s,this.scopedProperties=i}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>hd(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=hd(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(e);if(!s)return;this.updateNamespaceChain(r,s),this.events.emit("chainChanged",s);const i=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:i,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var s,i;try{if(n===r)return;const o=(i=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:i.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(Uk);if(!jo(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${fy}/${e}${s}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${fy}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${fy}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(fy)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const ep={getSIWX(){return te.state.siwx},async initializeIfEnabled(){var i;const t=te.state.siwx,e=$.getActiveCaipAddress();if(!(t&&e))return;const[n,r,s]=e.split(":");if($.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,s)).length)return;await ft.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),yt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((i=we._getClient())==null?void 0:i.disconnect().catch(console.error)),ke.reset("Connect"),hi.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=te.state.siwx,e=Ee.getPlainAddress($.getActiveCaipAddress()),n=$.getActiveCaipNetwork(),r=we._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),i=s.toString();de.getConnectorId(n.chainNamespace)===J.CONNECTOR_ID.AUTH&&ke.pushTransactionStack({});const a=await r.signMessage(i);await t.addSession({data:s,message:i,signature:a}),$.setLastConnectedSIWECaipNetwork(n),ft.close(),yt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const i=this.getSIWXEventProperties();(!ft.state.open||ke.state.view==="ApproveTransaction")&&await ft.open({view:"SIWXSignMessage"}),i.isSmartAccount?hi.showError("This application might not support Smart Accounts"):hi.showError("Signature declined"),yt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:i}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();if((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e)){const r=$.getLastConnectedSIWECaipNetwork();r?$.switchActiveNetwork(r):await we.disconnect()}else ft.close();ke.reset("Connect"),yt.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const t=this.getSIWX(),e=$.getAllRequestedCaipNetworks(),n=[];return await Promise.all(e.map(async r=>{const s=await(t==null?void 0:t.getSessions(r.caipNetworkId,Ee.getPlainAddress($.getActiveCaipAddress())||""));s&&n.push(...s)})),n},async getSessions(){const t=te.state.siwx,e=Ee.getPlainAddress($.getActiveCaipAddress()),n=$.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=ke.state.view==="ApproveTransaction",r=ke.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var a,c,l;const r=ep.getSIWX(),s=new Set(e.map(u=>u.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const i=await r.createMessage({chainId:((a=$.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:i.nonce,domain:i.domain,uri:i.uri,exp:i.expirationTime,iat:i.issuedAt,nbf:i.notBefore,requestId:i.requestId,version:i.version,resources:i.resources,statement:i.statement,chainId:i.chainId,methods:n,chains:[i.chainId,...e.filter(u=>u!==i.chainId)]});if(hi.showLoading("Authenticating...",{autoClose:!1}),ce.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(s)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const u=o.auths.map(d=>{const h=t.client.formatAuthMessage({request:d.p,iss:d.p.iss});return{data:{...d.p,accountAddress:d.p.iss.split(":").slice(-1).join(""),chainId:d.p.iss.split(":").slice(2,4).join(":"),uri:d.p.aud,version:d.p.version||i.version,expirationTime:d.p.exp,issuedAt:d.p.iat,notBefore:d.p.nbf},message:h,signature:d.s.s,cacao:d}});try{await r.setSessions(u),yt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:ep.getSIWXEventProperties()})}catch(d){throw console.error("SIWX:universalProviderAuth - failed to set sessions",d),yt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:ep.getSIWXEventProperties()}),await t.disconnect().catch(console.error),d}finally{hi.hide()}}return!0},getSIWXEventProperties(){var e,n;const t=$.state.activeChain;return{network:((e=$.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((n=ce.state.preferredAccountTypes)==null?void 0:n[t])===Nn.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},Ut={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},nc={ConnectorExplorerIds:{[J.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[J.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[J.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[J.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[J.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Ut.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[Ut.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[Ut.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[Ut.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[Ut.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[Ut.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[Ut.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[Ut.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[Ut.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[Ut.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[Ut.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[J.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[J.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[J.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[J.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[J.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[J.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[J.CONNECTOR_ID.INJECTED]:"Browser Wallet",[J.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[J.CONNECTOR_ID.COINBASE]:"Coinbase",[J.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[J.CONNECTOR_ID.LEDGER]:"Ledger",[J.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[J.CONNECTOR_ID.INJECTED]:"INJECTED",[J.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[J.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[J.CONNECTOR_ID.AUTH]:"AUTH"}},ug={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${Ut.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())},getActiveNamespaceConnectedToAuth(){const t=$.state.activeChain;return J.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>de.getConnectorId(e)===J.CONNECTOR_ID.AUTH&&e===t)}},xye=new AbortController,qt={EmbeddedWalletAbortController:xye,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${Sye()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"},SERVER_ERROR_APP_CONFIGURATION:{shortMessage:"Server Error",longMessage:t=>`Failed to get App Configuration ${t||""}`},RATE_LIMITED_APP_CONFIGURATION:{shortMessage:"Rate Limited",longMessage:"Rate limited when trying to get the App Configuration"}}};function Sye(){return typeof window<"u"}const Aye={createLogger(t,e="error"){const n=vh({level:e}),{logger:r}=hA({opts:n});return r.error=(...s)=>{for(const i of s)if(i instanceof Error){t(i,...s);return}t(void 0,...s)},r}},Iye="rpc.walletconnect.org";function qk(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const J1=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Vi={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===Iye}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:J.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${J.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var s,i,o;const r=(o=(i=(s=t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null?void 0:o[0];return J1.includes(e)?qk(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var h,f,p,g,y;const s=this.getChainNamespace(t),i=this.getCaipNetworkId(t),o=(h=t.rpcUrls.default.http)==null?void 0:h[0],a=this.getDefaultRpcUrl(t,i,n),c=((g=(p=(f=t==null?void 0:t.rpcUrls)==null?void 0:f.chainDefault)==null?void 0:p.http)==null?void 0:g[0])||o,l=((y=r==null?void 0:r[i])==null?void 0:y.map(w=>w.url))||[],u=[...l,a],d=[...l];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:s,caipNetworkId:i,assets:{imageId:nc.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(s=>Vi.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var s,i,o;const r=[];return n==null||n.forEach(a=>{r.push(Um(a.url,a.config))}),J1.includes(t.caipNetworkId)&&r.push(Um(qk(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(i=(s=t==null?void 0:t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null||o.forEach(a=>{r.push(Um(a))}),qI(r)},extendWagmiTransports(t,e,n){if(J1.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return qI([n,Um(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:J.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=ue.getActiveCaipNetworkId(),n=$.getAllRequestedCaipNetworks(),r=Array.from(((c=$.state.chains)==null?void 0:c.keys())||[]),s=e==null?void 0:e.split(":")[0],i=s?r.includes(s):!1,o=n==null?void 0:n.find(l=>l.caipNetworkId===e);return i&&!o&&e?this.getUnsupportedNetwork(e):o||t||(n==null?void 0:n[0])}},rw={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},$r=Ot({providers:{...rw},providerIds:{...rw}}),Ct={state:$r,subscribeKey(t,e){return Wn($r,t,e)},subscribe(t){return qn($r,()=>{t($r)})},subscribeProviders(t){return qn($r.providers,()=>t($r.providers))},setProvider(t,e){e&&($r.providers[t]=Vl(e))},getProvider(t){return $r.providers[t]},setProviderId(t,e){e&&($r.providerIds[t]=e)},getProviderId(t){if(t)return $r.providerIds[t]},reset(){$r.providers={...rw},$r.providerIds={...rw}},resetChain(t){$r.providers[t]=void 0,$r.providerIds[t]=void 0}},Wk={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},Un={set(t,e){ls.isClient&&localStorage.setItem(`${be.STORAGE_KEY}${t}`,e)},get(t){return ls.isClient?localStorage.getItem(`${be.STORAGE_KEY}${t}`):null},delete(t,e){ls.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${be.STORAGE_KEY}${t}`))}},yy=30*1e3,ls={checkIfAllowedToTriggerEmail(){const t=Un.get(be.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<yy){const n=Math.ceil((yy-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=Un.get(be.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<yy)return Math.ceil((yy-e)/1e3)}return 0},checkIfRequestExists(t){return Nn.NOT_SAFE_RPC_METHODS.includes(t.method)||Nn.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(Wk.transactionHash))||(t==null?void 0:t.match(Wk.signedMessage)))?be.RPC_RESPONSE_TYPE_TX:be.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return Nn.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var lt;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(lt||(lt={}));var ox;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(ox||(ox={}));const ge=lt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ua=t=>{switch(typeof t){case"undefined":return ge.undefined;case"string":return ge.string;case"number":return isNaN(t)?ge.nan:ge.number;case"boolean":return ge.boolean;case"function":return ge.function;case"bigint":return ge.bigint;case"symbol":return ge.symbol;case"object":return Array.isArray(t)?ge.array:t===null?ge.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ge.promise:typeof Map<"u"&&t instanceof Map?ge.map:typeof Set<"u"&&t instanceof Set?ge.set:typeof Date<"u"&&t instanceof Date?ge.date:ge.object;default:return ge.unknown}},se=lt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Tye=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class wi extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,lt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}wi.create=t=>new wi(t);const dg=(t,e)=>{let n;switch(t.code){case se.invalid_type:t.received===ge.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case se.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,lt.jsonStringifyReplacer)}`;break;case se.unrecognized_keys:n=`Unrecognized key(s) in object: ${lt.joinValues(t.keys,", ")}`;break;case se.invalid_union:n="Invalid input";break;case se.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${lt.joinValues(t.options)}`;break;case se.invalid_enum_value:n=`Invalid enum value. Expected ${lt.joinValues(t.options)}, received '${t.received}'`;break;case se.invalid_arguments:n="Invalid function arguments";break;case se.invalid_return_type:n="Invalid function return type";break;case se.invalid_date:n="Invalid date";break;case se.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:lt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case se.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case se.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case se.custom:n="Invalid input";break;case se.invalid_intersection_types:n="Intersection results could not be merged";break;case se.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case se.not_finite:n="Number must be finite";break;default:n=e.defaultError,lt.assertNever(t)}return{message:n}};let Tj=dg;function Nye(t){Tj=t}function sw(){return Tj}const iw=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},Pye=[];function ve(t,e){const n=iw({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,sw(),dg].filter(r=>!!r)});t.common.issues.push(n)}class cr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Le;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return cr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Le;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Le=Object.freeze({status:"aborted"}),Nj=t=>({status:"dirty",value:t}),Cr=t=>({status:"valid",value:t}),ax=t=>t.status==="aborted",cx=t=>t.status==="dirty",hg=t=>t.status==="valid",ow=t=>typeof Promise<"u"&&t instanceof Promise;var Te;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Te||(Te={}));class no{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Hk=(t,e)=>{if(hg(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new wi(t.common.issues);return this._error=n,this._error}}};function qe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:s}}class Ve{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ua(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ua(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new cr,ctx:{common:e.parent.common,data:e.data,parsedType:Ua(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(ow(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ua(e)},i=this._parseSync({data:e,path:s.path,parent:s});return Hk(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ua(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(ow(s)?s:Promise.resolve(s));return Hk(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:se.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Ei({schema:this,typeName:De.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Uo.create(this,this._def)}nullable(){return tu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vi.create(this,this._def)}promise(){return sh.create(this,this._def)}or(e){return mg.create([this,e],this._def)}and(e){return yg.create(this,e,this._def)}transform(e){return new Ei({...qe(this._def),schema:this,typeName:De.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Eg({...qe(this._def),innerType:this,defaultValue:n,typeName:De.ZodDefault})}brand(){return new kj({typeName:De.ZodBranded,type:this,...qe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new uw({...qe(this._def),innerType:this,catchValue:n,typeName:De.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return im.create(this,e)}readonly(){return hw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const kye=/^c[^\s-]{8,}$/i,Oye=/^[a-z][a-z0-9]*$/,Rye=/^[0-9A-HJKMNP-TV-Z]{26}$/,$ye=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Dye=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jye="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Q1;const Uye=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Lye=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Mye=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Bye(t,e){return!!((e==="v4"||!e)&&Uye.test(t)||(e==="v6"||!e)&&Lye.test(t))}class pi extends Ve{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ge.string){const i=this._getOrReturnCtx(e);return ve(i,{code:se.invalid_type,expected:ge.string,received:i.parsedType}),Le}const r=new cr;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ve(s,{code:se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ve(s,{code:se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?ve(s,{code:se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&ve(s,{code:se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Dye.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"email",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Q1||(Q1=new RegExp(jye,"u")),Q1.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"emoji",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")$ye.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"uuid",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")kye.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"cuid",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Oye.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"cuid2",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Rye.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"ulid",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ve(s,{validation:"url",code:se.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"regex",code:se.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ve(s,{code:se.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ve(s,{code:se.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ve(s,{code:se.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Mye(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{code:se.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?Bye(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"ip",code:se.invalid_string,message:i.message}),r.dirty()):lt.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:se.invalid_string,...Te.errToObj(r)})}_addCheck(e){return new pi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Te.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Te.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Te.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Te.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Te.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Te.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Te.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Te.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...Te.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Te.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Te.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Te.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Te.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Te.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Te.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Te.errToObj(n)})}nonempty(e){return this.min(1,Te.errToObj(e))}trim(){return new pi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new pi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new pi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}pi.create=t=>{var e;return new pi({checks:[],typeName:De.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...qe(t)})};function Fye(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Nc extends Ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ge.number){const i=this._getOrReturnCtx(e);return ve(i,{code:se.invalid_type,expected:ge.number,received:i.parsedType}),Le}let r;const s=new cr;for(const i of this._def.checks)i.kind==="int"?lt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ve(r,{code:se.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:se.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:se.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Fye(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ve(r,{code:se.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ve(r,{code:se.not_finite,message:i.message}),s.dirty()):lt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Te.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Te.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Te.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Te.toString(n))}setLimit(e,n,r,s){return new Nc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Te.toString(s)}]})}_addCheck(e){return new Nc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Te.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Te.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Te.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Te.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Te.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Te.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&lt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Nc.create=t=>new Nc({checks:[],typeName:De.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...qe(t)});class Pc extends Ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ge.bigint){const i=this._getOrReturnCtx(e);return ve(i,{code:se.invalid_type,expected:ge.bigint,received:i.parsedType}),Le}let r;const s=new cr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:se.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:se.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:se.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):lt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Te.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Te.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Te.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Te.toString(n))}setLimit(e,n,r,s){return new Pc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Te.toString(s)}]})}_addCheck(e){return new Pc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Te.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Te.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Pc.create=t=>{var e;return new Pc({checks:[],typeName:De.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...qe(t)})};class fg extends Ve{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ge.boolean){const r=this._getOrReturnCtx(e);return ve(r,{code:se.invalid_type,expected:ge.boolean,received:r.parsedType}),Le}return Cr(e.data)}}fg.create=t=>new fg({typeName:De.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...qe(t)});class Xl extends Ve{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ge.date){const i=this._getOrReturnCtx(e);return ve(i,{code:se.invalid_type,expected:ge.date,received:i.parsedType}),Le}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ve(i,{code:se.invalid_date}),Le}const r=new cr;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ve(s,{code:se.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ve(s,{code:se.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):lt.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Xl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Te.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Te.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Xl.create=t=>new Xl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:De.ZodDate,...qe(t)});class aw extends Ve{_parse(e){if(this._getType(e)!==ge.symbol){const r=this._getOrReturnCtx(e);return ve(r,{code:se.invalid_type,expected:ge.symbol,received:r.parsedType}),Le}return Cr(e.data)}}aw.create=t=>new aw({typeName:De.ZodSymbol,...qe(t)});class pg extends Ve{_parse(e){if(this._getType(e)!==ge.undefined){const r=this._getOrReturnCtx(e);return ve(r,{code:se.invalid_type,expected:ge.undefined,received:r.parsedType}),Le}return Cr(e.data)}}pg.create=t=>new pg({typeName:De.ZodUndefined,...qe(t)});class gg extends Ve{_parse(e){if(this._getType(e)!==ge.null){const r=this._getOrReturnCtx(e);return ve(r,{code:se.invalid_type,expected:ge.null,received:r.parsedType}),Le}return Cr(e.data)}}gg.create=t=>new gg({typeName:De.ZodNull,...qe(t)});class rh extends Ve{constructor(){super(...arguments),this._any=!0}_parse(e){return Cr(e.data)}}rh.create=t=>new rh({typeName:De.ZodAny,...qe(t)});class kl extends Ve{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Cr(e.data)}}kl.create=t=>new kl({typeName:De.ZodUnknown,...qe(t)});class Ko extends Ve{_parse(e){const n=this._getOrReturnCtx(e);return ve(n,{code:se.invalid_type,expected:ge.never,received:n.parsedType}),Le}}Ko.create=t=>new Ko({typeName:De.ZodNever,...qe(t)});class cw extends Ve{_parse(e){if(this._getType(e)!==ge.undefined){const r=this._getOrReturnCtx(e);return ve(r,{code:se.invalid_type,expected:ge.void,received:r.parsedType}),Le}return Cr(e.data)}}cw.create=t=>new cw({typeName:De.ZodVoid,...qe(t)});class vi extends Ve{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ge.array)return ve(n,{code:se.invalid_type,expected:ge.array,received:n.parsedType}),Le;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(ve(n,{code:o?se.too_big:se.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ve(n,{code:se.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ve(n,{code:se.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new no(n,o,n.path,a)))).then(o=>cr.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new no(n,o,n.path,a)));return cr.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new vi({...this._def,minLength:{value:e,message:Te.toString(n)}})}max(e,n){return new vi({...this._def,maxLength:{value:e,message:Te.toString(n)}})}length(e,n){return new vi({...this._def,exactLength:{value:e,message:Te.toString(n)}})}nonempty(e){return this.min(1,e)}}vi.create=(t,e)=>new vi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:De.ZodArray,...qe(e)});function Ju(t){if(t instanceof Wt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Uo.create(Ju(r))}return new Wt({...t._def,shape:()=>e})}else return t instanceof vi?new vi({...t._def,type:Ju(t.element)}):t instanceof Uo?Uo.create(Ju(t.unwrap())):t instanceof tu?tu.create(Ju(t.unwrap())):t instanceof ro?ro.create(t.items.map(e=>Ju(e))):t}class Wt extends Ve{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=lt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ge.object){const l=this._getOrReturnCtx(e);return ve(l,{code:se.invalid_type,expected:ge.object,received:l.parsedType}),Le}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ko&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=i[l],d=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new no(s,d,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof Ko){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")a.length>0&&(ve(s,{code:se.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const d=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new no(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key;l.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>cr.mergeObjectSync(r,l)):cr.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Te.errToObj,new Wt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Te.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Wt({...this._def,unknownKeys:"strip"})}passthrough(){return new Wt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Wt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Wt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:De.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Wt({...this._def,catchall:e})}pick(e){const n={};return lt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Wt({...this._def,shape:()=>n})}omit(e){const n={};return lt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Wt({...this._def,shape:()=>n})}deepPartial(){return Ju(this)}partial(e){const n={};return lt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Wt({...this._def,shape:()=>n})}required(e){const n={};return lt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Uo;)i=i._def.innerType;n[r]=i}}),new Wt({...this._def,shape:()=>n})}keyof(){return Pj(lt.objectKeys(this.shape))}}Wt.create=(t,e)=>new Wt({shape:()=>t,unknownKeys:"strip",catchall:Ko.create(),typeName:De.ZodObject,...qe(e)});Wt.strictCreate=(t,e)=>new Wt({shape:()=>t,unknownKeys:"strict",catchall:Ko.create(),typeName:De.ZodObject,...qe(e)});Wt.lazycreate=(t,e)=>new Wt({shape:t,unknownKeys:"strip",catchall:Ko.create(),typeName:De.ZodObject,...qe(e)});class mg extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new wi(a.ctx.common.issues));return ve(n,{code:se.invalid_union,unionErrors:o}),Le}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new wi(c));return ve(n,{code:se.invalid_union,unionErrors:a}),Le}}get options(){return this._def.options}}mg.create=(t,e)=>new mg({options:t,typeName:De.ZodUnion,...qe(e)});const e0=t=>t instanceof vg?e0(t.schema):t instanceof Ei?e0(t.innerType()):t instanceof bg?[t.value]:t instanceof kc?t.options:t instanceof _g?Object.keys(t.enum):t instanceof Eg?e0(t._def.innerType):t instanceof pg?[void 0]:t instanceof gg?[null]:null;class Nv extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ge.object)return ve(n,{code:se.invalid_type,expected:ge.object,received:n.parsedType}),Le;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(ve(n,{code:se.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Le)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=e0(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Nv({typeName:De.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...qe(r)})}}function lx(t,e){const n=Ua(t),r=Ua(e);if(t===e)return{valid:!0,data:t};if(n===ge.object&&r===ge.object){const s=lt.objectKeys(e),i=lt.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=lx(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===ge.array&&r===ge.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=lx(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===ge.date&&r===ge.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class yg extends Ve{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(ax(i)||ax(o))return Le;const a=lx(i.value,o.value);return a.valid?((cx(i)||cx(o))&&n.dirty(),{status:n.value,value:a.data}):(ve(r,{code:se.invalid_intersection_types}),Le)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}yg.create=(t,e,n)=>new yg({left:t,right:e,typeName:De.ZodIntersection,...qe(n)});class ro extends Ve{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ge.array)return ve(r,{code:se.invalid_type,expected:ge.array,received:r.parsedType}),Le;if(r.data.length<this._def.items.length)return ve(r,{code:se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Le;!this._def.rest&&r.data.length>this._def.items.length&&(ve(r,{code:se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new no(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>cr.mergeArray(n,o)):cr.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ro({...this._def,rest:e})}}ro.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ro({items:t,typeName:De.ZodTuple,rest:null,...qe(e)})};class wg extends Ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ge.object)return ve(r,{code:se.invalid_type,expected:ge.object,received:r.parsedType}),Le;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new no(r,a,r.path,a)),value:o._parse(new no(r,r.data[a],r.path,a))});return r.common.async?cr.mergeObjectAsync(n,s):cr.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ve?new wg({keyType:e,valueType:n,typeName:De.ZodRecord,...qe(r)}):new wg({keyType:pi.create(),valueType:e,typeName:De.ZodRecord,...qe(n)})}}class lw extends Ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ge.map)return ve(r,{code:se.invalid_type,expected:ge.map,received:r.parsedType}),Le;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:s._parse(new no(r,a,r.path,[l,"key"])),value:i._parse(new no(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Le;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Le;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}lw.create=(t,e,n)=>new lw({valueType:e,keyType:t,typeName:De.ZodMap,...qe(n)});class eu extends Ve{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ge.set)return ve(r,{code:se.invalid_type,expected:ge.set,received:r.parsedType}),Le;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ve(r,{code:se.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ve(r,{code:se.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return Le;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>i._parse(new no(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new eu({...this._def,minSize:{value:e,message:Te.toString(n)}})}max(e,n){return new eu({...this._def,maxSize:{value:e,message:Te.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}eu.create=(t,e)=>new eu({valueType:t,minSize:null,maxSize:null,typeName:De.ZodSet,...qe(e)});class Sd extends Ve{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ge.function)return ve(n,{code:se.invalid_type,expected:ge.function,received:n.parsedType}),Le;function r(a,c){return iw({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,sw(),dg].filter(l=>!!l),issueData:{code:se.invalid_arguments,argumentsError:c}})}function s(a,c){return iw({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,sw(),dg].filter(l=>!!l),issueData:{code:se.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof sh){const a=this;return Cr(async function(...c){const l=new wi([]),u=await a._def.args.parseAsync(c,i).catch(f=>{throw l.addIssue(r(c,f)),l}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(f=>{throw l.addIssue(s(d,f)),l})})}else{const a=this;return Cr(function(...c){const l=a._def.args.safeParse(c,i);if(!l.success)throw new wi([r(c,l.error)]);const u=Reflect.apply(o,this,l.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new wi([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Sd({...this._def,args:ro.create(e).rest(kl.create())})}returns(e){return new Sd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Sd({args:e||ro.create([]).rest(kl.create()),returns:n||kl.create(),typeName:De.ZodFunction,...qe(r)})}}class vg extends Ve{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}vg.create=(t,e)=>new vg({getter:t,typeName:De.ZodLazy,...qe(e)});class bg extends Ve{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ve(n,{received:n.data,code:se.invalid_literal,expected:this._def.value}),Le}return{status:"valid",value:e.data}}get value(){return this._def.value}}bg.create=(t,e)=>new bg({value:t,typeName:De.ZodLiteral,...qe(e)});function Pj(t,e){return new kc({values:t,typeName:De.ZodEnum,...qe(e)})}class kc extends Ve{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ve(n,{expected:lt.joinValues(r),received:n.parsedType,code:se.invalid_type}),Le}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return ve(n,{received:n.data,code:se.invalid_enum_value,options:r}),Le}return Cr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return kc.create(e)}exclude(e){return kc.create(this.options.filter(n=>!e.includes(n)))}}kc.create=Pj;class _g extends Ve{_parse(e){const n=lt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ge.string&&r.parsedType!==ge.number){const s=lt.objectValues(n);return ve(r,{expected:lt.joinValues(s),received:r.parsedType,code:se.invalid_type}),Le}if(n.indexOf(e.data)===-1){const s=lt.objectValues(n);return ve(r,{received:r.data,code:se.invalid_enum_value,options:s}),Le}return Cr(e.data)}get enum(){return this._def.values}}_g.create=(t,e)=>new _g({values:t,typeName:De.ZodNativeEnum,...qe(e)});class sh extends Ve{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ge.promise&&n.common.async===!1)return ve(n,{code:se.invalid_type,expected:ge.promise,received:n.parsedType}),Le;const r=n.parsedType===ge.promise?n.data:Promise.resolve(n.data);return Cr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}sh.create=(t,e)=>new sh({type:t,typeName:De.ZodPromise,...qe(e)});class Ei extends Ve{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===De.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{ve(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Le:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Le:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!hg(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>hg(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);lt.assertNever(s)}}Ei.create=(t,e,n)=>new Ei({schema:t,typeName:De.ZodEffects,effect:e,...qe(n)});Ei.createWithPreprocess=(t,e,n)=>new Ei({schema:e,effect:{type:"preprocess",transform:t},typeName:De.ZodEffects,...qe(n)});class Uo extends Ve{_parse(e){return this._getType(e)===ge.undefined?Cr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Uo.create=(t,e)=>new Uo({innerType:t,typeName:De.ZodOptional,...qe(e)});class tu extends Ve{_parse(e){return this._getType(e)===ge.null?Cr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tu.create=(t,e)=>new tu({innerType:t,typeName:De.ZodNullable,...qe(e)});class Eg extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ge.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Eg.create=(t,e)=>new Eg({innerType:t,typeName:De.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...qe(e)});class uw extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ow(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new wi(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new wi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}uw.create=(t,e)=>new uw({innerType:t,typeName:De.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...qe(e)});class dw extends Ve{_parse(e){if(this._getType(e)!==ge.nan){const r=this._getOrReturnCtx(e);return ve(r,{code:se.invalid_type,expected:ge.nan,received:r.parsedType}),Le}return{status:"valid",value:e.data}}}dw.create=t=>new dw({typeName:De.ZodNaN,...qe(t)});const zye=Symbol("zod_brand");class kj extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class im extends Ve{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Le:i.status==="dirty"?(n.dirty(),Nj(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Le:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new im({in:e,out:n,typeName:De.ZodPipeline})}}class hw extends Ve{_parse(e){const n=this._def.innerType._parse(e);return hg(n)&&(n.value=Object.freeze(n.value)),n}}hw.create=(t,e)=>new hw({innerType:t,typeName:De.ZodReadonly,...qe(e)});const Oj=(t,e={},n)=>t?rh.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...l,fatal:c})}}):rh.create(),qye={object:Wt.lazycreate};var De;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(De||(De={}));const Wye=(t,e={message:`Input not instance of ${t.name}`})=>Oj(n=>n instanceof t,e),Rj=pi.create,$j=Nc.create,Hye=dw.create,Vye=Pc.create,Dj=fg.create,Gye=Xl.create,Kye=aw.create,Yye=pg.create,Jye=gg.create,Qye=rh.create,Zye=kl.create,Xye=Ko.create,e0e=cw.create,t0e=vi.create,n0e=Wt.create,r0e=Wt.strictCreate,s0e=mg.create,i0e=Nv.create,o0e=yg.create,a0e=ro.create,c0e=wg.create,l0e=lw.create,u0e=eu.create,d0e=Sd.create,h0e=vg.create,f0e=bg.create,p0e=kc.create,g0e=_g.create,m0e=sh.create,Vk=Ei.create,y0e=Uo.create,w0e=tu.create,v0e=Ei.createWithPreprocess,b0e=im.create,_0e=()=>Rj().optional(),E0e=()=>$j().optional(),C0e=()=>Dj().optional(),x0e={string:t=>pi.create({...t,coerce:!0}),number:t=>Nc.create({...t,coerce:!0}),boolean:t=>fg.create({...t,coerce:!0}),bigint:t=>Pc.create({...t,coerce:!0}),date:t=>Xl.create({...t,coerce:!0})},S0e=Le;var P=Object.freeze({__proto__:null,defaultErrorMap:dg,setErrorMap:Nye,getErrorMap:sw,makeIssue:iw,EMPTY_PATH:Pye,addIssueToContext:ve,ParseStatus:cr,INVALID:Le,DIRTY:Nj,OK:Cr,isAborted:ax,isDirty:cx,isValid:hg,isAsync:ow,get util(){return lt},get objectUtil(){return ox},ZodParsedType:ge,getParsedType:Ua,ZodType:Ve,ZodString:pi,ZodNumber:Nc,ZodBigInt:Pc,ZodBoolean:fg,ZodDate:Xl,ZodSymbol:aw,ZodUndefined:pg,ZodNull:gg,ZodAny:rh,ZodUnknown:kl,ZodNever:Ko,ZodVoid:cw,ZodArray:vi,ZodObject:Wt,ZodUnion:mg,ZodDiscriminatedUnion:Nv,ZodIntersection:yg,ZodTuple:ro,ZodRecord:wg,ZodMap:lw,ZodSet:eu,ZodFunction:Sd,ZodLazy:vg,ZodLiteral:bg,ZodEnum:kc,ZodNativeEnum:_g,ZodPromise:sh,ZodEffects:Ei,ZodTransformer:Ei,ZodOptional:Uo,ZodNullable:tu,ZodDefault:Eg,ZodCatch:uw,ZodNaN:dw,BRAND:zye,ZodBranded:kj,ZodPipeline:im,ZodReadonly:hw,custom:Oj,Schema:Ve,ZodSchema:Ve,late:qye,get ZodFirstPartyTypeKind(){return De},coerce:x0e,any:Qye,array:t0e,bigint:Vye,boolean:Dj,date:Gye,discriminatedUnion:i0e,effect:Vk,enum:p0e,function:d0e,instanceof:Wye,intersection:o0e,lazy:h0e,literal:f0e,map:l0e,nan:Hye,nativeEnum:g0e,never:Xye,null:Jye,nullable:w0e,number:$j,object:n0e,oboolean:C0e,onumber:E0e,optional:y0e,ostring:_0e,pipeline:b0e,preprocess:v0e,promise:m0e,record:c0e,set:u0e,strictObject:r0e,string:Rj,symbol:Kye,transformer:Vk,tuple:a0e,undefined:Yye,union:s0e,unknown:Zye,void:e0e,NEVER:S0e,ZodIssueCode:se,quotelessJson:Tye,ZodError:wi});const Qt=P.object({message:P.string()});function me(t){return P.literal(be[t])}P.object({accessList:P.array(P.string()),blockHash:P.string().nullable(),blockNumber:P.string().nullable(),chainId:P.string().or(P.number()),from:P.string(),gas:P.string(),hash:P.string(),input:P.string().nullable(),maxFeePerGas:P.string(),maxPriorityFeePerGas:P.string(),nonce:P.string(),r:P.string(),s:P.string(),to:P.string(),transactionIndex:P.string().nullable(),type:P.string(),v:P.string(),value:P.string()});const A0e=P.object({chainId:P.string().or(P.number())}),I0e=P.object({email:P.string().email()}),T0e=P.object({otp:P.string()}),N0e=P.object({uri:P.string(),preferredAccountType:P.optional(P.string()),chainId:P.optional(P.string().or(P.number()))}),P0e=P.object({chainId:P.optional(P.string().or(P.number())),preferredAccountType:P.optional(P.string()),socialUri:P.optional(P.string())}),k0e=P.object({provider:P.enum(["google","github","apple","facebook","x","discord"])}),O0e=P.object({email:P.string().email()}),R0e=P.object({otp:P.string()}),$0e=P.object({otp:P.string()}),D0e=P.object({themeMode:P.optional(P.enum(["light","dark"])),themeVariables:P.optional(P.record(P.string(),P.string().or(P.number()))),w3mThemeVariables:P.optional(P.record(P.string(),P.string()))}),j0e=P.object({metadata:P.object({name:P.string(),description:P.string(),url:P.string(),icons:P.array(P.string())}).optional(),sdkVersion:P.string().optional(),sdkType:P.string().optional(),projectId:P.string()}),U0e=P.object({type:P.string()}),L0e=P.object({action:P.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),M0e=P.object({url:P.string()}),B0e=P.object({userName:P.string()}),F0e=P.object({email:P.string().optional().nullable(),address:P.string(),chainId:P.string().or(P.number()),accounts:P.array(P.object({address:P.string(),type:P.enum([Nn.ACCOUNT_TYPES.EOA,Nn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:P.string().optional().nullable(),preferredAccountType:P.optional(P.string())}),z0e=P.object({action:P.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),q0e=P.object({email:P.string().email().optional().nullable(),address:P.string(),chainId:P.string().or(P.number()),smartAccountDeployed:P.optional(P.boolean()),accounts:P.array(P.object({address:P.string(),type:P.enum([Nn.ACCOUNT_TYPES.EOA,Nn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:P.optional(P.string())}),W0e=P.object({uri:P.string()}),H0e=P.object({isConnected:P.boolean()}),V0e=P.object({chainId:P.string().or(P.number())}),G0e=P.object({chainId:P.string().or(P.number())}),K0e=P.object({newEmail:P.string().email()}),Y0e=P.object({smartAccountEnabledNetworks:P.array(P.number())});P.object({address:P.string(),isDeployed:P.boolean()});const J0e=P.object({version:P.string().optional()}),Q0e=P.object({type:P.string(),address:P.string()}),Z0e=P.any(),X0e=P.object({method:P.literal("eth_accounts")}),ewe=P.object({method:P.literal("eth_blockNumber")}),twe=P.object({method:P.literal("eth_call"),params:P.array(P.any())}),nwe=P.object({method:P.literal("eth_chainId")}),rwe=P.object({method:P.literal("eth_estimateGas"),params:P.array(P.any())}),swe=P.object({method:P.literal("eth_feeHistory"),params:P.array(P.any())}),iwe=P.object({method:P.literal("eth_gasPrice")}),owe=P.object({method:P.literal("eth_getAccount"),params:P.array(P.any())}),awe=P.object({method:P.literal("eth_getBalance"),params:P.array(P.any())}),cwe=P.object({method:P.literal("eth_getBlockByHash"),params:P.array(P.any())}),lwe=P.object({method:P.literal("eth_getBlockByNumber"),params:P.array(P.any())}),uwe=P.object({method:P.literal("eth_getBlockReceipts"),params:P.array(P.any())}),dwe=P.object({method:P.literal("eth_getBlockTransactionCountByHash"),params:P.array(P.any())}),hwe=P.object({method:P.literal("eth_getBlockTransactionCountByNumber"),params:P.array(P.any())}),fwe=P.object({method:P.literal("eth_getCode"),params:P.array(P.any())}),pwe=P.object({method:P.literal("eth_getFilterChanges"),params:P.array(P.any())}),gwe=P.object({method:P.literal("eth_getFilterLogs"),params:P.array(P.any())}),mwe=P.object({method:P.literal("eth_getLogs"),params:P.array(P.any())}),ywe=P.object({method:P.literal("eth_getProof"),params:P.array(P.any())}),wwe=P.object({method:P.literal("eth_getStorageAt"),params:P.array(P.any())}),vwe=P.object({method:P.literal("eth_getTransactionByBlockHashAndIndex"),params:P.array(P.any())}),bwe=P.object({method:P.literal("eth_getTransactionByBlockNumberAndIndex"),params:P.array(P.any())}),_we=P.object({method:P.literal("eth_getTransactionByHash"),params:P.array(P.any())}),Ewe=P.object({method:P.literal("eth_getTransactionCount"),params:P.array(P.any())}),Cwe=P.object({method:P.literal("eth_getTransactionReceipt"),params:P.array(P.any())}),xwe=P.object({method:P.literal("eth_getUncleCountByBlockHash"),params:P.array(P.any())}),Swe=P.object({method:P.literal("eth_getUncleCountByBlockNumber"),params:P.array(P.any())}),Awe=P.object({method:P.literal("eth_maxPriorityFeePerGas")}),Iwe=P.object({method:P.literal("eth_newBlockFilter")}),Twe=P.object({method:P.literal("eth_newFilter"),params:P.array(P.any())}),Nwe=P.object({method:P.literal("eth_newPendingTransactionFilter")}),Pwe=P.object({method:P.literal("eth_sendRawTransaction"),params:P.array(P.any())}),kwe=P.object({method:P.literal("eth_syncing"),params:P.array(P.any())}),Owe=P.object({method:P.literal("eth_uninstallFilter"),params:P.array(P.any())}),Gk=P.object({method:P.literal("personal_sign"),params:P.array(P.any())}),Rwe=P.object({method:P.literal("eth_signTypedData_v4"),params:P.array(P.any())}),$we=P.object({method:P.literal("eth_sendTransaction"),params:P.array(P.any())}),Dwe=P.object({method:P.literal("solana_signMessage"),params:P.object({message:P.string(),pubkey:P.string()})}),jwe=P.object({method:P.literal("solana_signTransaction"),params:P.object({transaction:P.string()})}),Uwe=P.object({method:P.literal("solana_signAllTransactions"),params:P.object({transactions:P.array(P.string())})}),Lwe=P.object({method:P.literal("solana_signAndSendTransaction"),params:P.object({transaction:P.string(),options:P.object({skipPreflight:P.boolean().optional(),preflightCommitment:P.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:P.number().optional(),minContextSlot:P.number().optional()}).optional()})}),Mwe=P.object({method:P.literal("wallet_sendCalls"),params:P.array(P.object({chainId:P.string().or(P.number()).optional(),from:P.string().optional(),version:P.string().optional(),capabilities:P.any().optional(),calls:P.array(P.object({to:P.string().startsWith("0x"),data:P.string().startsWith("0x").optional(),value:P.string().optional()}))}))}),Bwe=P.object({method:P.literal("wallet_getCallsStatus"),params:P.array(P.string())}),Fwe=P.object({method:P.literal("wallet_getCapabilities")}),zwe=P.object({method:P.literal("wallet_grantPermissions"),params:P.array(P.any())}),qwe=P.object({method:P.literal("wallet_revokePermissions"),params:P.any()}),Wwe=P.object({method:P.literal("wallet_getAssets"),params:P.any()}),Kk=P.object({token:P.string()}),ye=P.object({id:P.string().optional()}),uf={appEvent:ye.extend({type:me("APP_SWITCH_NETWORK"),payload:A0e}).or(ye.extend({type:me("APP_CONNECT_EMAIL"),payload:I0e})).or(ye.extend({type:me("APP_CONNECT_DEVICE")})).or(ye.extend({type:me("APP_CONNECT_OTP"),payload:T0e})).or(ye.extend({type:me("APP_CONNECT_SOCIAL"),payload:N0e})).or(ye.extend({type:me("APP_GET_FARCASTER_URI")})).or(ye.extend({type:me("APP_CONNECT_FARCASTER")})).or(ye.extend({type:me("APP_GET_USER"),payload:P.optional(P0e)})).or(ye.extend({type:me("APP_GET_SOCIAL_REDIRECT_URI"),payload:k0e})).or(ye.extend({type:me("APP_SIGN_OUT")})).or(ye.extend({type:me("APP_IS_CONNECTED"),payload:P.optional(Kk)})).or(ye.extend({type:me("APP_GET_CHAIN_ID")})).or(ye.extend({type:me("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(ye.extend({type:me("APP_INIT_SMART_ACCOUNT")})).or(ye.extend({type:me("APP_SET_PREFERRED_ACCOUNT"),payload:U0e})).or(ye.extend({type:me("APP_RPC_REQUEST"),payload:Gk.or(Wwe).or(X0e).or(ewe).or(twe).or(nwe).or(rwe).or(swe).or(iwe).or(owe).or(awe).or(cwe).or(lwe).or(uwe).or(dwe).or(hwe).or(fwe).or(pwe).or(gwe).or(mwe).or(ywe).or(wwe).or(vwe).or(bwe).or(_we).or(Ewe).or(Cwe).or(xwe).or(Swe).or(Awe).or(Iwe).or(Twe).or(Nwe).or(Pwe).or(kwe).or(Owe).or(Gk).or(Rwe).or($we).or(Dwe).or(jwe).or(Uwe).or(Lwe).or(Bwe).or(Mwe).or(Fwe).or(zwe).or(qwe)})).or(ye.extend({type:me("APP_UPDATE_EMAIL"),payload:O0e})).or(ye.extend({type:me("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:R0e})).or(ye.extend({type:me("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:$0e})).or(ye.extend({type:me("APP_SYNC_THEME"),payload:D0e})).or(ye.extend({type:me("APP_SYNC_DAPP_DATA"),payload:j0e})).or(ye.extend({type:me("APP_RELOAD")})),frameEvent:ye.extend({type:me("FRAME_SWITCH_NETWORK_ERROR"),payload:Qt}).or(ye.extend({type:me("FRAME_SWITCH_NETWORK_SUCCESS"),payload:G0e})).or(ye.extend({type:me("FRAME_CONNECT_EMAIL_SUCCESS"),payload:L0e})).or(ye.extend({type:me("FRAME_CONNECT_EMAIL_ERROR"),payload:Qt})).or(ye.extend({type:me("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:M0e})).or(ye.extend({type:me("FRAME_GET_FARCASTER_URI_ERROR"),payload:Qt})).or(ye.extend({type:me("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:B0e})).or(ye.extend({type:me("FRAME_CONNECT_FARCASTER_ERROR"),payload:Qt})).or(ye.extend({type:me("FRAME_CONNECT_OTP_ERROR"),payload:Qt})).or(ye.extend({type:me("FRAME_CONNECT_OTP_SUCCESS")})).or(ye.extend({type:me("FRAME_CONNECT_DEVICE_ERROR"),payload:Qt})).or(ye.extend({type:me("FRAME_CONNECT_DEVICE_SUCCESS")})).or(ye.extend({type:me("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:F0e})).or(ye.extend({type:me("FRAME_CONNECT_SOCIAL_ERROR"),payload:Qt})).or(ye.extend({type:me("FRAME_GET_USER_ERROR"),payload:Qt})).or(ye.extend({type:me("FRAME_GET_USER_SUCCESS"),payload:q0e})).or(ye.extend({type:me("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Qt})).or(ye.extend({type:me("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:W0e})).or(ye.extend({type:me("FRAME_SIGN_OUT_ERROR"),payload:Qt})).or(ye.extend({type:me("FRAME_SIGN_OUT_SUCCESS")})).or(ye.extend({type:me("FRAME_IS_CONNECTED_ERROR"),payload:Qt})).or(ye.extend({type:me("FRAME_IS_CONNECTED_SUCCESS"),payload:H0e})).or(ye.extend({type:me("FRAME_GET_CHAIN_ID_ERROR"),payload:Qt})).or(ye.extend({type:me("FRAME_GET_CHAIN_ID_SUCCESS"),payload:V0e})).or(ye.extend({type:me("FRAME_RPC_REQUEST_ERROR"),payload:Qt})).or(ye.extend({type:me("FRAME_RPC_REQUEST_SUCCESS"),payload:Z0e})).or(ye.extend({type:me("FRAME_SESSION_UPDATE"),payload:Kk})).or(ye.extend({type:me("FRAME_UPDATE_EMAIL_ERROR"),payload:Qt})).or(ye.extend({type:me("FRAME_UPDATE_EMAIL_SUCCESS"),payload:z0e})).or(ye.extend({type:me("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Qt})).or(ye.extend({type:me("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(ye.extend({type:me("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Qt})).or(ye.extend({type:me("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:K0e})).or(ye.extend({type:me("FRAME_SYNC_THEME_ERROR"),payload:Qt})).or(ye.extend({type:me("FRAME_SYNC_THEME_SUCCESS")})).or(ye.extend({type:me("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Qt})).or(ye.extend({type:me("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(ye.extend({type:me("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:Y0e})).or(ye.extend({type:me("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Qt})).or(ye.extend({type:me("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Qt})).or(ye.extend({type:me("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:Q0e})).or(ye.extend({type:me("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Qt})).or(ye.extend({type:me("FRAME_READY"),payload:J0e})).or(ye.extend({type:me("FRAME_RELOAD_ERROR"),payload:Qt})).or(ye.extend({type:me("FRAME_RELOAD_SUCCESS")}))};function Z1(t,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(t))}class Hwe{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0}){if(this.iframe=null,this.iframeIsReady=!1,this.rpcUrl=J.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const i=document.getElementById("w3m-iframe");this.iframe&&!i&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(i,o,a)=>{function c({data:l}){if(!Z1(be.FRAME_EVENT_KEY,l))return;const u=uf.frameEvent.parse(l);u.id===i&&(o(u),window.removeEventListener("message",c))}ls.isClient&&(window.addEventListener("message",c),a.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:i=>{ls.isClient&&window.addEventListener("message",({data:o})=>{if(!Z1(be.FRAME_EVENT_KEY,o))return;const a=uf.frameEvent.parse(o);i(a)})},onAppEvent:i=>{ls.isClient&&window.addEventListener("message",({data:o})=>{if(!Z1(be.APP_EVENT_KEY,o))return;const a=uf.appEvent.parse(o);i(a)})},postAppEvent:i=>{var o;if(ls.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");uf.appEvent.parse(i),this.iframe.contentWindow.postMessage(i,"*")}},postFrameEvent:i=>{if(ls.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");uf.frameEvent.parse(i),parent.postMessage(i,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),n&&(this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),ls.isClient)){const i=document.createElement("iframe");i.id="w3m-iframe",i.src=`${bZ}?projectId=${e}&chainId=${r}&version=${EZ}&enableLogger=${s}`,i.name="w3m-secure-iframe",i.style.position="fixed",i.style.zIndex="999999",i.style.display="none",i.style.border="none",i.style.animationDelay="0s, 50ms",i.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",i.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=i,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var a;o.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,(a=this.frameLoadPromiseResolver)==null||a.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class Vwe{constructor(e){var i;const n=vh({level:_Z}),{logger:r,chunkLoggerController:s}=hA({opts:n});this.logger=lr(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&((i=this.chunkLoggerController)!=null&&i.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class Gwe{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:s,abortController:i}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new Vwe(e)),this.abortController=i,this.w3mFrame=new Hwe({projectId:e,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===be.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!Un.get(be.EMAIL_LOGIN_USED_KEY)}getEmail(){return Un.get(be.EMAIL)}getUsername(){return Un.get(be.SOCIAL_USERNAME)}async reload(){var e;try{await this.appEvent({type:be.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{ls.checkIfAllowedToTriggerEmail(),await this.init();const r=await this.appEvent({type:be.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:be.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:be.APP_CONNECT_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:be.APP_IS_CONNECTED});return n!=null&&n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:be.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return await this.init(),this.appEvent({type:be.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var n;try{const r=await this.appEvent({type:be.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:be.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var n;try{const r=await this.appEvent({type:be.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var n;try{return this.appEvent({type:be.APP_SYNC_THEME,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var n;try{return this.appEvent({type:be.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:be.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:be.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var n,r;if(e!=null&&e.socialUri)try{await this.init();const s=await this.appEvent({type:be.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId}});return s.userName&&this.setSocialLoginSuccess(s.userName),this.setLoginSuccess(s.email),this.setLastUsedChainId(s.chainId),this.user=s,s}catch(s){throw(n=this.w3mLogger)==null||n.logger.error({error:s},"Error connecting social"),s}else try{const s=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.getUser({chainId:s,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting"),s}}async getUser(e){var n;try{await this.init();const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:be.APP_GET_USER,payload:{...e,chainId:r}});return this.user=s,s}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async connectSocial(e){var n;try{await this.init();const r=await this.appEvent({type:be.APP_CONNECT_SOCIAL,payload:{uri:e}});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting social"),r}}async getFarcasterUri(){var e;try{return await this.init(),await this.appEvent({type:be.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:be.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork(e){var n;try{const r=await this.appEvent({type:be.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{return this.deleteAuthLoginCache(),await new Promise(async r=>{const s=setTimeout(()=>{r()},3e3);await this.appEvent({type:be.APP_SIGN_OUT}),clearTimeout(s),r()})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var n,r,s,i;try{if(Nn.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(n=this.rpcRequestHandler)==null||n.call(this,e);const o=await this.appEvent({type:be.APP_RPC_REQUEST,payload:e});return(r=this.rpcSuccessHandler)==null||r.call(this,o,e),o}catch(o){throw(s=this.rpcErrorHandler)==null||s.call(this,o,e),(i=this.w3mLogger)==null||i.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===be.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===be.FRAME_IS_CONNECTED_ERROR&&e(),n.type===be.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===be.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===be.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===be.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===be.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:Nn.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===be.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(n.payload.smartAccountEnabledNetworks):n.type===be.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:n,method:r})=>{Nn.SAFE_RPC_METHODS.includes(r)||n.abort()}),this.openRpcRequests=[]}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){let n,r;function s(c){return c.replace("@w3m-app/","")}const i=[be.APP_SYNC_DAPP_DATA,be.APP_SYNC_THEME,be.APP_SET_PREFERRED_ACCOUNT],o=s(e.type);return!this.w3mFrame.iframeIsReady&&!i.includes(e.type)&&(r=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[be.APP_CONNECT_EMAIL,be.APP_CONNECT_DEVICE,be.APP_CONNECT_OTP,be.APP_CONNECT_SOCIAL,be.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(o)&&(n=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,l)=>{var f,p,g;const u=Math.random().toString(36).substring(7);(g=(f=this.w3mLogger)==null?void 0:(p=f.logger).info)==null||g.call(p,{event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:u});const d=new AbortController;if(o==="RPC_REQUEST"){const y=e;this.openRpcRequests=[...this.openRpcRequests,{...y.payload,abortController:d}]}d.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?l(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});function h(y,w){var b,v,E;y.id===u&&((v=w==null?void 0:(b=w.logger).info)==null||v.call(b,{framEvent:y,id:u},"Received frame response"),y.type===`@w3m-frame/${o}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in y&&c(y.payload),c(void 0)):y.type===`@w3m-frame/${o}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in y&&l(new Error(((E=y.payload)==null?void 0:E.message)||"An error occurred")),l(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(u,y=>h(y,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){Un.set(be.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){Un.set(be.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&Un.set(be.EMAIL,e),Un.set(be.EMAIL_LOGIN_USED_KEY,"true"),Un.delete(be.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){Un.delete(be.EMAIL_LOGIN_USED_KEY),Un.delete(be.EMAIL),Un.delete(be.LAST_USED_CHAIN_KEY),Un.delete(be.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&Un.set(be.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=Un.get(be.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){Un.set(be.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class Ol{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i}){return Ol.instance||(Ol.instance=new Gwe({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i})),Ol.instance}}var Yk={};const Kwe={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof Yk<"u"?Yk.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},ux={filterOutDuplicatesByRDNS(t){const e=te.state.enableEIP6963?de.state.connectors:[],n=ue.getRecentWallets(),r=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),s=n.map(a=>a.rdns).filter(Boolean),i=r.concat(s);if(i.includes("io.metamask.mobile")&&Ee.isMobile()){const a=i.indexOf("io.metamask.mobile");i[a]="io.metamask"}return t.filter(a=>!i.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=de.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=ue.getRecentWallets(),r=e.map(a=>a.explorerId),s=n.map(a=>a.id),i=r.concat(s);return t.filter(a=>!i.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=de.state,{featuredWalletIds:n}=te.state,r=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>{var c;return(c=a.info)!=null&&c.rdns&&(o[a.info.rdns]=!0),o},{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n!=null&&n.length){const l=n.indexOf(o.id),u=n.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){var c;const n=(t==null?void 0:t.connectMethodsOrder)||((c=te.state.features)==null?void 0:c.connectMethodsOrder),r=e||de.state.connectors;if(n)return n;const{injected:s,announced:i}=t0.getConnectorsByType(r,Ae.state.recommended,Ae.state.featured),o=s.filter(t0.showConnector),a=i.filter(t0.showConnector);return o.length||a.length?["wallet","email","social"]:Kwe.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Ae.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&Ae.state.excludedWallets.some(r=>ug.isLowerCaseMatch(r.name,t.name));return e||n}},t0={getConnectorsByType(t,e,n){const{customWallets:r}=te.state,s=ue.getRecentWallets(),i=ux.filterOutDuplicateWallets(e),o=ux.filterOutDuplicateWallets(n),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),l=t.filter(d=>d.type==="INJECTED"),u=t.filter(d=>d.type==="EXTERNAL");return{custom:r,recent:s,external:u,multiChain:a,announced:c,injected:l,recommended:i,featured:o}},showConnector(t){var s;const e=(s=t.info)==null?void 0:s.rdns,n=!!e&&Ae.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),r=!!t.name&&Ae.state.excludedWallets.some(i=>ug.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!Ee.isMobile()||Ee.isMobile()&&!e&&!we.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from($.state.chains.values()).some(n=>de.getConnectorId(n.namespace)===J.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:s,injected:i,multiChain:o,external:a,overriddenConnectors:c=(l=>(l=te.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const u=t0.getIsConnectedWithWC(),f=[{type:"walletConnect",isEnabled:te.state.enableWalletConnect&&!u},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...i,...s,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(w=>w.isEnabled),p=new Set(f.map(w=>w.type)),g=c.filter(w=>p.has(w)).map(w=>({type:w,isEnabled:!0})),y=f.filter(({type:w})=>!g.some(({type:v})=>v===w));return Array.from(new Set([...g,...y].map(({type:w})=>w)))},getAuthName({email:t,socialUsername:e,socialProvider:n}){return e?n&&n==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){var e,n;try{if(t.name==="Browser Wallet"&&!Ee.isMobile())return{accounts:[],chainId:void 0};if(t.id===J.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[r,s]=await Promise.all([(e=t.provider)==null?void 0:e.request({method:"eth_accounts"}),(n=t.provider)==null?void 0:n.request({method:"eth_chainId"}).then(i=>Number(i))]);return{accounts:r,chainId:s}}catch(r){return console.warn(`Failed to fetch provider data for ${t.name}`,r),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const n0=globalThis,VA=n0.ShadowRoot&&(n0.ShadyCSS===void 0||n0.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,GA=Symbol(),Jk=new WeakMap;let jj=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==GA)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(VA&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=Jk.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&Jk.set(n,e))}return e}toString(){return this.cssText}};const As=t=>new jj(typeof t=="string"?t:t+"",void 0,GA),Ad=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,s,i)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1],t[0]);return new jj(n,t,GA)},Ywe=(t,e)=>{if(VA)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),s=n0.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,t.appendChild(r)}},Qk=VA?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return As(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Jwe,defineProperty:Qwe,getOwnPropertyDescriptor:Zwe,getOwnPropertyNames:Xwe,getOwnPropertySymbols:eve,getPrototypeOf:tve}=Object,wc=globalThis,Zk=wc.trustedTypes,nve=Zk?Zk.emptyScript:"",X1=wc.reactiveElementPolyfillSupport,tp=(t,e)=>t,dx={toAttribute(t,e){switch(e){case Boolean:t=t?nve:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},Uj=(t,e)=>!Jwe(t,e),Xk={attribute:!0,type:String,converter:dx,reflect:!1,useDefault:!1,hasChanged:Uj};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),wc.litPropertyMetadata??(wc.litPropertyMetadata=new WeakMap);let Qu=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=Xk){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,n);s!==void 0&&Qwe(this.prototype,e,s)}}static getPropertyDescriptor(e,n,r){const{get:s,set:i}=Zwe(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:s,set(o){const a=s==null?void 0:s.call(this);i==null||i.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??Xk}static _$Ei(){if(this.hasOwnProperty(tp("elementProperties")))return;const e=tve(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(tp("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(tp("properties"))){const n=this.properties,r=[...Xwe(n),...eve(n)];for(const s of r)this.createProperty(s,n[s])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)n.unshift(Qk(s))}else e!==void 0&&n.push(Qk(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Ywe(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var i;const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const o=(((i=r.converter)==null?void 0:i.toAttribute)!==void 0?r.converter:dx).toAttribute(n,r.type);this._$Em=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,n){var i,o;const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const a=r.getPropertyOptions(s),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((i=a.converter)==null?void 0:i.fromAttribute)!==void 0?a.converter:dx;this._$Em=s,this[s]=c.fromAttribute(n,a.type)??((o=this._$Ej)==null?void 0:o.get(s))??null,this._$Em=null}}requestUpdate(e,n,r){var s;if(e!==void 0){const i=this.constructor,o=this[e];if(r??(r=i.getPropertyOptions(e)),!((r.hasChanged??Uj)(o,n)||r.useDefault&&r.reflect&&o===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(i._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:s,wrapped:i},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??n??this[e]),i!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),s===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[i,o]of this._$Ep)this[i]=o;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[i,o]of s){const{wrapped:a}=o,c=this[i];a!==!0||this._$AL.has(i)||c===void 0||this.C(i,void 0,o,c)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(s=>{var i;return(i=s.hostUpdate)==null?void 0:i.call(s)}),this.update(n)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};Qu.elementStyles=[],Qu.shadowRootOptions={mode:"open"},Qu[tp("elementProperties")]=new Map,Qu[tp("finalized")]=new Map,X1==null||X1({ReactiveElement:Qu}),(wc.reactiveElementVersions??(wc.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const np=globalThis,fw=np.trustedTypes,eO=fw?fw.createPolicy("lit-html",{createHTML:t=>t}):void 0,Lj="$lit$",La=`lit$${Math.random().toFixed(9).slice(2)}$`,Mj="?"+La,rve=`<${Mj}>`,nu=document,Cg=()=>nu.createComment(""),xg=t=>t===null||typeof t!="object"&&typeof t!="function",KA=Array.isArray,sve=t=>KA(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",e_=`[ 	
\f\r]`,df=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,tO=/-->/g,nO=/>/g,Kc=RegExp(`>|${e_}(?:([^\\s"'>=/]+)(${e_}*=${e_}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),rO=/'/g,sO=/"/g,Bj=/^(?:script|style|textarea|title)$/i,Fj=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),REe=Fj(1),$Ee=Fj(2),ih=Symbol.for("lit-noChange"),An=Symbol.for("lit-nothing"),iO=new WeakMap,wl=nu.createTreeWalker(nu,129);function zj(t,e){if(!KA(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return eO!==void 0?eO.createHTML(e):e}const ive=(t,e)=>{const n=t.length-1,r=[];let s,i=e===2?"<svg>":e===3?"<math>":"",o=df;for(let a=0;a<n;a++){const c=t[a];let l,u,d=-1,h=0;for(;h<c.length&&(o.lastIndex=h,u=o.exec(c),u!==null);)h=o.lastIndex,o===df?u[1]==="!--"?o=tO:u[1]!==void 0?o=nO:u[2]!==void 0?(Bj.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=Kc):u[3]!==void 0&&(o=Kc):o===Kc?u[0]===">"?(o=s??df,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?Kc:u[3]==='"'?sO:rO):o===sO||o===rO?o=Kc:o===tO||o===nO?o=df:(o=Kc,s=void 0);const f=o===Kc&&t[a+1].startsWith("/>")?" ":"";i+=o===df?c+rve:d>=0?(r.push(l),c.slice(0,d)+Lj+c.slice(d)+La+f):c+La+(d===-2?a:f)}return[zj(t,i+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class Sg{constructor({strings:e,_$litType$:n},r){let s;this.parts=[];let i=0,o=0;const a=e.length-1,c=this.parts,[l,u]=ive(e,n);if(this.el=Sg.createElement(l,r),wl.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=wl.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(Lj)){const h=u[o++],f=s.getAttribute(d).split(La),p=/([.?@])?(.*)/.exec(h);c.push({type:1,index:i,name:p[2],strings:f,ctor:p[1]==="."?ave:p[1]==="?"?cve:p[1]==="@"?lve:Pv}),s.removeAttribute(d)}else d.startsWith(La)&&(c.push({type:6,index:i}),s.removeAttribute(d));if(Bj.test(s.tagName)){const d=s.textContent.split(La),h=d.length-1;if(h>0){s.textContent=fw?fw.emptyScript:"";for(let f=0;f<h;f++)s.append(d[f],Cg()),wl.nextNode(),c.push({type:2,index:++i});s.append(d[h],Cg())}}}else if(s.nodeType===8)if(s.data===Mj)c.push({type:2,index:i});else{let d=-1;for(;(d=s.data.indexOf(La,d+1))!==-1;)c.push({type:7,index:i}),d+=La.length-1}i++}}static createElement(e,n){const r=nu.createElement("template");return r.innerHTML=e,r}}function oh(t,e,n=t,r){var o,a;if(e===ih)return e;let s=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const i=xg(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==i&&((a=s==null?void 0:s._$AO)==null||a.call(s,!1),i===void 0?s=void 0:(s=new i(t),s._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=s:n._$Cl=s),s!==void 0&&(e=oh(t,s._$AS(t,e.values),s,r)),e}class ove{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,s=((e==null?void 0:e.creationScope)??nu).importNode(n,!0);wl.currentNode=s;let i=wl.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new om(i,i.nextSibling,this,e):c.type===1?l=new c.ctor(i,c.name,c.strings,this,e):c.type===6&&(l=new uve(i,this,e)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(i=wl.nextNode(),o++)}return wl.currentNode=nu,s}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class om{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,s){this.type=2,this._$AH=An,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=oh(this,e,n),xg(e)?e===An||e==null||e===""?(this._$AH!==An&&this._$AR(),this._$AH=An):e!==this._$AH&&e!==ih&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):sve(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==An&&xg(this._$AH)?this._$AA.nextSibling.data=e:this.T(nu.createTextNode(e)),this._$AH=e}$(e){var i;const{values:n,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=Sg.createElement(zj(r.h,r.h[0]),this.options)),r);if(((i=this._$AH)==null?void 0:i._$AD)===s)this._$AH.p(n);else{const o=new ove(s,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let n=iO.get(e.strings);return n===void 0&&iO.set(e.strings,n=new Sg(e)),n}k(e){KA(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const i of e)s===n.length?n.push(r=new om(this.O(Cg()),this.O(Cg()),this,this.options)):r=n[s],r._$AI(i),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e&&e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class Pv{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,s,i){this.type=1,this._$AH=An,this._$AN=void 0,this.element=e,this.name=n,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=An}_$AI(e,n=this,r,s){const i=this.strings;let o=!1;if(i===void 0)e=oh(this,e,n,0),o=!xg(e)||e!==this._$AH&&e!==ih,o&&(this._$AH=e);else{const a=e;let c,l;for(e=i[0],c=0;c<i.length-1;c++)l=oh(this,a[r+c],n,c),l===ih&&(l=this._$AH[c]),o||(o=!xg(l)||l!==this._$AH[c]),l===An?e=An:e!==An&&(e+=(l??"")+i[c+1]),this._$AH[c]=l}o&&!s&&this.j(e)}j(e){e===An?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class ave extends Pv{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===An?void 0:e}}class cve extends Pv{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==An)}}class lve extends Pv{constructor(e,n,r,s,i){super(e,n,r,s,i),this.type=5}_$AI(e,n=this){if((e=oh(this,e,n,0)??An)===ih)return;const r=this._$AH,s=e===An&&r!==An||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,i=e!==An&&(r===An||s);s&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class uve{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){oh(this,e)}}const t_=np.litHtmlPolyfillSupport;t_==null||t_(Sg,om),(np.litHtmlVersions??(np.litHtmlVersions=[])).push("3.3.0");const dve=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let s=r._$litPart$;if(s===void 0){const i=(n==null?void 0:n.renderBefore)??null;r._$litPart$=s=new om(e.insertBefore(Cg(),i),i,void 0,n??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Rl=globalThis;class r0 extends Qu{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=dve(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return ih}}var MO;r0._$litElement$=!0,r0.finalized=!0,(MO=Rl.litElementHydrateSupport)==null||MO.call(Rl,{LitElement:r0});const n_=Rl.litElementPolyfillSupport;n_==null||n_({LitElement:r0});(Rl.litElementVersions??(Rl.litElementVersions=[])).push("4.2.0");let rp,vc,bc;function DEe(t,e){rp=document.createElement("style"),vc=document.createElement("style"),bc=document.createElement("style"),rp.textContent=Id(t).core.cssText,vc.textContent=Id(t).dark.cssText,bc.textContent=Id(t).light.cssText,document.head.appendChild(rp),document.head.appendChild(vc),document.head.appendChild(bc),qj(e)}function qj(t){vc&&bc&&(t==="light"?(vc.removeAttribute("media"),bc.media="enabled"):(bc.removeAttribute("media"),vc.media="enabled"))}function hve(t){rp&&vc&&bc&&(rp.textContent=Id(t).core.cssText,vc.textContent=Id(t).dark.cssText,bc.textContent=Id(t).light.cssText)}function Id(t){return{core:Ad`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${As(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${As((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${As((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${As((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${As((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Ad`
      :root {
        --w3m-color-mix: ${As((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${As(Oo(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${As(Oo(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Ad`
      :root {
        --w3m-color-mix: ${As((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${As(Oo(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${As(Oo(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const jEe=Ad`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,UEe=Ad`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,LEe=Ad`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,Nf={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]},Wj=dz({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}});function am(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const oO=am({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),aO=am({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});am({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});am({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});am({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const fve={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},sp={getMethodsByChainNamespace(t){return fve[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>r.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>r.add(s)),e.events&&Object.keys(e.events).forEach(s=>r.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[i]=s.split(":");i&&r.add(i)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,i])=>{n[s]&&(n[s].methods=i)}),e.chains&&Object.entries(e.chains).forEach(([s,i])=>{n[s]&&(n[s].chains=i)}),e.events&&Object.entries(e.events).forEach(([s,i])=>{n[s]&&(n[s].events=i)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([i,o])=>{const[a,c]=i.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),s.has(a)||(n[a].rpcMap={},s.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,s)=>{const{id:i,chainNamespace:o,rpcUrls:a}=s,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${i}`,u=r[o];switch(u.chains.push(l),l){case oO.caipNetworkId:u.chains.push(oO.deprecatedCaipNetworkId);break;case aO.caipNetworkId:u.chains.push(aO.deprecatedCaipNetworkId);break}return u!=null&&u.rpcMap&&c&&(u.rpcMap[i]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await Wf.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(s=>{const[i,o]=s.split(":");return`${i}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const i=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(i,"u").test(t))return!0}else try{if(new URL(r).origin===t)return!0}catch{if(r===t)return!0}return!1}};class YA{constructor({provider:e,namespace:n}){this.id=J.CONNECTOR_ID.WALLET_CONNECT,this.name=nc.ConnectorNamesMap[J.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=nc.ConnectorImageIds[J.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=$.getCaipNetworks.bind($),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=te.state.universalProviderConfigOverride,s=sp.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return ep.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:pve})}}const pve=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class Hj{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>$.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:J.CONNECTOR_ID.AUTH,type:"AUTH",name:J.CONNECTOR_NAMES.AUTH,provider:e,imageId:nc.ConnectorImageIds[J.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){ce.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(s=>s(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var i;const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const o=s,a=(i=ce.state.preferredAccountTypes)==null?void 0:i[n.chainNamespace];await o.switchNetwork(n.caipNetworkId);const c=await o.getUser({chainId:n.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof YA);if(!e)throw new Error("WalletConnectConnector not found");return e}}class gve extends Hj{setUniversalProvider(e){this.addConnector(new YA({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var s,i,o,a;const n=this.provider,r=((a=(o=(i=(s=n==null?void 0:n.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:r.map(c=>Ee.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var i,o,a,c,l;if(!(e.caipNetwork&&mt.BALANCE_SUPPORTED_CHAINS.includes((i=e.caipNetwork)==null?void 0:i.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(ce.state.balanceLoading&&e.chainId===((c=$.state.activeCaipNetwork)==null?void 0:c.id))return{balance:ce.state.balance||"0.00",symbol:ce.state.balanceSymbol||""};const s=(await ce.fetchTokenBalance()).find(u=>{var d,h;return u.chainId===`${(d=e.caipNetwork)==null?void 0:d.chainNamespace}:${e.chainId}`&&u.symbol===((h=e.caipNetwork)==null?void 0:h.nativeCurrency.symbol)});return{balance:(s==null?void 0:s.quantity.numeric)||"0.00",symbol:(s==null?void 0:s.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:n,message:r,address:s}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return((o=$.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===J.CHAIN.SOLANA?i=(await n.request({method:"solana_signMessage",params:{message:xh.encode(new TextEncoder().encode(r)),pubkey:s}},(a=$.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:i=await n.request({method:"personal_sign",params:[r,s]},(c=$.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,i,o,a,c,l;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===J.CHAIN.EVM)try{await((s=r.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:Ml(n.id)}]}))}catch(u){if(u.code===Nf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===Nf.ERROR_INVALID_CHAIN_ID||u.code===Nf.ERROR_CODE_DEFAULT||((o=(i=u==null?void 0:u.data)==null?void 0:i.originalError)==null?void 0:o.code)===Nf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=r.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:Ml(n.id),rpcUrls:[(a=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:a.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(c=n.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}const mve=["email","socials","swaps","onramp","activity","reownBranding"],wy={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?mt.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?mt.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?mt.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?mt.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?mt.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?mt.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?mt.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?mt.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?mt.DEFAULT_REMOTE_FEATURES.reownBranding:!!t}},yve={localSettingsOverridden:new Set,getApiConfig(t,e){return e==null?void 0:e.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=wy[e],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(r)}},processFeature(t,e,n,r,s){const i=wy[t],o=e[i.localFeatureName];if(s&&!i.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(i.apiFeatureName,n);return(a==null?void 0:a.config)===null?this.processFallbackFeature(t,o):a!=null&&a.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return wy[t].processApi(e)},processFallbackFeature(t,e){return wy[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let r=null,s=!1;try{r=await Ae.fetchProjectConfig(),s=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const i=s&&!e?mt.DEFAULT_REMOTE_FEATURES:mt.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of mve){const a=this.processFeature(o,n,r,s,e);Object.assign(i,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),mt.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;ln.open({shortMessage:"Local configuration ignored",longMessage:`[Reown Config Notice] ${o}`},"warning")}return i}};class wve{constructor(e){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var s,i,o,a;if(n){const c=(i=(s=$.getNetworkData(n))==null?void 0:s.requestedCaipNetworks)==null?void 0:i.find(d=>d.id===r);if(c)return c;const l=(o=$.getNetworkData(n))==null?void 0:o.caipNetwork;return l||((a=$.getRequestedCaipNetworks(n).filter(d=>d.chainNamespace===n))==null?void 0:a[0])}return $.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>$.getCaipNetworks(n),this.getActiveChainNamespace=()=>$.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{$.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>$.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>$.state.activeChain===n||!n?$.state.activeCaipAddress:$.getAccountProp("caipAddress",n),this.setClientId=n=>{Pe.setClientId(n)},this.getProvider=n=>Ct.getProvider(n),this.getProviderType=n=>Ct.getProviderId(n),this.getPreferredAccountType=n=>{var r;return(r=ce.state.preferredAccountTypes)==null?void 0:r[n]},this.setCaipAddress=(n,r)=>{ce.setCaipAddress(n,r),n&&te.state.enableEmbedded&&this.close()},this.setBalance=(n,r,s)=>{ce.setBalance(n,r,s)},this.setProfileName=(n,r)=>{ce.setProfileName(n,r)},this.setProfileImage=(n,r)=>{ce.setProfileImage(n,r)},this.setUser=(n,r)=>{ce.setUser(n,r)},this.resetAccount=n=>{ce.resetAccount(n)},this.setCaipNetwork=n=>{$.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{$.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{ce.setAllAccounts(n,r),te.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,r)=>{ce.setStatus(n,r),de.isConnected()?ue.setConnectionStatus("connected"):ue.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>$.getAccountProp("address",n),this.setConnectors=n=>{const r=[...de.state.allConnectors,...n];de.setConnectors(r)},this.setConnections=(n,r)=>{we.setConnections(n,r)},this.fetchIdentity=n=>Pe.fetchIdentity(n),this.getReownName=n=>Wf.getNamesForAddress(n),this.getConnectors=()=>de.getConnectors(),this.getConnectorImage=n=>y8.getConnectorImage(n),this.getConnections=n=>eg.getConnectionsData(n).connections,this.getRecentConnections=n=>eg.getConnectionsData(n).recentConnections,this.switchConnection=n=>we.switchConnection(n),this.deleteConnection=n=>ue.deleteAddressFromConnection(n),this.setConnectedWalletInfo=(n,r)=>{const s=Ct.getProviderId(r),i=n?{...n,type:s}:void 0;ce.setConnectedWalletInfo(i,r)},this.getIsConnectedState=()=>!!$.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{ce.addAddressLabel(n,r,s)},this.removeAddressLabel=(n,r)=>{ce.removeAddressLabel(n,r)},this.getAddress=n=>$.state.activeChain===n||!n?ce.state.address:$.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>$.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{$.resetNetwork(n)},this.addConnector=n=>{de.addConnector(n)},this.resetWcConnection=()=>{we.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{ce.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{ce.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{$.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{ce.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{te.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(i=>i.namespace).filter(i=>!!i);if(r!=null&&r.length)return[...new Set(r)];const s=n==null?void 0:n.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(e){var n,r,s;this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),await this.syncExistingConnection(),this.remoteFeatures=await yve.fetchRemoteFeatures(e),te.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&uC.setOnrampProviders(this.remoteFeatures.onramp),((n=te.state.remoteFeatures)!=null&&n.email||Array.isArray((r=te.state.remoteFeatures)==null?void 0:r.socials)&&((s=te.state.remoteFeatures)==null?void 0:s.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){try{const e=await Ae.fetchAllowedOrigins();if(!e||!Ee.isClient()){ln.open(qt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}const n=window.location.origin;sp.isOriginAllowed(n,e,Nf.DEFAULT_ALLOWED_ANCESTORS)||ln.open(qt.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}catch(e){if(!(e instanceof Error)){ln.open(qt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}switch(e.message){case"RATE_LIMITED":ln.open(qt.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=e.cause instanceof Error?e.cause:e;ln.open({shortMessage:qt.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.shortMessage,longMessage:qt.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.longMessage(n.message)},"error");break}default:ln.open(qt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}}}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,yt.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(s=>s.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Fr.setThemeMode(e.themeMode),e.themeVariables&&Fr.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");$.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&$.setActiveCaipNetwork(n)}initializeConnectionController(e){we.initialize(e.adapters??[]),we.setWcBasic(e.basic??!1)}initializeConnectorController(){de.initialize(this.chainNamespaces)}initializeProjectSettings(e){te.setProjectId(e.projectId),te.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var o;te.setDebug(e.debug!==!1),te.setEnableWalletConnect(e.enableWalletConnect!==!1),te.setEnableWalletGuide(e.enableWalletGuide!==!1),te.setEnableWallets(e.enableWallets!==!1),te.setEIP6963Enabled(e.enableEIP6963!==!1),te.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),te.setEnableAuthLogger(e.enableAuthLogger!==!1),te.setCustomRpcUrls(e.customRpcUrls),te.setEnableEmbedded(e.enableEmbedded),te.setAllWallets(e.allWallets),te.setIncludeWalletIds(e.includeWalletIds),te.setExcludeWalletIds(e.excludeWalletIds),te.setFeaturedWalletIds(e.featuredWalletIds),te.setTokens(e.tokens),te.setTermsConditionsUrl(e.termsConditionsUrl),te.setPrivacyPolicyUrl(e.privacyPolicyUrl),te.setCustomWallets(e.customWallets),te.setFeatures(e.features),te.setAllowUnsupportedChain(e.allowUnsupportedChain),te.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),te.setPreferUniversalLinks(e.experimental_preferUniversalLinks),te.setDefaultAccountTypes(e.defaultAccountTypes);const n=ue.getPreferredAccountTypes()||{},r={...te.state.defaultAccountTypes,...n};ce.setPreferredAccountTypes(r);const s=this.getDefaultMetaData();if(!e.metadata&&s&&(e.metadata=s),te.setMetadata(e.metadata),te.setDisableAppend(e.disableAppend),te.setEnableEmbedded(e.enableEmbedded),te.setSIWX(e.siwx),!e.projectId){ln.open(qt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((o=e.adapters)==null?void 0:o.find(a=>a.namespace===J.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");te.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,s;return Ee.isClient()?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=Vi.getUnsupportedNetwork(`${n}:${e}`);$.setActiveCaipNetwork(r)}}getDefaultNetwork(){return Vi.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return Vi.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return Vi.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(s=>{var i;return s.id===((i=e.defaultNetwork)==null?void 0:i.id)});return n?Vi.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e){try{const n=this.getAdapter(e),r=Ct.getProvider(e),s=Ct.getProviderId(e),{caipAddress:i}=$.getAccountData(e)||{};this.setLoading(!0,e),i&&(n!=null&&n.disconnect)&&await n.disconnect({provider:r,providerType:s}),ue.removeConnectedNamespace(e),Ct.resetChain(e),this.setUser(void 0,e),this.setStatus("disconnected",e),this.setConnectedWalletInfo(void 0,e),de.removeConnectorId(e),$.resetAccount(e),$.resetNetwork(e),this.setLoading(!1,e)}catch(n){throw this.setLoading(!1,e),new Error(`Failed to disconnect chain ${e}: ${n.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var i;const e=$.state.activeChain,n=this.getAdapter(e),r=(i=this.getCaipNetwork(e))==null?void 0:i.id;if(!n)throw new Error("Adapter not found");const s=await n.connectWalletConnect(r);this.close(),this.setClientId((s==null?void 0:s.clientId)||null),ue.setConnectedNamespaces([...$.state.chains.keys()]),this.chainNamespaces.forEach(o=>{de.setConnectorId(Ut.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:s,chain:i,caipNetwork:o,socialUri:a})=>{var g,y,w,b,v,E;const c=$.state.activeChain,l=i||c,u=this.getAdapter(l);if(i&&i!==c&&!o){const _=this.getCaipNetworks().find(x=>x.chainNamespace===i);_&&this.setCaipNetwork(_)}if(!u)throw new Error("Adapter not found");const d=this.getCaipNetwork(l),h=await u.connect({id:e,info:n,type:r,provider:s,socialUri:a,chainId:(o==null?void 0:o.id)||(d==null?void 0:d.id),rpcUrl:((w=(y=(g=o==null?void 0:o.rpcUrls)==null?void 0:g.default)==null?void 0:y.http)==null?void 0:w[0])||((E=(v=(b=d==null?void 0:d.rpcUrls)==null?void 0:b.default)==null?void 0:v.http)==null?void 0:E[0])});if(!h)return;ue.addConnectedNamespace(l),this.syncProvider({...h,chainNamespace:l});const f=ce.state.allAccounts,{accounts:p}=(f==null?void 0:f.length)>0?{accounts:[...f]}:await u.getAccounts({namespace:l,id:e});this.setAllAccounts(p,l),this.setStatus("connected",l),this.syncConnectedWalletInfo(l)},reconnectExternal:async({id:e,info:n,type:r,provider:s})=>{var a;const i=$.state.activeChain,o=this.getAdapter(i);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:r,provider:s,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),ue.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnect:async({chainNamespace:e}={})=>{const n=IZ(e);try{const r=await Promise.allSettled(n.map(async([i])=>this.disconnectNamespace(i)));dt.resetSend(),we.resetWcConnection(),await ep.clearSessions(),de.setFilterByNamespace(void 0);const s=r.filter(i=>i.status==="rejected");if(s.length>0)throw new Error(s.map(i=>i.reason.message).join(", "));ue.deleteConnectedSocialProvider(),yt.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:e||"all"}})}catch(r){throw new Error(`Failed to disconnect chains: ${r.message}`)}},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter($.state.activeChain),r=await(n==null?void 0:n.signMessage({message:e,address:ce.state.address,provider:Ct.getProvider($.state.activeChain)}));return(r==null?void 0:r.signature)||""},sendTransaction:async e=>{const n=e.chainNamespace;if(mt.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter($.state.activeChain),s=Ct.getProvider(n),i=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:s}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===J.CHAIN.EVM){const n=this.getAdapter($.state.activeChain),r=Ct.getProvider($.state.activeChain),s=this.getCaipNetwork();if(!s)throw new Error("CaipNetwork is undefined");const i=await(n==null?void 0:n.estimateGas({...e,provider:r,caipNetwork:s}));return(i==null?void 0:i.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;return await this.syncIdentity({address:ce.state.address,chainId:Number((e=this.getCaipNetwork())==null?void 0:e.id),chainNamespace:$.state.activeChain}),ce.state.profileImage||!1},getEnsAddress:async e=>await sp.resolveReownName(e),writeContract:async e=>{const n=this.getAdapter($.state.activeChain),r=this.getCaipNetwork(),s=this.getCaipAddress(),i=Ct.getProvider($.state.activeChain);if(!r||!s)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(n==null?void 0:n.writeContract({...e,caipNetwork:r,provider:i,caipAddress:s}));return o==null?void 0:o.hash},parseUnits:(e,n)=>{const r=this.getAdapter($.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter($.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter($.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter($.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter($.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter($.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!ce.state.address||this.updateNativeBalance(ce.state.address,n==null?void 0:n.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},we.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,s,i,o;if(Ct.getProviderId($.state.activeChain)===Ut.CONNECTOR_TYPE_WALLET_CONNECT){const a=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(i=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:i.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=Ct.getProvider(n),i=Ct.getProviderId(n);if(e.chainNamespace===$.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:s,providerType:i}))}else if(this.setCaipNetwork(e),i===Ut.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(i=>{const{chainId:o,chainNamespace:a}=as.parseCaipAddress(i);return`${a}:${o}`});return Array.from(new Set([...r,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var i;const s=e==null?void 0:e.find(o=>o.namespace===r);return s?(s.construct({namespace:r,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),n[r]=s):n[r]=new gve({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),await((n=this.chainAdapters)==null?void 0:n[e].syncConnectors(this.options,this)),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=ue.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(ue.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:s,chainId:i})=>{const o=this.getCaipNetworks().find(l=>l.id===i||l.caipNetworkId===i),a=$.state.activeChain===e,c=$.getAccountProp("address",e);if(o){const l=a&&s?s:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(i)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("connections",s=>{this.setConnections(s,e)}),n.on("pendingTransactions",()=>{const s=ce.state.address,i=$.state.activeCaipNetwork;!s||!(i!=null&&i.id)||this.updateNativeBalance(s,i.id,i.chainNamespace)}),n.on("accountChanged",({address:s,chainId:i})=>{var a,c;const o=$.state.activeChain===e;o&&i?this.syncAccount({address:s,chainId:i,chainNamespace:e}):o&&((a=$.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:s,chainId:(c=$.state.activeCaipNetwork)==null?void 0:c.id,chainNamespace:e}):this.syncAccountInfo(s,i,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){var n,r,s;await this.getUniversalProvider(),this.universalProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null||s.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{e===J.CHAIN.EVM&&Ee.isSafeApp()&&de.setConnectorId(J.CONNECTOR_ID.SAFE,e);const n=de.getConnectorId(e);switch(this.setStatus("connecting",e),n){case J.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case J.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var a,c,l;const n=this.getAdapter(e),r=de.getConnectorId(e),s=this.getCaipNetwork(e),o=de.getConnectors(e).find(u=>u.id===r);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(s!=null&&s.id))throw new Error("CaipNetwork not found");const u=await(n==null?void 0:n.syncConnection({namespace:e,id:o.id,chainId:s.id,rpcUrl:(l=(c=(a=s==null?void 0:s.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:l[0]}));if(u){const d=await(n==null?void 0:n.getAccounts({namespace:e,id:o.id}));d&&d.accounts.length>0?this.setAllAccounts(d.accounts,e):this.setAllAccounts([Ee.createAccount(e,u.address,"eoa")],e),this.syncProvider({...u,chainNamespace:e}),await this.syncAccount({...u,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){var r,s;const e=Object.keys(((s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)||{}),n=this.chainNamespaces.map(async i=>{var u,d,h,f,p;const o=this.getAdapter(i),a=((f=(h=(d=(u=this.universalProvider)==null?void 0:u.session)==null?void 0:d.namespaces)==null?void 0:h[i])==null?void 0:f.accounts)||[],c=(p=$.state.activeCaipNetwork)==null?void 0:p.id,l=a.find(g=>{const{chainId:y}=as.parseCaipAddress(g);return y===(c==null?void 0:c.toString())})||a[0];if(l){const g=as.validateCaipAddress(l),{chainId:y,address:w}=as.parseCaipAddress(g);if(Ct.setProviderId(i,Ut.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&$.state.activeCaipNetwork&&(o==null?void 0:o.namespace)!==J.CHAIN.EVM){const b=o==null?void 0:o.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:$.state.activeCaipNetwork});Ct.setProvider(i,b)}else Ct.setProvider(i,this.universalProvider);de.setConnectorId(J.CONNECTOR_ID.WALLET_CONNECT,i),ue.addConnectedNamespace(i),this.syncWalletConnectAccounts(i),await this.syncAccount({address:w,chainId:y,chainNamespace:i})}else e.includes(i)&&this.setStatus("disconnected",i);this.syncConnectedWalletInfo(i),await $.setApprovedCaipNetworksData(i)});await Promise.all(n)}syncWalletConnectAccounts(e){var r,s,i,o,a;const n=(a=(o=(i=(s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const{address:l}=as.parseCaipAddress(c);return l}).filter((c,l,u)=>u.indexOf(c)===l);n&&this.setAllAccounts(n.map(c=>Ee.createAccount(e,c,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:s}){Ct.setProviderId(s,e),Ct.setProvider(s,n),de.setConnectorId(r,s)}async syncAllAccounts(e){const n=de.getConnectorId(e);if(!n)return;const r=this.getAdapter(e),s=await(r==null?void 0:r.getAccounts({namespace:e,id:n}));s&&s.accounts.length>0&&this.setAllAccounts(s.accounts,e)}async syncAccount(e){var d,h;const n=e.chainNamespace===$.state.activeChain,r=$.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:i,chainNamespace:o}=e,{chainId:a}=ue.getActiveNetworkProps(),c=i||a,l=((d=$.state.activeCaipNetwork)==null?void 0:d.name)===J.UNSUPPORTED_NETWORK_NAME,u=$.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let f=this.getCaipNetworks().find(y=>y.id.toString()===c.toString()),p=this.getCaipNetworks().find(y=>y.chainNamespace===o);if(!u&&!f&&!p){const y=this.getApprovedCaipNetworkIds()||[],w=y.find(v=>{var E;return((E=as.parseCaipNetworkId(v))==null?void 0:E.chainId)===c.toString()}),b=y.find(v=>{var E;return((E=as.parseCaipNetworkId(v))==null?void 0:E.chainNamespace)===o});f=this.getCaipNetworks().find(v=>v.caipNetworkId===w),p=this.getCaipNetworks().find(v=>v.caipNetworkId===b||"deprecatedCaipNetworkId"in v&&v.deprecatedCaipNetworkId===b)}const g=f||p;(g==null?void 0:g.chainNamespace)===$.state.activeChain?te.state.enableNetworkSwitch&&!te.state.allowUnsupportedChain&&((h=$.state.activeCaipNetwork)==null?void 0:h.name)===J.UNSUPPORTED_NETWORK_NAME?$.showUnsupportedChainUI():this.setCaipNetwork(g):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),ug.isLowerCaseMatch(s,ce.state.address)||this.syncAccountInfo(s,g==null?void 0:g.id,o),n?await this.syncBalance({address:s,chainId:g==null?void 0:g.id,chainNamespace:o}):await this.syncBalance({address:s,chainId:r==null?void 0:r.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const s=this.getCaipAddress(r),i=n||(s==null?void 0:s.split(":")[1]);if(!i)return;const o=`${r}:${i}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:i,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var s;const n=de.getConnectorId(e),r=Ct.getProviderId(e);if(r===Ut.CONNECTOR_TYPE_ANNOUNCED||r===Ut.CONNECTOR_TYPE_INJECTED){if(n){const i=this.getConnectors().find(o=>o.id===n);if(i){const{info:o,name:a,imageUrl:c}=i,l=c||this.getConnectorImage(i);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(r===Ut.CONNECTOR_TYPE_WALLET_CONNECT){const i=Ct.getProvider(e);i!=null&&i.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:(s=i.session.peer.metadata.icons)==null?void 0:s[0]},e)}else if(n&&n===J.CONNECTOR_ID.COINBASE){const i=this.getConnectors().find(o=>o.id===J.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(i)},e)}}async syncBalance(e){!Xp.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var s;return r.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,r){const s=this.getAdapter(r),i=$.getCaipNetworkByNamespace(r,n);if(s){const o=await s.getBalance({address:e,chainId:n,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){var r,s,i,o,a,c,l,u,d,h;const e=Aye.createLogger((f,...p)=>{f&&this.handleAlertError(f),console.error(...p)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(s=this.options)!=null&&s.metadata?(i=this.options)==null?void 0:i.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(u=this.options)!=null&&u.metadata?(d=this.options)==null?void 0:d.metadata.icons:[""]},logger:e};te.setManualWCControl(!!((h=this.options)!=null&&h.manualWCControl)),this.universalProvider=this.options.universalProvider??await Cye.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{we.setUri(e)}),this.universalProvider.on("connect",we.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),we.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(s=>s.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(sp.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&Ee.isCaipAddress(r[0])&&this.syncAccount(as.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&Ee.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){yt.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(qt.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,s]=n??[],{message:i,alertErrorKey:o}=s??{};if(r&&i&&!this.reportedAlertErrors[r]){const a=qt.ALERT_ERRORS[o];a&&(ln.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var s;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&we.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return ft.open({...e,data:{swap:e.arguments}})}return ft.open(e)}async close(){await this.injectModalUi(),ft.close()}setLoading(e,n){ft.setLoading(e,n)}async disconnect(e){await we.disconnect({namespace:e})}getSIWX(){return te.state.siwx}getError(){return""}getChainId(){var e;return(e=$.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){ln.open(qt.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await $.switchActiveNetwork(n)}getWalletProvider(){return $.state.activeChain?Ct.state.providers[$.state.activeChain]:null}getWalletProviderType(){return Ct.getProviderId($.state.activeChain)}subscribeProviders(e){return Ct.subscribeProviders(e)}getThemeMode(){return Fr.state.themeMode}getThemeVariables(){return Fr.state.themeVariables}setThemeMode(e){Fr.setThemeMode(e),qj(Fr.state.themeMode)}setTermsConditionsUrl(e){te.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){te.setPrivacyPolicyUrl(e)}setThemeVariables(e){Fr.setThemeVariables(e),hve(Fr.state.themeVariables)}subscribeTheme(e){return Fr.subscribe(e)}subscribeConnections(e){return we.subscribe(e)}getWalletInfo(e){return e?$.getAccountProp("connectedWalletInfo",e):ce.state.connectedWalletInfo}getAccount(e){var o;const n=de.getAuthConnector(e),r=$.getAccountData(e),s=$.state.activeChain,i=ue.getConnectedConnectorId(e||s);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:Ee.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n&&i===J.CONNECTOR_ID.AUTH?{user:r.user?{...r.user,username:ue.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:(o=r.preferredAccountTypes)==null?void 0:o[e||s],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const s=this.getAccount(n);s&&e(s)};n?$.subscribeChainProp("accountState",r,n):$.subscribe(r),de.subscribe(r)}subscribeNetwork(e){return $.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e,n){return n?ce.subscribeKey("connectedWalletInfo",e,n):ce.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){ce.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){$.subscribeKey("activeCaipNetwork",e)}getState(){return Ji.state}subscribeState(e){return Ji.subscribe(e)}showErrorMessage(e){hi.showError(e)}showSuccessMessage(e){hi.showSuccess(e)}getEvent(){return{...yt.state}}subscribeEvents(e){return yt.subscribe(e)}replace(e){ke.replace(e)}redirect(e){ke.push(e)}popTransactionStack(e){ke.popTransactionStack(e)}isOpen(){return ft.state.open}isTransactionStackEmpty(){return ke.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){te.setFeatures(e)}updateRemoteFeatures(e){te.setRemoteFeatures(e)}updateOptions(e){const r={...te.state||{},...e};te.setOptions(r)}setConnectMethodsOrder(e){te.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){te.setWalletFeaturesOrder(e)}setCollapseWallets(e){te.setCollapseWallets(e)}setSocialsOrder(e){te.setSocialsOrder(e)}getConnectMethodsOrder(){return ux.getConnectOrderMethod(te.state.features,de.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||$.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&$.removeNetwork(e,n)}}let cO=!1;class vve extends wve{setupAuthConnectorListeners(e){e.onRpcRequest(n=>{ls.checkIfRequestExists(n)?ls.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(Nn.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(Nn.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((n,r)=>{const s=ls.checkIfRequestIsSafe(r),i=ce.state.address,o=$.state.activeCaipNetwork;s||(i&&(o!=null&&o.id)&&this.updateNativeBalance(i,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const n=$.state.activeChain;de.getConnectorId(n)===J.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(n=>{var l,u;const r=$.state.activeChain,s=r===J.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`,i=te.state.defaultAccountTypes[r],o=(l=ce.state.preferredAccountTypes)==null?void 0:l[r],a=n.preferredAccountType||o||i;ug.isLowerCaseMatch(n.address,ce.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:r}),this.setCaipAddress(s,r),this.setUser({...ce.state.user||{},...n},r),this.setSmartAccountDeployed(!!n.smartAccountDeployed,r),this.setPreferredAccountType(a,r);const c=(u=n.accounts)==null?void 0:u.map(d=>Ee.createAccount(r,d.address,d.type||o||i));this.setAllAccounts(c||[Ee.createAccount(r,n.address,n.preferredAccountType||a)],r),this.setLoading(!1,r)}),e.onSocialConnected(({userName:n})=>{this.setUser({...ce.state.user||{},username:n},$.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,$.state.activeChain)}),e.onSetPreferredAccount(({address:n,type:r})=>{n&&this.setPreferredAccountType(r,$.state.activeChain)})}async syncAuthConnector(e,n){var d,h,f,p;const r=J.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n),s=n===$.state.activeChain;if(!r)return;this.setLoading(!0,n);const i=e.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const o=e.getEmail(),a=e.getUsername();this.setUser({...((d=ce.state)==null?void 0:d.user)||{},username:a,email:o},n),this.setupAuthConnectorListeners(e);const{isConnected:c}=await e.isConnected(),l=Fr.getSnapshot(),u=te.getSnapshot();await Promise.all([e.syncDappData({metadata:u.metadata,sdkVersion:u.sdkVersion,projectId:u.projectId,sdkType:u.sdkType}),e.syncTheme({themeMode:l.themeMode,themeVariables:l.themeVariables,w3mThemeVariables:Oo(l.themeVariables,l.themeMode)})]),await e.getSmartAccountEnabledNetworks(),n&&r&&s&&(c&&((h=this.connectionControllerClient)!=null&&h.connectExternal)?(await((p=this.connectionControllerClient)==null?void 0:p.connectExternal({id:J.CONNECTOR_ID.AUTH,info:{name:J.CONNECTOR_ID.AUTH},type:Ut.CONNECTOR_TYPE_AUTH,provider:e,chainId:(f=$.state.activeCaipNetwork)==null?void 0:f.id,chain:n})),this.setStatus("connected",n)):de.getConnectorId(n)===J.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),ue.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n;try{if(!Ee.isTelegram())return;const r=ue.getTelegramSocialProvider();if(!r||!Ee.isClient())return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;ce.setSocialProvider(r,e),await((n=this.authProvider)==null?void 0:n.init());const o=de.getAuthConnector();r&&o&&(this.setLoading(!0,e),await we.connectExternal({id:o.id,type:o.type,socialUri:i},o.chain),ue.setConnectedSocialProvider(r),ue.removeTelegramSocialProvider(),yt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){var l,u,d,h;if(!J.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=(l=this.remoteFeatures)==null?void 0:l.email,s=Array.isArray((u=this.remoteFeatures)==null?void 0:u.socials)&&this.remoteFeatures.socials.length>0,i=r||s,a=ug.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&((d=this.options)!=null&&d.projectId)&&i&&(this.authProvider=Ol.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(h=this.getCaipNetwork(a))==null?void 0:h.caipNetworkId,abortController:qt.EmbeddedWalletAbortController,onTimeout:f=>{f==="iframe_load_failed"?ln.open(qt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):f==="iframe_request_timeout"?ln.open(qt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):f==="unverified_domain"&&ln.open(qt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}}),Ji.subscribeOpen(f=>{var p;!f&&this.isTransactionStackEmpty()&&((p=this.authProvider)==null||p.rejectRpcRequests())}));const c=e===$.state.activeChain;this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,r,s;this.createAuthProvider(e),this.authProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setAuthProvider)==null||s.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&Ae.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var o,a;if(!e)return;const n=$.state.activeChain,r=e.chainNamespace,s=this.getAddressByChainNamespace(r);if(r===n&&s){const c=this.getAdapter(r),l=Ct.getProvider(r),u=Ct.getProviderId(r);await(c==null?void 0:c.switchNetwork({caipNetwork:e,provider:l,providerType:u})),this.setCaipNetwork(e)}else{const l=Ct.getProviderId(n)===Ut.CONNECTOR_TYPE_AUTH,u=Ct.getProviderId(r),d=u===Ut.CONNECTOR_TYPE_AUTH,h=J.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((l&&u===void 0||d)&&h)try{if($.state.activeChain=e.chainNamespace,s){const f=this.getAdapter(r);await(f==null?void 0:f.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else await((a=(o=this.connectionControllerClient)==null?void 0:o.connectExternal)==null?void 0:a.call(o,{id:J.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:Ut.CONNECTOR_TYPE_AUTH,caipNetwork:e}));this.setCaipNetwork(e)}catch{const p=this.getAdapter(r);await(p==null?void 0:p.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else u===Ut.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:r}))}}async initialize(e){var n;await super.initialize(e),(n=this.chainNamespaces)==null||n.forEach(r=>{this.createAuthProviderForAdapter(r)}),await this.injectModalUi(),Ji.set({initialized:!0})}async syncIdentity({address:e,chainId:n,chainNamespace:r}){var o;const s=`${r}:${n}`,i=(o=this.caipNetworks)==null?void 0:o.find(a=>a.caipNetworkId===s);if(r!==J.CHAIN.EVM||i!=null&&i.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:a,avatar:c}=await this.fetchIdentity({address:e,caipNetworkId:s});this.setProfileName(a,r),this.setProfileImage(c,r)}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=Ct.getProviderId(e);if(n===Ut.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const s=ue.getConnectedSocialProvider()??"email",i=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:i,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(Ee.isClient()&&!cO)try{const e={...mt.DEFAULT_FEATURES,...this.options.features},n=this.remoteFeatures;if(await this.loadModalComponents(e,n),Ee.isClient()&&!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!te.state.disableAppend&&!te.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}cO=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,n){if(!Ee.isClient())return;const r=[];(n.email||n.socials&&n.socials.length>0)&&r.push(nn(()=>import("./embedded-wallet-7V4RdaIG.js"),__vite__mapDeps([3,4,5,6,7,8,9,10,11,12,13,14]))),n.email&&r.push(nn(()=>import("./email-BYJgNzBY.js"),__vite__mapDeps([15,4,14,8,13,7,12,16,9]))),n.socials&&r.push(nn(()=>import("./socials-CdUbkSBT.js"),__vite__mapDeps([17,4,18,7,19,20,13,21,12,8,14,22,6,23]))),n.swaps&&n.swaps.length>0&&r.push(nn(()=>import("./swaps-BU8HAyfk.js"),__vite__mapDeps([24,4,12,8,25,26,27,6,13,23,9,7]))),e.send&&r.push(nn(()=>import("./send-BdnCtuXL.js"),__vite__mapDeps([28,4,12,8,13,7,19,14,27,6,9,29,30]))),e.receive&&r.push(nn(()=>import("./receive-CS9cO2qX.js"),__vite__mapDeps([31,4,32,6,22]))),n.onramp&&n.onramp.length>0&&r.push(nn(()=>import("./onramp-ySK7jJfm.js"),__vite__mapDeps([33,4,34,23,13,6,8,35,18,7,19,36,14,12,21,9]))),n.activity&&r.push(nn(()=>import("./transactions-DSeguxAD.js"),__vite__mapDeps([37,4,38,34,23,13,14,6]))),e.pay&&r.push(nn(()=>import("./index-BeTW_01d.js"),__vite__mapDeps([39,4,12,8,40,6,13,10,35,30,21]))),await Promise.all([...r,nn(()=>import("./index-DKVSFWsK.js"),__vite__mapDeps([41,4,6,8,29,13,42,26,10,35,12,11,40,38,34,23,14,25,30,7,9,16,18,19,20,5,21,32,22,36])),nn(()=>import("./w3m-modal-YXjeLMeE.js"),__vite__mapDeps([43,4,10,6,13,11,8,26,42]))])}}let Ca;function bve(t){t&&(Ca=t)}function kv(){if(!Ca)throw new Error('Please call "createAppKit" before using "useAppKit" hook');async function t(n){await(Ca==null?void 0:Ca.open(n))}async function e(){await(Ca==null?void 0:Ca.close())}return{open:t,close:e}}const _ve="1.7.10";let vy;function Eve(t){return vy||(vy=new vve({...t,sdkVersion:Ee.generateSdkVersion(t.adapters??[],"react",_ve)}),bve(vy)),vy}const Cve=Ws({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"720px",height:"600px",minWidth:"480px",minHeight:"360px",top:"calc(50vh - 300px)",left:"calc(50vw - 360px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto",zIndex:100},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",height:"calc(100% - 30px)",overflow:"auto"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},gridItem:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",borderRadius:"4px",cursor:"pointer"},detailContent:{padding:"20px",color:"#000"},detailImage:{width:"100%",height:"auto",marginBottom:"20px",border:"1px solid #ccc"},detailTraits:{listStyleType:"none",paddingLeft:"0","& li":{marginBottom:"5px"}},collectionSelector:{display:"flex",gap:"10px",padding:"10px",borderBottom:"2px inset #fff"},collectionButton:{padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer","&.active":{borderStyle:"inset",backgroundColor:"#e0e0e0"}}}),lO=[{slug:"pixelawbs",name:"Pixelawbs",api:"scatter"},{slug:"lawbsters",name:"Lawbsters",api:"opensea",chain:"ethereum"},{slug:"lawbstarz",name:"Lawbstarz",api:"scatter"},{slug:"a-lawbster-halloween",name:"Halloween",api:"opensea",chain:"base"},{slug:"lawbstation",name:"Lawbstation",api:"opensea-solana",chain:"solana"},{slug:"lawbnexus",name:"Nexus",api:"opensea-solana",chain:"solana"}],xve=({isOpen:t,onClose:e,onMinimize:n,walletAddress:r})=>{const s=Cve({isOpen:t}),{open:i}=kv(),o=F.useRef(null),[a,c]=F.useState([]),[l,u]=F.useState(!0),[d,h]=F.useState(null),[f,p]=F.useState("all"),[g,y]=F.useState(1),[w,b]=F.useState(1),[v,E]=F.useState(0),[_,x]=F.useState(null),[S,T]=F.useState(lO[0]),[C,O]=F.useState(!1),[R,L]=F.useState(null),z=F.useCallback(async()=>{var k,U;try{if((k=window.solana)!=null&&k.isPhantom){const j=await window.solana.connect();L(j.publicKey.toString());return}if((U=window.solflare)!=null&&U.isSolflare){const j=await window.solflare.connect();L(j.publicKey.toString());return}i()}catch(j){console.error("Failed to connect Solana wallet:",j),alert("Failed to connect Solana wallet. Please make sure Phantom or Solflare is installed.")}O(!1)},[i]);F.useEffect(()=>{var k,U;(k=window.solana)!=null&&k.publicKey?L(window.solana.publicKey.toString()):(U=window.solflare)!=null&&U.publicKey&&L(window.solflare.publicKey.toString())},[]),F.useEffect(()=>{t&&(async()=>{var U;u(!0),h(null);try{let j,q=f==="owned"&&r||void 0;if(S.api==="opensea-solana"){if(f==="owned"&&!R){O(!0),u(!1);return}q=R||void 0,j=await f8(S.slug,50),console.log("Fetched Solana NFTs from collection:",j.data.length),f==="owned"&&R&&(console.log("Filtering for owner:",R),console.log("Sample NFT owner data:",(U=j.data[0])==null?void 0:U.owners),console.log("All NFTs owner data:",j.data.map(H=>({name:H.name,owners:H.owners,owner_of:H.owner_of}))),j.data.some(H=>H.owners&&H.owners.length>0)?(j.data=j.data.filter(H=>{const Q=H.owners.some(Z=>Z.owner_of&&Z.owner_of.toLowerCase()===R.toLowerCase());return Q&&console.log("Found owned NFT:",H.name),Q}),console.log("NFTs after filtering:",j.data.length)):(console.log("No owner data available from OpenSea for Solana collection"),h("Owner data not available for this Solana collection. Showing all NFTs.")))}else S.api==="opensea"?j=await aA(S.slug,50,q):j=await oA(S.slug,g,50,q);c(j.data),b(j.totalPages),E(j.totalCount)}catch(j){j instanceof Error?h(j.message):h("An unknown error occurred."),c([])}finally{u(!1)}})()},[t,g,f,r,S,R]),F.useEffect(()=>{C&&z()},[C,z]);const M=k=>new Date(k).toLocaleDateString(),A=k=>S.api==="opensea-solana"&&(!k.owners||k.owners.length===0)?"Owner data unavailable":k.owners.length>0?`${k.owners[0].owner_of.substring(0,6)}...`:"N/A",I=()=>{n&&n()},D=async k=>{if(S.api==="opensea"&&S.chain)try{const U=await h8(S.chain,k.address,k.token_id.toString()),j={...k,attributes:JSON.stringify(U.traits||[])};x(j)}catch(U){console.error("Failed to fetch full NFT details",U),x(k)}else x(k)},N=k=>{T(k),y(1)};return t?m.jsxs(m.Fragment,{children:[m.jsx(Vg,{nodeRef:o,handle:`.${s.header}`,children:m.jsxs("div",{ref:o,className:s.popup,children:[m.jsxs("div",{className:s.header,children:[m.jsx("span",{children:"LAWB NFT GALLERY"}),m.jsxs("div",{className:s.titleBarButtons,children:[m.jsx("button",{className:s.titleBarButton,onClick:I,title:"Minimize",children:"_"}),m.jsx("button",{className:s.titleBarButton,onClick:e,title:"Close",children:""})]})]}),m.jsx("div",{className:s.collectionSelector,children:lO.map(k=>m.jsx("button",{className:`${s.collectionButton} ${S.slug===k.slug?"active":""}`,onClick:()=>N(k),children:k.name},k.slug))}),m.jsxs("div",{className:s.content,children:[m.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[m.jsx("button",{onClick:()=>p("all"),style:{background:f==="all"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:f==="all"?"white":"black"},children:"All NFTs"}),m.jsx("button",{onClick:()=>p("recent"),disabled:!r,style:{background:f==="recent"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:r?"pointer":"not-allowed",color:f==="recent"?"white":"black",opacity:r?1:.6},children:"Recently Minted"}),m.jsx("button",{onClick:()=>p("owned"),disabled:!r&&!R,style:{background:f==="owned"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:r||R?"pointer":"not-allowed",color:f==="owned"?"white":"black",opacity:r||R?1:.6},children:"My NFTs"}),S.api==="opensea-solana"&&m.jsx("button",{onClick:()=>{z()},style:{background:R?"#4CAF50":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:R?"white":"black",marginLeft:"auto"},children:R?`Solana: ${R.slice(0,4)}...${R.slice(-4)}`:"Connect Solana"})]}),S.api==="opensea-solana"&&!R&&m.jsx("div",{style:{backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",padding:"10px",marginBottom:"10px",color:"#856404"},children:"Connect your Solana wallet (Phantom or Solflare) to view your NFTs from this collection."}),d&&m.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:d}),l?m.jsx("div",{children:"Loading NFTs..."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{marginBottom:"10px",fontSize:"14px"},children:[f==="all"&&`Showing all NFTs (${v} total)`,f==="recent"&&`Recently minted NFTs by ${S.api==="opensea-solana"?(R==null?void 0:R.slice(0,6))+"..."+(R==null?void 0:R.slice(-4)):(r==null?void 0:r.slice(0,6))+"..."+(r==null?void 0:r.slice(-4))}`,f==="owned"&&`NFTs owned by ${S.api==="opensea-solana"?(R==null?void 0:R.slice(0,6))+"..."+(R==null?void 0:R.slice(-4)):(r==null?void 0:r.slice(0,6))+"..."+(r==null?void 0:r.slice(-4))}`]}),a.length===0?m.jsx("div",{children:"No NFTs found."}):m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:a.map(k=>m.jsxs("div",{style:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",borderRadius:"4px",cursor:"pointer"},onClick:()=>{D(k)},children:[m.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${k.image_url})`,backgroundSize:"cover",backgroundPosition:"center",marginBottom:"10px",border:"1px solid #ccc"}}),m.jsx("div",{style:{fontSize:"12px",marginBottom:"5px",color:"#000"},children:m.jsxs("strong",{children:["#",k.token_id]})}),m.jsxs("div",{style:{fontSize:"11px",marginBottom:"5px",color:"#000"},children:["Owner: ",A(k)]}),m.jsxs("div",{style:{fontSize:"11px",color:"#666"},children:["Minted: ",M(k.created_at)]})]},k.id))}),f!=="recent"&&w>1&&m.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginTop:"20px"},children:[m.jsx("button",{onClick:()=>y(k=>Math.max(1,k-1)),disabled:g===1,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"5px 10px",cursor:g===1?"not-allowed":"pointer"},children:"Previous"}),m.jsxs("span",{style:{padding:"5px 10px"},children:["Page ",g," of ",w]}),m.jsx("button",{onClick:()=>y(k=>Math.min(w,k+1)),disabled:g===w,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"5px 10px",cursor:g===w?"not-allowed":"pointer"},children:"Next"})]})]})]})]})}),_&&m.jsx($Q,{nft:_,onClose:()=>x(null)})]}):null},Sve=Ws({container:{display:"flex",flexDirection:"column",gap:4,padding:4,background:"#c0c0c0",border:"2px outset #fff",borderRadius:8,maxWidth:500,width:"100%",fontFamily:"monospace",fontSize:11},header:{textAlign:"center",marginBottom:2},subtitle:{color:"#000",fontSize:"10px",textAlign:"center",marginBottom:2,lineHeight:1.1},content:{display:"flex",flexDirection:"column",gap:2},section:{display:"flex",flexDirection:"column",gap:1},sectionTitle:{fontWeight:"bold",color:"#000",fontSize:11,borderBottom:"1px solid #888",paddingBottom:0},row:{display:"flex",alignItems:"center",gap:3,flexWrap:"wrap"},label:{minWidth:55,color:"#000",fontWeight:"bold",fontSize:10},input:{flex:1,minWidth:70,padding:"2px 3px",border:"2px inset #fff",background:"#fff",fontSize:10,fontFamily:"monospace",color:"#000"},button:{padding:"3px 8px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:10,fontWeight:"bold",color:"#000","&:hover":{background:"#d0d0d0"},"&:active":{border:"2px inset #fff"}},effectButton:{padding:"2px 5px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:9,fontWeight:"bold",color:"#000","&:hover":{background:"#d0d0d0"},"&:active":{border:"2px inset #fff"}},memeArea:{display:"flex",justifyContent:"center",position:"relative",marginTop:1},canvas:{border:"2px inset #fff",background:"#333",maxWidth:"100%",height:"auto"},dropdown:{position:"relative"},dropdownContent:{position:"absolute",top:"100%",left:0,background:"#fff",border:"2px outset #fff",borderRadius:4,zIndex:10,minWidth:100,maxHeight:100,overflowY:"auto"},dropdownItem:{padding:"3px 5px",cursor:"pointer",fontSize:9,borderBottom:"1px solid #eee","&:hover":{background:"#f0f0f0"}},actions:{display:"flex",gap:3,justifyContent:"center",marginTop:1}}),Ave=[{id:"lawbsters",name:"Lawbsters",api:"opensea",slug:"lawbsters",chain:"ethereum"},{id:"lawbstarz",name:"Lawbstarz",api:"opensea",slug:"lawbstarz",chain:"ethereum"},{id:"pixelawbs",name:"Pixelawbsters",api:"scatter",slug:"pixelawbs"},{id:"halloween",name:"Halloween Lawbsters",api:"opensea",slug:"a-lawbster-halloween",chain:"base"},{id:"lawbstation",name:"Lawbstation",api:"opensea-solana",slug:"lawbstation",chain:"solana"},{id:"nexus",name:"Nexus",api:"opensea-solana",slug:"lawbnexus",chain:"solana"}];function Vj(){const t=Sve(),e=F.useRef(null),[n,r]=F.useState(null),[s,i]=F.useState(""),[o,a]=F.useState(""),[c,l]=F.useState(36),[u,d]=F.useState(36),[h,f]=F.useState(!1),[p,g]=F.useState(!1),[y,w]=F.useState(!1),[b,v]=F.useState(!1),[E,_]=F.useState(!1),x=F.useCallback(()=>{const M=N=>{const k=e.current;if(!k)return;N.textAlign="center";const U=(j,q)=>{const K=j.split(" "),H=[];let Q="";for(let Z=0;Z<K.length;Z++){const le=Q?Q+" "+K[Z]:K[Z];N.measureText(le).width<=q?Q=le:(Q&&H.push(Q),Q=K[Z])}return Q&&H.push(Q),H};if(s){N.font=`bold ${c}px Impact`;const j=k.width*.9;(function(){return N.font=`bold ${c}px Impact`,U(s,j)})().forEach((K,H)=>{const Q=c+10+H*c*1.2;N.strokeStyle="#000",N.lineWidth=4,N.strokeText(K,k.width/2,Q),N.fillStyle="#fff",N.fillText(K,k.width/2,Q)})}if(o){N.font=`bold ${u}px Impact`;const j=k.width*.9,q=function(){return N.font=`bold ${u}px Impact`,U(o,j)}(),K=12;q.forEach((H,Q)=>{const Z=k.height-K-(q.length-1-Q)*u*1.2;N.strokeStyle="#000",N.lineWidth=4,N.strokeText(H,k.width/2,Z),N.fillStyle="#fff",N.fillText(H,k.width/2,Z)})}},A=N=>{try{h&&S(N),p&&T(N),y&&C(N)}catch{console.warn("Effects could not be applied due to CORS restrictions. Try uploading your own image instead."),f(!1),g(!1),w(!1)}},I=e.current;if(!I)return;const D=I.getContext("2d");if(D)if(D.clearRect(0,0,I.width,I.height),n){console.log("Loading image:",n);const N=new Image;N.crossOrigin="anonymous",N.onload=()=>{console.log("Image loaded successfully:",N.width,"x",N.height);const k=e.current;if(!k||k!==I)return;const U=k.getContext("2d");if(!U)return;U.clearRect(0,0,k.width,k.height);const j=Math.min(k.width/N.width,k.height/N.height),q=(k.width-N.width*j)/2,K=(k.height-N.height*j)/2;console.log("Drawing image at:",q,K,"with scale:",j),U.drawImage(N,q,K,N.width*j,N.height*j),M(U),A(k)},N.onerror=k=>{console.error("Failed to load image:",n,k);const U=e.current;if(!U||U!==I)return;const j=U.getContext("2d");j&&(j.clearRect(0,0,U.width,U.height),j.fillStyle="#333",j.fillRect(0,0,U.width,U.height),M(j),A(U))},N.src=n}else D.fillStyle="#333",D.fillRect(0,0,I.width,I.height),M(D),A(I)},[n,s,c,o,u,h,p,y]),S=M=>{const A=M.getContext("2d");if(!A)return;const I=A.getImageData(0,0,M.width,M.height),D=I.data;for(let N=0;N<D.length;N+=4){const k=D[N],U=D[N+1],j=D[N+2],q=(k+U+j)/3,K=1.8;D[N]=Math.min(255,q+(k-q)*K),D[N+1]=Math.min(255,q+(U-q)*K*.7),D[N+2]=Math.min(255,q+(j-q)*K*.4);const H=1.3;D[N]=Math.min(255,Math.max(0,D[N]*H)),D[N+1]=Math.min(255,Math.max(0,D[N+1]*H)),D[N+2]=Math.min(255,Math.max(0,D[N+2]*H))}A.putImageData(I,0,0)},T=M=>{const A=M.getContext("2d");if(!A)return;const I=4,N=A.getImageData(0,0,M.width,M.height).data,k=new Uint8ClampedArray(N);for(let U=0;U<M.height;U+=I)for(let j=0;j<M.width;j+=I){const q=(U*M.width+j)*4,K=N[q],H=N[q+1],Q=N[q+2],Z=N[q+3];for(let le=0;le<I&&U+le<M.height;le++)for(let Ce=0;Ce<I&&j+Ce<M.width;Ce++){const Se=((U+le)*M.width+(j+Ce))*4;k[Se]=K,k[Se+1]=H,k[Se+2]=Q,k[Se+3]=Z}}A.putImageData(new ImageData(k,M.width,M.height),0,0)},C=M=>{const A=M.getContext("2d");if(!A)return;const I=A.getImageData(0,0,M.width,M.height),D=I.data;for(let N=0;N<D.length;N+=4){const k=(Math.random()-.5)*50;D[N]=Math.max(0,Math.min(255,D[N]+k)),D[N+1]=Math.max(0,Math.min(255,D[N+1]+k)),D[N+2]=Math.max(0,Math.min(255,D[N+2]+k))}A.putImageData(I,0,0)};F.useEffect(()=>{x()},[x]);const O=M=>{var I;const A=(I=M.target.files)==null?void 0:I[0];A&&r(URL.createObjectURL(A))},R=()=>{r(null),i(""),a(""),l(36),d(36),f(!1),g(!1),w(!1)},L=()=>{const M=e.current;if(!M)return;const A=document.createElement("a");A.download="meme.png",A.href=M.toDataURL("image/png"),document.body.appendChild(A),A.click(),document.body.removeChild(A)},z=async M=>{_(!0),v(!1);try{console.log("Fetching NFTs for collection:",M);let A;if(M.api==="opensea"){console.log("Using OpenSea API for:",M.slug);const I=await aA(M.slug,50);A=I.data,console.log("OpenSea response:",I)}else if(M.api==="opensea-solana"){console.log("Using OpenSea Solana API for:",M.slug);const I=await f8(M.slug,50);A=I.data,console.log("OpenSea Solana response:",I)}else{console.log("Using Scatter API for:",M.slug);const I=await oA(M.slug,1,50);A=I.data,console.log("Scatter response:",I)}if(A&&A.length>0){const I=A[Math.floor(Math.random()*A.length)],D=I.image||I.image_url||I.image_url_shrunk;console.log("Selected NFT:",I),console.log("Image URL:",D),r(D)}else console.log("No NFTs found in collection"),alert("No NFTs found in this collection.")}catch(A){console.error("Error fetching NFTs:",A),alert("Failed to fetch NFT images. Check console for details.")}finally{_(!1)}};return m.jsxs("div",{className:t.container,children:[m.jsxs("div",{className:t.header,children:[m.jsx("h2",{style:{color:"#00ffff",textShadow:"1px 1px 0 #000",marginBottom:8,fontSize:"16px"},children:"Lawb Meme Maker"}),m.jsxs("p",{className:t.subtitle,children:["find memes or upload your own on"," ",m.jsx("a",{href:"https://memedepot.com/d/lawb",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Meme Depot"})]})]}),m.jsxs("div",{className:t.content,children:[m.jsxs("div",{className:t.section,children:[m.jsx("div",{className:t.sectionTitle,children:"Collections"}),m.jsxs("div",{className:t.row,children:[m.jsxs("div",{className:t.dropdown,children:[m.jsx("button",{className:t.button,onClick:()=>v(M=>!M),children:"Collections"}),b&&m.jsx("div",{className:t.dropdownContent,children:Ave.map(M=>m.jsx("div",{className:t.dropdownItem,onClick:()=>{z(M)},children:M.name},M.id))})]}),m.jsxs("label",{className:t.button,style:{marginBottom:0},children:["Upload Image",m.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:O})]}),E&&m.jsx("span",{style:{color:"#00ffff",marginLeft:8,fontSize:"12px"},children:"Loading NFT..."})]})]}),m.jsxs("div",{className:t.section,children:[m.jsx("div",{className:t.sectionTitle,children:"Text"}),m.jsxs("div",{className:t.row,children:[m.jsx("span",{className:t.label,children:"Top Text:"}),m.jsx("input",{className:t.input,type:"text",value:s,onChange:M=>i(M.target.value),placeholder:"Enter top text..."}),m.jsx("span",{className:t.label,children:"Size:"}),m.jsx("input",{className:t.input,type:"number",min:10,max:100,value:c,onChange:M=>l(Number(M.target.value)),style:{width:60,textAlign:"center"}})]}),m.jsxs("div",{className:t.row,children:[m.jsx("span",{className:t.label,children:"Bottom Text:"}),m.jsx("input",{className:t.input,type:"text",value:o,onChange:M=>a(M.target.value),placeholder:"Enter bottom text..."}),m.jsx("span",{className:t.label,children:"Size:"}),m.jsx("input",{className:t.input,type:"number",min:10,max:100,value:u,onChange:M=>d(Number(M.target.value)),style:{width:60,textAlign:"center"}})]})]}),m.jsxs("div",{className:t.section,children:[m.jsx("div",{className:t.sectionTitle,children:"Effects"}),m.jsxs("div",{className:t.row,children:[m.jsx("button",{className:t.effectButton,style:{background:h?"#00ffff":void 0},onClick:()=>f(M=>!M),children:"Deep Fry"}),m.jsx("button",{className:t.effectButton,style:{background:p?"#00ffff":void 0},onClick:()=>g(M=>!M),children:"Pixelate"}),m.jsx("button",{className:t.effectButton,style:{background:y?"#00ffff":void 0},onClick:()=>w(M=>!M),children:"Grain"})]})]}),m.jsxs("div",{className:t.actions,children:[m.jsx("button",{className:t.button,onClick:L,children:"Save Image"}),m.jsx("button",{className:t.button,onClick:R,children:"Restart"})]})]}),m.jsx("div",{className:t.memeArea,children:m.jsx("canvas",{ref:e,width:320,height:320,className:t.canvas})})]})}const Ive=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>nn(async()=>{const{default:r}=await Promise.resolve().then(()=>Nh);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class JA extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Tve extends JA{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Nve extends JA{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Pve extends JA{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var hx;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(hx||(hx={}));var kve=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class Ove{constructor(e,{headers:n={},customFetch:r,region:s=hx.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Ive(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return kve(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let l;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:l}).catch(p=>{throw new Tve(p)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Nve(u);if(!u.ok)throw new Pve(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield u.json():h==="application/octet-stream"?f=yield u.blob():h==="text/event-stream"?f=u:h==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(s){return{data:null,error:s}}})}}var Hr={},QA={},Ov={},cm={},Rv={},$v={},Rve=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ah=Rve();const $ve=ah.fetch,Gj=ah.fetch.bind(ah),Kj=ah.Headers,Dve=ah.Request,jve=ah.Response,Nh=Object.freeze(Object.defineProperty({__proto__:null,Headers:Kj,Request:Dve,Response:jve,default:Gj,fetch:$ve},Symbol.toStringTag,{value:"Module"})),Uve=mw(Nh);var Dv={};Object.defineProperty(Dv,"__esModule",{value:!0});let Lve=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Dv.default=Lve;var Yj=en&&en.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($v,"__esModule",{value:!0});const Mve=Yj(Uve),Bve=Yj(Dv);let Fve=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Mve.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let l=null,u=null,d=null,h=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=w:u=JSON.parse(w))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&y&&y.length>1&&(d=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{l=JSON.parse(g),Array.isArray(l)&&i.status===404&&(u=[],l=null,h=200,f="OK")}catch{i.status===404&&g===""?(h=204,f="No Content"):l={message:g}}if(l&&this.isMaybeSingle&&(!((c=l==null?void 0:l.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,h=200,f="OK"),l&&this.shouldThrowOnError)throw new Bve.default(l)}return{error:l,data:u,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};$v.default=Fve;var zve=en&&en.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rv,"__esModule",{value:!0});const qve=zve($v);let Wve=class extends qve.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Rv.default=Wve;var Hve=en&&en.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cm,"__esModule",{value:!0});const Vve=Hve(Rv);let Gve=class extends Vve.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};cm.default=Gve;var Kve=en&&en.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ov,"__esModule",{value:!0});const hf=Kve(cm);let Yve=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new hf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new hf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){const l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new hf.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new hf.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new hf.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ov.default=Yve;var jv={},Uv={};Object.defineProperty(Uv,"__esModule",{value:!0});Uv.version=void 0;Uv.version="0.0.0-automated";Object.defineProperty(jv,"__esModule",{value:!0});jv.DEFAULT_HEADERS=void 0;const Jve=Uv;jv.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Jve.version}`};var Jj=en&&en.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(QA,"__esModule",{value:!0});const Qve=Jj(Ov),Zve=Jj(cm),Xve=jv;let ebe=class Qj{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Xve.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Qve.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Qj(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",c=n);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new Zve.default({method:o,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};QA.default=ebe;var Ph=en&&en.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.PostgrestError=Hr.PostgrestBuilder=Hr.PostgrestTransformBuilder=Hr.PostgrestFilterBuilder=Hr.PostgrestQueryBuilder=Hr.PostgrestClient=void 0;const Zj=Ph(QA);Hr.PostgrestClient=Zj.default;const Xj=Ph(Ov);Hr.PostgrestQueryBuilder=Xj.default;const eU=Ph(cm);Hr.PostgrestFilterBuilder=eU.default;const tU=Ph(Rv);Hr.PostgrestTransformBuilder=tU.default;const nU=Ph($v);Hr.PostgrestBuilder=nU.default;const rU=Ph(Dv);Hr.PostgrestError=rU.default;var tbe=Hr.default={PostgrestClient:Zj.default,PostgrestQueryBuilder:Xj.default,PostgrestFilterBuilder:eU.default,PostgrestTransformBuilder:tU.default,PostgrestBuilder:nU.default,PostgrestError:rU.default};const{PostgrestClient:nbe,PostgrestQueryBuilder:WEe,PostgrestFilterBuilder:HEe,PostgrestTransformBuilder:VEe,PostgrestBuilder:GEe,PostgrestError:KEe}=tbe;function rbe(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const sbe=rbe(),ibe="2.11.13",obe={"X-Client-Info":`realtime-js/${ibe}`},abe="1.0.0",sU=1e4,cbe=1e3;var ip;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ip||(ip={}));var sr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(sr||(sr={}));var ai;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ai||(ai={}));var fx;(function(t){t.websocket="websocket"})(fx||(fx={}));var ol;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ol||(ol={}));class lbe{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const c=r.decode(e.slice(o,o+i));o=o+i;const l=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}}class iU{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Nt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Nt||(Nt={}));const uO=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=ube(o,t,e,s),i),{})},ube=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?oU(i,o):px(o)},oU=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return pbe(e,n)}switch(t){case Nt.bool:return dbe(e);case Nt.float4:case Nt.float8:case Nt.int2:case Nt.int4:case Nt.int8:case Nt.numeric:case Nt.oid:return hbe(e);case Nt.json:case Nt.jsonb:return fbe(e);case Nt.timestamp:return gbe(e);case Nt.abstime:case Nt.date:case Nt.daterange:case Nt.int4range:case Nt.int8range:case Nt.money:case Nt.reltime:case Nt.text:case Nt.time:case Nt.timestamptz:case Nt.timetz:case Nt.tsrange:case Nt.tstzrange:return px(e);default:return px(e)}},px=t=>t,dbe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},hbe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},fbe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},pbe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>oU(e,a))}return t},gbe=t=>typeof t=="string"?t.replace(" ","T"):t,aU=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class r_{constructor(e,n,r={},s=sU){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var dO;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(dO||(dO={}));class op{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=op.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=op.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=op.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const d=i[l];if(d){const h=u.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),p=u.filter(y=>f.indexOf(y.presence_ref)<0),g=d.filter(y=>h.indexOf(y.presence_ref)<0);p.length>0&&(a[l]=p),g.length>0&&(c[l]=g)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var l;const u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,c)}),this.map(o,(a,c)=>{let l=e[a];if(!l)return;const u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,s(a,l,c),l.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hO;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(hO||(hO={}));var fO;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(fO||(fO={}));var Eo;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Eo||(Eo={}));class ZA{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=sr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new r_(this,ai.join,this.params,this.timeout),this.rejoinTimer=new iU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=sr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=sr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ai.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new op(this),this.broadcastEndpointURL=aU(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==sr.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(Eo.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Eo.CLOSED));const c={},l={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Eo.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,p=[];for(let g=0;g<f;g++){const y=h[g],{filter:{event:w,schema:b,table:v,filter:E}}=y,_=u&&u[g];if(_&&_.event===w&&_.schema===b&&_.table===v&&_.filter===E)p.push(Object.assign(Object.assign({},y),{id:_.id}));else{this.unsubscribe(),this.state=sr.errored,e==null||e(Eo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(Eo.SUBSCRIBED);return}}).receive("error",u=>{this.state=sr.errored,e==null||e(Eo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Eo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const l=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=sr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ai.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new r_(this,ai.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new r_(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=ai;if(r&&[a,c,l,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var p,g,y;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(g=f.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var p,g,y,w,b,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const E=f.id,_=(p=f.filter)===null||p===void 0?void 0:p.event;return E&&((g=n.ids)===null||g===void 0?void 0:g.includes(E))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const E=(b=(w=f==null?void 0:f.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return E==="*"||E===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:g,table:y,commit_timestamp:w,type:b,errors:v}=p;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:w,eventType:b,new:{},old:{},errors:v}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===sr.closed}_isJoined(){return this.state===sr.joined}_isJoining(){return this.state===sr.joining}_isLeaving(){return this.state===sr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ZA.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ai.close,{},e)}_onError(e){this._on(ai.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=sr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=uO(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=uO(e.columns,e.old_record)),n}}const pO=()=>{},mbe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ybe{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=obe,this.params={},this.timeout=sU,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pO,this.ref=0,this.logger=pO,this.conn=null,this.sendBuffer=[],this.serializer=new lbe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>nn(async()=>{const{default:c}=await Promise.resolve().then(()=>Nh);return{default:c}},void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${fx.websocket}`,this.httpEndpoint=aU(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new iU(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){this.conn||(this.transport||(this.transport=sbe),this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection())}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:abe}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ip.connecting:return ol.Connecting;case ip.open:return ol.Open;case ip.closing:return ol.Closing;default:return ol.Closed}}isConnected(){return this.connectionState()===ol.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new ZA(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(ai.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(cbe,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ai.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([mbe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class XA extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Cn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class wbe extends XA{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class gx extends XA{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var vbe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const cU=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>nn(async()=>{const{default:r}=await Promise.resolve().then(()=>Nh);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},bbe=()=>vbe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield nn(()=>Promise.resolve().then(()=>Nh),void 0)).Response:Response}),mx=t=>{if(Array.isArray(t))return t.map(n=>mx(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=mx(r)}),e};var yu=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const s_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_be=(t,e,n)=>yu(void 0,void 0,void 0,function*(){const r=yield bbe();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new wbe(s_(s),t.status||500))}).catch(s=>{e(new gx(s_(s),s))}):e(new gx(s_(t),t))}),Ebe=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function lm(t,e,n,r,s,i){return yu(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Ebe(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>_be(c,a,r))})})}function pw(t,e,n,r){return yu(this,void 0,void 0,function*(){return lm(t,"GET",e,n,r)})}function Ra(t,e,n,r,s){return yu(this,void 0,void 0,function*(){return lm(t,"POST",e,r,s,n)})}function Cbe(t,e,n,r,s){return yu(this,void 0,void 0,function*(){return lm(t,"PUT",e,r,s,n)})}function xbe(t,e,n,r){return yu(this,void 0,void 0,function*(){return lm(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function lU(t,e,n,r,s){return yu(this,void 0,void 0,function*(){return lm(t,"DELETE",e,r,s,n)})}var Dr=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const Sbe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Abe{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=cU(s)}uploadOrUpdate(e,n,r,s){return Dr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},gO),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const l=this._removeEmptyFolders(n),u=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Cn(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Dr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Dr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let c;const l=Object.assign({upsert:gO.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Cn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Dr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Ra(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new XA("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Cn(r))return{data:null,error:r};throw r}})}update(e,n,r){return Dr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Dr(this,void 0,void 0,function*(){try{return{data:yield Ra(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Cn(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Dr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ra(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Cn(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Dr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ra(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Cn(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Dr(this,void 0,void 0,function*(){try{const s=yield Ra(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Cn(s))return{data:null,error:s};throw s}})}download(e,n){return Dr(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield pw(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Cn(a))return{data:null,error:a};throw a}})}info(e){return Dr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield pw(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:mx(r),error:null}}catch(r){if(Cn(r))return{data:null,error:r};throw r}})}exists(e){return Dr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield xbe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Cn(r)&&r instanceof gx){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return Dr(this,void 0,void 0,function*(){try{return{data:yield lU(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Cn(n))return{data:null,error:n};throw n}})}list(e,n,r){return Dr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Sbe),n),{prefix:e||""});return{data:yield Ra(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Cn(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Ibe="2.7.1",Tbe={"X-Client-Info":`storage-js/${Ibe}`};var qu=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class Nbe{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Tbe),n),this.fetch=cU(r)}listBuckets(){return qu(this,void 0,void 0,function*(){try{return{data:yield pw(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Cn(e))return{data:null,error:e};throw e}})}getBucket(e){return qu(this,void 0,void 0,function*(){try{return{data:yield pw(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Cn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return qu(this,void 0,void 0,function*(){try{return{data:yield Ra(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Cn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return qu(this,void 0,void 0,function*(){try{return{data:yield Cbe(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Cn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return qu(this,void 0,void 0,function*(){try{return{data:yield Ra(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Cn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return qu(this,void 0,void 0,function*(){try{return{data:yield lU(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Cn(n))return{data:null,error:n};throw n}})}}class Pbe extends Nbe{constructor(e,n={},r){super(e,n,r)}from(e){return new Abe(this.url,this.headers,e,this.fetch)}}const kbe="2.50.1";let Pf="";typeof Deno<"u"?Pf="deno":typeof document<"u"?Pf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pf="react-native":Pf="node";const Obe={"X-Client-Info":`supabase-js-${Pf}/${kbe}`},Rbe={headers:Obe},$be={schema:"public"},Dbe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jbe={};var Ube=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const Lbe=t=>{let e;return t?e=t:typeof fetch>"u"?e=Gj:e=fetch,(...n)=>e(...n)},Mbe=()=>typeof Headers>"u"?Kj:Headers,Bbe=(t,e,n)=>{const r=Lbe(n),s=Mbe();return(i,o)=>Ube(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let l=new s(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:l}))})};var Fbe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function zbe(t){return t.endsWith("/")?t:t+"/"}function qbe(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:c,auth:l,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Fbe(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const uU="2.70.0",Zu=30*1e3,yx=3,i_=yx*Zu,Wbe="http://localhost:9999",Hbe="supabase.auth.token",Vbe={"X-Client-Info":`gotrue-js/${uU}`},wx="X-Supabase-Api-Version",dU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gbe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Kbe=6e5;class e2 extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Fe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ybe extends e2{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Jbe(t){return Fe(t)&&t.name==="AuthApiError"}class hU extends e2{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Lc extends e2{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class xa extends Lc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qbe(t){return Fe(t)&&t.name==="AuthSessionMissingError"}class by extends Lc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _y extends Lc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ey extends Lc{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zbe(t){return Fe(t)&&t.name==="AuthImplicitGrantRedirectError"}class mO extends Lc{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vx extends Lc{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function o_(t){return Fe(t)&&t.name==="AuthRetryableFetchError"}class yO extends Lc{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ap extends Lc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const gw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wO=` 	
\r=`.split(""),Xbe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<wO.length;e+=1)t[wO[e].charCodeAt(0)]=-2;for(let e=0;e<gw.length;e+=1)t[gw[e].charCodeAt(0)]=e;return t})();function vO(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(gw[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(gw[r]),e.queuedBits-=6}}function fU(t,e,n){const r=Xbe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function bO(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{n1e(o,r,n)};for(let o=0;o<t.length;o+=1)fU(t.charCodeAt(o),s,i);return e.join("")}function e1e(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function t1e(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}e1e(r,e)}}function n1e(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function r1e(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)fU(t.charCodeAt(s),n,r);return new Uint8Array(e)}function s1e(t){const e=[];return t1e(t,n=>e.push(n)),new Uint8Array(e)}function i1e(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>vO(s,n,r)),vO(null,n,r),e.join("")}function o1e(t){return Math.round(Date.now()/1e3)+t}function a1e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ti=()=>typeof window<"u"&&typeof document<"u",Yc={tested:!1,writable:!1},cp=()=>{if(!ti())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yc.tested)return Yc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Yc.tested=!0,Yc.writable=!0}catch{Yc.tested=!0,Yc.writable=!1}return Yc.writable};function c1e(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const pU=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>nn(async()=>{const{default:r}=await Promise.resolve().then(()=>Nh);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},l1e=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",gU=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Cy=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},xy=async(t,e)=>{await t.removeItem(e)};class Lv{constructor(){this.promise=new Lv.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Lv.promiseConstructor=Promise;function a_(t){const e=t.split(".");if(e.length!==3)throw new ap("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Gbe.test(e[r]))throw new ap("JWT not in base64url format");return{header:JSON.parse(bO(e[0])),payload:JSON.parse(bO(e[1])),signature:r1e(e[2]),raw:{header:e[0],payload:e[1]}}}async function u1e(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function d1e(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function h1e(t){return("0"+t.toString(16)).substr(-2)}function f1e(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,h1e).join("")}async function p1e(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function g1e(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await p1e(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wu(t,e,n=!1){const r=f1e();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await gU(t,`${e}-code-verifier`,s);const i=await g1e(r);return[i,r===i?"plain":"s256"]}const m1e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function y1e(t){const e=t.headers.get(wx);if(!e||!e.match(m1e))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function w1e(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function v1e(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const b1e=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hu(t){if(!b1e.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var _1e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const tl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),E1e=[502,503,504];async function _O(t){var e;if(!l1e(t))throw new vx(tl(t),0);if(E1e.includes(t.status))throw new vx(tl(t),t.status);let n;try{n=await t.json()}catch(i){throw new hU(tl(i),i)}let r;const s=y1e(t);if(s&&s.getTime()>=dU["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new yO(tl(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new xa}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new yO(tl(n),t.status,n.weak_password.reasons);throw new Ybe(tl(n),t.status||500,r)}const C1e=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Ke(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[wx]||(i[wx]=dU["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await x1e(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function x1e(t,e,n,r,s,i){const o=C1e(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new vx(tl(c),0)}if(a.ok||await _O(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await _O(c)}}function bo(t){var e;let n=null;T1e(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=o1e(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function EO(t){const e=bo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ma(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function S1e(t){return{data:t,error:null}}function A1e(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=_1e(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function I1e(t){return t}function T1e(t){return t.access_token&&t.refresh_token&&t.expires_in}const c_=["global","local","others"];var N1e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class P1e{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=pU(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=c_[0]){if(c_.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${c_.join(", ")}`);try{return await Ke(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ma})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=N1e(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:A1e,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Fe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ke(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ma})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,c;try{const l={nextPage:null,lastPage:0,total:0},u=await Ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:I1e});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);l[`${y}Page`]=g}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Fe(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Hu(e);try{return await Ke(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ma})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Hu(e);try{return await Ke(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ma})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Hu(e);try{return await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ma})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Hu(e.userId);try{const{data:n,error:r}=await Ke(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Hu(e.userId),Hu(e.id);try{return{data:await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}}const k1e={getItem:t=>cp()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{cp()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{cp()&&globalThis.localStorage.removeItem(t)}};function CO(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function O1e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Vu={debug:!!(globalThis&&cp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mU extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class R1e extends mU{}async function $1e(t,e,n){Vu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Vu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Vu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Vu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Vu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new R1e(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Vu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}O1e();const D1e={url:Wbe,storageKey:Hbe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vbe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function xO(t,e,n){return await n()}class Ag{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ag.nextInstanceID,Ag.nextInstanceID+=1,this.instanceID>0&&ti()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},D1e),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new P1e({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=pU(s.fetch),this.lock=s.lock||xO,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ti()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=$1e:this.lock=xO,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:cp()?this.storage=k1e:(this.memoryStorage={},this.storage=CO(this.memoryStorage)):(this.memoryStorage={},this.storage=CO(this.memoryStorage)),ti()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${uU}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=c1e(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ti()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Zbe(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Fe(n)?{error:n}:{error:new hU("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:bo}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(Fe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Wu(this.storage,this.storageKey)),i=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:p},xform:bo})}else if("phone"in e){const{phone:u,password:d,options:h}=e;i=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:bo})}else throw new _y("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(Fe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:EO})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:EO})}else throw new _y("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new by}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Fe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,c,l,u,d,h,f;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:y,wallet:w,statement:b,options:v}=e;let E;if(ti())if(typeof w=="object")E=w;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))E=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const _=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const x=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),b?{statement:b}:null));let S;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")S=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)S=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)p=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),g=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${_.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((d=(u=v==null?void 0:v.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...v.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const x=await E.signMessage(new TextEncoder().encode(p),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=x}}try{const{data:y,error:w}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:i1e(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:bo});if(w)throw w;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new by}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:w})}catch(y){if(Fe(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const n=await Cy(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:bo});if(await xy(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new by}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Fe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:bo}),{data:c,error:l}=a;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new by}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(n){if(Fe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:c}=e;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Wu(this.storage,this.storageKey));const{error:d}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:c}=e,{data:l,error:u}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new _y("You must provide either an email or phone number.")}catch(a){if(Fe(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:bo});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,l=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(Fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Wu(this.storage,this.storageKey)),await Ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:S1e})}catch(i){if(Fe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new xa;const{error:s}=await Ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Fe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await Ke(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await Ke(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new _y("You must provide either an email or phone number and a type")}catch(n){if(Fe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Cy(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<i_:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,l,u)=>(!o&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ma}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xa}:await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ma})})}catch(n){if(Fe(n))return Qbe(n)&&(await this._removeSession(),await xy(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new xa;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await Wu(this.storage,this.storageKey));const{data:l,error:u}=await Ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:Ma});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new xa;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=a_(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Fe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new xa;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Fe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ti())throw new Ey("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ey(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new mO("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ey("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new mO("No code detected.");const{data:b,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:l}=e;if(!i||!a||!o||!l)throw new Ey("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;c&&(h=parseInt(c));const f=h-u;f*1e3<=Zu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const p=h-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const w={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:l,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(r){if(Fe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Cy(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Jbe(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await xy(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=a1e(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Wu(this.storage,this.storageKey,!0));try{return await Ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Fe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,c,l,u;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ke(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return ti()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Fe(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Ke(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await d1e(async s=>(s>0&&await u1e(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:bo})),(s,i)=>{const o=200*Math.pow(2,s);return i&&o_(i)&&Date.now()+o-r<Zu})}catch(r){if(this._debug(n,"error",r),Fe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ti()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Cy(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<i_;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${i_}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),o_(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new xa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Lv;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new xa;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),Fe(i)){const o={session:null,error:i};return o_(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await gU(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await xy(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ti()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Zu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Zu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Zu}ms, refresh threshold is ${yx} ticks`),s<=yx&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof mU)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ti()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Wu(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Ke(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:l}=await Ke(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await Ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=a_(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Kbe>Date.now()))return r;const{data:s,error:i}=await Ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new ap("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new ap("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};r=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:c}}=a_(r);if(w1e(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const l=v1e(s.alg),u=await this.fetchJwk(s.kid,n),d=await crypto.subtle.importKey("jwk",u,l,!0,["verify"]);if(!await crypto.subtle.verify(l,d,o,s1e(`${a}.${c}`)))throw new ap("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}}Ag.nextInstanceID=0;const j1e=Ag;class U1e extends j1e{constructor(e){super(e)}}var L1e=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class M1e{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=zbe(e),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const l=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:$be,realtime:jbe,auth:Object.assign(Object.assign({},Dbe),{storageKey:l}),global:Rbe},d=qbe(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Bbe(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new nbe(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Ove(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Pbe(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return L1e(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:c},l,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new U1e({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new ybe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yU=(t,e,n)=>new M1e(t,e,n),B1e="https://roxwocgknkiqnsgiojgz.supabase.co",F1e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJveHdvY2drbmtpcW5zZ2lvamd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzA3NjMxMTIsImV4cCI6MjA0NjMzOTExMn0.NbLMZom-gk7XYGdV4MtXYcgR8R1s8xthrIQ0hpQfx9Y",Jc=yU(B1e,F1e),Ri={AI:"ai",ONLINE:"online"},Sy={R:"/images/redrook.png",N:"/images/redknight.png",B:"/images/redbishop.png",Q:"/images/redqueen.png",K:"/images/redking.png",P:"/images/redpawn.png",r:"/images/bluerook.png",n:"/images/blueknight.png",b:"/images/bluebishop.png",q:"/images/bluequeen.png",k:"/images/blueking.png",p:"/images/bluepawn.png"},SO=[["R","N","B","Q","K","B","N","R"],["P","P","P","P","P","P","P","P"],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],["p","p","p","p","p","p","p","p"],["r","n","b","q","k","b","n","r"]],z1e=[{key:"K",name:"Red King",img:"/images/redking.png",desc:"The King moves one square in any direction. Protect your King at all costs!"},{key:"Q",name:"Red Queen",img:"/images/redqueen.png",desc:"The Queen moves any number of squares in any direction."},{key:"R",name:"Red Rook",img:"/images/redrook.png",desc:"The Rook moves any number of squares horizontally or vertically."},{key:"B",name:"Red Bishop",img:"/images/redbishop.png",desc:"The Bishop moves any number of squares diagonally."},{key:"N",name:"Red Knight",img:"/images/redknight.png",desc:"The Knight moves in an L-shape: two squares in one direction, then one square perpendicular."},{key:"P",name:"Red Pawn",img:"/images/redpawn.png",desc:"The Pawn moves forward one square, with the option to move two squares on its first move. Captures diagonally."},{key:"k",name:"Blue King",img:"/images/blueking.png",desc:"The King moves one square in any direction. Protect your King at all costs!"},{key:"q",name:"Blue Queen",img:"/images/bluequeen.png",desc:"The Queen moves any number of squares in any direction."},{key:"r",name:"Blue Rook",img:"/images/bluerook.png",desc:"The Rook moves any number of squares horizontally or vertically."},{key:"b",name:"Blue Bishop",img:"/images/bluebishop.png",desc:"The Bishop moves any number of squares diagonally."},{key:"n",name:"Blue Knight",img:"/images/blueknight.png",desc:"The Knight moves in an L-shape: two squares in one direction, then one square perpendicular."},{key:"p",name:"Blue Pawn",img:"/images/bluepawn.png",desc:"The Pawn moves forward one square, with the option to move two squares on its first move. Captures diagonally."}],q1e=({onClose:t,onMinimize:e})=>{const{address:n}=Wg(),[r,s]=F.useState(Ri.AI),[i,o]=F.useState(()=>JSON.parse(JSON.stringify(SO))),[a,c]=F.useState("blue"),[l,u]=F.useState(null),[d,h]=F.useState("active"),[f,p]=F.useState("easy"),[g,y]=F.useState("Connect wallet to play"),[w,b]=F.useState([]),[v,E]=F.useState([]),[_,x]=F.useState([]),[S,T]=F.useState(null),[C,O]=F.useState(!1),[R,L]=F.useState(!1),[z,M]=F.useState(!1),[A,I]=F.useState(!1),[D,N]=F.useState(null),[k,U]=F.useState(""),[j,q]=F.useState(.1),[K,H]=F.useState({blueKingMoved:!1,redKingMoved:!1,blueRooksMove:{left:!1,right:!1},redRooksMove:{left:!1,right:!1},lastPawnDoubleMove:null}),Q=F.useRef(null),Z=F.useRef(!1),le=F.useRef(i);F.useEffect(()=>{le.current=i},[i]),F.useEffect(()=>{n?y("Select game mode"):(y("Connect wallet to play"),M(!1),O(!1),L(!1))},[n]),F.useEffect(()=>(console.log("AI worker disabled for testing"),y("AI worker disabled for testing"),()=>{Q.current&&Q.current.terminate()}),[]),F.useEffect(()=>{Ce()},[]);const Ce=async()=>{try{const V=new Promise((ie,xe)=>window.setTimeout(()=>xe(new Error("Database timeout")),1e4)),W=Jc.from("leaderboard").select("*").order("points",{ascending:!1}),{data:G,error:ne}=await Promise.race([W,V]);if(ne){y("Failed to load leaderboard"),console.error("Leaderboard error:",ne);return}G&&E(G)}catch(V){y("Failed to load leaderboard"),console.error("Leaderboard error:",V)}},Se=async V=>{if(n)try{const W=n.toLowerCase(),{data:G}=await Jc.from("leaderboard").select("*").eq("username",W).maybeSingle(),ne=((G==null?void 0:G.wins)||0)+(V==="win"?1:0),ie=((G==null?void 0:G.losses)||0)+(V==="loss"?1:0),xe=((G==null?void 0:G.draws)||0)+(V==="draw"?1:0),Re=ne+ie+xe,Qe=V==="win"?f==="hard"?5:3:V==="draw"?1:0,_t=((G==null?void 0:G.points)||0)+Qe;G?await Jc.from("leaderboard").update({wins:ne,losses:ie,draws:xe,total_games:Re,points:_t,updated_at:new Date().toISOString()}).eq("username",W):await Jc.from("leaderboard").insert({username:W,chain_type:"evm",wins:ne,losses:ie,draws:xe,total_games:Re,points:_t,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),Ce()}catch(W){console.error("Error updating score:",W)}},Oe=V=>V&&V===V.toUpperCase()?"red":"blue",Mt=(V,W)=>V>=0&&V<8&&W>=0&&W<8,Yt=(V,W)=>`${String.fromCharCode(97+W)}${8-V}`,Ge=(V,W)=>{const G=W==="blue"?"k":"K";let ne=null;for(let Re=0;Re<8;Re++){for(let Qe=0;Qe<8;Qe++)if(V[Re][Qe]===G){ne={row:Re,col:Qe};break}if(ne)break}if(!ne)return console.log(`King not found for ${W}`),!1;const ie=W==="blue"?"red":"blue",xe=Je(ne.row,ne.col,ie,V);return console.log(`${W} king at ${ne.row},${ne.col} under attack: ${xe}`),xe},Je=(V,W,G,ne)=>{for(let ie=0;ie<8;ie++)for(let xe=0;xe<8;xe++){const Re=ne[ie][xe];if(Re&&Oe(Re)===G&&Xo(Re,ie,xe,V,W,!1,G,ne))return!0}return!1},Jt=(V,W,G,ne,ie,xe=i)=>{const Re=xe.map(_t=>[..._t]),Qe=Re[V][W];return Re[G][ne]=Qe,Re[V][W]=null,Ge(Re,ie)},Rt=(V,W,G,ne,ie,xe)=>{const Re=V==="blue"?-1:1,Qe=V==="blue"?6:1;if(G===ie&&ne===W+Re)return xe[ne][ie]===null;if(G===ie&&W===Qe&&ne===W+2*Re)return xe[W+Re][G]===null&&xe[ne][ie]===null;if(Math.abs(G-ie)===1&&ne===W+Re){const _t=xe[ne][ie];return _t!==null&&Oe(_t)!==V}if(Math.abs(G-ie)===1&&ne===W+Re){const _t=xe[W][ie];if(_t&&Oe(_t)!==V&&_t.toLowerCase()==="p"&&K.lastPawnDoubleMove&&K.lastPawnDoubleMove.row===W&&K.lastPawnDoubleMove.col===ie)return!0}return!1},Kn=(V,W,G,ne,ie)=>V!==G&&W!==ne?!1:Zo(V,W,G,ne,ie),Si=(V,W,G,ne)=>{const ie=Math.abs(V-G),xe=Math.abs(W-ne);return ie===2&&xe===1||ie===1&&xe===2},zt=(V,W,G,ne,ie)=>Math.abs(V-G)!==Math.abs(W-ne)?!1:Zo(V,W,G,ne,ie),an=(V,W,G,ne,ie)=>Kn(V,W,G,ne,ie)||zt(V,W,G,ne,ie),ur=(V,W,G,ne,ie)=>{const xe=Math.abs(W-ne),Re=Math.abs(G-ie);if(xe<=1&&Re<=1)return!0;if(xe===0&&Re===2){if(V==="blue"&&!K.blueKingMoved){if(ie===6&&!K.blueRooksMove.right||ie===2&&!K.blueRooksMove.left)return!0}else if(V==="red"&&!K.redKingMoved&&(ie===6&&!K.redRooksMove.right||ie===2&&!K.redRooksMove.left))return!0}return!1},Zo=(V,W,G,ne,ie)=>{const xe=V===G?0:(G-V)/Math.abs(G-V),Re=W===ne?0:(ne-W)/Math.abs(ne-W);let Qe=V+xe,_t=W+Re;for(;Qe!==G||_t!==ne;){if(ie[Qe][_t]!==null)return!1;Qe+=xe,_t+=Re}return!0},Xo=(V,W,G,ne,ie,xe=!0,Re=Oe(V),Qe=i)=>{if(!Mt(ne,ie))return!1;const _t=Qe[ne][ie];if(_t&&Oe(_t)===Re)return!1;const Mv=V.toLowerCase();let dr=!1;switch(Mv){case"p":dr=Rt(Re,W,G,ne,ie,Qe);break;case"r":dr=Kn(W,G,ne,ie,Qe);break;case"n":dr=Si(W,G,ne,ie);break;case"b":dr=zt(W,G,ne,ie,Qe);break;case"q":dr=an(W,G,ne,ie,Qe);break;case"k":dr=ur(Re,W,G,ne,ie);break}return dr&&xe?!Jt(W,G,ne,ie,Re,Qe):dr},Ai=(V,W=i,G=a)=>{const ne=[],ie=W[V.row][V.col];if(!ie||Oe(ie)!==G)return ne;for(let xe=0;xe<8;xe++)for(let Re=0;Re<8;Re++)Xo(ie,V.row,V.col,xe,Re,!0,G,W)&&ne.push({row:xe,col:Re});return ne},kn=(V,W=i)=>{if(!Ge(W,V))return!1;for(let G=0;G<8;G++)for(let ne=0;ne<8;ne++){const ie=W[G][ne];if(ie&&Oe(ie)===V&&Ai({row:G,col:ne},W,V).length>0)return!1}return!0},Ar=(V,W=i)=>{if(Ge(W,V))return!1;for(let G=0;G<8;G++)for(let ne=0;ne<8;ne++){const ie=W[G][ne];if(ie&&Oe(ie)===V&&Ai({row:G,col:ne},W,V).length>0)return!1}return!0},Mc=(V,W)=>{if(d!=="active"||Z.current)return;const G=i[V][W],ne=G?Oe(G):null;if(l&&_.some(ie=>ie.row===V&&ie.col===W)){kh(l,{row:V,col:W});return}if(G&&ne===a){const ie=Ai({row:V,col:W});u({row:V,col:W}),x(ie);return}u(null),x([])},kh=(V,W,G=!1)=>{const ne=i[V.row][V.col];if(!ne)return;const ie=Oe(ne);if(ne.toLowerCase()==="p"&&(ie==="blue"&&W.row===0||ie==="red"&&W.row===7)){N({from:V,to:W}),I(!0);return}ea(V,W,"q",G)},ea=(V,W,G="q",ne=!1)=>{const ie=i[V.row][V.col];i[W.row][W.col];const xe=Oe(ie),Re=ie?ie.toLowerCase():"",Qe=i.map(ta=>[...ta]);Qe[W.row][W.col]=Re==="p"&&(xe==="blue"&&W.row===0||xe==="red"&&W.row===7)?xe==="blue"?G:G.toUpperCase():ie,Qe[V.row][V.col]=null;const _t={...K};Re==="k"?xe==="blue"?_t.blueKingMoved=!0:_t.redKingMoved=!0:Re==="r"&&(xe==="blue"?(V.col===0&&(_t.blueRooksMove.left=!0),V.col===7&&(_t.blueRooksMove.right=!0)):(V.col===0&&(_t.redRooksMove.left=!0),V.col===7&&(_t.redRooksMove.right=!0))),Re==="p"&&Math.abs(V.row-W.row)===2?_t.lastPawnDoubleMove={row:W.row,col:W.col}:_t.lastPawnDoubleMove=null,Re==="k"&&Math.abs(V.col-W.col)===2&&(W.col===6?(Qe[V.row][7]=null,Qe[V.row][5]=xe==="blue"?"r":"R"):W.col===2&&(Qe[V.row][0]=null,Qe[V.row][3]=xe==="blue"?"r":"R")),o(Qe),H(_t),u(null),x([]),T({from:V,to:W});const Mv=`${Yt(V.row,V.col)}-${Yt(W.row,W.col)}`;b(ta=>[...ta,Mv]);const dr=o2(a),Bv=um(Qe,dr);if(Bv){h(Bv),r===Ri.AI&&Se(Bv==="checkmate"?dr==="blue"?"win":"loss":"draw");return}c(dr),!ne&&r===Ri.AI&&dr==="red"&&d==="active"?(y("AI is thinking..."),Z.current=!0,setTimeout(()=>{const ta=bU(Qe);ta?((Bc,Fc,a2="q")=>{const dm=Qe[Bc.row][Bc.col];if(!dm)return;const Fv=Oe(dm),PU=dm.toLowerCase(),hm=Qe.map(pm=>[...pm]);hm[Fc.row][Fc.col]=PU==="p"&&(Fv==="blue"&&Fc.row===0||Fv==="red"&&Fc.row===7)?Fv==="blue"?a2:a2.toUpperCase():dm,hm[Bc.row][Bc.col]=null,o(hm),u(null),x([]),T({from:Bc,to:Fc});const kU=`${Yt(Bc.row,Bc.col)}-${Yt(Fc.row,Fc.col)}`;b(pm=>[...pm,kU]);const fm=o2(dr),zv=um(hm,fm);if(zv){h(zv),r===Ri.AI&&Se(zv==="checkmate"?fm==="blue"?"win":"loss":"draw");return}c(fm),y(`Your turn (${fm})`)})(ta.from,ta.to,"q"):y("AI could not find a move"),Z.current=!1},1e3)):y(`Your turn (${dr})`)},um=(V,W)=>(console.log("Checking game end for player:",W),console.log("Is king in check:",Ge(V,W)),kn(W,V)?(console.log("CHECKMATE detected!"),y(`Checkmate! ${W==="blue"?"Red":"Blue"} wins!`),"checkmate"):Ar(W,V)?(console.log("STALEMATE detected!"),y("Stalemate! Game is a draw."),"stalemate"):(Ge(V,W)?(console.log("CHECK detected!"),y(`${W==="blue"?"Blue":"Red"} is in check!`)):y(`Your turn (${W})`),null)),bU=V=>{const W=[];for(let G=0;G<8;G++)for(let ne=0;ne<8;ne++){const ie=V[G][ne];ie&&Oe(ie)==="red"&&W.push({row:G,col:ne})}for(let G=W.length-1;G>0;G--){const ne=Math.floor(Math.random()*(G+1));[W[G],W[ne]]=[W[ne],W[G]]}for(const G of W){const ne=Ai(G,V,"red");if(ne.length>0){const ie=ne[Math.floor(Math.random()*ne.length)],xe=V.map(Qe=>[...Qe]),Re=xe[G.row][G.col];if(xe[ie.row][ie.col]=Re,xe[G.row][G.col]=null,!Ge(xe,"red"))return{from:G,to:ie}}}return null},n2=()=>{o(JSON.parse(JSON.stringify(SO))),c("blue"),u(null),h("active"),b([]),x([]),T(null),M(!1),O(!1),L(!1),y("Select game mode"),H({blueKingMoved:!1,redKingMoved:!1,blueRooksMove:{left:!1,right:!1},redRooksMove:{left:!1,right:!1},lastPawnDoubleMove:null}),Z.current&&(Z.current=!1)},_U=()=>{console.log("startAIGame called"),O(!0),L(!1),y("Select difficulty")},EU=()=>{console.log("startMultiplayerGame called"),L(!0),O(!1),y("Set wager and create/join game")},r2=()=>{console.log("startGame called, difficulty:",f,"gameMode:",r),M(!0),O(!1),L(!1),y(`Your turn (${a})`)},CU=async()=>{if(n)try{const V=Math.random().toString(36).substring(2,8).toUpperCase(),{error:W}=await Jc.from("chess_games").insert({game_id:V,blue_player:n,board:JSON.stringify({positions:i,piece_state:K}),current_player:"blue",game_state:"waiting",bet_amount:j,chain:"evm",is_public:!0});if(W)throw W;y(`Game created! Share code: ${V}`)}catch(V){console.error("Error creating game:",V),y("Failed to create game")}},xU=async()=>{if(!(!n||!k))try{const{data:V,error:W}=await Jc.from("chess_games").select("*").eq("game_id",k).eq("game_state","waiting").single();if(W||!V){y("Game not found or already full");return}const{error:G}=await Jc.from("chess_games").update({red_player:n,game_state:"active",updated_at:new Date().toISOString()}).eq("game_id",k);if(G)throw G;y("Joined game! Waiting for opponent..."),r2()}catch(V){console.error("Error joining game:",V),y("Failed to join game")}},s2=V=>`${V.slice(0,6)}...${V.slice(-4)}`,SU=(V,W)=>{const G=i[V][W],ne=(l==null?void 0:l.row)===V&&(l==null?void 0:l.col)===W,ie=_.some(Re=>Re.row===V&&Re.col===W),xe=S&&(S.from.row===V&&S.from.col===W||S.to.row===V&&S.to.col===W);return m.jsxs("div",{className:`square ${ne?"selected":""} ${ie?"legal-move":""} ${xe?"last-move":""}`,onClick:()=>Mc(V,W),children:[G&&m.jsx("div",{className:"piece",style:{backgroundImage:Sy[G]?`url(${Sy[G]})`:void 0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),ie&&m.jsx("div",{className:"legal-move-indicator"})]},`${V}-${W}`)},AU=()=>{if(!A||!D)return null;const V=a==="blue"?["q","r","b","n"]:["Q","R","B","N"];return m.jsx("div",{className:"promotion-dialog",children:m.jsxs("div",{className:"promotion-content",children:[m.jsx("h3",{children:"Choose promotion piece:"}),m.jsx("div",{className:"promotion-pieces",children:V.map(W=>m.jsx("div",{className:"promotion-piece",onClick:()=>{ea(D.from,D.to,W),I(!1),N(null)},style:{backgroundImage:Sy[W]?`url(${Sy[W]})`:void 0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}},W))})]})})},[IU,TU]=F.useState(null),i2=(V=!1,W="Click a piece to learn more about it.")=>m.jsxs("div",{className:`piece-gallery${V?" piece-gallery-sm":""}`,children:[m.jsx("h3",{children:"Lawbstation Chess Pieces"}),m.jsx("div",{className:"piece-gallery-grid",children:z1e.map(G=>m.jsxs("div",{className:"piece-gallery-item",onClick:()=>TU(G.key),children:[m.jsx("img",{src:G.img,alt:G.name,className:"piece-gallery-img"}),m.jsx("div",{className:"piece-gallery-name",children:G.name}),IU===G.key&&m.jsx("div",{className:"piece-gallery-desc",children:G.desc})]},G.key))}),m.jsx("div",{className:"piece-gallery-tip",children:W})]}),NU=()=>m.jsxs("div",{className:"difficulty-selection-row",children:[m.jsx("div",{className:"difficulty-gallery-col",children:i2(!0,"click for chess piece movements")}),m.jsxs("div",{className:"difficulty-controls-col",children:[m.jsxs("div",{className:"difficulty-selection-panel",children:[m.jsx("h3",{children:"Select Difficulty"}),m.jsx("button",{className:`difficulty-btn ${f==="easy"?"selected":""}`,onClick:()=>p("easy"),children:"Easy"}),m.jsx("button",{className:`difficulty-btn ${f==="hard"?"selected":""}`,onClick:()=>p("hard"),children:"Kinda Harder"}),m.jsx("button",{className:"start-btn",onClick:r2,children:"Start Game"})]}),m.jsx("div",{className:"difficulty-leaderboard-panel",children:m.jsxs("div",{className:"leaderboard",children:[m.jsx("h3",{children:"Leaderboard"}),m.jsx("div",{className:"leaderboard-table",children:m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Rank"}),m.jsx("th",{children:"Player"}),m.jsx("th",{children:"W"}),m.jsx("th",{children:"L"}),m.jsx("th",{children:"D"}),m.jsx("th",{children:"Points"})]})}),m.jsx("tbody",{children:v.slice(0,10).map((V,W)=>{const G=V;return m.jsxs("tr",{children:[m.jsx("td",{children:W+1}),m.jsx("td",{children:s2(G.username)}),m.jsx("td",{children:G.wins}),m.jsx("td",{children:G.losses}),m.jsx("td",{children:G.draws}),m.jsx("td",{children:G.points})]},G.username)})})]})})]})})]})]}),o2=V=>V==="blue"?"red":"blue";return n?m.jsxs("div",{className:"chess-game",children:[m.jsxs("div",{className:"chess-header",children:[m.jsx("h2",{children:"Lawb Chess"}),m.jsxs("div",{className:"chess-controls",children:[e&&m.jsx("button",{onClick:e,children:"_"}),m.jsx("button",{onClick:t,children:""})]})]}),m.jsxs("div",{className:"chess-content",children:[!z&&!C&&!R&&m.jsx("div",{className:"gallery-main-area",children:i2(!1)}),!z&&!C&&!R&&m.jsxs("div",{className:"game-mode-selection",children:[m.jsx("h3",{children:"Select Game Mode"}),m.jsx("button",{className:`mode-btn ${r===Ri.AI?"selected":""}`,onClick:()=>s(Ri.AI),children:"VS the House"}),m.jsx("button",{className:`mode-btn ${r===Ri.ONLINE?"selected":""}`,onClick:()=>s(Ri.ONLINE),disabled:!0,children:"PvP Under Construction"}),m.jsx("button",{className:"start-btn",onClick:()=>{r===Ri.AI?_U():EU()},children:"Continue"})]}),C&&NU(),R&&m.jsxs("div",{className:"multiplayer-selection",children:[m.jsx("h3",{children:"Multiplayer"}),m.jsxs("div",{className:"wager-input",children:[m.jsx("label",{children:"Wager (ETH):"}),m.jsx("input",{type:"number",value:j,onChange:V=>q(parseFloat(V.target.value)||.1),min:"0.01",step:"0.01"})]}),m.jsx("button",{onClick:CU,children:"Create Game"}),m.jsxs("div",{className:"join-game",children:[m.jsx("input",{type:"text",value:k,onChange:V=>U(V.target.value),placeholder:"Enter invite code"}),m.jsx("button",{onClick:xU,children:"Join Game"})]}),g&&g.includes("Game created!")&&m.jsx("div",{className:"game-created",children:m.jsx("p",{children:g})})]}),z&&m.jsxs("div",{className:"game-container",children:[m.jsx("div",{className:"left-sidebar",children:m.jsxs("div",{className:"move-history",children:[m.jsx("h4",{children:"Move History"}),m.jsx("div",{className:"moves",children:w.slice().reverse().map((V,W)=>m.jsxs("span",{className:"move",children:[Math.floor((w.length-1-W)/2)+1,".",(w.length-1-W)%2===0?"":" ",V]},w.length-1-W))})]})}),m.jsxs("div",{className:"game-main",children:[m.jsxs("div",{className:"game-info",children:[m.jsx("div",{className:"status",children:g}),m.jsxs("div",{className:"current-player",children:["Current: ",a==="blue"?"Blue":"Red"]}),m.jsxs("div",{className:"wager-display",children:["Wager: ",r===Ri.AI?"NA":`${j} ETH`]})]}),m.jsx("div",{className:"chessboard-container",children:m.jsx("div",{className:"chessboard",children:Array.from({length:8},(V,W)=>m.jsx("div",{className:"board-row",children:Array.from({length:8},(G,ne)=>SU(W,ne))},W))})}),m.jsxs("div",{className:"game-controls",children:[m.jsx("button",{onClick:n2,children:"New Game"}),m.jsx("button",{onClick:n2,children:"Back to Menu"})]})]}),!z&&!C&&!R&&m.jsx("div",{className:"right-sidebar",children:m.jsxs("div",{className:"leaderboard",children:[m.jsx("h3",{children:"Leaderboard"}),m.jsx("div",{className:"leaderboard-table",children:m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Rank"}),m.jsx("th",{children:"Player"}),m.jsx("th",{children:"W"}),m.jsx("th",{children:"L"}),m.jsx("th",{children:"D"}),m.jsx("th",{children:"Points"})]})}),m.jsx("tbody",{children:v.slice(0,10).map((V,W)=>{const G=V;return m.jsxs("tr",{children:[m.jsx("td",{children:W+1}),m.jsx("td",{children:s2(G.username)}),m.jsx("td",{children:G.wins}),m.jsx("td",{children:G.losses}),m.jsx("td",{children:G.draws}),m.jsx("td",{children:G.points})]},G.username)})})]})})]})})]})]}),AU()]}):m.jsxs("div",{className:"chess-game",children:[m.jsxs("div",{className:"chess-header",children:[m.jsx("h2",{children:"Lawb Chess"}),m.jsxs("div",{className:"chess-controls",children:[e&&m.jsx("button",{onClick:e,children:"_"}),m.jsx("button",{onClick:t,children:""})]})]}),m.jsx("div",{className:"chess-content",children:m.jsx("div",{className:"wallet-required",children:m.jsx("p",{children:"Connect your wallet to play chess"})})})]})},W1e=Ws({body:{margin:0,height:"100vh",width:"100vw",fontFamily:"'MS Sans Serif', Arial, sans-serif",color:"#000",cursor:'url("/assets/lawbpointer.png"), auto'}});function H1e(){const t=W1e(),{open:e}=kv(),{address:n,isConnected:r}=Wg(),{isPending:s}=s5(),{disconnect:i}=i5(),{data:o}=o5({address:n}),[a,c]=F.useState("pixelawbs-popup"),[l,u]=F.useState(new Set),[d,h]=F.useState(!1),[f,p]=F.useState(!1),[g,y]=F.useState(!1),[w,b]=F.useState(!1),v=F.useRef(null);F.useEffect(()=>{if(a==="halloween-popup"&&v.current){const D=v.current.querySelector("script[data-tiktok-embed]");D&&D.remove();const N=document.createElement("script");N.src="https://www.tiktok.com/embed.js",N.async=!0,N.setAttribute("data-tiktok-embed","true"),v.current.appendChild(N)}},[a]);const E=(D,N,k)=>{if(D==="url"&&k)window.open(k,"_blank");else if(D==="popup"&&N)c(N),u(U=>{const j=new Set(U);return j.delete(N),j}),document.body.offsetWidth;else if(D==="wallet")r?i():e();else if(D==="mint"){if(!n){alert("Please connect your wallet first!");return}h(!0)}else D==="nft-gallery"?p(!0):D==="meme-generator"?y(!0):D==="chess"&&b(!0)},_=()=>c(null),x=D=>{u(N=>new Set(N).add(D)),c(null)},S=D=>{D==="mint-popup"?h(!0):D==="nft-gallery-popup"?p(!0):D==="meme-generator-popup"?y(!0):D==="chess-game-popup"?b(!0):c(D),u(N=>{const k=new Set(N);return k.delete(D),k})},T=()=>h(!1),C=()=>p(!1),O=()=>y(!1),R=()=>b(!1),L=()=>{h(!1),u(D=>new Set(D).add("mint-popup"))},z=()=>{p(!1),u(D=>new Set(D).add("nft-gallery-popup"))},M=()=>{y(!1),u(D=>new Set(D).add("meme-generator-popup"))},A=()=>{b(!1),u(D=>new Set(D).add("chess-game-popup"))},I=m.jsxs("div",{onClick:()=>{r?i():e()},style:{cursor:"pointer",display:"flex",alignItems:"center",color:r?"limegreen":"red",fontWeight:"bold"},children:[m.jsx("span",{style:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:r?"limegreen":"red",marginRight:"8px",border:"1px solid black"}}),s?"Connecting...":r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Disconnected"]});return m.jsxs("div",{className:t.body,children:[m.jsx(AQ,{onIconClick:E}),m.jsx(TQ,{minimizedWindows:Array.from(l),onRestoreWindow:S,walletButton:I,connectionStatus:{connected:r,address:n,ens:o||void 0}}),m.jsxs(Ts,{id:"chat-popup",isOpen:a==="chat-popup",onClose:_,onMinimize:x,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["join the chat, there is no meme we lawb you ",m.jsx("a",{href:"https://boards.miladychan.org/milady/33793",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"/milady/33793"})]}),m.jsx("img",{src:"/assets/miladychanfaq.png",alt:"Milady Chan FAQ",style:{maxWidth:"100%",marginTop:"10px"}})]}),m.jsxs(Ts,{id:"purity-popup",isOpen:a==="purity-popup",onClose:_,onMinimize:x,children:[m.jsx("p",{style:{marginBottom:"10px"},children:"purify your wallet and cleanse your soul with Purity Finance."}),m.jsx("p",{style:{marginBottom:"10px"},children:"swap any sol token in your wallet directly for $LAWB"}),m.jsx("a",{href:"https://www.purity.finance/lawb",target:"_blank",rel:"noopener noreferrer",style:{cursor:"pointer"},children:"click to Purify"}),m.jsx("img",{src:"/assets/puritylawb.png",alt:"Purity Lawb",style:{maxWidth:"100%",marginTop:"10px"}})]}),m.jsxs(Ts,{id:"lawbstarz-popup",isOpen:a==="lawbstarz-popup",onClose:_,onMinimize:x,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:[" LAWBSTARZ 666x LOBSTERS DRIPPED IN BUTTER  666x PREMIUM PFP COLLECTION  LAWBSTARZ IS A MUSIC NFT  LAWBSTARZ IS AN ",m.jsx("a",{href:"https://allstarz.world",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"ALLSTARZ"})," DERIVATIVE  LAWBSTARZ IS INSPIRED BY ",m.jsx("a",{href:"https://www.remilia.org/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"REMILIA CORP"}),"  LED BY NETWORK SPIRITUALITY  666 ",m.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"CIGAWRETTEPACKS"})," WERE CONSUMED BY ",m.jsx("a",{href:"https://x.com/portionclub69",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"PORTIONCLUB69"})," AND FRIENDS DURING THE CREATION OF LAWBSTARZ v1 "]}),m.jsx("p",{children:"Chain: Ethereum"}),m.jsxs("p",{children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0xd7922cd333da5ab3758c95f774b092a7b13a5449",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/lawbstarz.gif",alt:"Lawbstarz",style:{maxWidth:"100%",marginTop:"10px"}}),m.jsx("img",{src:"/assets/lawbstarzhotelroom.png",alt:"Lawbstarz Hotel Room",style:{maxWidth:"100%",marginTop:"10px"}}),m.jsx("img",{src:"/assets/tile-06-audio-image0-lawbstarz dj set 1.0 copy.png",alt:"Lawbstarz DJ Set",style:{maxWidth:"100%",marginTop:"10px"}})]}),m.jsxs(Ts,{id:"lawbstation-popup",isOpen:a==="lawbstation-popup",onClose:_,onMinimize:x,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["Lawbstations: low poly Lawbsters viewed through various cathode-ray tubes built on ",m.jsx("a",{href:"https://www.miladystation2.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"MiladyStation"})," technology. Inspired by Milady, Allstarz, Rusty Rollers, Cigawrette Packs, SPX6900 and Radbro. Brought to you in part by PortionClub and Mony Corp Group. LawbStations seem nice but a lobster controlled by MiladyStation will never achieve anything without a roadmap."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Solana"}),m.jsx("p",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://magiceden.us/marketplace/lawbstation",target:"_blank",rel:"noopener noreferrer",children:"Collect Lawbstations on Secondary"})}),m.jsx("img",{src:"/assets/lawbstation.GIF",alt:"Lawbstation",style:{width:"100%",marginTop:"10px"}}),m.jsx("video",{controls:!0,src:"/assets/lawbstation.mp4",style:{width:"100%",marginTop:"10px"}})]}),m.jsxs(Ts,{id:"nexus-popup",isOpen:a==="nexus-popup",onClose:_,onMinimize:x,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["1000 Xtra Ultra High Definition Lawbsters, packaged and distributed on Solana. Collect on ",m.jsx("a",{href:"https://magiceden.us/marketplace/lawbnexus",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/nexus.gif",alt:"Nexus",style:{width:"100%",marginBottom:"10px"}}),m.jsx("video",{controls:!0,src:"/assets/nexusminting.mp4",style:{width:"100%"}})]}),m.jsxs(Ts,{id:"lawbsters-popup",isOpen:a==="lawbsters-popup",onClose:_,onMinimize:x,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["420 Lawbsters seem nice but a human controlled by a lobster would never amount to anything without a roadmap. A ",m.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Cigawrette Packs"})," derivative."]}),m.jsx("p",{children:"Chain: Ethereum"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x0ef7ba09c38624b8e9cc4985790a2f5dbfc1dc42",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})," or ",m.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/buy/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"NFTX"})]}),m.jsx("div",{style:{maxWidth:"400px",margin:"0 auto"},children:m.jsx(VG,{id:"1620879129850834944"})}),m.jsx("img",{src:"/assets/lawbsters.gif",alt:"Lawbsters",style:{width:"100%",marginTop:"10px"}})]}),m.jsx(Ts,{id:"pixelawbs-popup",isOpen:a==="pixelawbs-popup",onClose:_,onMinimize:x,children:(()=>{const D=N=>{N.preventDefault(),c(null),h(!0)};return m.jsxs(m.Fragment,{children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",m.jsx("span",{style:{color:"blue",textDecoration:"underline",cursor:"pointer"},onClick:D,children:"COLLECT HERE"})," OR VISIT ",m.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"SCATTER.ART"})]}),m.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none",poster:"/assets/pixelawbsintro.png"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",m.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"PixeladyMaker"})]}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Ethereum"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x2d278e95b2fc67d4b27a276807e24e479d9707f6",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/mint.gif",alt:"Mint",style:{maxWidth:"100%"}})]})})()}),m.jsxs(Ts,{id:"halloween-popup",isOpen:a==="halloween-popup",onClose:_,onMinimize:x,children:[m.jsx("h3",{style:{marginBottom:"10px"},children:"A LAWBSTER HALLOWEEN"}),m.jsx("p",{style:{marginBottom:"10px"},children:"a Lawbster Halloween party seems nice but a a group of what seems to be humans controlled by lobsters just hijacked the Spirit Halloween Superstore."}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Base"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/base/0x8ab6733f8f8702c233f3582ec2a2750d3fc63a97",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/lawbsterhalloween.gif",alt:"Lawbster Halloween",style:{width:"100%",marginBottom:"10px"}}),m.jsx("div",{ref:v,style:{maxWidth:"400px",margin:"0 auto"},children:m.jsx("blockquote",{className:"tiktok-embed",cite:"https://www.tiktok.com/@wables.eth/video/7295660710644682027","data-video-id":"7295660710644682027",style:{maxWidth:"605px",minWidth:"325px"},children:m.jsxs("section",{children:[m.jsx("a",{target:"_blank",rel:"noreferrer",title:"@wables.eth",href:"https://www.tiktok.com/@wables.eth?refer=embed",children:"@wables.eth"})," 420 lawbsters hijacked a spirit halloween superstore  minting rn on @ourzora via @PC69 ",m.jsx("a",{target:"_blank",rel:"noreferrer",title:" original sound - wables.eth",href:"https://www.tiktok.com/music/original-sound-7295660837769857835?refer=embed",children:" original sound - wables.eth"})]})})})]}),m.jsxs(Ts,{id:"lawb-popup",isOpen:a==="lawb-popup",onClose:_,onMinimize:x,children:[m.jsx("h1",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://dexscreener.com/solana/dtxvuypheobwo66afefp9mfgt2e14c6ufexnvxwnvep",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:" $LAWB"})}),m.jsxs("p",{style:{marginBottom:"10px"},children:["$lawb seems nice but a lawbster token on the Solana blockchain will never achieve anything without a roadmap. Token created 03.15.24 on ",m.jsx("a",{href:"https://www.pump.fun/65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"pump.fun"}),"."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"$lawb airdropped to LawbStation holders 03.19.24"}),m.jsx("p",{style:{marginBottom:"10px"},children:"THERE IS NO MEME WE $LAWB YOU"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(sol) ca: 65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(arb) ca: 0x741f8FbF42485E772D97f1955c31a5B8098aC962"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(dmt) ca: 0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["if you wish to bridge your $lawb token from solana to arbitrum to sanko, a wormhole is available via ",m.jsx("a",{href:"https://portalbridge.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"https://portalbridge.com/"})]}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 1. connect solana wallet and select $lawb token (65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 2. connect arbitrum wallet and select $lawb token (0x741f8FbF42485E772D97f1955c31a5B8098aC962)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 3. select token quantity, confirm transactions."}),m.jsxs("p",{style:{marginBottom:"10px"},children:["step 4. now that you have $lawb on arbitrum, visit ",m.jsx("a",{href:"https://sanko.xyz/bridge",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"https://sanko.xyz/bridge"})," and connect your arb wallet."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 5. from arb wallet, select $lawb token."}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 6. connect to sanko chain. if not already selected, select $lawb token on sanko (0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 7. select quantity and confirm transactions."}),m.jsx("img",{src:"/assets/lawbticker.gif",alt:"ticker $lawb",style:{width:"100%",marginBottom:"10px",marginTop:"10px"}}),m.jsx("div",{style:{width:"100%",height:"400px",marginTop:"10px"},children:m.jsx("iframe",{src:"https://dexscreener.com/solana/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep?embed=1&theme=dark&info=0",title:"DexScreener",style:{width:"100%",height:"100%",border:"none"}})})]}),m.jsx(kQ,{isOpen:d,onClose:T,onMinimize:L,walletAddress:n||""}),m.jsx(xve,{isOpen:f,onClose:C,onMinimize:z,walletAddress:n}),m.jsx(Ts,{id:"meme-generator-popup",isOpen:g,onClose:O,onMinimize:M,children:m.jsx(Vj,{})}),w&&m.jsx(q1e,{onClose:R,onMinimize:A})]})}const V1e=Ws({galleryContainer:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#c0c0c0",zIndex:200,display:"flex",flexDirection:"column",fontFamily:"'MS Sans Serif', Arial, sans-serif"},header:{background:"navy",color:"#fff",padding:"8px",display:"flex",alignItems:"center",gap:"10px"},backButton:{background:"#c0c0c0",border:"2px outset #fff",padding:"2px 8px",cursor:"pointer","&:active":{borderStyle:"inset"}},headerTitle:{margin:0,fontSize:"1rem",fontWeight:"bold"},content:{flex:1,overflowY:"auto",padding:"1rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},gridItem:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",cursor:"pointer",textAlign:"center","& img":{width:"100%",height:"auto",marginBottom:"8px"}},detailView:{padding:"1rem","& img":{maxWidth:"100%",marginBottom:"1rem"}},loading:{textAlign:"center",padding:"2rem"},collectionSelector:{display:"flex",gap:"10px",padding:"10px",borderBottom:"2px inset #fff",flexWrap:"wrap"},collectionButton:{padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer","&.active":{borderStyle:"inset",backgroundColor:"#e0e0e0"}}}),AO=[{slug:"pixelawbs",name:"Pixelawbs",api:"scatter"},{slug:"lawbsters",name:"Lawbsters",api:"opensea",chain:"ethereum"},{slug:"lawbstarz",name:"Lawbstarz",api:"scatter"},{slug:"a-lawbster-halloween",name:"Halloween",api:"opensea",chain:"base"},{slug:"lawbstation",name:"Lawbstation",api:"opensea-solana",chain:"solana"},{slug:"lawbnexus",name:"Nexus",api:"opensea-solana",chain:"solana"}],G1e=({onBack:t,walletAddress:e})=>{const n=V1e(),{open:r}=kv(),[s,i]=F.useState([]),[o,a]=F.useState(!0),[c,l]=F.useState(null),[u,d]=F.useState(AO[0]),[h,f]=F.useState(!1),[p,g]=F.useState(null),[y,w]=F.useState("all"),[b,v]=F.useState(null),E=F.useCallback(async()=>{var T,C;try{if((T=window.solana)!=null&&T.isPhantom){const O=await window.solana.connect();g(O.publicKey.toString());return}if((C=window.solflare)!=null&&C.isSolflare){const O=await window.solflare.connect();g(O.publicKey.toString());return}r()}catch(O){console.error("Failed to connect Solana wallet:",O),alert("Failed to connect Solana wallet. Please make sure Phantom or Solflare is installed.")}f(!1)},[r]);F.useEffect(()=>{var T,C;(T=window.solana)!=null&&T.publicKey?g(window.solana.publicKey.toString()):(C=window.solflare)!=null&&C.publicKey&&g(window.solflare.publicKey.toString())},[]),F.useEffect(()=>{(async()=>{a(!0);try{let C,O=e||void 0;if(u.api==="opensea-solana"){if(!p){f(!0),a(!1);return}O=p,C=await NQ(p,100),console.log("Mobile: Fetched Solana NFTs by owner:",C.data.length)}else u.api==="opensea"?C=await aA(u.slug,100,O):C=await oA(u.slug,1,100,O);y==="owned"&&p&&(console.log("Filtering for owner:",p),C.data.some(L=>L.owners&&L.owners.length>0)?C.data=C.data.filter(L=>L.owners.some(M=>M.owner_of&&M.owner_of.toLowerCase()===p.toLowerCase())):(console.log("No owner data available from OpenSea for Solana collection"),v("Owner data not available for this Solana collection. Showing all NFTs."))),i(C.data)}catch(C){console.error(C)}finally{a(!1)}})()},[e,u,p,y]),F.useEffect(()=>{h&&E()},[h,E]);const _=async T=>{if(a(!0),u.api==="opensea"&&u.chain)try{const C=await h8(u.chain,T.address,T.token_id.toString()),O={...T,attributes:JSON.stringify(C.traits||[])};l(O)}catch(C){console.error("Failed to fetch full NFT details",C),l(T)}else l(T);a(!1)},x=()=>{if(!c)return null;let T=[];try{T=JSON.parse(c.attributes||"[]")}catch(C){console.error("Failed to parse NFT attributes:",C)}return m.jsxs("div",{className:n.detailView,children:[m.jsx("img",{src:c.image,alt:c.name}),m.jsx("h2",{children:c.name}),m.jsx("h4",{children:"Traits:"}),m.jsx("ul",{children:T.map((C,O)=>m.jsxs("li",{children:[m.jsxs("strong",{children:[C.trait_type,":"]})," ",C.value]},O))})]})},S=()=>m.jsxs(m.Fragment,{children:[m.jsx("div",{className:n.collectionSelector,children:AO.map(T=>m.jsx("button",{className:`${n.collectionButton} ${u.slug===T.slug?"active":""}`,onClick:()=>d(T),children:T.name},T.slug))}),m.jsxs("div",{className:n.content,children:[m.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[m.jsx("button",{onClick:()=>w("all"),style:{background:y==="all"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:y==="all"?"white":"black"},children:"All NFTs"}),m.jsx("button",{onClick:()=>w("owned"),disabled:!e&&!p,style:{background:y==="owned"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:e||p?"pointer":"not-allowed",color:y==="owned"?"white":"black",opacity:e||p?1:.6},children:"My NFTs"}),u.api==="opensea-solana"&&m.jsx("button",{onClick:()=>{E()},style:{background:p?"#4CAF50":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:p?"white":"black",marginLeft:"auto"},children:p?`Solana: ${p.slice(0,4)}...${p.slice(-4)}`:"Connect Solana"})]}),b&&m.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:b}),u.api==="opensea-solana"&&!p&&m.jsx("div",{style:{backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",padding:"10px",marginBottom:"10px",color:"#856404"},children:"Connect your Solana wallet (Phantom or Solflare) to view your NFTs from this collection."}),o?m.jsx("div",{className:n.loading,children:"Loading NFTs..."}):m.jsx("div",{className:n.grid,children:s.map(T=>{let C=T.image||T.image_url||T.image_url_shrunk||"/assets/pixelawb.png";return m.jsxs("div",{className:n.gridItem,onClick:()=>void _(T),children:[m.jsx("img",{src:C,alt:T.name,onError:O=>{O.currentTarget.src!==T.image_url&&T.image_url?O.currentTarget.src=T.image_url:O.currentTarget.src!==T.image_url_shrunk&&T.image_url_shrunk?O.currentTarget.src=T.image_url_shrunk:O.currentTarget.src="/assets/pixelawb.png"}}),m.jsx("span",{children:T.name})]},T.id)})})]})]});return m.jsxs("div",{className:n.galleryContainer,children:[m.jsxs("header",{className:n.header,children:[m.jsx("button",{className:n.backButton,onClick:c?()=>l(null):t,children:"Back"}),m.jsx("h2",{className:n.headerTitle,children:c?c.name:"LAWB NFT GALLERY"})]}),m.jsx("div",{className:n.content,children:o?m.jsx("p",{className:n.loading,children:"Loading..."}):c?x():S()})]})},K1e=Ws({overlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.5)",zIndex:4e3,display:"flex",alignItems:"center",justifyContent:"center"},popup:{background:"#c0c0c0",border:"2px outset #fff",borderRadius:12,width:"92vw",maxWidth:420,minHeight:240,maxHeight:"90vh",boxShadow:"0 8px 32px rgba(0,0,0,0.4)",display:"flex",flexDirection:"column",alignItems:"stretch",position:"relative",overflow:"hidden"},titleBar:{background:"navy",color:"#fff",fontWeight:"bold",fontFamily:"'MS Sans Serif', Arial, sans-serif",fontSize:16,padding:"8px 12px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"2px inset #fff",userSelect:"none"},closeButton:{width:28,height:28,background:"#c0c0c0",border:"2px outset #fff",borderRadius:4,color:"#000",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",marginLeft:8,boxShadow:"1px 1px 0 #888","&:active":{border:"2px inset #fff",background:"#e0e0e0"}},content:{padding:16,overflowY:"auto",fontFamily:"'MS Sans Serif', Arial, sans-serif",color:"#000",fontSize:15,background:"#fff",flex:1}}),Is=({isOpen:t,onClose:e,title:n,children:r})=>{const s=K1e();return t?m.jsx("div",{className:s.overlay,children:m.jsxs("div",{className:s.popup,children:[m.jsxs("div",{className:s.titleBar,children:[m.jsx("span",{children:n}),m.jsx("button",{className:s.closeButton,onClick:e,title:"Close",children:""})]}),m.jsx("div",{className:s.content,children:r})]})}):null},Y1e=({isOpen:t,onClose:e,walletAddress:n})=>{const[r,s]=F.useState([]),[i,o]=F.useState(!1),[a,c]=F.useState(!1),[l,u]=F.useState({}),[d,h]=F.useState(null),{data:f}=a5();F.useEffect(()=>{t&&n&&p()},[t,n]);const p=async()=>{o(!0),h(null);try{const E=await u8(n);s(E);const _={};E.forEach(x=>{_[x.id]=0}),u(_)}catch(E){h(E.message)}finally{o(!1)}},g=(E,_)=>{u(x=>({...x,[E]:Math.max(0,_)}))},y=async()=>{const E=Object.entries(l).filter(([,_])=>_>0).map(([_,x])=>({id:_,quantity:x}));if(E.length===0){h("Please select at least one item to mint");return}if(!f){h("Wallet not connected");return}c(!0),h(null);try{const _=await d8(n,E);if(_.success&&_.mintTransaction){alert("Please confirm the transaction in your wallet.");try{const x=await f.sendTransaction({to:_.mintTransaction.to,value:BigInt(_.mintTransaction.value),data:_.mintTransaction.data});alert(`NFT Minted Successfully: Transaction Hash - ${x}`),e()}catch(x){h("Transaction failed: "+x.message)}}else throw new Error(_.message||"Could not retrieve minting transaction.")}catch(_){h("Minting failed: "+_.message)}finally{c(!1)}},w=(E,_)=>`${parseFloat(E)} ${_}`,b={border:"1px solid #808080",padding:"10px",marginBottom:"10px",backgroundColor:"#f8f8f8",borderRadius:"8px",textAlign:"left"},v={backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000",borderRadius:"8px"};return m.jsxs(Is,{isOpen:t,onClose:e,title:"Mint Pixelawbs",children:[d&&m.jsx("div",{style:v,children:d}),i?m.jsx("div",{children:"Loading eligible invite lists..."}):r.length===0?m.jsx("div",{children:"No eligible invite lists found for your wallet."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{marginBottom:"20px"},children:[m.jsx("h3",{style:{color:"#008080",fontSize:"1rem",margin:0},children:"Available Lists:"}),r.map(E=>m.jsxs("div",{style:b,children:[m.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:E.name}),m.jsxs("div",{style:{fontSize:"12px",marginBottom:"5px"},children:["Price: ",w(E.token_price,E.currency_symbol)]}),m.jsxs("div",{style:{fontSize:"12px",marginBottom:"10px"},children:["Limit: ",E.wallet_limit===4294967295?"Unlimited":E.wallet_limit," per wallet"]}),m.jsx("input",{type:"number",min:0,max:E.wallet_limit===4294967295?void 0:E.wallet_limit,value:l[E.id]||"",onChange:_=>g(E.id,parseInt(_.target.value)||0),style:{width:"60px",fontSize:"1rem",marginRight:"8px"}}),m.jsx("span",{style:{fontSize:"0.95rem"},children:"Qty"})]},E.id))]}),m.jsx("button",{style:{background:"#00ffff",color:"#000",border:"none",borderRadius:"8px",padding:"12px 32px",fontWeight:"bold",fontSize:"1.1rem",marginTop:"1.5rem",cursor:"pointer",boxShadow:"1px 1px 0 #aaa"},onClick:y,disabled:a,children:a?"Minting...":"Mint"})]})]})},J1e="https://roxwocgknkiqnsgiojgz.supabase.co",Q1e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJveHdvY2drbmtpcW5zZ2lvamd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzA3NjMxMTIsImV4cCI6MjA0NjMzOTExMn0.NbLMZom-gk7XYGdV4MtXYcgR8R1s8xthrIQ0hpQfx9Y",Z1e=yU(J1e,Q1e),Ay={AI:"ai"},X1e=Ws({mobileChessContainer:{display:"flex",flexDirection:"column",height:"100%",maxHeight:"100%",overflow:"hidden",fontFamily:"'MS Sans Serif', Arial, sans-serif"},gameModeSelection:{display:"flex",flexDirection:"column",gap:"12px",padding:"8px",height:"100%",overflowY:"auto"},gameModeOption:{background:"#c0c0c0",border:"2px outset #fff",padding:"12px",cursor:"pointer",textAlign:"center",fontSize:"14px",fontWeight:"bold","&:active":{border:"2px inset #fff"},"&.selected":{background:"#000080",color:"white",border:"2px inset #fff"},"&.disabled":{opacity:.6,cursor:"not-allowed"}},difficultySelection:{display:"flex",flexDirection:"column",gap:"8px",padding:"8px",height:"100%",overflowY:"auto"},difficultyButtons:{display:"flex",flexDirection:"row",gap:"8px",flexWrap:"wrap",justifyContent:"center"},difficultyButton:{background:"#c0c0c0",border:"2px outset #fff",padding:"8px 12px",cursor:"pointer",fontSize:"12px",minWidth:"60px","&.selected":{background:"#000080",color:"white",border:"2px inset #fff"},"&:active":{border:"2px inset #fff"}},startButton:{background:"#c0c0c0",border:"2px outset #fff",padding:"10px 20px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",marginTop:"8px",alignSelf:"center","&:active":{border:"2px inset #fff"}},pieceGallery:{maxHeight:"120px",overflowY:"auto",marginBottom:"8px",padding:"4px",background:"#f0f0f0",border:"1px inset #fff"},pieceGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(40px, 1fr))",gap:"4px"},pieceItem:{display:"flex",flexDirection:"column",alignItems:"center",padding:"2px",fontSize:"8px",textAlign:"center"},pieceImage:{width:"24px",height:"24px",marginBottom:"2px"},pieceName:{fontSize:"8px",fontWeight:"bold"},pieceDesc:{fontSize:"7px",color:"#666"},leaderboard:{maxHeight:"100px",overflowY:"auto",fontSize:"10px",background:"#f0f0f0",border:"1px inset #fff",padding:"4px"},leaderboardTable:{width:"100%",borderCollapse:"collapse",fontSize:"9px"},leaderboardTableTh:{background:"#000080",color:"white",padding:"2px 4px",textAlign:"center",fontWeight:"bold",border:"1px solid #c0c0c0"},leaderboardTableTd:{padding:"2px 4px",textAlign:"center",border:"1px solid #c0c0c0",background:"white"},gameBoard:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},chessboard:{width:"100%",maxWidth:"280px",height:"280px",margin:"0 auto",display:"grid",gridTemplateColumns:"repeat(8, 1fr)",gridTemplateRows:"repeat(8, 1fr)",border:"2px solid #000",flexShrink:0},square:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",position:"relative"},squareLight:{backgroundColor:"#f0d9b5"},squareDark:{backgroundColor:"#b58863"},squareSelected:{backgroundColor:"rgba(0, 255, 0, 0.3)"},squareLegalMove:{backgroundColor:"rgba(0, 255, 0, 0.2)"},squareLastMove:{backgroundColor:"rgba(255, 255, 0, 0.3)"},piece:{width:"80%",height:"80%",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",cursor:"pointer"},gameInfo:{display:"flex",flexDirection:"column",gap:"4px",padding:"8px",fontSize:"12px",overflowY:"auto",flex:1},status:{fontWeight:"bold",textAlign:"center",padding:"4px",background:"#f0f0f0",border:"1px inset #fff"},moveHistory:{maxHeight:"80px",overflowY:"auto",background:"#f0f0f0",border:"1px inset #fff",padding:"4px",fontSize:"10px"},gameControls:{display:"flex",gap:"8px",justifyContent:"center",padding:"8px",flexWrap:"wrap"},controlButton:{background:"#c0c0c0",border:"2px outset #fff",padding:"6px 12px",cursor:"pointer",fontSize:"11px","&:active":{border:"2px inset #fff"}},walletRequired:{textAlign:"center",padding:"20px",background:"#f0f0f0",border:"2px inset #c0c0c0"}}),e_e={R:"/images/redrook.png",N:"/images/redknight.png",B:"/images/redbishop.png",Q:"/images/redqueen.png",K:"/images/redking.png",P:"/images/redpawn.png",r:"/images/bluerook.png",n:"/images/blueknight.png",b:"/images/bluebishop.png",q:"/images/bluequeen.png",k:"/images/blueking.png",p:"/images/bluepawn.png"},IO=[["R","N","B","Q","K","B","N","R"],["P","P","P","P","P","P","P","P"],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],["p","p","p","p","p","p","p","p"],["r","n","b","q","k","b","n","r"]],t_e=t=>t==="blue"?"red":"blue",n_e=[{key:"K",name:"Red King",img:"/images/redking.png",desc:"Moves one square in any direction"},{key:"Q",name:"Red Queen",img:"/images/redqueen.png",desc:"Moves any number of squares in any direction"},{key:"R",name:"Red Rook",img:"/images/redrook.png",desc:"Moves any number of squares horizontally or vertically"},{key:"B",name:"Red Bishop",img:"/images/redbishop.png",desc:"Moves any number of squares diagonally"},{key:"N",name:"Red Knight",img:"/images/redknight.png",desc:"Moves in an L-shape: 2 squares in one direction, then 1 square perpendicular"},{key:"P",name:"Red Pawn",img:"/images/redpawn.png",desc:"Moves forward one square, captures diagonally"}],r_e=()=>{const t=X1e(),{address:e}=Wg(),[n,r]=F.useState("menu"),[s,i]=F.useState(Ay.AI),[o,a]=F.useState("easy"),[c,l]=F.useState(()=>JSON.parse(JSON.stringify(IO))),[u,d]=F.useState("blue"),[h,f]=F.useState(null),[p,g]=F.useState([]),[y,w]=F.useState("Connect wallet to play"),[b,v]=F.useState([]),[E,_]=F.useState([]),x=F.useRef(null),S=F.useRef(!1),T=F.useRef(c);F.useEffect(()=>{T.current=c},[c]),F.useEffect(()=>{e?w("Select game mode"):(w("Connect wallet to play"),r("menu"))},[e]),F.useEffect(()=>{if(typeof Worker<"u")try{x.current=new Worker("/aiWorker.js"),x.current.onmessage=j=>{const{move:q}=j.data;q?(w("AI made a move"),S.current=!1,L(q.from,q.to,!0)):(S.current=!1,w("AI could not find a move"))},x.current.onerror=j=>{console.error("AI Worker error:",j),w("AI worker error - using fallback mode"),S.current=!1}}catch(j){console.error("Failed to initialize AI worker:",j),w("AI worker failed to load - using fallback mode")}return()=>{x.current&&x.current.terminate()}},[]),F.useEffect(()=>{C()},[]);const C=async()=>{try{const{data:j,error:q}=await Z1e.from("leaderboard").select("*").order("points",{ascending:!1});if(q){console.error("Failed to load leaderboard:",q);return}j&&_(j)}catch(j){console.error("Error loading leaderboard:",j)}},O=j=>j?j===j.toLowerCase()?"blue":"red":"blue",R=j=>{const q=[],K=c[j.row][j.col];if(!K)return q;const H=O(K);if(H!==u)return q;for(let Q=0;Q<8;Q++)for(let Z=0;Z<8;Z++){const le=c[Q][Z];(!le||O(le)!==H)&&q.push({row:Q,col:Z})}return q},L=(j,q,K=!1)=>{const H=c.map(Z=>[...Z]),Q=H[j.row][j.col];Q&&(H[q.row][q.col]=Q,H[j.row][j.col]=null,l(H),d(t_e(u)),v(Z=>[...Z,`${j.row},${j.col} -> ${q.row},${q.col}`]),f(null),g([]),s===Ay.AI&&!K&&u==="blue"&&window.setTimeout(()=>{if(x.current&&!S.current)S.current=!0,x.current.postMessage({board:H,difficulty:o,player:"red"});else{const Z=[];for(let le=0;le<8;le++)for(let Ce=0;Ce<8;Ce++)if(H[le][Ce]&&O(H[le][Ce])==="red")for(let Se=0;Se<8;Se++)for(let Oe=0;Oe<8;Oe++)(!H[Se][Oe]||O(H[Se][Oe])==="blue")&&Z.push({from:{row:le,col:Ce},to:{row:Se,col:Oe}});if(Z.length>0){const le=Z[Math.floor(Math.random()*Z.length)];L(le.from,le.to,!0)}}},500))},z=(j,q)=>{if(n!=="game")return;const K=c[j][q];if(h){const[H,Q]=[h.row,h.col];p.some(Z=>Z.row===j&&Z.col===q)&&L({row:H,col:Q},{row:j,col:q}),f(null),g([])}else K&&O(K)===u&&(f({row:j,col:q}),g(R({row:j,col:q})))},M=()=>{l(JSON.parse(JSON.stringify(IO))),d("blue"),f(null),g([]),w("Game reset"),v([])},A=()=>{r("menu"),M()},I=j=>{i(j),r("difficulty")},D=j=>`${j.slice(0,6)}...${j.slice(-4)}`;if(!e)return m.jsx("div",{className:t.mobileChessContainer,children:m.jsx("div",{className:t.walletRequired,children:m.jsx("p",{children:"Connect your wallet to play chess"})})});const N=()=>m.jsxs("div",{className:t.gameModeSelection,children:[m.jsx("h3",{style:{textAlign:"center",margin:"0 0 12px 0",fontSize:"16px"},children:"Select Game Mode"}),m.jsx("div",{className:`${t.gameModeOption} ${s===Ay.AI?"selected":""}`,onClick:()=>I(Ay.AI),children:"VS the House"}),m.jsx("div",{className:`${t.gameModeOption} disabled`,onClick:()=>{},children:"PvP Under Construction"})]}),k=()=>m.jsxs("div",{className:t.difficultySelection,children:[m.jsx("h3",{style:{textAlign:"center",margin:"0 0 12px 0",fontSize:"16px"},children:"Select Difficulty"}),m.jsxs("div",{className:t.pieceGallery,children:[m.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"12px",textAlign:"center"},children:"Lawbstation Chess Pieces"}),m.jsx("div",{className:t.pieceGrid,children:n_e.map(j=>m.jsxs("div",{className:t.pieceItem,children:[m.jsx("img",{src:j.img,alt:j.name,className:t.pieceImage}),m.jsx("div",{className:t.pieceName,children:j.name}),m.jsx("div",{className:t.pieceDesc,children:j.desc})]},j.key))})]}),m.jsxs("div",{className:t.difficultyButtons,children:[m.jsx("button",{className:`${t.difficultyButton} ${o==="easy"?"selected":""}`,onClick:()=>a("easy"),children:"Easy"}),m.jsx("button",{className:`${t.difficultyButton} ${o==="hard"?"selected":""}`,onClick:()=>a("hard"),children:"Kinda Harder"})]}),m.jsx("button",{className:t.startButton,onClick:()=>r("game"),children:"Start Game"}),m.jsxs("div",{className:t.leaderboard,children:[m.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"12px",textAlign:"center"},children:"Leaderboard"}),m.jsxs("table",{className:t.leaderboardTable,children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{className:t.leaderboardTableTh,children:"Rank"}),m.jsx("th",{className:t.leaderboardTableTh,children:"Player"}),m.jsx("th",{className:t.leaderboardTableTh,children:"W"}),m.jsx("th",{className:t.leaderboardTableTh,children:"L"}),m.jsx("th",{className:t.leaderboardTableTh,children:"D"}),m.jsx("th",{className:t.leaderboardTableTh,children:"Points"})]})}),m.jsx("tbody",{children:E.slice(0,5).map((j,q)=>m.jsxs("tr",{children:[m.jsx("td",{className:t.leaderboardTableTd,children:q+1}),m.jsx("td",{className:t.leaderboardTableTd,children:D(j.username)}),m.jsx("td",{className:t.leaderboardTableTd,children:j.wins}),m.jsx("td",{className:t.leaderboardTableTd,children:j.losses}),m.jsx("td",{className:t.leaderboardTableTd,children:j.draws}),m.jsx("td",{className:t.leaderboardTableTd,children:j.points})]},j.username))})]})]})]}),U=()=>m.jsxs("div",{className:t.gameBoard,children:[m.jsx("div",{className:t.chessboard,children:c.map((j,q)=>j.map((K,H)=>{const Q=(q+H)%2===0,Z=h&&h.row===q&&h.col===H,le=p.some(Ce=>Ce.row===q&&Ce.col===H);return m.jsx("div",{className:`${t.square} ${Q?t.squareLight:t.squareDark} ${Z?t.squareSelected:""} ${le?t.squareLegalMove:""}`,onClick:()=>z(q,H),children:K&&m.jsx("div",{className:t.piece,style:{backgroundImage:`url(${e_e[K]})`}})},`${q}-${H}`)}))}),m.jsxs("div",{className:t.gameInfo,children:[m.jsx("div",{className:t.status,children:y}),m.jsxs("div",{className:t.status,children:["Current: ",u==="blue"?"Blue":"Red"]}),m.jsxs("div",{className:t.moveHistory,children:[m.jsx("h4",{style:{margin:"0 0 4px 0",fontSize:"11px"},children:"Move History"}),b.slice(-5).map((j,q)=>m.jsx("div",{style:{fontSize:"9px"},children:j},q))]}),m.jsxs("div",{className:t.gameControls,children:[m.jsx("button",{className:t.controlButton,onClick:M,children:"New Game"}),m.jsx("button",{className:t.controlButton,onClick:A,children:"Back to Menu"})]})]})]});return m.jsxs("div",{className:t.mobileChessContainer,children:[n==="menu"&&N(),n==="difficulty"&&k(),n==="game"&&U()]})},s_e=Ws({mobileContainer:{minHeight:"100vh",minWidth:"100vw",width:"100vw",height:"100vh",background:"url('/assets/background.gif') no-repeat center center fixed",backgroundSize:"cover",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",color:"#fff",position:"relative",overflow:"hidden"},header:{backgroundColor:"#c00",padding:"0.75rem 0",border:"none",textAlign:"center",marginBottom:"1.5rem"},title:{margin:0,fontSize:"1.1rem",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",color:"#fff",letterSpacing:"1px",textShadow:"1px 1px 0 #000",textTransform:"uppercase"},iconGrid:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1.5rem",marginBottom:"80px"},icon:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",cursor:"pointer",textAlign:"center","& img":{width:"64px",height:"64px"},"& span":{wordBreak:"break-word"}},taskbar:{position:"fixed",left:0,bottom:0,width:"100%",maxWidth:"100vw",height:"56px",background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 1rem",zIndex:1e3,borderTop:"2px solid #00ffff"},menuButton:{background:"#00ffff",color:"#000",fontWeight:"bold",border:"none",borderRadius:"4px",padding:"8px 16px",fontSize:"1rem",cursor:"pointer",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",boxShadow:"2px 2px 0 #000"},walletStatus:{display:"flex",alignItems:"center",color:"#fff",fontWeight:"bold",fontSize:"0.9rem",fontFamily:"'MS Sans Serif', Arial, sans-serif"},statusDot:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:t=>t?"limegreen":"red",marginRight:"6px",border:"1px solid #000"},clock:{color:"#00ffff",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",fontSize:"1rem",fontWeight:"bold",textShadow:"1px 1px 0 #000",marginRight:"24px"},pixelawbsPopupOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.7)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},pixelawbsPopup:{background:"#fff",borderRadius:"12px",width:"90vw",maxWidth:"420px",height:"75vh",maxHeight:"600px",boxShadow:"0 8px 32px rgba(0,0,0,0.4)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1.5rem",position:"relative"},closeButton:{position:"absolute",top:"10px",right:"10px",background:"#00ffff",color:"#000",border:"none",borderRadius:"50%",width:"32px",height:"32px",fontSize:"1.5rem",fontWeight:"bold",cursor:"pointer",boxShadow:"1px 1px 0 #000"},menuOverlay:{position:"fixed",left:0,top:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.4)",zIndex:3e3,display:"flex",alignItems:"flex-end",justifyContent:"center",pointerEvents:"auto"},menuModal:{width:"100vw",background:"#c0c0c0",borderTopLeftRadius:"16px",borderTopRightRadius:"16px",boxShadow:"0 -4px 24px rgba(0,0,0,0.2)",padding:"15px 0 8px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"6px",zIndex:3100,marginBottom:"70px",maxHeight:"calc(70vh - 56px)",overflowY:"auto",position:"absolute",left:0,bottom:"56px"},menuLink:{display:"block",width:"90%",padding:"6px",color:"#000",textDecoration:"none",background:"#e0e0e0",borderRadius:"8px",fontWeight:"bold",fontSize:"1rem",textAlign:"center",marginBottom:"3px",border:"2px outset #fff",boxShadow:"1px 1px 0 #aaa"}}),i_e=[{id:"lawbsters",name:"Lawbsters",image:"/assets/lawbsters.gif",description:"420 Lawbsters. ETH."},{id:"lawbstarz",name:"Lawbstarz",image:"/assets/lawbstarz.gif",description:"666 Lawbstarz. ETH."},{id:"halloween",name:"Halloween",image:"/assets/lawbsterhalloween.gif",description:"Halloween Lawbsters. BASE."},{id:"pixelawbs",name:"Pixelawbs",image:"/assets/pixelawb.png",description:"2222 Pixelawbs. ETH."}],o_e=[{id:"lawbstation",name:"Lawbstation",image:"/assets/lawbstation.GIF",description:"Lawbstation. SOL."},{id:"nexus",name:"Nexus",image:"/assets/nexus.gif",description:"Nexus. SOL."}],a_e=()=>{const t=s_e(),{open:e}=kv(),{address:n,isConnected:r}=Wg(),{isPending:s}=s5(),{disconnect:i}=i5(),{data:o}=o5({address:n}),[a,c]=F.useState("main"),[l,u]=F.useState(!1),[d,h]=F.useState(()=>new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),[f,p]=F.useState(!1),[g,y]=F.useState(!1),[w,b]=F.useState(!1),[v,E]=F.useState(!1),[_,x]=F.useState(!1),[S,T]=F.useState(!1),[C,O]=F.useState(!1),[R,L]=F.useState(!1),[z,M]=F.useState(!1),[A,I]=F.useState(!1),[D,N]=F.useState(!1),[k,U]=F.useState(!1),[j,q]=F.useState(!1),K=[{label:"Chess",icon:"/images/chessboard5.png",action:()=>q(!0)},{label:"Mint",icon:"/assets/mint.gif",action:()=>y(!0)},{label:"EVM NFT'S FOLDER",icon:"/assets/evmfolder.png",action:()=>b(!0)},{label:"SOL NFTS FOLDER",icon:"/assets/solfolder.png",action:()=>E(!0)},{label:"$LAWB",icon:"/assets/lawbticker.gif",action:()=>x(!0)},{label:r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Wallet",icon:"/assets/wallet.png",action:()=>{r?i():e()},disabled:s}],H=le=>{le.disabled||le.action()};if(F.useEffect(()=>{const le=window.setInterval(()=>{h(new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))},1e3);return()=>window.clearInterval(le)},[]),F.useEffect(()=>{u(!0)},[]),a==="gallery")return m.jsx(G1e,{onBack:()=>c("main"),walletAddress:n||void 0});function Q({open:le,onClose:Ce,title:Se,nfts:Oe}){const Mt=Yt=>{switch(Yt){case"lawbsters":T(!0);break;case"lawbstarz":O(!0);break;case"pixelawbs":L(!0);break;case"halloween":M(!0);break;case"lawbstation":I(!0);break;case"nexus":N(!0);break}};return m.jsx(Is,{isOpen:le,onClose:Ce,title:Se,children:m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,width:"100%"},children:Oe.map(Yt=>m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",background:"#f8f8f8",borderRadius:8,padding:8,cursor:"pointer"},onClick:()=>Mt(Yt.id),children:[m.jsx("img",{src:Yt.image,alt:Yt.name,style:{width:80,height:80,objectFit:"contain",marginBottom:8}}),m.jsx("span",{style:{fontWeight:"bold",fontSize:14},children:Yt.name}),m.jsx("span",{style:{fontSize:12,color:"#555",textAlign:"center"},children:Yt.description})]},Yt.id))})})}function Z({open:le,onClose:Ce}){return le?m.jsxs(Is,{isOpen:le,onClose:Ce,title:"$LAWB",children:[m.jsx("h1",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://dexscreener.com/solana/dtxvuypheobwo66afefp9mfgt2e14c6ufexnvxwnvep",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:" $LAWB"})}),m.jsxs("p",{style:{marginBottom:"10px"},children:["$lawb seems nice but a lawbster token on the Solana blockchain will never achieve anything without a roadmap. Token created 03.15.24 on ",m.jsx("a",{href:"https://www.pump.fun/65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"pump.fun"}),"."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"$lawb airdropped to LawbStation holders 03.19.24"}),m.jsx("p",{style:{marginBottom:"10px"},children:"THERE IS NO MEME WE $LAWB YOU"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(sol) ca: 65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(arb) ca: 0x741f8FbF42485E772D97f1955c31a5B8098aC962"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(dmt) ca: 0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["if you wish to bridge your $lawb token from solana to arbitrum to sanko, a wormhole is available via ",m.jsx("a",{href:"https://portalbridge.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"https://portalbridge.com/"})]}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 1. connect solana wallet and select $lawb token (65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 2. connect arbitrum wallet and select $lawb token (0x741f8FbF42485E772D97f1955c31a5B8098aC962)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 3. select token quantity, confirm transactions."}),m.jsxs("p",{style:{marginBottom:"10px"},children:["step 4. now that you have $lawb on arbitrum, visit ",m.jsx("a",{href:"https://sanko.xyz/bridge",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"https://sanko.xyz/bridge"})," and connect your arb wallet."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 5. from arb wallet, select $lawb token."}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 6. connect to sanko chain. if not already selected, select $lawb token on sanko (0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 7. select quantity and confirm transactions."}),m.jsx("img",{src:"/assets/lawbticker.gif",alt:"ticker $lawb",style:{width:"100%",marginBottom:"10px",marginTop:"10px"}})]}):null}return m.jsxs("div",{className:t.mobileContainer,children:[m.jsx("header",{className:t.header,children:m.jsx("h1",{className:t.title,children:"there is no meme we lawb you"})}),m.jsx("div",{className:t.iconGrid,children:K.map(le=>m.jsxs("div",{className:t.icon,onClick:()=>H(le),children:[m.jsx("img",{src:le.icon,alt:le.label}),m.jsx("span",{children:le.label})]},le.label))}),l&&m.jsxs(Is,{isOpen:l,onClose:()=>u(!1),title:"Pixelawbs",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",m.jsx("span",{style:{color:"#ff0000",textDecoration:"underline",cursor:"pointer"},onClick:()=>{u(!1),y(!0)},children:"COLLECT HERE"})," OR VISIT ",m.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"SCATTER.ART"})]}),m.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none",poster:"/assets/pixelawbsintro.png"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",m.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"PixeladyMaker"})]}),m.jsx("p",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x2d278e95b2fc67d4b27a276807e24e479d9707f6",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})})]}),f&&m.jsx("div",{className:t.menuOverlay,onClick:()=>p(!1),children:m.jsxs("div",{className:t.menuModal,onClick:le=>le.stopPropagation(),children:[m.jsx("a",{href:"https://dexscreener.com/solana/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Dexscreener"}),m.jsx("a",{href:"https://x.com/lawbstation",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"LawbStation Twitter"}),m.jsx("a",{href:"https://x.com/lawbnexus",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"LawbNexus Twitter"}),m.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/info/",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"NFTX - Lawbsters"}),m.jsx("a",{href:"https://purity.finance/lawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Purity"}),m.jsx("a",{href:"https://uwu.pro/memoji/ulawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"UwU LAWB"}),m.jsx("a",{href:"https://t.me/lawblawblawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Telegram"}),m.jsx("a",{href:"https://discord.gg/JdkzUHYmMy",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Discord"}),m.jsx("a",{href:"https://store.fun/lawbshop",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Lawb.Shop"}),m.jsx("button",{className:t.menuLink,onClick:()=>{p(!1),U(!0)},style:{border:"none",cursor:"pointer",width:"90%",margin:"0 auto",display:"block"},children:"Meme Generator"})]})}),m.jsx(Y1e,{isOpen:g,onClose:()=>y(!1),walletAddress:n||""}),m.jsx(Q,{open:w,onClose:()=>b(!1),title:"EVM NFT'S FOLDER",nfts:i_e}),m.jsx(Q,{open:v,onClose:()=>E(!1),title:"SOL NFTS FOLDER",nfts:o_e}),m.jsx(Z,{open:_,onClose:()=>x(!1)}),m.jsxs(Is,{isOpen:S,onClose:()=>T(!1),title:"Lawbsters",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["420 Lawbsters seem nice but a human controlled by a lobster would never amount to anything without a roadmap. A ",m.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Cigawrette Packs"})," derivative."]}),m.jsx("p",{children:"Chain: Ethereum"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x0ef7ba09c38624b8e9cc4985790a2f5dbfc1dc42",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})," or ",m.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/buy/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"NFTX"})]}),m.jsx("img",{src:"/assets/lawbsters.gif",alt:"Lawbsters",style:{width:"100%",marginTop:"10px"}})]}),m.jsxs(Is,{isOpen:C,onClose:()=>O(!1),title:"Lawbstarz",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:[" LAWBSTARZ 666x LOBSTERS DRIPPED IN BUTTER  666x PREMIUM PFP COLLECTION  LAWBSTARZ IS A MUSIC NFT  LAWBSTARZ IS AN ",m.jsx("a",{href:"https://allstarz.world",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"ALLSTARZ"})," DERIVATIVE  LAWBSTARZ IS INSPIRED BY ",m.jsx("a",{href:"https://www.remilia.org/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"REMILIA CORP"}),"  LED BY NETWORK SPIRITUALITY  666 ",m.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"CIGAWRETTEPACKS"})," WERE CONSUMED BY ",m.jsx("a",{href:"https://x.com/portionclub69",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"PORTIONCLUB69"})," AND FRIENDS DURING THE CREATION OF LAWBSTARZ v1 "]}),m.jsx("p",{children:"Chain: Ethereum"}),m.jsxs("p",{children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0xd7922cd333da5ab3758c95f774b092a7b13a5449",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/lawbstarz.gif",alt:"Lawbstarz",style:{maxWidth:"100%",marginTop:"10px"}}),m.jsx("img",{src:"/assets/lawbstarzhotelroom.png",alt:"Lawbstarz Hotel Room",style:{maxWidth:"100%",marginTop:"10px"}}),m.jsx("img",{src:"/assets/tile-06-audio-image0-lawbstarz dj set 1.0 copy.png",alt:"Lawbstarz DJ Set",style:{maxWidth:"100%",marginTop:"10px"}})]}),m.jsxs(Is,{isOpen:R,onClose:()=>L(!1),title:"Pixelawbs",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",m.jsx("span",{style:{color:"#ff0000",textDecoration:"underline",cursor:"pointer"},onClick:()=>{L(!1),y(!0)},children:"COLLECT HERE"})," OR VISIT ",m.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"SCATTER.ART"})]}),m.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none",poster:"/assets/pixelawbsintro.png"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",m.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"PixeladyMaker"})]})]}),m.jsxs(Is,{isOpen:z,onClose:()=>M(!1),title:"A Lawbster Halloween",children:[m.jsx("h3",{style:{marginBottom:"10px"},children:"A LAWBSTER HALLOWEEN"}),m.jsx("p",{style:{marginBottom:"10px"},children:"a Lawbster Halloween party seems nice but a a group of what seems to be humans controlled by lobsters just hijacked the Spirit Halloween Superstore."}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Base"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/base/0x8ab6733f8f8702c233f3582ec2a2750d3fc63a97",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/lawbsterhalloween.gif",alt:"Lawbster Halloween",style:{width:"100%",marginBottom:"10px"}})]}),m.jsxs(Is,{isOpen:A,onClose:()=>I(!1),title:"Lawbstation",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["Lawbstations: low poly Lawbsters viewed through various cathode-ray tubes built on ",m.jsx("a",{href:"https://www.miladystation2.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"MiladyStation"})," technology. Inspired by Milady, Allstarz, Rusty Rollers, Cigawrette Packs, SPX6900 and Radbro. Brought to you in part by PortionClub and Mony Corp Group. LawbStations seem nice but a lobster controlled by MiladyStation will never achieve anything without a roadmap."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Solana"}),m.jsx("p",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://magiceden.us/marketplace/lawbstation",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Collect Lawbstations on Secondary"})}),m.jsx("img",{src:"/assets/lawbstation.GIF",alt:"Lawbstation",style:{width:"100%",marginTop:"10px"}}),m.jsx("video",{controls:!0,src:"/assets/lawbstation.mp4",style:{width:"100%",marginTop:"10px"}})]}),m.jsxs(Is,{isOpen:D,onClose:()=>N(!1),title:"Nexus",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["1000 Xtra Ultra High Definition Lawbsters, packaged and distributed on Solana. Collect on ",m.jsx("a",{href:"https://magiceden.us/marketplace/lawbnexus",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/nexus.gif",alt:"Nexus",style:{width:"100%",marginBottom:"10px"}}),m.jsx("video",{controls:!0,src:"/assets/nexusminting.mp4",style:{width:"100%"}})]}),m.jsx(Is,{isOpen:k,onClose:()=>U(!1),title:"Meme Generator",children:m.jsx(Vj,{})}),m.jsx(Is,{isOpen:j,onClose:()=>q(!1),title:"Chess",children:m.jsx(r_e,{onClose:()=>q(!1)})}),m.jsxs("div",{className:t.taskbar,children:[m.jsx("button",{className:t.menuButton,onClick:()=>p(!0),children:"Menu"}),m.jsxs("div",{className:t.walletStatus,children:[m.jsx("span",{style:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:r?"limegreen":"red",marginRight:"6px",border:"1px solid #000",display:"inline-block"}}),r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Disconnected"]}),m.jsx("span",{className:t.clock,children:d})]})]})};function c_e(t){const e=i=>typeof window<"u"?window.matchMedia(i).matches:!1,[n,r]=F.useState(e(t));function s(){r(e(t))}return F.useEffect(()=>{const i=window.matchMedia(t);return s(),i.addEventListener("change",s),()=>{i.removeEventListener("change",s)}},[t]),n}function l_e(t){let e=[],n,r;function s(a){return Xp.parseEvmChainId(a)||1}function i(){var a;return n||(n=Ol.getInstance({projectId:t.options.projectId,chainId:(a=$.getActiveCaipNetwork())==null?void 0:a.caipNetworkId,enableLogger:t.options.enableAuthLogger,onTimeout:c=>{c==="iframe_load_failed"?ln.open(qt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):c==="iframe_request_timeout"?ln.open(qt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):c==="unverified_domain"&&ln.open(qt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:qt.EmbeddedWalletAbortController})),n}async function o(a={}){var g,y;const c=i();let l=a.chainId;if(a.isReconnecting){const w=Xp.parseEvmChainId(c.getLastUsedChainId()||""),b=(g=t.chains)==null?void 0:g[0].id;if(l=w||b,!l)throw new Error("ChainId not found in provider")}const u=(y=ce.state.preferredAccountTypes)==null?void 0:y.eip155,{address:d,chainId:h,accounts:f}=await c.connect({chainId:l,preferredAccountType:u,socialUri:a.socialUri});e=(f==null?void 0:f.map(w=>w.address))||[d];const p=s(h);return{accounts:e,account:d,chainId:p,chain:{id:p,unsuported:!1}}}return a=>({id:J.CONNECTOR_ID.AUTH,name:J.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:J.CHAIN.EVM,async connect(c={}){if(r)return r;r||(r=new Promise(u=>{u(o(c))}));const l=await r;return r=void 0,l},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(a.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){var c;return this.provider||(this.provider=Ol.getInstance({projectId:t.options.projectId,chainId:(c=$.getActiveCaipNetwork())==null?void 0:c.caipNetworkId,enableLogger:t.options.enableAuthLogger,abortController:qt.EmbeddedWalletAbortController,onTimeout:l=>{l==="iframe_load_failed"?ln.open(qt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?ln.open(qt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&ln.open(qt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}})),Promise.resolve(this.provider)},async getChainId(){const c=await this.getProvider(),{chainId:l}=await c.getChainId();return s(l)},async isAuthorized(){const l=$.state.activeChain===J.CHAIN.EVM;if(J.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(h=>de.getConnectorId(h)===J.CONNECTOR_ID.AUTH)&&!l)return!1;const d=await this.getProvider();return Promise.resolve(d.getLoginEmailUsed())},async switchChain({chainId:c}){var l,u;try{const d=a.chains.find(g=>g.id===c);if(!d)throw new eo(new Error("chain not found on connector."));const h=await this.getProvider(),f=(l=ce.state.preferredAccountTypes)==null?void 0:l.eip155,p=await h.connect({chainId:c,preferredAccountType:f});return e=((u=p==null?void 0:p.accounts)==null?void 0:u.map(g=>g.address))||[p.address],a.emitter.emit("change",{chainId:Number(c),accounts:e}),d}catch(d){throw d instanceof Error?new eo(d):d}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(Za)})},onChainChanged(c){const l=Number(c);a.emitter.emit("change",{chainId:l})},async onDisconnect(c){await(await this.getProvider()).disconnect()}})}t2.type="walletConnect";function t2(t,e){const n=t.isNewChainsStale??!0;let r,s,i,o,a,c,l;return u=>({id:"walletConnect",name:"WalletConnect",type:t2.type,async setup(){const d=await this.getProvider().catch(()=>null);d&&(o||(o=this.onConnect.bind(this),d.on("connect",o)),c||(c=this.onSessionDelete.bind(this),d.on("session_delete",c)))},async connect({...d}={}){var h,f,p;try{const g=$.getCaipNetworks(),y=await this.getProvider();if(!y)throw new Ia;a||(a=this.onDisplayUri,y.on("display_uri",a));const w=await this.isChainsStale();y.session&&w&&await y.disconnect();const b=te.state.universalProviderConfigOverride;if(!y.session||w){const C=sp.createNamespaces(g,b);await y.connect({optionalNamespaces:C,..."pairingTopic"in d?{pairingTopic:d.pairingTopic}:{}}),this.setRequestedChainsIds(g.map(O=>Number(O.id)))}const v=await this.getAccounts(),E=await this.getChainId(),_=(p=(f=(h=y.session)==null?void 0:h.namespaces)==null?void 0:f.eip155)==null?void 0:p.chains,x=_==null?void 0:_.some(C=>Number(C.split(":")[1])===E);let S=1;x?S=E:_!=null&&_[0]&&(S=Number(_[0].split(":")[1])),a&&(y.removeListener("display_uri",a),a=void 0),o&&(y.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),y.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),y.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),y.on("disconnect",l)),c||(c=this.onSessionDelete.bind(this),y.on("session_delete",c));const T=b==null?void 0:b.defaultChain;return y.setDefaultChain(T??`eip155:${S}`),{accounts:v,chainId:S}}catch(g){throw/(user rejected|connection request reset)/i.test(g==null?void 0:g.message)?new gn(g):g}},async disconnect(){const d=await this.getProvider();try{await(d==null?void 0:d.disconnect())}catch(h){if(!/No matching key/i.test(h.message))throw h}finally{i&&(d==null||d.removeListener("chainChanged",i),i=void 0),l&&(d==null||d.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),d==null||d.on("connect",o)),s&&(d==null||d.removeListener("accountsChanged",s),s=void 0),c&&(d==null||d.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var p,g,y;const d=await this.getProvider();if(!((p=d==null?void 0:d.session)!=null&&p.namespaces))return[];const h=(y=(g=d==null?void 0:d.session)==null?void 0:g.namespaces[J.CHAIN.EVM])==null?void 0:y.accounts;return(h==null?void 0:h.map(w=>w.split(":")[2]))??[]},async getProvider({chainId:d}={}){var p,g;r||(r=await e.getUniversalProvider(),r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY));const h=ue.getActiveNamespace(),f=(p=e.getCaipNetwork())==null?void 0:p.id;if(d&&f!==d&&h){const y=ue.getStoredActiveCaipNetworkId(),w=e.getCaipNetworks(h),b=w==null?void 0:w.find(v=>v.id===y);b&&b.chainNamespace===J.CHAIN.EVM&&await((g=this.switchChain)==null?void 0:g.call(this,{chainId:Number(b.id)}))}return r},async getChainId(){var g,y,w,b;const d=(g=e.getCaipNetwork(J.CHAIN.EVM))==null?void 0:g.id;if(d)return d;const f=(b=(w=(y=(await this.getProvider()).session)==null?void 0:y.namespaces[J.CHAIN.EVM])==null?void 0:w.chains)==null?void 0:b[0],p=$.getCaipNetworks().find(v=>v.id===f);return p==null?void 0:p.id},async isAuthorized(){try{const[d,h]=await Promise.all([this.getAccounts(),this.getProvider()]);return d.length?await this.isChainsStale()&&h.session?(await h.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:h}){var g,y,w,b;const f=await this.getProvider();if(!f)throw new Ia;const p=$.getCaipNetworks().find(v=>v.id===h);if(!p)throw new eo(new Vp);try{await f.request({method:"wallet_switchEthereumChain",params:[{chainId:je(h)}]}),p!=null&&p.caipNetworkId&&f.setDefaultChain(p==null?void 0:p.caipNetworkId),u.emitter.emit("change",{chainId:Number(h)});const v=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...v,h]),{...p,id:p.id}}catch(v){const E=v;if(/(?:user rejected)/iu.test(E.message))throw new gn(E);try{let _;d!=null&&d.blockExplorerUrls?_=d.blockExplorerUrls:_=(g=p.blockExplorers)!=null&&g.default.url?[(y=p.blockExplorers)==null?void 0:y.default.url]:[];const x=((b=(w=p.rpcUrls)==null?void 0:w.chainDefault)==null?void 0:b.http)||[],S={blockExplorerUrls:_,chainId:je(h),chainName:p.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:p.nativeCurrency,rpcUrls:x};await f.request({method:"wallet_addEthereumChain",params:[S]});const T=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...T,h]),{...p,id:p.id}}catch(_){throw new gn(_)}}},onAccountsChanged(d){d.length===0?this.onDisconnect():u.emitter.emit("change",{accounts:d.map(h=>Za(h))})},onChainChanged(d){const h=Number(d);u.emitter.emit("change",{chainId:h})},onConnect(d){this.setRequestedChainsIds($.getCaipNetworks().map(h=>Number(h.id)))},async onDisconnect(d){this.setRequestedChainsIds([]),u.emitter.emit("disconnect");const h=await this.getProvider();s&&(h.removeListener("accountsChanged",s),s=void 0),i&&(h.removeListener("chainChanged",i),i=void 0),l&&(h.removeListener("disconnect",l),l=void 0),c&&(h.removeListener("session_delete",c),c=void 0),o||(o=this.onConnect.bind(this),h.on("connect",o))},onDisplayUri(d){u.emitter.emit("message",{type:"display_uri",data:d})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var f,p,g;if(!((f=r==null?void 0:r.session)!=null&&f.namespaces))return[];const d=(g=(p=r==null?void 0:r.session)==null?void 0:p.namespaces[J.CHAIN.EVM])==null?void 0:g.accounts;return(d==null?void 0:d.map(y=>Number.parseInt(y.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var h;const d=await((h=u.storage)==null?void 0:h.getItem(this.requestedChainsStorageKey))??[];return[...new Set(d)]},async isChainsStale(){if(!n)return!1;const d=u.chains.map(p=>p.id),h=this.getNamespaceChainsIds();if(h.length&&!h.some(p=>d.includes(p)))return!1;const f=await this.getRequestedChainsIds();return!d.every(p=>f.includes(Number(p)))},async setRequestedChainsIds(d){var h;await((h=u.storage)==null?void 0:h.setItem(this.requestedChainsStorageKey,d))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const ff=Ot({pendingTransactions:0}),TO={state:ff,subscribeKey(t,e){return Wn(ff,t,e)},increase(t){ff[t]+=1},decrease(t){ff[t]-=1},reset(t){ff[t]=0}};function u_e(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}async function d_e(t){if(Ee.isSafeApp()){const{safe:e}=await nn(async()=>{const{safe:n}=await import("./index-ChUrp2ib.js");return{safe:n}},[]);if(e&&!t.some(n=>n.type==="safe"))return e()}return null}async function h_e(t){try{const{coinbaseWallet:e}=await nn(async()=>{const{coinbaseWallet:n}=await import("./index-ChUrp2ib.js");return{coinbaseWallet:n}},[]);if(e&&!t.some(n=>n.id==="coinbaseWalletSDK"))return e()}catch(e){console.error("Failed to import Coinbase Wallet SDK:",e)}return null}const f_e={enable:!1,pollingInterval:3e4};class p_e extends Hj{constructor(e){const n=Vi.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super(),this.balancePromises={},this.namespace=J.CHAIN.EVM,this.adapterType=J.ADAPTER_TYPES.WAGMI,this.projectId=e.projectId,this.pendingTransactionsFilter={...f_e,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n}),this.checkChainId()}construct(e){this.checkChainId(),this.setupWatchers()}async getAccounts(e){const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===J.CONNECTOR_ID.AUTH){const i=await n.getProvider();if(!(i!=null&&i.user))return{accounts:[]};const{address:o,accounts:a}=i.user;return Promise.resolve({accounts:(a||[{address:o,type:"eoa"}]).map(c=>Ee.createAccount("eip155",c.address,c.type))})}const{addresses:r,address:s}=Ed(this.wagmiConfig);return Promise.resolve({accounts:[...new Set(r||[s])].map(i=>Ee.createAccount("eip155",i||"","eoa"))})}checkChainId(){const{chainId:e}=Ed(this.wagmiConfig);e&&this.emit("switchNetwork",{chainId:e})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(s=>s.chainNamespace===J.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(s=>{var a,c;const i=(a=e.transports)==null?void 0:a[s.id],o=Vi.getCaipNetworkId(s);i?n[s.id]=Vi.extendWagmiTransports(s,e.projectId,i):n[s.id]=Vi.getViemTransport(s,e.projectId,(c=e.customRpcUrls)==null?void 0:c[o])}),this.wagmiConfig=Rq({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=hq(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),TO.increase("pendingTransactions")}});const e=TO.subscribeKey("pendingTransactions",n=>{var r;n>=J.LIMITS.PENDING_TRANSACTIONS&&((r=this.unwatchPendingTransactions)==null||r.call(this),e())})}setupWatchers(){OD(this.wagmiConfig,{onChange:(e,n)=>{e.status==="disconnected"&&n.address&&this.emit("disconnect"),e!=null&&e.chainId&&(e==null?void 0:e.chainId)!==(n==null?void 0:n.chainId)&&this.emit("switchNetwork",{chainId:e.chainId}),e.status==="connected"&&(e.address!==(n==null?void 0:n.address)||n.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){const n=[];if(e.enableCoinbase!==!1){const s=await h_e(this.wagmiConfig.connectors);s&&n.push(s)}const r=await d_e(this.wagmiConfig.connectors);r&&n.push(r),await Promise.all(n.map(s=>{const i=this.wagmiConfig._internal.connectors.setup(s);return this.wagmiConfig._internal.connectors.setState(o=>[...o,i]),this.addWagmiConnector(i,e)}))}addWagmiConnectors(e,n){var o,a,c,l;const r=[];e.enableWalletConnect!==!1&&r.push(t2(e,n)),e.enableInjected!==!1&&r.push(Ww({shimDisconnect:!0}));const s=((o=n==null?void 0:n.remoteFeatures)==null?void 0:o.email)??!0,i=Array.isArray((a=n==null?void 0:n.remoteFeatures)==null?void 0:a.socials)&&((l=(c=n==null?void 0:n.remoteFeatures)==null?void 0:c.socials)==null?void 0:l.length)>0;(s||i)&&r.push(l_e({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(u=>{const d=this.wagmiConfig._internal.connectors.setup(u);this.wagmiConfig._internal.connectors.setState(h=>[...h,d])})}async signMessage(e){try{return{signature:await cq(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n,address:r}=Ed(this.wagmiConfig),s={account:r,to:e.to,value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await oq(this.wagmiConfig,s);const i=await aq(this.wagmiConfig,s);return await fq(this.wagmiConfig,{hash:i,timeout:25e3}),{hash:i}}async writeContract(e){var o;const{caipNetwork:n,...r}=e,s=Number(Xp.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await pq(this.wagmiConfig,{chain:(o=this.wagmiChains)==null?void 0:o[s],chainId:s,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(e){try{return{gas:await Xz(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return Ez(e.value,e.decimals)}formatUnits(e){return ph(e.value,e.decimals)}async addWagmiConnector(e,n){var s;if(e.id===J.CONNECTOR_ID.AUTH||e.id===J.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:nc.ConnectorExplorerIds[e.id],imageUrl:((s=n==null?void 0:n.connectorImages)==null?void 0:s[e.id])??e.icon,name:nc.ConnectorNamesMap[e.id]??e.name,imageId:nc.ConnectorImageIds[e.id],type:nc.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===J.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){RD(this.wagmiConfig,{onChange:r=>{r.forEach(s=>this.addWagmiConnector(s,e))}}),this.addWagmiConnectors(e,n),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addThirdPartyConnectors(e)}async syncConnection(e){var l,u;const{id:n,chainId:r}=e,i=Li(this.wagmiConfig).find(d=>d.connector.id===n),o=this.getWagmiConnector(n),a=await(o==null?void 0:o.getProvider());if(Ee.isSafeApp()&&n===J.CONNECTOR_ID.SAFE&&!(i!=null&&i.accounts.length)){const d=this.getWagmiConnector("safe");if(d){const h=await Fy(this.wagmiConfig,{connector:d,chainId:Number(r)}),f=await d.getProvider();return{chainId:Number(r),address:h.accounts[0],provider:f,type:(l=i==null?void 0:i.connector.type)==null?void 0:l.toUpperCase(),id:i==null?void 0:i.connector.id}}}return{chainId:Number(i==null?void 0:i.chainId),address:i==null?void 0:i.accounts[0],provider:a,type:(u=i==null?void 0:i.connector.type)==null?void 0:u.toUpperCase(),id:i==null?void 0:i.connector.id}}async connectWalletConnect(e){const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const s=await Fy(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return s.chainId!==Number(e)&&await GI(this.wagmiConfig,{chainId:s.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(e){var u,d,h,f,p;const{id:n,provider:r,type:s,info:i,chainId:o,socialUri:a}=e,c=this.getWagmiConnector(n);if(!c)throw new Error("connectionControllerClient:connectExternal - connector is undefined");if(r&&i&&c.id===J.CONNECTOR_ID.EIP6963&&((u=c.setEip6963Wallet)==null||u.call(c,{provider:r,info:i})),c.uid===((h=(d=this.wagmiConfig)==null?void 0:d.state)==null?void 0:h.current)){const g=(p=(f=this.wagmiConfig.state)==null?void 0:f.connections)==null?void 0:p.get(c.uid);if(g)return{address:g==null?void 0:g.accounts[0],chainId:g==null?void 0:g.chainId,provider:r,type:s,id:n}}const l=await Fy(this.wagmiConfig,{connector:c,chainId:o?Number(o):void 0,socialUri:a});return{address:l.accounts[0],chainId:l.chainId,provider:r,type:s,id:n}}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await xE(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(s=>s.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const s=`${r.caipNetworkId}:${e.address}`,i=this.balancePromises[s];if(i)return i;const o=ue.getNativeBalanceCacheForCaipAddress(s);return o?{balance:o.balance,symbol:o.symbol}:(this.balancePromises[s]=new Promise(async a=>{var c,l;try{const u=Number(e.chainId),d=await rq(this.wagmiConfig,{address:e.address,chainId:u,token:(l=(c=e.tokens)==null?void 0:c[r.caipNetworkId])==null?void 0:l.address});ue.updateNativeBalanceCache({caipAddress:s,balance:d.formatted,symbol:d.symbol,timestamp:Date.now()}),a({balance:d.formatted,symbol:d.symbol})}catch(u){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",u),a({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=Li(this.wagmiConfig);await Promise.allSettled(e.map(async n=>{const r=this.getWagmiConnector(n.connector.id);r&&await PD(this.wagmiConfig,{connector:r})})),this.wagmiConfig.state.connections.clear()}async switchNetwork(e){var r,s,i,o,a;const{caipNetwork:n}=e;await GI(this.wagmiConfig,{chainId:n.id,addEthereumChainParameter:{chainName:n.name,nativeCurrency:n.nativeCurrency,rpcUrls:[((i=(s=(r=n.rpcUrls)==null?void 0:r.chainDefault)==null?void 0:s.http)==null?void 0:i[0])??""],blockExplorerUrls:[((o=n.blockExplorers)==null?void 0:o.default.url)??""],iconUrls:[((a=n.assets)==null?void 0:a.imageUrl)??""]}}),await super.switchNetwork(e)}async getCapabilities(e){var a,c;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=Li(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const o=(c=(a=i.session)==null?void 0:a.sessionProperties)==null?void 0:c.capabilities;if(o){const u=u_e(o)[e];if(u)return u}return await i.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=Li(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return i.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=Li(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return i.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=Li(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return i.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){e.on("connect",()=>{const n=Li(this.wagmiConfig),r=this.getWagmiConnector("walletConnect");if(r&&!n.find(s=>s.connector.id===r.id)){if($.state.activeChain==="eip155")return;xE(this.wagmiConfig,{connectors:[r]})}}),this.addConnector(new YA({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"}))}}const wU="7c65f27254d6ddd24cf7eedf2685c4fb",g_e={name:"Lawb.xyz",description:"Windows 98-style NFT site",url:"https://lawb.xyz",icons:["/assets/favicon.ico"]},vU=new p_e({networks:[Wj],projectId:wU,ssr:!1});Eve({adapters:[vU],networks:[Wj],projectId:wU,metadata:g_e,features:{analytics:!1}});const m_e=new EW,y_e=()=>c_e("(max-width: 768px)")?m.jsx(a_e,{}):m.jsx(H1e,{});l_.createRoot(document.getElementById("root")).render(m.jsx(Us.StrictMode,{children:m.jsx(jq,{config:vU.wagmiConfig,children:m.jsx(DW,{client:m_e,children:m.jsx(y_e,{})})})}));export{$Ee as $,ce as A,Pe as B,de as C,Wn as D,Wf as E,qn as F,Ae as G,uC as H,Cf as I,ui as J,XQ as K,Ct as L,ft as M,YQ as N,te as O,as as P,t0 as Q,ke as R,hi as S,Fr as T,eg as U,ug as V,Nn as W,LEe as X,ux as Y,RZ as Z,ep as _,r0 as a,fh as a$,An as a0,ru as a1,en as a2,DEe as a3,Uj as a4,dx as a5,ih as a6,nn as a7,j_e as a8,Za as a9,gD as aA,pD as aB,xc as aC,Bf as aD,qo as aE,N_e as aF,OB as aG,Bl as aH,T_e as aI,P_e as aJ,N0 as aK,k_e as aL,t9 as aM,d$ as aN,I_e as aO,Mw as aP,Ap as aQ,P0 as aR,mw as aS,O_e as aT,n9 as aU,wT as aV,xq as aW,ZG as aX,Hs as aY,vz as aZ,wz as a_,eo as aa,Vp as ab,je as ac,gn as ad,Ia as ae,vD as af,Ww as ag,k0 as ah,NS as ai,Cc as aj,S_e as ak,qw as al,PS as am,x_e as an,C_e as ao,C$ as ap,Uw as aq,T0 as ar,wB as as,CB as at,R_e as au,y7 as av,X as aw,ES as ax,vr as ay,v7 as az,mt as b,Ml as b0,$w as b1,Er as b2,on as b3,zg as b4,J as c,Ee as d,$ as e,yt as f,Oo as g,UEe as h,Ad as i,ls as j,we as k,Ut as l,Gwe as m,ln as n,Kwe as o,ue as p,qt as q,jEe as r,dt as s,y8 as t,Ot as u,TZ as v,_s as w,REe as x,cA as y,v8 as z};
