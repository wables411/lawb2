const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/secp256k1-DydvkAFG.js","assets/hmac-CSCYEPa0.js","assets/secp256k1-C2kfrrSp.js","assets/embedded-wallet-CZzHl1h6.js","assets/if-defined-DmcjIYYq.js","assets/index-vaVr9ad7.js","assets/index-BNDzJQ8Q.js","assets/ref-89lchBM8.js","assets/index-C9jZcTw0.js","assets/index-Brkgx_Ng.js","assets/index-DGTqzL95.js","assets/index-CM1MYonC.js","assets/index-DebtfXmX.js","assets/index-CyN4oodZ.js","assets/index-C-v5haH3.js","assets/email-CHfUURHd.js","assets/index-Crol5pmN.js","assets/socials-DX7hc6HE.js","assets/index-ccYdn8mX.js","assets/ConstantsUtil-Dmg8YACJ.js","assets/index-DCFsiG-S.js","assets/index-e2ZMWJbk.js","assets/index-BeVfF5wK.js","assets/index-HiBbAdqJ.js","assets/swaps-D_szBoFv.js","assets/index-PW5sZhIp.js","assets/index-DUge_DyU.js","assets/index-DAGhHCFg.js","assets/send-ihW6QShy.js","assets/index-DwFqG84m.js","assets/index-CifC-yn7.js","assets/receive-nuDrZrPa.js","assets/index-rbSU11Tx.js","assets/onramp-Ckb9fcYJ.js","assets/index-sg89f6rV.js","assets/index-NFVVl2dC.js","assets/index-yWUuqsfY.js","assets/transactions-C1FYeikF.js","assets/index-D8JsZFqX.js","assets/index-Dk7z6NWz.js","assets/index-haUIwuKw.js","assets/index-CkpL4TJp.js","assets/index-CGtOgKRn.js","assets/w3m-modal-BrtH99Wt.js"])))=>i.map(i=>d[i]);
var AI=t=>{throw TypeError(t)};var Qv=(t,e,n)=>e.has(t)||AI("Cannot "+n);var L=(t,e,n)=>(Qv(t,e,"read from private field"),n?n.call(t):e.get(t)),Se=(t,e,n)=>e.has(t)?AI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),fe=(t,e,n,r)=>(Qv(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),qe=(t,e,n)=>(Qv(t,e,"access private method"),n);var Cm=(t,e,n,r)=>({set _(s){fe(t,e,s,n)},get _(){return L(t,e,r)}});function SL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ou(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function C0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var hR={exports:{}},x0={},fR={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg=Symbol.for("react.element"),AL=Symbol.for("react.portal"),IL=Symbol.for("react.fragment"),TL=Symbol.for("react.strict_mode"),NL=Symbol.for("react.profiler"),PL=Symbol.for("react.provider"),kL=Symbol.for("react.context"),OL=Symbol.for("react.forward_ref"),RL=Symbol.for("react.suspense"),$L=Symbol.for("react.memo"),DL=Symbol.for("react.lazy"),II=Symbol.iterator;function jL(t){return t===null||typeof t!="object"?null:(t=II&&t[II]||t["@@iterator"],typeof t=="function"?t:null)}var pR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gR=Object.assign,mR={};function hh(t,e,n){this.props=t,this.context=e,this.refs=mR,this.updater=n||pR}hh.prototype.isReactComponent={};hh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yR(){}yR.prototype=hh.prototype;function Rx(t,e,n){this.props=t,this.context=e,this.refs=mR,this.updater=n||pR}var $x=Rx.prototype=new yR;$x.constructor=Rx;gR($x,hh.prototype);$x.isPureReactComponent=!0;var TI=Array.isArray,wR=Object.prototype.hasOwnProperty,Dx={current:null},vR={key:!0,ref:!0,__self:!0,__source:!0};function bR(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)wR.call(e,r)&&!vR.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Fg,type:t,key:i,ref:o,props:s,_owner:Dx.current}}function UL(t,e){return{$$typeof:Fg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fg}function LL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var NI=/\/+/g;function Zv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?LL(""+t.key):e.toString(36)}function $y(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fg:case AL:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Zv(o,0):r,TI(s)?(n="",t!=null&&(n=t.replace(NI,"$&/")+"/"),$y(s,e,n,"",function(l){return l})):s!=null&&(jx(s)&&(s=UL(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(NI,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",TI(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+Zv(i,a);o+=$y(i,e,n,c,s)}else if(c=jL(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+Zv(i,a++),o+=$y(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xm(t,e,n){if(t==null)return t;var r=[],s=0;return $y(t,r,"","",function(i){return e.call(n,i,s++)}),r}function ML(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xr={current:null},Dy={transition:null},BL={ReactCurrentDispatcher:xr,ReactCurrentBatchConfig:Dy,ReactCurrentOwner:Dx};function _R(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:xm,forEach:function(t,e,n){xm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xm(t,function(){e++}),e},toArray:function(t){return xm(t,function(e){return e})||[]},only:function(t){if(!jx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Qe.Component=hh;Qe.Fragment=IL;Qe.Profiler=NL;Qe.PureComponent=Rx;Qe.StrictMode=TL;Qe.Suspense=RL;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BL;Qe.act=_R;Qe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gR({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Dx.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)wR.call(e,c)&&!vR.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Fg,type:t.type,key:s,ref:i,props:r,_owner:o}};Qe.createContext=function(t){return t={$$typeof:kL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PL,_context:t},t.Consumer=t};Qe.createElement=bR;Qe.createFactory=function(t){var e=bR.bind(null,t);return e.type=t,e};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(t){return{$$typeof:OL,render:t}};Qe.isValidElement=jx;Qe.lazy=function(t){return{$$typeof:DL,_payload:{_status:-1,_result:t},_init:ML}};Qe.memo=function(t,e){return{$$typeof:$L,type:t,compare:e===void 0?null:e}};Qe.startTransition=function(t){var e=Dy.transition;Dy.transition={};try{t()}finally{Dy.transition=e}};Qe.unstable_act=_R;Qe.useCallback=function(t,e){return xr.current.useCallback(t,e)};Qe.useContext=function(t){return xr.current.useContext(t)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(t){return xr.current.useDeferredValue(t)};Qe.useEffect=function(t,e){return xr.current.useEffect(t,e)};Qe.useId=function(){return xr.current.useId()};Qe.useImperativeHandle=function(t,e,n){return xr.current.useImperativeHandle(t,e,n)};Qe.useInsertionEffect=function(t,e){return xr.current.useInsertionEffect(t,e)};Qe.useLayoutEffect=function(t,e){return xr.current.useLayoutEffect(t,e)};Qe.useMemo=function(t,e){return xr.current.useMemo(t,e)};Qe.useReducer=function(t,e,n){return xr.current.useReducer(t,e,n)};Qe.useRef=function(t){return xr.current.useRef(t)};Qe.useState=function(t){return xr.current.useState(t)};Qe.useSyncExternalStore=function(t,e,n){return xr.current.useSyncExternalStore(t,e,n)};Qe.useTransition=function(){return xr.current.useTransition()};Qe.version="18.3.1";fR.exports=Qe;var D=fR.exports;const hs=ou(D),FL=SL({__proto__:null,default:hs},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zL=D,WL=Symbol.for("react.element"),qL=Symbol.for("react.fragment"),HL=Object.prototype.hasOwnProperty,VL=zL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GL={key:!0,ref:!0,__self:!0,__source:!0};function ER(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)HL.call(e,r)&&!GL.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:WL,type:t,key:i,ref:o,props:s,_owner:VL.current}}x0.Fragment=qL;x0.jsx=ER;x0.jsxs=ER;hR.exports=x0;var m=hR.exports,v_={},CR={exports:{}},ws={},xR={exports:{}},SR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,k){var U=P.length;P.push(k);e:for(;0<U;){var F=U-1>>>1,V=P[F];if(0<s(V,k))P[F]=k,P[U]=V,U=F;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var k=P[0],U=P.pop();if(U!==k){P[0]=U;e:for(var F=0,V=P.length,J=V>>>1;F<J;){var K=2*(F+1)-1,Z=P[K],se=K+1,Ie=P[se];if(0>s(Z,U))se<V&&0>s(Ie,Z)?(P[F]=Ie,P[se]=U,F=se):(P[F]=Z,P[K]=U,F=K);else if(se<V&&0>s(Ie,U))P[F]=Ie,P[se]=U,F=se;else break e}}return k}function s(P,k){var U=P.sortIndex-k.sortIndex;return U!==0?U:P.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,d=null,h=3,f=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var k=n(l);k!==null;){if(k.callback===null)r(l);else if(k.startTime<=P)r(l),k.sortIndex=k.expirationTime,e(c,k);else break;k=n(l)}}function E(P){if(g=!1,v(P),!p)if(n(c)!==null)p=!0,A(_);else{var k=n(l);k!==null&&j(E,k.startTime-P)}}function _(P,k){p=!1,g&&(g=!1,w(T),T=-1),f=!0;var U=h;try{for(v(k),d=n(c);d!==null&&(!(d.expirationTime>k)||P&&!R());){var F=d.callback;if(typeof F=="function"){d.callback=null,h=d.priorityLevel;var V=F(d.expirationTime<=k);k=t.unstable_now(),typeof V=="function"?d.callback=V:d===n(c)&&r(c),v(k)}else r(c);d=n(c)}if(d!==null)var J=!0;else{var K=n(l);K!==null&&j(E,K.startTime-k),J=!1}return J}finally{d=null,h=U,f=!1}}var x=!1,S=null,T=-1,C=5,O=-1;function R(){return!(t.unstable_now()-O<C)}function B(){if(S!==null){var P=t.unstable_now();O=P;var k=!0;try{k=S(!0,P)}finally{k?z():(x=!1,S=null)}}else x=!1}var z;if(typeof b=="function")z=function(){b(B)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,I=M.port2;M.port1.onmessage=B,z=function(){I.postMessage(null)}}else z=function(){y(B,0)};function A(P){S=P,x||(x=!0,z())}function j(P,k){T=y(function(){P(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,A(_))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var U=h;h=k;try{return P()}finally{h=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,k){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var U=h;h=P;try{return k()}finally{h=U}},t.unstable_scheduleCallback=function(P,k,U){var F=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?F+U:F):U=F,P){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=U+V,P={id:u++,callback:k,priorityLevel:P,startTime:U,expirationTime:V,sortIndex:-1},U>F?(P.sortIndex=U,e(l,P),n(c)===null&&P===n(l)&&(g?(w(T),T=-1):g=!0,j(E,U-F))):(P.sortIndex=V,e(c,P),p||f||(p=!0,A(_))),P},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(P){var k=h;return function(){var U=h;h=k;try{return P.apply(this,arguments)}finally{h=U}}}})(SR);xR.exports=SR;var KL=xR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YL=D,ms=KL;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AR=new Set,yp={};function au(t,e){qd(t,e),qd(t+"Capture",e)}function qd(t,e){for(yp[t]=e,t=0;t<e.length;t++)AR.add(e[t])}var Mo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b_=Object.prototype.hasOwnProperty,JL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,PI={},kI={};function QL(t){return b_.call(kI,t)?!0:b_.call(PI,t)?!1:JL.test(t)?kI[t]=!0:(PI[t]=!0,!1)}function ZL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XL(t,e,n,r){if(e===null||typeof e>"u"||ZL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wn[t]=new Sr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wn[e]=new Sr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wn[t]=new Sr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wn[t]=new Sr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wn[t]=new Sr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wn[t]=new Sr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wn[t]=new Sr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wn[t]=new Sr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wn[t]=new Sr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ux=/[\-:]([a-z])/g;function Lx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ux,Lx);Wn[e]=new Sr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ux,Lx);Wn[e]=new Sr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ux,Lx);Wn[e]=new Sr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wn[t]=new Sr(t,1,!1,t.toLowerCase(),null,!1,!1)});Wn.xlinkHref=new Sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wn[t]=new Sr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mx(t,e,n,r){var s=Wn.hasOwnProperty(e)?Wn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XL(e,n,s,r)&&(n=null),r||s===null?QL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yo=YL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sm=Symbol.for("react.element"),rd=Symbol.for("react.portal"),sd=Symbol.for("react.fragment"),Bx=Symbol.for("react.strict_mode"),__=Symbol.for("react.profiler"),IR=Symbol.for("react.provider"),TR=Symbol.for("react.context"),Fx=Symbol.for("react.forward_ref"),E_=Symbol.for("react.suspense"),C_=Symbol.for("react.suspense_list"),zx=Symbol.for("react.memo"),Aa=Symbol.for("react.lazy"),NR=Symbol.for("react.offscreen"),OI=Symbol.iterator;function Mh(t){return t===null||typeof t!="object"?null:(t=OI&&t[OI]||t["@@iterator"],typeof t=="function"?t:null)}var Gt=Object.assign,Xv;function Ef(t){if(Xv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xv=e&&e[1]||""}return`
`+Xv+t}var eb=!1;function tb(t,e){if(!t||eb)return"";eb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{eb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ef(t):""}function eM(t){switch(t.tag){case 5:return Ef(t.type);case 16:return Ef("Lazy");case 13:return Ef("Suspense");case 19:return Ef("SuspenseList");case 0:case 2:case 15:return t=tb(t.type,!1),t;case 11:return t=tb(t.type.render,!1),t;case 1:return t=tb(t.type,!0),t;default:return""}}function x_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sd:return"Fragment";case rd:return"Portal";case __:return"Profiler";case Bx:return"StrictMode";case E_:return"Suspense";case C_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case TR:return(t.displayName||"Context")+".Consumer";case IR:return(t._context.displayName||"Context")+".Provider";case Fx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zx:return e=t.displayName||null,e!==null?e:x_(t.type)||"Memo";case Aa:e=t._payload,t=t._init;try{return x_(t(e))}catch{}}return null}function tM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return x_(e);case 8:return e===Bx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function PR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nM(t){var e=PR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Am(t){t._valueTracker||(t._valueTracker=nM(t))}function kR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=PR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dw(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function S_(t,e){var n=e.checked;return Gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function RI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Cc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function OR(t,e){e=e.checked,e!=null&&Mx(t,"checked",e,!1)}function A_(t,e){OR(t,e);var n=Cc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?I_(t,e.type,n):e.hasOwnProperty("defaultValue")&&I_(t,e.type,Cc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $I(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function I_(t,e,n){(e!=="number"||dw(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Cf=Array.isArray;function wd(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cc(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function T_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return Gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function DI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(Cf(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Cc(n)}}function RR(t,e){var n=Cc(e.value),r=Cc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $R(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function N_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$R(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Im,DR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Im=Im||document.createElement("div"),Im.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Im.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Mf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rM=["Webkit","ms","Moz","O"];Object.keys(Mf).forEach(function(t){rM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mf[e]=Mf[t]})});function jR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Mf.hasOwnProperty(t)&&Mf[t]?(""+e).trim():e+"px"}function UR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=jR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var sM=Gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function P_(t,e){if(e){if(sM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function k_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O_=null;function Wx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var R_=null,vd=null,bd=null;function UI(t){if(t=qg(t)){if(typeof R_!="function")throw Error(re(280));var e=t.stateNode;e&&(e=N0(e),R_(t.stateNode,t.type,e))}}function LR(t){vd?bd?bd.push(t):bd=[t]:vd=t}function MR(){if(vd){var t=vd,e=bd;if(bd=vd=null,UI(t),e)for(t=0;t<e.length;t++)UI(e[t])}}function BR(t,e){return t(e)}function FR(){}var nb=!1;function zR(t,e,n){if(nb)return t(e,n);nb=!0;try{return BR(t,e,n)}finally{nb=!1,(vd!==null||bd!==null)&&(FR(),MR())}}function vp(t,e){var n=t.stateNode;if(n===null)return null;var r=N0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var $_=!1;if(Mo)try{var Bh={};Object.defineProperty(Bh,"passive",{get:function(){$_=!0}}),window.addEventListener("test",Bh,Bh),window.removeEventListener("test",Bh,Bh)}catch{$_=!1}function iM(t,e,n,r,s,i,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var Bf=!1,hw=null,fw=!1,D_=null,oM={onError:function(t){Bf=!0,hw=t}};function aM(t,e,n,r,s,i,o,a,c){Bf=!1,hw=null,iM.apply(oM,arguments)}function cM(t,e,n,r,s,i,o,a,c){if(aM.apply(this,arguments),Bf){if(Bf){var l=hw;Bf=!1,hw=null}else throw Error(re(198));fw||(fw=!0,D_=l)}}function cu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function WR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function LI(t){if(cu(t)!==t)throw Error(re(188))}function lM(t){var e=t.alternate;if(!e){if(e=cu(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return LI(s),t;if(i===r)return LI(s),e;i=i.sibling}throw Error(re(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function qR(t){return t=lM(t),t!==null?HR(t):null}function HR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=HR(t);if(e!==null)return e;t=t.sibling}return null}var VR=ms.unstable_scheduleCallback,MI=ms.unstable_cancelCallback,uM=ms.unstable_shouldYield,dM=ms.unstable_requestPaint,nn=ms.unstable_now,hM=ms.unstable_getCurrentPriorityLevel,qx=ms.unstable_ImmediatePriority,GR=ms.unstable_UserBlockingPriority,pw=ms.unstable_NormalPriority,fM=ms.unstable_LowPriority,KR=ms.unstable_IdlePriority,S0=null,Gi=null;function pM(t){if(Gi&&typeof Gi.onCommitFiberRoot=="function")try{Gi.onCommitFiberRoot(S0,t,void 0,(t.current.flags&128)===128)}catch{}}var gi=Math.clz32?Math.clz32:yM,gM=Math.log,mM=Math.LN2;function yM(t){return t>>>=0,t===0?32:31-(gM(t)/mM|0)|0}var Tm=64,Nm=4194304;function xf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gw(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=xf(a):(i&=o,i!==0&&(r=xf(i)))}else o=n&~s,o!==0?r=xf(o):i!==0&&(r=xf(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gi(e),s=1<<n,r|=t[n],e&=~s;return r}function wM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-gi(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=wM(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function j_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function YR(){var t=Tm;return Tm<<=1,!(Tm&4194240)&&(Tm=64),t}function rb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gi(e),t[e]=n}function bM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-gi(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Hx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gi(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var wt=0;function JR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var QR,Vx,ZR,XR,e3,U_=!1,Pm=[],ic=null,oc=null,ac=null,bp=new Map,_p=new Map,Da=[],_M="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BI(t,e){switch(t){case"focusin":case"focusout":ic=null;break;case"dragenter":case"dragleave":oc=null;break;case"mouseover":case"mouseout":ac=null;break;case"pointerover":case"pointerout":bp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_p.delete(e.pointerId)}}function Fh(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=qg(e),e!==null&&Vx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function EM(t,e,n,r,s){switch(e){case"focusin":return ic=Fh(ic,t,e,n,r,s),!0;case"dragenter":return oc=Fh(oc,t,e,n,r,s),!0;case"mouseover":return ac=Fh(ac,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return bp.set(i,Fh(bp.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,_p.set(i,Fh(_p.get(i)||null,t,e,n,r,s)),!0}return!1}function t3(t){var e=ll(t.target);if(e!==null){var n=cu(e);if(n!==null){if(e=n.tag,e===13){if(e=WR(n),e!==null){t.blockedOn=e,e3(t.priority,function(){ZR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=L_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);O_=r,n.target.dispatchEvent(r),O_=null}else return e=qg(n),e!==null&&Vx(e),t.blockedOn=n,!1;e.shift()}return!0}function FI(t,e,n){jy(t)&&n.delete(e)}function CM(){U_=!1,ic!==null&&jy(ic)&&(ic=null),oc!==null&&jy(oc)&&(oc=null),ac!==null&&jy(ac)&&(ac=null),bp.forEach(FI),_p.forEach(FI)}function zh(t,e){t.blockedOn===e&&(t.blockedOn=null,U_||(U_=!0,ms.unstable_scheduleCallback(ms.unstable_NormalPriority,CM)))}function Ep(t){function e(s){return zh(s,t)}if(0<Pm.length){zh(Pm[0],t);for(var n=1;n<Pm.length;n++){var r=Pm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ic!==null&&zh(ic,t),oc!==null&&zh(oc,t),ac!==null&&zh(ac,t),bp.forEach(e),_p.forEach(e),n=0;n<Da.length;n++)r=Da[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Da.length&&(n=Da[0],n.blockedOn===null);)t3(n),n.blockedOn===null&&Da.shift()}var _d=Yo.ReactCurrentBatchConfig,mw=!0;function xM(t,e,n,r){var s=wt,i=_d.transition;_d.transition=null;try{wt=1,Gx(t,e,n,r)}finally{wt=s,_d.transition=i}}function SM(t,e,n,r){var s=wt,i=_d.transition;_d.transition=null;try{wt=4,Gx(t,e,n,r)}finally{wt=s,_d.transition=i}}function Gx(t,e,n,r){if(mw){var s=L_(t,e,n,r);if(s===null)fb(t,e,r,yw,n),BI(t,r);else if(EM(s,t,e,n,r))r.stopPropagation();else if(BI(t,r),e&4&&-1<_M.indexOf(t)){for(;s!==null;){var i=qg(s);if(i!==null&&QR(i),i=L_(t,e,n,r),i===null&&fb(t,e,r,yw,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else fb(t,e,r,null,n)}}var yw=null;function L_(t,e,n,r){if(yw=null,t=Wx(r),t=ll(t),t!==null)if(e=cu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=WR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yw=t,null}function n3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hM()){case qx:return 1;case GR:return 4;case pw:case fM:return 16;case KR:return 536870912;default:return 16}default:return 16}}var Qa=null,Kx=null,Uy=null;function r3(){if(Uy)return Uy;var t,e=Kx,n=e.length,r,s="value"in Qa?Qa.value:Qa.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Uy=s.slice(t,1<r?1-r:void 0)}function Ly(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function km(){return!0}function zI(){return!1}function vs(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?km:zI,this.isPropagationStopped=zI,this}return Gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=km)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=km)},persist:function(){},isPersistent:km}),e}var fh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yx=vs(fh),Wg=Gt({},fh,{view:0,detail:0}),AM=vs(Wg),sb,ib,Wh,A0=Gt({},Wg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wh&&(Wh&&t.type==="mousemove"?(sb=t.screenX-Wh.screenX,ib=t.screenY-Wh.screenY):ib=sb=0,Wh=t),sb)},movementY:function(t){return"movementY"in t?t.movementY:ib}}),WI=vs(A0),IM=Gt({},A0,{dataTransfer:0}),TM=vs(IM),NM=Gt({},Wg,{relatedTarget:0}),ob=vs(NM),PM=Gt({},fh,{animationName:0,elapsedTime:0,pseudoElement:0}),kM=vs(PM),OM=Gt({},fh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RM=vs(OM),$M=Gt({},fh,{data:0}),qI=vs($M),DM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UM[t])?!!e[t]:!1}function Jx(){return LM}var MM=Gt({},Wg,{key:function(t){if(t.key){var e=DM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ly(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jx,charCode:function(t){return t.type==="keypress"?Ly(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ly(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BM=vs(MM),FM=Gt({},A0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),HI=vs(FM),zM=Gt({},Wg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jx}),WM=vs(zM),qM=Gt({},fh,{propertyName:0,elapsedTime:0,pseudoElement:0}),HM=vs(qM),VM=Gt({},A0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GM=vs(VM),KM=[9,13,27,32],Qx=Mo&&"CompositionEvent"in window,Ff=null;Mo&&"documentMode"in document&&(Ff=document.documentMode);var YM=Mo&&"TextEvent"in window&&!Ff,s3=Mo&&(!Qx||Ff&&8<Ff&&11>=Ff),VI=" ",GI=!1;function i3(t,e){switch(t){case"keyup":return KM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var id=!1;function JM(t,e){switch(t){case"compositionend":return o3(e);case"keypress":return e.which!==32?null:(GI=!0,VI);case"textInput":return t=e.data,t===VI&&GI?null:t;default:return null}}function QM(t,e){if(id)return t==="compositionend"||!Qx&&i3(t,e)?(t=r3(),Uy=Kx=Qa=null,id=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return s3&&e.locale!=="ko"?null:e.data;default:return null}}var ZM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZM[t.type]:e==="textarea"}function a3(t,e,n,r){LR(r),e=ww(e,"onChange"),0<e.length&&(n=new Yx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zf=null,Cp=null;function XM(t){w3(t,0)}function I0(t){var e=cd(t);if(kR(e))return t}function eB(t,e){if(t==="change")return e}var c3=!1;if(Mo){var ab;if(Mo){var cb="oninput"in document;if(!cb){var YI=document.createElement("div");YI.setAttribute("oninput","return;"),cb=typeof YI.oninput=="function"}ab=cb}else ab=!1;c3=ab&&(!document.documentMode||9<document.documentMode)}function JI(){zf&&(zf.detachEvent("onpropertychange",l3),Cp=zf=null)}function l3(t){if(t.propertyName==="value"&&I0(Cp)){var e=[];a3(e,Cp,t,Wx(t)),zR(XM,e)}}function tB(t,e,n){t==="focusin"?(JI(),zf=e,Cp=n,zf.attachEvent("onpropertychange",l3)):t==="focusout"&&JI()}function nB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return I0(Cp)}function rB(t,e){if(t==="click")return I0(e)}function sB(t,e){if(t==="input"||t==="change")return I0(e)}function iB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bi=typeof Object.is=="function"?Object.is:iB;function xp(t,e){if(bi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!b_.call(e,s)||!bi(t[s],e[s]))return!1}return!0}function QI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ZI(t,e){var n=QI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=QI(n)}}function u3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?u3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function d3(){for(var t=window,e=dw();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dw(t.document)}return e}function Zx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oB(t){var e=d3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&u3(n.ownerDocument.documentElement,n)){if(r!==null&&Zx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ZI(n,i);var o=ZI(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aB=Mo&&"documentMode"in document&&11>=document.documentMode,od=null,M_=null,Wf=null,B_=!1;function XI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;B_||od==null||od!==dw(r)||(r=od,"selectionStart"in r&&Zx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wf&&xp(Wf,r)||(Wf=r,r=ww(M_,"onSelect"),0<r.length&&(e=new Yx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=od)))}function Om(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ad={animationend:Om("Animation","AnimationEnd"),animationiteration:Om("Animation","AnimationIteration"),animationstart:Om("Animation","AnimationStart"),transitionend:Om("Transition","TransitionEnd")},lb={},h3={};Mo&&(h3=document.createElement("div").style,"AnimationEvent"in window||(delete ad.animationend.animation,delete ad.animationiteration.animation,delete ad.animationstart.animation),"TransitionEvent"in window||delete ad.transitionend.transition);function T0(t){if(lb[t])return lb[t];if(!ad[t])return t;var e=ad[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in h3)return lb[t]=e[n];return t}var f3=T0("animationend"),p3=T0("animationiteration"),g3=T0("animationstart"),m3=T0("transitionend"),y3=new Map,e2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $c(t,e){y3.set(t,e),au(e,[t])}for(var ub=0;ub<e2.length;ub++){var db=e2[ub],cB=db.toLowerCase(),lB=db[0].toUpperCase()+db.slice(1);$c(cB,"on"+lB)}$c(f3,"onAnimationEnd");$c(p3,"onAnimationIteration");$c(g3,"onAnimationStart");$c("dblclick","onDoubleClick");$c("focusin","onFocus");$c("focusout","onBlur");$c(m3,"onTransitionEnd");qd("onMouseEnter",["mouseout","mouseover"]);qd("onMouseLeave",["mouseout","mouseover"]);qd("onPointerEnter",["pointerout","pointerover"]);qd("onPointerLeave",["pointerout","pointerover"]);au("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));au("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));au("onBeforeInput",["compositionend","keypress","textInput","paste"]);au("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));au("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));au("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sf));function t2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,cM(r,e,void 0,t),t.currentTarget=null}function w3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;t2(s,a,l),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;t2(s,a,l),i=c}}}if(fw)throw t=D_,fw=!1,D_=null,t}function $t(t,e){var n=e[H_];n===void 0&&(n=e[H_]=new Set);var r=t+"__bubble";n.has(r)||(v3(e,t,2,!1),n.add(r))}function hb(t,e,n){var r=0;e&&(r|=4),v3(n,t,r,e)}var Rm="_reactListening"+Math.random().toString(36).slice(2);function Sp(t){if(!t[Rm]){t[Rm]=!0,AR.forEach(function(n){n!=="selectionchange"&&(uB.has(n)||hb(n,!1,t),hb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rm]||(e[Rm]=!0,hb("selectionchange",!1,e))}}function v3(t,e,n,r){switch(n3(e)){case 1:var s=xM;break;case 4:s=SM;break;default:s=Gx}n=s.bind(null,e,n,t),s=void 0,!$_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function fb(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ll(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}zR(function(){var l=i,u=Wx(n),d=[];e:{var h=y3.get(t);if(h!==void 0){var f=Yx,p=t;switch(t){case"keypress":if(Ly(n)===0)break e;case"keydown":case"keyup":f=BM;break;case"focusin":p="focus",f=ob;break;case"focusout":p="blur",f=ob;break;case"beforeblur":case"afterblur":f=ob;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=WI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=TM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=WM;break;case f3:case p3:case g3:f=kM;break;case m3:f=HM;break;case"scroll":f=AM;break;case"wheel":f=GM;break;case"copy":case"cut":case"paste":f=RM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=HI}var g=(e&4)!==0,y=!g&&t==="scroll",w=g?h!==null?h+"Capture":null:h;g=[];for(var b=l,v;b!==null;){v=b;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,w!==null&&(E=vp(b,w),E!=null&&g.push(Ap(b,E,v)))),y)break;b=b.return}0<g.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==O_&&(p=n.relatedTarget||n.fromElement)&&(ll(p)||p[Bo]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=l,p=p?ll(p):null,p!==null&&(y=cu(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=l),f!==p)){if(g=WI,E="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=HI,E="onPointerLeave",w="onPointerEnter",b="pointer"),y=f==null?h:cd(f),v=p==null?h:cd(p),h=new g(E,b+"leave",f,n,u),h.target=y,h.relatedTarget=v,E=null,ll(u)===l&&(g=new g(w,b+"enter",p,n,u),g.target=v,g.relatedTarget=y,E=g),y=E,f&&p)t:{for(g=f,w=p,b=0,v=g;v;v=Eu(v))b++;for(v=0,E=w;E;E=Eu(E))v++;for(;0<b-v;)g=Eu(g),b--;for(;0<v-b;)w=Eu(w),v--;for(;b--;){if(g===w||w!==null&&g===w.alternate)break t;g=Eu(g),w=Eu(w)}g=null}else g=null;f!==null&&n2(d,h,f,g,!1),p!==null&&y!==null&&n2(d,y,p,g,!0)}}e:{if(h=l?cd(l):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var _=eB;else if(KI(h))if(c3)_=sB;else{_=nB;var x=tB}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=rB);if(_&&(_=_(t,l))){a3(d,_,n,u);break e}x&&x(t,h,l),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&I_(h,"number",h.value)}switch(x=l?cd(l):window,t){case"focusin":(KI(x)||x.contentEditable==="true")&&(od=x,M_=l,Wf=null);break;case"focusout":Wf=M_=od=null;break;case"mousedown":B_=!0;break;case"contextmenu":case"mouseup":case"dragend":B_=!1,XI(d,n,u);break;case"selectionchange":if(aB)break;case"keydown":case"keyup":XI(d,n,u)}var S;if(Qx)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else id?i3(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(s3&&n.locale!=="ko"&&(id||T!=="onCompositionStart"?T==="onCompositionEnd"&&id&&(S=r3()):(Qa=u,Kx="value"in Qa?Qa.value:Qa.textContent,id=!0)),x=ww(l,T),0<x.length&&(T=new qI(T,t,null,n,u),d.push({event:T,listeners:x}),S?T.data=S:(S=o3(n),S!==null&&(T.data=S)))),(S=YM?JM(t,n):QM(t,n))&&(l=ww(l,"onBeforeInput"),0<l.length&&(u=new qI("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:l}),u.data=S))}w3(d,e)})}function Ap(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ww(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=vp(t,n),i!=null&&r.unshift(Ap(t,i,s)),i=vp(t,e),i!=null&&r.push(Ap(t,i,s))),t=t.return}return r}function Eu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function n2(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,s?(c=vp(n,i),c!=null&&o.unshift(Ap(n,c,a))):s||(c=vp(n,i),c!=null&&o.push(Ap(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dB=/\r\n?/g,hB=/\u0000|\uFFFD/g;function r2(t){return(typeof t=="string"?t:""+t).replace(dB,`
`).replace(hB,"")}function $m(t,e,n){if(e=r2(e),r2(t)!==e&&n)throw Error(re(425))}function vw(){}var F_=null,z_=null;function W_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var q_=typeof setTimeout=="function"?setTimeout:void 0,fB=typeof clearTimeout=="function"?clearTimeout:void 0,s2=typeof Promise=="function"?Promise:void 0,pB=typeof queueMicrotask=="function"?queueMicrotask:typeof s2<"u"?function(t){return s2.resolve(null).then(t).catch(gB)}:q_;function gB(t){setTimeout(function(){throw t})}function pb(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ep(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ep(e)}function cc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function i2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ph=Math.random().toString(36).slice(2),qi="__reactFiber$"+ph,Ip="__reactProps$"+ph,Bo="__reactContainer$"+ph,H_="__reactEvents$"+ph,mB="__reactListeners$"+ph,yB="__reactHandles$"+ph;function ll(t){var e=t[qi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bo]||n[qi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=i2(t);t!==null;){if(n=t[qi])return n;t=i2(t)}return e}t=n,n=t.parentNode}return null}function qg(t){return t=t[qi]||t[Bo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function N0(t){return t[Ip]||null}var V_=[],ld=-1;function Dc(t){return{current:t}}function Ut(t){0>ld||(t.current=V_[ld],V_[ld]=null,ld--)}function Pt(t,e){ld++,V_[ld]=t.current,t.current=e}var xc={},lr=Dc(xc),Kr=Dc(!1),Ul=xc;function Hd(t,e){var n=t.type.contextTypes;if(!n)return xc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Yr(t){return t=t.childContextTypes,t!=null}function bw(){Ut(Kr),Ut(lr)}function o2(t,e,n){if(lr.current!==xc)throw Error(re(168));Pt(lr,e),Pt(Kr,n)}function b3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(re(108,tM(t)||"Unknown",s));return Gt({},n,r)}function _w(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xc,Ul=lr.current,Pt(lr,t),Pt(Kr,Kr.current),!0}function a2(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=b3(t,e,Ul),r.__reactInternalMemoizedMergedChildContext=t,Ut(Kr),Ut(lr),Pt(lr,t)):Ut(Kr),Pt(Kr,n)}var Co=null,P0=!1,gb=!1;function _3(t){Co===null?Co=[t]:Co.push(t)}function wB(t){P0=!0,_3(t)}function jc(){if(!gb&&Co!==null){gb=!0;var t=0,e=wt;try{var n=Co;for(wt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Co=null,P0=!1}catch(s){throw Co!==null&&(Co=Co.slice(t+1)),VR(qx,jc),s}finally{wt=e,gb=!1}}return null}var ud=[],dd=0,Ew=null,Cw=0,$s=[],Ds=0,Ll=null,Po=1,ko="";function Xc(t,e){ud[dd++]=Cw,ud[dd++]=Ew,Ew=t,Cw=e}function E3(t,e,n){$s[Ds++]=Po,$s[Ds++]=ko,$s[Ds++]=Ll,Ll=t;var r=Po;t=ko;var s=32-gi(r)-1;r&=~(1<<s),n+=1;var i=32-gi(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Po=1<<32-gi(e)+s|n<<s|r,ko=i+t}else Po=1<<i|n<<s|r,ko=t}function Xx(t){t.return!==null&&(Xc(t,1),E3(t,1,0))}function eS(t){for(;t===Ew;)Ew=ud[--dd],ud[dd]=null,Cw=ud[--dd],ud[dd]=null;for(;t===Ll;)Ll=$s[--Ds],$s[Ds]=null,ko=$s[--Ds],$s[Ds]=null,Po=$s[--Ds],$s[Ds]=null}var fs=null,us=null,Bt=!1,ci=null;function C3(t,e){var n=js(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function c2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fs=t,us=cc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fs=t,us=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ll!==null?{id:Po,overflow:ko}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=js(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fs=t,us=null,!0):!1;default:return!1}}function G_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function K_(t){if(Bt){var e=us;if(e){var n=e;if(!c2(t,e)){if(G_(t))throw Error(re(418));e=cc(n.nextSibling);var r=fs;e&&c2(t,e)?C3(r,n):(t.flags=t.flags&-4097|2,Bt=!1,fs=t)}}else{if(G_(t))throw Error(re(418));t.flags=t.flags&-4097|2,Bt=!1,fs=t}}}function l2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fs=t}function Dm(t){if(t!==fs)return!1;if(!Bt)return l2(t),Bt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!W_(t.type,t.memoizedProps)),e&&(e=us)){if(G_(t))throw x3(),Error(re(418));for(;e;)C3(t,e),e=cc(e.nextSibling)}if(l2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){us=cc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}us=null}}else us=fs?cc(t.stateNode.nextSibling):null;return!0}function x3(){for(var t=us;t;)t=cc(t.nextSibling)}function Vd(){us=fs=null,Bt=!1}function tS(t){ci===null?ci=[t]:ci.push(t)}var vB=Yo.ReactCurrentBatchConfig;function qh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function jm(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function u2(t){var e=t._init;return e(t._payload)}function S3(t){function e(w,b){if(t){var v=w.deletions;v===null?(w.deletions=[b],w.flags|=16):v.push(b)}}function n(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function s(w,b){return w=hc(w,b),w.index=0,w.sibling=null,w}function i(w,b,v){return w.index=v,t?(v=w.alternate,v!==null?(v=v.index,v<b?(w.flags|=2,b):v):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,b,v,E){return b===null||b.tag!==6?(b=Eb(v,w.mode,E),b.return=w,b):(b=s(b,v),b.return=w,b)}function c(w,b,v,E){var _=v.type;return _===sd?u(w,b,v.props.children,E,v.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Aa&&u2(_)===b.type)?(E=s(b,v.props),E.ref=qh(w,b,v),E.return=w,E):(E=Hy(v.type,v.key,v.props,null,w.mode,E),E.ref=qh(w,b,v),E.return=w,E)}function l(w,b,v,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==v.containerInfo||b.stateNode.implementation!==v.implementation?(b=Cb(v,w.mode,E),b.return=w,b):(b=s(b,v.children||[]),b.return=w,b)}function u(w,b,v,E,_){return b===null||b.tag!==7?(b=kl(v,w.mode,E,_),b.return=w,b):(b=s(b,v),b.return=w,b)}function d(w,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Eb(""+b,w.mode,v),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Sm:return v=Hy(b.type,b.key,b.props,null,w.mode,v),v.ref=qh(w,null,b),v.return=w,v;case rd:return b=Cb(b,w.mode,v),b.return=w,b;case Aa:var E=b._init;return d(w,E(b._payload),v)}if(Cf(b)||Mh(b))return b=kl(b,w.mode,v,null),b.return=w,b;jm(w,b)}return null}function h(w,b,v,E){var _=b!==null?b.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:a(w,b,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Sm:return v.key===_?c(w,b,v,E):null;case rd:return v.key===_?l(w,b,v,E):null;case Aa:return _=v._init,h(w,b,_(v._payload),E)}if(Cf(v)||Mh(v))return _!==null?null:u(w,b,v,E,null);jm(w,v)}return null}function f(w,b,v,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return w=w.get(v)||null,a(b,w,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Sm:return w=w.get(E.key===null?v:E.key)||null,c(b,w,E,_);case rd:return w=w.get(E.key===null?v:E.key)||null,l(b,w,E,_);case Aa:var x=E._init;return f(w,b,v,x(E._payload),_)}if(Cf(E)||Mh(E))return w=w.get(v)||null,u(b,w,E,_,null);jm(b,E)}return null}function p(w,b,v,E){for(var _=null,x=null,S=b,T=b=0,C=null;S!==null&&T<v.length;T++){S.index>T?(C=S,S=null):C=S.sibling;var O=h(w,S,v[T],E);if(O===null){S===null&&(S=C);break}t&&S&&O.alternate===null&&e(w,S),b=i(O,b,T),x===null?_=O:x.sibling=O,x=O,S=C}if(T===v.length)return n(w,S),Bt&&Xc(w,T),_;if(S===null){for(;T<v.length;T++)S=d(w,v[T],E),S!==null&&(b=i(S,b,T),x===null?_=S:x.sibling=S,x=S);return Bt&&Xc(w,T),_}for(S=r(w,S);T<v.length;T++)C=f(S,w,T,v[T],E),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?T:C.key),b=i(C,b,T),x===null?_=C:x.sibling=C,x=C);return t&&S.forEach(function(R){return e(w,R)}),Bt&&Xc(w,T),_}function g(w,b,v,E){var _=Mh(v);if(typeof _!="function")throw Error(re(150));if(v=_.call(v),v==null)throw Error(re(151));for(var x=_=null,S=b,T=b=0,C=null,O=v.next();S!==null&&!O.done;T++,O=v.next()){S.index>T?(C=S,S=null):C=S.sibling;var R=h(w,S,O.value,E);if(R===null){S===null&&(S=C);break}t&&S&&R.alternate===null&&e(w,S),b=i(R,b,T),x===null?_=R:x.sibling=R,x=R,S=C}if(O.done)return n(w,S),Bt&&Xc(w,T),_;if(S===null){for(;!O.done;T++,O=v.next())O=d(w,O.value,E),O!==null&&(b=i(O,b,T),x===null?_=O:x.sibling=O,x=O);return Bt&&Xc(w,T),_}for(S=r(w,S);!O.done;T++,O=v.next())O=f(S,w,T,O.value,E),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?T:O.key),b=i(O,b,T),x===null?_=O:x.sibling=O,x=O);return t&&S.forEach(function(B){return e(w,B)}),Bt&&Xc(w,T),_}function y(w,b,v,E){if(typeof v=="object"&&v!==null&&v.type===sd&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Sm:e:{for(var _=v.key,x=b;x!==null;){if(x.key===_){if(_=v.type,_===sd){if(x.tag===7){n(w,x.sibling),b=s(x,v.props.children),b.return=w,w=b;break e}}else if(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Aa&&u2(_)===x.type){n(w,x.sibling),b=s(x,v.props),b.ref=qh(w,x,v),b.return=w,w=b;break e}n(w,x);break}else e(w,x);x=x.sibling}v.type===sd?(b=kl(v.props.children,w.mode,E,v.key),b.return=w,w=b):(E=Hy(v.type,v.key,v.props,null,w.mode,E),E.ref=qh(w,b,v),E.return=w,w=E)}return o(w);case rd:e:{for(x=v.key;b!==null;){if(b.key===x)if(b.tag===4&&b.stateNode.containerInfo===v.containerInfo&&b.stateNode.implementation===v.implementation){n(w,b.sibling),b=s(b,v.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else e(w,b);b=b.sibling}b=Cb(v,w.mode,E),b.return=w,w=b}return o(w);case Aa:return x=v._init,y(w,b,x(v._payload),E)}if(Cf(v))return p(w,b,v,E);if(Mh(v))return g(w,b,v,E);jm(w,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,b!==null&&b.tag===6?(n(w,b.sibling),b=s(b,v),b.return=w,w=b):(n(w,b),b=Eb(v,w.mode,E),b.return=w,w=b),o(w)):n(w,b)}return y}var Gd=S3(!0),A3=S3(!1),xw=Dc(null),Sw=null,hd=null,nS=null;function rS(){nS=hd=Sw=null}function sS(t){var e=xw.current;Ut(xw),t._currentValue=e}function Y_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ed(t,e){Sw=t,nS=hd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vr=!0),t.firstContext=null)}function Ms(t){var e=t._currentValue;if(nS!==t)if(t={context:t,memoizedValue:e,next:null},hd===null){if(Sw===null)throw Error(re(308));hd=t,Sw.dependencies={lanes:0,firstContext:t}}else hd=hd.next=t;return e}var ul=null;function iS(t){ul===null?ul=[t]:ul.push(t)}function I3(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,iS(e)):(n.next=s.next,s.next=n),e.interleaved=n,Fo(t,r)}function Fo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ia=!1;function oS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ro(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,st&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Fo(t,n)}return s=r.interleaved,s===null?(e.next=e,iS(r)):(e.next=s.next,s.next=e),r.interleaved=e,Fo(t,n)}function My(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hx(t,n)}}function d2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Aw(t,e,n,r){var s=t.updateQueue;Ia=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?i=l:o.next=l,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,u=l=c=null,a=i;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(h=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=Gt({},d,h);break e;case 2:Ia=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=f,c=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=d),s.baseState=c,s.firstBaseUpdate=l,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Bl|=o,t.lanes=o,t.memoizedState=d}}function h2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(re(191,s));s.call(r)}}}var Hg={},Ki=Dc(Hg),Tp=Dc(Hg),Np=Dc(Hg);function dl(t){if(t===Hg)throw Error(re(174));return t}function aS(t,e){switch(Pt(Np,e),Pt(Tp,t),Pt(Ki,Hg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:N_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=N_(e,t)}Ut(Ki),Pt(Ki,e)}function Kd(){Ut(Ki),Ut(Tp),Ut(Np)}function N3(t){dl(Np.current);var e=dl(Ki.current),n=N_(e,t.type);e!==n&&(Pt(Tp,t),Pt(Ki,n))}function cS(t){Tp.current===t&&(Ut(Ki),Ut(Tp))}var qt=Dc(0);function Iw(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mb=[];function lS(){for(var t=0;t<mb.length;t++)mb[t]._workInProgressVersionPrimary=null;mb.length=0}var By=Yo.ReactCurrentDispatcher,yb=Yo.ReactCurrentBatchConfig,Ml=0,Vt=null,mn=null,An=null,Tw=!1,qf=!1,Pp=0,bB=0;function Qn(){throw Error(re(321))}function uS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bi(t[n],e[n]))return!1;return!0}function dS(t,e,n,r,s,i){if(Ml=i,Vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,By.current=t===null||t.memoizedState===null?xB:SB,t=n(r,s),qf){i=0;do{if(qf=!1,Pp=0,25<=i)throw Error(re(301));i+=1,An=mn=null,e.updateQueue=null,By.current=AB,t=n(r,s)}while(qf)}if(By.current=Nw,e=mn!==null&&mn.next!==null,Ml=0,An=mn=Vt=null,Tw=!1,e)throw Error(re(300));return t}function hS(){var t=Pp!==0;return Pp=0,t}function Di(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Vt.memoizedState=An=t:An=An.next=t,An}function Bs(){if(mn===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=mn.next;var e=An===null?Vt.memoizedState:An.next;if(e!==null)An=e,mn=t;else{if(t===null)throw Error(re(310));mn=t,t={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},An===null?Vt.memoizedState=An=t:An=An.next=t}return An}function kp(t,e){return typeof e=="function"?e(t):e}function wb(t){var e=Bs(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=mn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,l=i;do{var u=l.lane;if((Ml&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,o=r):c=c.next=d,Vt.lanes|=u,Bl|=u}l=l.next}while(l!==null&&l!==i);c===null?o=r:c.next=a,bi(r,e.memoizedState)||(Vr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Vt.lanes|=i,Bl|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vb(t){var e=Bs(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);bi(i,e.memoizedState)||(Vr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function P3(){}function k3(t,e){var n=Vt,r=Bs(),s=e(),i=!bi(r.memoizedState,s);if(i&&(r.memoizedState=s,Vr=!0),r=r.queue,fS($3.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||An!==null&&An.memoizedState.tag&1){if(n.flags|=2048,Op(9,R3.bind(null,n,r,s,e),void 0,null),Pn===null)throw Error(re(349));Ml&30||O3(n,e,s)}return s}function O3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Vt.updateQueue,e===null?(e={lastEffect:null,stores:null},Vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function R3(t,e,n,r){e.value=n,e.getSnapshot=r,D3(e)&&j3(t)}function $3(t,e,n){return n(function(){D3(e)&&j3(t)})}function D3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bi(t,n)}catch{return!0}}function j3(t){var e=Fo(t,1);e!==null&&mi(e,t,1,-1)}function f2(t){var e=Di();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kp,lastRenderedState:t},e.queue=t,t=t.dispatch=CB.bind(null,Vt,t),[e.memoizedState,t]}function Op(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Vt.updateQueue,e===null?(e={lastEffect:null,stores:null},Vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function U3(){return Bs().memoizedState}function Fy(t,e,n,r){var s=Di();Vt.flags|=t,s.memoizedState=Op(1|e,n,void 0,r===void 0?null:r)}function k0(t,e,n,r){var s=Bs();r=r===void 0?null:r;var i=void 0;if(mn!==null){var o=mn.memoizedState;if(i=o.destroy,r!==null&&uS(r,o.deps)){s.memoizedState=Op(e,n,i,r);return}}Vt.flags|=t,s.memoizedState=Op(1|e,n,i,r)}function p2(t,e){return Fy(8390656,8,t,e)}function fS(t,e){return k0(2048,8,t,e)}function L3(t,e){return k0(4,2,t,e)}function M3(t,e){return k0(4,4,t,e)}function B3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function F3(t,e,n){return n=n!=null?n.concat([t]):null,k0(4,4,B3.bind(null,e,t),n)}function pS(){}function z3(t,e){var n=Bs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function W3(t,e){var n=Bs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function q3(t,e,n){return Ml&21?(bi(n,e)||(n=YR(),Vt.lanes|=n,Bl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vr=!0),t.memoizedState=n)}function _B(t,e){var n=wt;wt=n!==0&&4>n?n:4,t(!0);var r=yb.transition;yb.transition={};try{t(!1),e()}finally{wt=n,yb.transition=r}}function H3(){return Bs().memoizedState}function EB(t,e,n){var r=dc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},V3(t))G3(e,n);else if(n=I3(t,e,n,r),n!==null){var s=wr();mi(n,t,r,s),K3(n,e,r)}}function CB(t,e,n){var r=dc(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(V3(t))G3(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,bi(a,o)){var c=e.interleaved;c===null?(s.next=s,iS(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=I3(t,e,s,r),n!==null&&(s=wr(),mi(n,t,r,s),K3(n,e,r))}}function V3(t){var e=t.alternate;return t===Vt||e!==null&&e===Vt}function G3(t,e){qf=Tw=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function K3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hx(t,n)}}var Nw={readContext:Ms,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},xB={readContext:Ms,useCallback:function(t,e){return Di().memoizedState=[t,e===void 0?null:e],t},useContext:Ms,useEffect:p2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fy(4194308,4,B3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fy(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fy(4,2,t,e)},useMemo:function(t,e){var n=Di();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Di();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=EB.bind(null,Vt,t),[r.memoizedState,t]},useRef:function(t){var e=Di();return t={current:t},e.memoizedState=t},useState:f2,useDebugValue:pS,useDeferredValue:function(t){return Di().memoizedState=t},useTransition:function(){var t=f2(!1),e=t[0];return t=_B.bind(null,t[1]),Di().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Vt,s=Di();if(Bt){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),Pn===null)throw Error(re(349));Ml&30||O3(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,p2($3.bind(null,r,i,t),[t]),r.flags|=2048,Op(9,R3.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Di(),e=Pn.identifierPrefix;if(Bt){var n=ko,r=Po;n=(r&~(1<<32-gi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},SB={readContext:Ms,useCallback:z3,useContext:Ms,useEffect:fS,useImperativeHandle:F3,useInsertionEffect:L3,useLayoutEffect:M3,useMemo:W3,useReducer:wb,useRef:U3,useState:function(){return wb(kp)},useDebugValue:pS,useDeferredValue:function(t){var e=Bs();return q3(e,mn.memoizedState,t)},useTransition:function(){var t=wb(kp)[0],e=Bs().memoizedState;return[t,e]},useMutableSource:P3,useSyncExternalStore:k3,useId:H3,unstable_isNewReconciler:!1},AB={readContext:Ms,useCallback:z3,useContext:Ms,useEffect:fS,useImperativeHandle:F3,useInsertionEffect:L3,useLayoutEffect:M3,useMemo:W3,useReducer:vb,useRef:U3,useState:function(){return vb(kp)},useDebugValue:pS,useDeferredValue:function(t){var e=Bs();return mn===null?e.memoizedState=t:q3(e,mn.memoizedState,t)},useTransition:function(){var t=vb(kp)[0],e=Bs().memoizedState;return[t,e]},useMutableSource:P3,useSyncExternalStore:k3,useId:H3,unstable_isNewReconciler:!1};function ri(t,e){if(t&&t.defaultProps){e=Gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function J_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var O0={isMounted:function(t){return(t=t._reactInternals)?cu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wr(),s=dc(t),i=Ro(r,s);i.payload=e,n!=null&&(i.callback=n),e=lc(t,i,s),e!==null&&(mi(e,t,s,r),My(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wr(),s=dc(t),i=Ro(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=lc(t,i,s),e!==null&&(mi(e,t,s,r),My(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wr(),r=dc(t),s=Ro(n,r);s.tag=2,e!=null&&(s.callback=e),e=lc(t,s,r),e!==null&&(mi(e,t,r,n),My(e,t,r))}};function g2(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!xp(n,r)||!xp(s,i):!0}function Y3(t,e,n){var r=!1,s=xc,i=e.contextType;return typeof i=="object"&&i!==null?i=Ms(i):(s=Yr(e)?Ul:lr.current,r=e.contextTypes,i=(r=r!=null)?Hd(t,s):xc),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=O0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function m2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&O0.enqueueReplaceState(e,e.state,null)}function Q_(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},oS(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ms(i):(i=Yr(e)?Ul:lr.current,s.context=Hd(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(J_(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&O0.enqueueReplaceState(s,s.state,null),Aw(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Yd(t,e){try{var n="",r=e;do n+=eM(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function bb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Z_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var IB=typeof WeakMap=="function"?WeakMap:Map;function J3(t,e,n){n=Ro(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kw||(kw=!0,cE=r),Z_(t,e)},n}function Q3(t,e,n){n=Ro(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Z_(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Z_(t,e),typeof r!="function"&&(uc===null?uc=new Set([this]):uc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function y2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new IB;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=FB.bind(null,t,e,n),e.then(t,t))}function w2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function v2(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ro(-1,1),e.tag=2,lc(n,e,1))),n.lanes|=1),t)}var TB=Yo.ReactCurrentOwner,Vr=!1;function gr(t,e,n,r){e.child=t===null?A3(e,null,n,r):Gd(e,t.child,n,r)}function b2(t,e,n,r,s){n=n.render;var i=e.ref;return Ed(e,s),r=dS(t,e,n,r,i,s),n=hS(),t!==null&&!Vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zo(t,e,s)):(Bt&&n&&Xx(e),e.flags|=1,gr(t,e,r,s),e.child)}function _2(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ES(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Z3(t,e,i,r,s)):(t=Hy(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:xp,n(o,r)&&t.ref===e.ref)return zo(t,e,s)}return e.flags|=1,t=hc(i,r),t.ref=e.ref,t.return=e,e.child=t}function Z3(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(xp(i,r)&&t.ref===e.ref)if(Vr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Vr=!0);else return e.lanes=t.lanes,zo(t,e,s)}return X_(t,e,n,r,s)}function X3(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(pd,os),os|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pt(pd,os),os|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Pt(pd,os),os|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Pt(pd,os),os|=r;return gr(t,e,s,n),e.child}function e$(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function X_(t,e,n,r,s){var i=Yr(n)?Ul:lr.current;return i=Hd(e,i),Ed(e,s),n=dS(t,e,n,r,i,s),r=hS(),t!==null&&!Vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zo(t,e,s)):(Bt&&r&&Xx(e),e.flags|=1,gr(t,e,n,s),e.child)}function E2(t,e,n,r,s){if(Yr(n)){var i=!0;_w(e)}else i=!1;if(Ed(e,s),e.stateNode===null)zy(t,e),Y3(e,n,r),Q_(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Ms(l):(l=Yr(n)?Ul:lr.current,l=Hd(e,l));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==l)&&m2(e,o,r,l),Ia=!1;var h=e.memoizedState;o.state=h,Aw(e,r,o,s),c=e.memoizedState,a!==r||h!==c||Kr.current||Ia?(typeof u=="function"&&(J_(e,n,u,r),c=e.memoizedState),(a=Ia||g2(e,n,a,r,h,c,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,T3(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:ri(e.type,a),o.props=l,d=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ms(c):(c=Yr(n)?Ul:lr.current,c=Hd(e,c));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==c)&&m2(e,o,r,c),Ia=!1,h=e.memoizedState,o.state=h,Aw(e,r,o,s);var p=e.memoizedState;a!==d||h!==p||Kr.current||Ia?(typeof f=="function"&&(J_(e,n,f,r),p=e.memoizedState),(l=Ia||g2(e,n,l,r,h,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return eE(t,e,n,r,i,s)}function eE(t,e,n,r,s,i){e$(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&a2(e,n,!1),zo(t,e,i);r=e.stateNode,TB.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Gd(e,t.child,null,i),e.child=Gd(e,null,a,i)):gr(t,e,a,i),e.memoizedState=r.state,s&&a2(e,n,!0),e.child}function t$(t){var e=t.stateNode;e.pendingContext?o2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&o2(t,e.context,!1),aS(t,e.containerInfo)}function C2(t,e,n,r,s){return Vd(),tS(s),e.flags|=256,gr(t,e,n,r),e.child}var tE={dehydrated:null,treeContext:null,retryLane:0};function nE(t){return{baseLanes:t,cachePool:null,transitions:null}}function n$(t,e,n){var r=e.pendingProps,s=qt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Pt(qt,s&1),t===null)return K_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=D0(o,r,0,null),t=kl(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=nE(n),e.memoizedState=tE,t):gS(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return NB(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=hc(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=hc(a,i):(i=kl(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?nE(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=tE,r}return i=t.child,t=i.sibling,r=hc(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gS(t,e){return e=D0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Um(t,e,n,r){return r!==null&&tS(r),Gd(e,t.child,null,n),t=gS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NB(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=bb(Error(re(422))),Um(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=D0({mode:"visible",children:r.children},s,0,null),i=kl(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Gd(e,t.child,null,o),e.child.memoizedState=nE(o),e.memoizedState=tE,i);if(!(e.mode&1))return Um(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(re(419)),r=bb(i,r,void 0),Um(t,e,o,r)}if(a=(o&t.childLanes)!==0,Vr||a){if(r=Pn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Fo(t,s),mi(r,t,s,-1))}return _S(),r=bb(Error(re(421))),Um(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=zB.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,us=cc(s.nextSibling),fs=e,Bt=!0,ci=null,t!==null&&($s[Ds++]=Po,$s[Ds++]=ko,$s[Ds++]=Ll,Po=t.id,ko=t.overflow,Ll=e),e=gS(e,r.children),e.flags|=4096,e)}function x2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Y_(t.return,e,n)}function _b(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function r$(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(gr(t,e,r.children,n),r=qt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&x2(t,n,e);else if(t.tag===19)x2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pt(qt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Iw(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),_b(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Iw(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}_b(e,!0,n,null,i);break;case"together":_b(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=hc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PB(t,e,n){switch(e.tag){case 3:t$(e),Vd();break;case 5:N3(e);break;case 1:Yr(e.type)&&_w(e);break;case 4:aS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Pt(xw,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pt(qt,qt.current&1),e.flags|=128,null):n&e.child.childLanes?n$(t,e,n):(Pt(qt,qt.current&1),t=zo(t,e,n),t!==null?t.sibling:null);Pt(qt,qt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return r$(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pt(qt,qt.current),r)break;return null;case 22:case 23:return e.lanes=0,X3(t,e,n)}return zo(t,e,n)}var s$,rE,i$,o$;s$=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rE=function(){};i$=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,dl(Ki.current);var i=null;switch(n){case"input":s=S_(t,s),r=S_(t,r),i=[];break;case"select":s=Gt({},s,{value:void 0}),r=Gt({},r,{value:void 0}),i=[];break;case"textarea":s=T_(t,s),r=T_(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vw)}P_(n,r);var o;n=null;for(l in s)if(!r.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(yp.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var c=r[l];if(a=s!=null?s[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(yp.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&$t("scroll",t),i||a===c||(i=[])):(i=i||[]).push(l,c))}n&&(i=i||[]).push("style",n);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};o$=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hh(t,e){if(!Bt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kB(t,e,n){var r=e.pendingProps;switch(eS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(e),null;case 1:return Yr(e.type)&&bw(),Zn(e),null;case 3:return r=e.stateNode,Kd(),Ut(Kr),Ut(lr),lS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Dm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ci!==null&&(dE(ci),ci=null))),rE(t,e),Zn(e),null;case 5:cS(e);var s=dl(Np.current);if(n=e.type,t!==null&&e.stateNode!=null)i$(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return Zn(e),null}if(t=dl(Ki.current),Dm(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[qi]=e,r[Ip]=i,t=(e.mode&1)!==0,n){case"dialog":$t("cancel",r),$t("close",r);break;case"iframe":case"object":case"embed":$t("load",r);break;case"video":case"audio":for(s=0;s<Sf.length;s++)$t(Sf[s],r);break;case"source":$t("error",r);break;case"img":case"image":case"link":$t("error",r),$t("load",r);break;case"details":$t("toggle",r);break;case"input":RI(r,i),$t("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},$t("invalid",r);break;case"textarea":DI(r,i),$t("invalid",r)}P_(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&$m(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&$m(r.textContent,a,t),s=["children",""+a]):yp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$t("scroll",r)}switch(n){case"input":Am(r),$I(r,i,!0);break;case"textarea":Am(r),jI(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=vw)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$R(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qi]=e,t[Ip]=r,s$(t,e,!1,!1),e.stateNode=t;e:{switch(o=k_(n,r),n){case"dialog":$t("cancel",t),$t("close",t),s=r;break;case"iframe":case"object":case"embed":$t("load",t),s=r;break;case"video":case"audio":for(s=0;s<Sf.length;s++)$t(Sf[s],t);s=r;break;case"source":$t("error",t),s=r;break;case"img":case"image":case"link":$t("error",t),$t("load",t),s=r;break;case"details":$t("toggle",t),s=r;break;case"input":RI(t,r),s=S_(t,r),$t("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Gt({},r,{value:void 0}),$t("invalid",t);break;case"textarea":DI(t,r),s=T_(t,r),$t("invalid",t);break;default:s=r}P_(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?UR(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&DR(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&wp(t,c):typeof c=="number"&&wp(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yp.hasOwnProperty(i)?c!=null&&i==="onScroll"&&$t("scroll",t):c!=null&&Mx(t,i,c,o))}switch(n){case"input":Am(t),$I(t,r,!1);break;case"textarea":Am(t),jI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Cc(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?wd(t,!!r.multiple,i,!1):r.defaultValue!=null&&wd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=vw)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zn(e),null;case 6:if(t&&e.stateNode!=null)o$(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=dl(Np.current),dl(Ki.current),Dm(e)){if(r=e.stateNode,n=e.memoizedProps,r[qi]=e,(i=r.nodeValue!==n)&&(t=fs,t!==null))switch(t.tag){case 3:$m(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$m(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qi]=e,e.stateNode=r}return Zn(e),null;case 13:if(Ut(qt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Bt&&us!==null&&e.mode&1&&!(e.flags&128))x3(),Vd(),e.flags|=98560,i=!1;else if(i=Dm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(re(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(re(317));i[qi]=e}else Vd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zn(e),i=!1}else ci!==null&&(dE(ci),ci=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qt.current&1?vn===0&&(vn=3):_S())),e.updateQueue!==null&&(e.flags|=4),Zn(e),null);case 4:return Kd(),rE(t,e),t===null&&Sp(e.stateNode.containerInfo),Zn(e),null;case 10:return sS(e.type._context),Zn(e),null;case 17:return Yr(e.type)&&bw(),Zn(e),null;case 19:if(Ut(qt),i=e.memoizedState,i===null)return Zn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Hh(i,!1);else{if(vn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Iw(t),o!==null){for(e.flags|=128,Hh(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pt(qt,qt.current&1|2),e.child}t=t.sibling}i.tail!==null&&nn()>Jd&&(e.flags|=128,r=!0,Hh(i,!1),e.lanes=4194304)}else{if(!r)if(t=Iw(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Bt)return Zn(e),null}else 2*nn()-i.renderingStartTime>Jd&&n!==1073741824&&(e.flags|=128,r=!0,Hh(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=nn(),e.sibling=null,n=qt.current,Pt(qt,r?n&1|2:n&1),e):(Zn(e),null);case 22:case 23:return bS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?os&1073741824&&(Zn(e),e.subtreeFlags&6&&(e.flags|=8192)):Zn(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function OB(t,e){switch(eS(e),e.tag){case 1:return Yr(e.type)&&bw(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kd(),Ut(Kr),Ut(lr),lS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cS(e),null;case 13:if(Ut(qt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Vd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ut(qt),null;case 4:return Kd(),null;case 10:return sS(e.type._context),null;case 22:case 23:return bS(),null;case 24:return null;default:return null}}var Lm=!1,cr=!1,RB=typeof WeakSet=="function"?WeakSet:Set,_e=null;function fd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Zt(t,e,r)}else n.current=null}function sE(t,e,n){try{n()}catch(r){Zt(t,e,r)}}var S2=!1;function $B(t,e){if(F_=mw,t=d3(),Zx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,l=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++l===s&&(a=o),h===i&&++u===r&&(c=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(z_={focusedElem:t,selectionRange:n},mw=!1,_e=e;_e!==null;)if(e=_e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,_e=t;else for(;_e!==null;){e=_e;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:ri(e.type,g),y);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(E){Zt(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,_e=t;break}_e=e.return}return p=S2,S2=!1,p}function Hf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&sE(e,n,i)}s=s.next}while(s!==r)}}function R0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function iE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function a$(t){var e=t.alternate;e!==null&&(t.alternate=null,a$(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qi],delete e[Ip],delete e[H_],delete e[mB],delete e[yB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function c$(t){return t.tag===5||t.tag===3||t.tag===4}function A2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||c$(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function oE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vw));else if(r!==4&&(t=t.child,t!==null))for(oE(t,e,n),t=t.sibling;t!==null;)oE(t,e,n),t=t.sibling}function aE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(aE(t,e,n),t=t.sibling;t!==null;)aE(t,e,n),t=t.sibling}var Bn=null,oi=!1;function ra(t,e,n){for(n=n.child;n!==null;)l$(t,e,n),n=n.sibling}function l$(t,e,n){if(Gi&&typeof Gi.onCommitFiberUnmount=="function")try{Gi.onCommitFiberUnmount(S0,n)}catch{}switch(n.tag){case 5:cr||fd(n,e);case 6:var r=Bn,s=oi;Bn=null,ra(t,e,n),Bn=r,oi=s,Bn!==null&&(oi?(t=Bn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bn.removeChild(n.stateNode));break;case 18:Bn!==null&&(oi?(t=Bn,n=n.stateNode,t.nodeType===8?pb(t.parentNode,n):t.nodeType===1&&pb(t,n),Ep(t)):pb(Bn,n.stateNode));break;case 4:r=Bn,s=oi,Bn=n.stateNode.containerInfo,oi=!0,ra(t,e,n),Bn=r,oi=s;break;case 0:case 11:case 14:case 15:if(!cr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&sE(n,e,o),s=s.next}while(s!==r)}ra(t,e,n);break;case 1:if(!cr&&(fd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Zt(n,e,a)}ra(t,e,n);break;case 21:ra(t,e,n);break;case 22:n.mode&1?(cr=(r=cr)||n.memoizedState!==null,ra(t,e,n),cr=r):ra(t,e,n);break;default:ra(t,e,n)}}function I2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RB),e.forEach(function(r){var s=WB.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Gs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Bn=a.stateNode,oi=!1;break e;case 3:Bn=a.stateNode.containerInfo,oi=!0;break e;case 4:Bn=a.stateNode.containerInfo,oi=!0;break e}a=a.return}if(Bn===null)throw Error(re(160));l$(i,o,s),Bn=null,oi=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(l){Zt(s,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)u$(e,t),e=e.sibling}function u$(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gs(e,t),Ti(t),r&4){try{Hf(3,t,t.return),R0(3,t)}catch(g){Zt(t,t.return,g)}try{Hf(5,t,t.return)}catch(g){Zt(t,t.return,g)}}break;case 1:Gs(e,t),Ti(t),r&512&&n!==null&&fd(n,n.return);break;case 5:if(Gs(e,t),Ti(t),r&512&&n!==null&&fd(n,n.return),t.flags&32){var s=t.stateNode;try{wp(s,"")}catch(g){Zt(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&OR(s,i),k_(a,o);var l=k_(a,i);for(o=0;o<c.length;o+=2){var u=c[o],d=c[o+1];u==="style"?UR(s,d):u==="dangerouslySetInnerHTML"?DR(s,d):u==="children"?wp(s,d):Mx(s,u,d,l)}switch(a){case"input":A_(s,i);break;case"textarea":RR(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?wd(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?wd(s,!!i.multiple,i.defaultValue,!0):wd(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ip]=i}catch(g){Zt(t,t.return,g)}}break;case 6:if(Gs(e,t),Ti(t),r&4){if(t.stateNode===null)throw Error(re(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Zt(t,t.return,g)}}break;case 3:if(Gs(e,t),Ti(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ep(e.containerInfo)}catch(g){Zt(t,t.return,g)}break;case 4:Gs(e,t),Ti(t);break;case 13:Gs(e,t),Ti(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(wS=nn())),r&4&&I2(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(cr=(l=cr)||u,Gs(e,t),cr=l):Gs(e,t),Ti(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(_e=t,u=t.child;u!==null;){for(d=_e=u;_e!==null;){switch(h=_e,f=h.child,h.tag){case 0:case 11:case 14:case 15:Hf(4,h,h.return);break;case 1:fd(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Zt(r,n,g)}}break;case 5:fd(h,h.return);break;case 22:if(h.memoizedState!==null){N2(d);continue}}f!==null?(f.return=h,_e=f):N2(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=jR("display",o))}catch(g){Zt(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){Zt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Gs(e,t),Ti(t),r&4&&I2(t);break;case 21:break;default:Gs(e,t),Ti(t)}}function Ti(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(c$(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(wp(s,""),r.flags&=-33);var i=A2(t);aE(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=A2(t);oE(t,a,o);break;default:throw Error(re(161))}}catch(c){Zt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DB(t,e,n){_e=t,d$(t)}function d$(t,e,n){for(var r=(t.mode&1)!==0;_e!==null;){var s=_e,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Lm;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||cr;a=Lm;var l=cr;if(Lm=o,(cr=c)&&!l)for(_e=s;_e!==null;)o=_e,c=o.child,o.tag===22&&o.memoizedState!==null?P2(s):c!==null?(c.return=o,_e=c):P2(s);for(;i!==null;)_e=i,d$(i),i=i.sibling;_e=s,Lm=a,cr=l}T2(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,_e=i):T2(t)}}function T2(t){for(;_e!==null;){var e=_e;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cr||R0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!cr)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ri(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&h2(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}h2(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ep(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}cr||e.flags&512&&iE(e)}catch(h){Zt(e,e.return,h)}}if(e===t){_e=null;break}if(n=e.sibling,n!==null){n.return=e.return,_e=n;break}_e=e.return}}function N2(t){for(;_e!==null;){var e=_e;if(e===t){_e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,_e=n;break}_e=e.return}}function P2(t){for(;_e!==null;){var e=_e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{R0(4,e)}catch(c){Zt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Zt(e,s,c)}}var i=e.return;try{iE(e)}catch(c){Zt(e,i,c)}break;case 5:var o=e.return;try{iE(e)}catch(c){Zt(e,o,c)}}}catch(c){Zt(e,e.return,c)}if(e===t){_e=null;break}var a=e.sibling;if(a!==null){a.return=e.return,_e=a;break}_e=e.return}}var jB=Math.ceil,Pw=Yo.ReactCurrentDispatcher,mS=Yo.ReactCurrentOwner,Ls=Yo.ReactCurrentBatchConfig,st=0,Pn=null,dn=null,zn=0,os=0,pd=Dc(0),vn=0,Rp=null,Bl=0,$0=0,yS=0,Vf=null,qr=null,wS=0,Jd=1/0,_o=null,kw=!1,cE=null,uc=null,Mm=!1,Za=null,Ow=0,Gf=0,lE=null,Wy=-1,qy=0;function wr(){return st&6?nn():Wy!==-1?Wy:Wy=nn()}function dc(t){return t.mode&1?st&2&&zn!==0?zn&-zn:vB.transition!==null?(qy===0&&(qy=YR()),qy):(t=wt,t!==0||(t=window.event,t=t===void 0?16:n3(t.type)),t):1}function mi(t,e,n,r){if(50<Gf)throw Gf=0,lE=null,Error(re(185));zg(t,n,r),(!(st&2)||t!==Pn)&&(t===Pn&&(!(st&2)&&($0|=n),vn===4&&ja(t,zn)),Jr(t,r),n===1&&st===0&&!(e.mode&1)&&(Jd=nn()+500,P0&&jc()))}function Jr(t,e){var n=t.callbackNode;vM(t,e);var r=gw(t,t===Pn?zn:0);if(r===0)n!==null&&MI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&MI(n),e===1)t.tag===0?wB(k2.bind(null,t)):_3(k2.bind(null,t)),pB(function(){!(st&6)&&jc()}),n=null;else{switch(JR(r)){case 1:n=qx;break;case 4:n=GR;break;case 16:n=pw;break;case 536870912:n=KR;break;default:n=pw}n=v$(n,h$.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function h$(t,e){if(Wy=-1,qy=0,st&6)throw Error(re(327));var n=t.callbackNode;if(Cd()&&t.callbackNode!==n)return null;var r=gw(t,t===Pn?zn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rw(t,r);else{e=r;var s=st;st|=2;var i=p$();(Pn!==t||zn!==e)&&(_o=null,Jd=nn()+500,Pl(t,e));do try{MB();break}catch(a){f$(t,a)}while(!0);rS(),Pw.current=i,st=s,dn!==null?e=0:(Pn=null,zn=0,e=vn)}if(e!==0){if(e===2&&(s=j_(t),s!==0&&(r=s,e=uE(t,s))),e===1)throw n=Rp,Pl(t,0),ja(t,r),Jr(t,nn()),n;if(e===6)ja(t,r);else{if(s=t.current.alternate,!(r&30)&&!UB(s)&&(e=Rw(t,r),e===2&&(i=j_(t),i!==0&&(r=i,e=uE(t,i))),e===1))throw n=Rp,Pl(t,0),ja(t,r),Jr(t,nn()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:el(t,qr,_o);break;case 3:if(ja(t,r),(r&130023424)===r&&(e=wS+500-nn(),10<e)){if(gw(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){wr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=q_(el.bind(null,t,qr,_o),e);break}el(t,qr,_o);break;case 4:if(ja(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-gi(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=nn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jB(r/1960))-r,10<r){t.timeoutHandle=q_(el.bind(null,t,qr,_o),r);break}el(t,qr,_o);break;case 5:el(t,qr,_o);break;default:throw Error(re(329))}}}return Jr(t,nn()),t.callbackNode===n?h$.bind(null,t):null}function uE(t,e){var n=Vf;return t.current.memoizedState.isDehydrated&&(Pl(t,e).flags|=256),t=Rw(t,e),t!==2&&(e=qr,qr=n,e!==null&&dE(e)),t}function dE(t){qr===null?qr=t:qr.push.apply(qr,t)}function UB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!bi(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ja(t,e){for(e&=~yS,e&=~$0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gi(e),r=1<<n;t[n]=-1,e&=~r}}function k2(t){if(st&6)throw Error(re(327));Cd();var e=gw(t,0);if(!(e&1))return Jr(t,nn()),null;var n=Rw(t,e);if(t.tag!==0&&n===2){var r=j_(t);r!==0&&(e=r,n=uE(t,r))}if(n===1)throw n=Rp,Pl(t,0),ja(t,e),Jr(t,nn()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,el(t,qr,_o),Jr(t,nn()),null}function vS(t,e){var n=st;st|=1;try{return t(e)}finally{st=n,st===0&&(Jd=nn()+500,P0&&jc())}}function Fl(t){Za!==null&&Za.tag===0&&!(st&6)&&Cd();var e=st;st|=1;var n=Ls.transition,r=wt;try{if(Ls.transition=null,wt=1,t)return t()}finally{wt=r,Ls.transition=n,st=e,!(st&6)&&jc()}}function bS(){os=pd.current,Ut(pd)}function Pl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fB(n)),dn!==null)for(n=dn.return;n!==null;){var r=n;switch(eS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bw();break;case 3:Kd(),Ut(Kr),Ut(lr),lS();break;case 5:cS(r);break;case 4:Kd();break;case 13:Ut(qt);break;case 19:Ut(qt);break;case 10:sS(r.type._context);break;case 22:case 23:bS()}n=n.return}if(Pn=t,dn=t=hc(t.current,null),zn=os=e,vn=0,Rp=null,yS=$0=Bl=0,qr=Vf=null,ul!==null){for(e=0;e<ul.length;e++)if(n=ul[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ul=null}return t}function f$(t,e){do{var n=dn;try{if(rS(),By.current=Nw,Tw){for(var r=Vt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Tw=!1}if(Ml=0,An=mn=Vt=null,qf=!1,Pp=0,mS.current=null,n===null||n.return===null){vn=1,Rp=e,dn=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=zn,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=w2(o);if(f!==null){f.flags&=-257,v2(f,o,a,i,e),f.mode&1&&y2(i,l,e),e=f,c=l;var p=e.updateQueue;if(p===null){var g=new Set;g.add(c),e.updateQueue=g}else p.add(c);break e}else{if(!(e&1)){y2(i,l,e),_S();break e}c=Error(re(426))}}else if(Bt&&a.mode&1){var y=w2(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),v2(y,o,a,i,e),tS(Yd(c,a));break e}}i=c=Yd(c,a),vn!==4&&(vn=2),Vf===null?Vf=[i]:Vf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=J3(i,c,e);d2(i,w);break e;case 1:a=c;var b=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(uc===null||!uc.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=Q3(i,a,e);d2(i,E);break e}}i=i.return}while(i!==null)}m$(n)}catch(_){e=_,dn===n&&n!==null&&(dn=n=n.return);continue}break}while(!0)}function p$(){var t=Pw.current;return Pw.current=Nw,t===null?Nw:t}function _S(){(vn===0||vn===3||vn===2)&&(vn=4),Pn===null||!(Bl&268435455)&&!($0&268435455)||ja(Pn,zn)}function Rw(t,e){var n=st;st|=2;var r=p$();(Pn!==t||zn!==e)&&(_o=null,Pl(t,e));do try{LB();break}catch(s){f$(t,s)}while(!0);if(rS(),st=n,Pw.current=r,dn!==null)throw Error(re(261));return Pn=null,zn=0,vn}function LB(){for(;dn!==null;)g$(dn)}function MB(){for(;dn!==null&&!uM();)g$(dn)}function g$(t){var e=w$(t.alternate,t,os);t.memoizedProps=t.pendingProps,e===null?m$(t):dn=e,mS.current=null}function m$(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OB(n,e),n!==null){n.flags&=32767,dn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vn=6,dn=null;return}}else if(n=kB(n,e,os),n!==null){dn=n;return}if(e=e.sibling,e!==null){dn=e;return}dn=e=t}while(e!==null);vn===0&&(vn=5)}function el(t,e,n){var r=wt,s=Ls.transition;try{Ls.transition=null,wt=1,BB(t,e,n,r)}finally{Ls.transition=s,wt=r}return null}function BB(t,e,n,r){do Cd();while(Za!==null);if(st&6)throw Error(re(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(bM(t,i),t===Pn&&(dn=Pn=null,zn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mm||(Mm=!0,v$(pw,function(){return Cd(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ls.transition,Ls.transition=null;var o=wt;wt=1;var a=st;st|=4,mS.current=null,$B(t,n),u$(n,t),oB(z_),mw=!!F_,z_=F_=null,t.current=n,DB(n),dM(),st=a,wt=o,Ls.transition=i}else t.current=n;if(Mm&&(Mm=!1,Za=t,Ow=s),i=t.pendingLanes,i===0&&(uc=null),pM(n.stateNode),Jr(t,nn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(kw)throw kw=!1,t=cE,cE=null,t;return Ow&1&&t.tag!==0&&Cd(),i=t.pendingLanes,i&1?t===lE?Gf++:(Gf=0,lE=t):Gf=0,jc(),null}function Cd(){if(Za!==null){var t=JR(Ow),e=Ls.transition,n=wt;try{if(Ls.transition=null,wt=16>t?16:t,Za===null)var r=!1;else{if(t=Za,Za=null,Ow=0,st&6)throw Error(re(331));var s=st;for(st|=4,_e=t.current;_e!==null;){var i=_e,o=i.child;if(_e.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(_e=l;_e!==null;){var u=_e;switch(u.tag){case 0:case 11:case 15:Hf(8,u,i)}var d=u.child;if(d!==null)d.return=u,_e=d;else for(;_e!==null;){u=_e;var h=u.sibling,f=u.return;if(a$(u),u===l){_e=null;break}if(h!==null){h.return=f,_e=h;break}_e=f}}}var p=i.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}_e=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,_e=o;else e:for(;_e!==null;){if(i=_e,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Hf(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,_e=w;break e}_e=i.return}}var b=t.current;for(_e=b;_e!==null;){o=_e;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,_e=v;else e:for(o=b;_e!==null;){if(a=_e,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:R0(9,a)}}catch(_){Zt(a,a.return,_)}if(a===o){_e=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,_e=E;break e}_e=a.return}}if(st=s,jc(),Gi&&typeof Gi.onPostCommitFiberRoot=="function")try{Gi.onPostCommitFiberRoot(S0,t)}catch{}r=!0}return r}finally{wt=n,Ls.transition=e}}return!1}function O2(t,e,n){e=Yd(n,e),e=J3(t,e,1),t=lc(t,e,1),e=wr(),t!==null&&(zg(t,1,e),Jr(t,e))}function Zt(t,e,n){if(t.tag===3)O2(t,t,n);else for(;e!==null;){if(e.tag===3){O2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(uc===null||!uc.has(r))){t=Yd(n,t),t=Q3(e,t,1),e=lc(e,t,1),t=wr(),e!==null&&(zg(e,1,t),Jr(e,t));break}}e=e.return}}function FB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wr(),t.pingedLanes|=t.suspendedLanes&n,Pn===t&&(zn&n)===n&&(vn===4||vn===3&&(zn&130023424)===zn&&500>nn()-wS?Pl(t,0):yS|=n),Jr(t,e)}function y$(t,e){e===0&&(t.mode&1?(e=Nm,Nm<<=1,!(Nm&130023424)&&(Nm=4194304)):e=1);var n=wr();t=Fo(t,e),t!==null&&(zg(t,e,n),Jr(t,n))}function zB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),y$(t,n)}function WB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),y$(t,n)}var w$;w$=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kr.current)Vr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vr=!1,PB(t,e,n);Vr=!!(t.flags&131072)}else Vr=!1,Bt&&e.flags&1048576&&E3(e,Cw,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zy(t,e),t=e.pendingProps;var s=Hd(e,lr.current);Ed(e,n),s=dS(null,e,r,t,s,n);var i=hS();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yr(r)?(i=!0,_w(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,oS(e),s.updater=O0,e.stateNode=s,s._reactInternals=e,Q_(e,r,t,n),e=eE(null,e,r,!0,i,n)):(e.tag=0,Bt&&i&&Xx(e),gr(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zy(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=HB(r),t=ri(r,t),s){case 0:e=X_(null,e,r,t,n);break e;case 1:e=E2(null,e,r,t,n);break e;case 11:e=b2(null,e,r,t,n);break e;case 14:e=_2(null,e,r,ri(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ri(r,s),X_(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ri(r,s),E2(t,e,r,s,n);case 3:e:{if(t$(e),t===null)throw Error(re(387));r=e.pendingProps,i=e.memoizedState,s=i.element,T3(t,e),Aw(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Yd(Error(re(423)),e),e=C2(t,e,r,n,s);break e}else if(r!==s){s=Yd(Error(re(424)),e),e=C2(t,e,r,n,s);break e}else for(us=cc(e.stateNode.containerInfo.firstChild),fs=e,Bt=!0,ci=null,n=A3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vd(),r===s){e=zo(t,e,n);break e}gr(t,e,r,n)}e=e.child}return e;case 5:return N3(e),t===null&&K_(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,W_(r,s)?o=null:i!==null&&W_(r,i)&&(e.flags|=32),e$(t,e),gr(t,e,o,n),e.child;case 6:return t===null&&K_(e),null;case 13:return n$(t,e,n);case 4:return aS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Gd(e,null,r,n):gr(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ri(r,s),b2(t,e,r,s,n);case 7:return gr(t,e,e.pendingProps,n),e.child;case 8:return gr(t,e,e.pendingProps.children,n),e.child;case 12:return gr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Pt(xw,r._currentValue),r._currentValue=o,i!==null)if(bi(i.value,o)){if(i.children===s.children&&!Kr.current){e=zo(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ro(-1,n&-n),c.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Y_(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(re(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Y_(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}gr(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ed(e,n),s=Ms(s),r=r(s),e.flags|=1,gr(t,e,r,n),e.child;case 14:return r=e.type,s=ri(r,e.pendingProps),s=ri(r.type,s),_2(t,e,r,s,n);case 15:return Z3(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ri(r,s),zy(t,e),e.tag=1,Yr(r)?(t=!0,_w(e)):t=!1,Ed(e,n),Y3(e,r,s),Q_(e,r,s,n),eE(null,e,r,!0,t,n);case 19:return r$(t,e,n);case 22:return X3(t,e,n)}throw Error(re(156,e.tag))};function v$(t,e){return VR(t,e)}function qB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(t,e,n,r){return new qB(t,e,n,r)}function ES(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HB(t){if(typeof t=="function")return ES(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fx)return 11;if(t===zx)return 14}return 2}function hc(t,e){var n=t.alternate;return n===null?(n=js(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hy(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ES(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case sd:return kl(n.children,s,i,e);case Bx:o=8,s|=8;break;case __:return t=js(12,n,e,s|2),t.elementType=__,t.lanes=i,t;case E_:return t=js(13,n,e,s),t.elementType=E_,t.lanes=i,t;case C_:return t=js(19,n,e,s),t.elementType=C_,t.lanes=i,t;case NR:return D0(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case IR:o=10;break e;case TR:o=9;break e;case Fx:o=11;break e;case zx:o=14;break e;case Aa:o=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=js(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function kl(t,e,n,r){return t=js(7,t,r,e),t.lanes=n,t}function D0(t,e,n,r){return t=js(22,t,r,e),t.elementType=NR,t.lanes=n,t.stateNode={isHidden:!1},t}function Eb(t,e,n){return t=js(6,t,null,e),t.lanes=n,t}function Cb(t,e,n){return e=js(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VB(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rb(0),this.expirationTimes=rb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rb(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function CS(t,e,n,r,s,i,o,a,c){return t=new VB(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=js(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},oS(i),t}function GB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function b$(t){if(!t)return xc;t=t._reactInternals;e:{if(cu(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(Yr(n))return b3(t,n,e)}return e}function _$(t,e,n,r,s,i,o,a,c){return t=CS(n,r,!0,t,s,i,o,a,c),t.context=b$(null),n=t.current,r=wr(),s=dc(n),i=Ro(r,s),i.callback=e??null,lc(n,i,s),t.current.lanes=s,zg(t,s,r),Jr(t,r),t}function j0(t,e,n,r){var s=e.current,i=wr(),o=dc(s);return n=b$(n),e.context===null?e.context=n:e.pendingContext=n,e=Ro(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=lc(s,e,o),t!==null&&(mi(t,s,o,i),My(t,s,o)),o}function $w(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function R2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xS(t,e){R2(t,e),(t=t.alternate)&&R2(t,e)}function KB(){return null}var E$=typeof reportError=="function"?reportError:function(t){console.error(t)};function SS(t){this._internalRoot=t}U0.prototype.render=SS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));j0(t,e,null,null)};U0.prototype.unmount=SS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fl(function(){j0(null,t,null,null)}),e[Bo]=null}};function U0(t){this._internalRoot=t}U0.prototype.unstable_scheduleHydration=function(t){if(t){var e=XR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Da.length&&e!==0&&e<Da[n].priority;n++);Da.splice(n,0,t),n===0&&t3(t)}};function AS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function L0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $2(){}function YB(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var l=$w(o);i.call(l)}}var o=_$(e,r,t,0,null,!1,!1,"",$2);return t._reactRootContainer=o,t[Bo]=o.current,Sp(t.nodeType===8?t.parentNode:t),Fl(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var l=$w(c);a.call(l)}}var c=CS(t,0,!1,null,null,!1,!1,"",$2);return t._reactRootContainer=c,t[Bo]=c.current,Sp(t.nodeType===8?t.parentNode:t),Fl(function(){j0(e,c,n,r)}),c}function M0(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=$w(o);a.call(c)}}j0(e,o,t,s)}else o=YB(n,e,t,s,r);return $w(o)}QR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xf(e.pendingLanes);n!==0&&(Hx(e,n|1),Jr(e,nn()),!(st&6)&&(Jd=nn()+500,jc()))}break;case 13:Fl(function(){var r=Fo(t,1);if(r!==null){var s=wr();mi(r,t,1,s)}}),xS(t,1)}};Vx=function(t){if(t.tag===13){var e=Fo(t,134217728);if(e!==null){var n=wr();mi(e,t,134217728,n)}xS(t,134217728)}};ZR=function(t){if(t.tag===13){var e=dc(t),n=Fo(t,e);if(n!==null){var r=wr();mi(n,t,e,r)}xS(t,e)}};XR=function(){return wt};e3=function(t,e){var n=wt;try{return wt=t,e()}finally{wt=n}};R_=function(t,e,n){switch(e){case"input":if(A_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=N0(r);if(!s)throw Error(re(90));kR(r),A_(r,s)}}}break;case"textarea":RR(t,n);break;case"select":e=n.value,e!=null&&wd(t,!!n.multiple,e,!1)}};BR=vS;FR=Fl;var JB={usingClientEntryPoint:!1,Events:[qg,cd,N0,LR,MR,vS]},Vh={findFiberByHostInstance:ll,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QB={bundleType:Vh.bundleType,version:Vh.version,rendererPackageName:Vh.rendererPackageName,rendererConfig:Vh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qR(t),t===null?null:t.stateNode},findFiberByHostInstance:Vh.findFiberByHostInstance||KB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bm.isDisabled&&Bm.supportsFiber)try{S0=Bm.inject(QB),Gi=Bm}catch{}}ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JB;ws.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!AS(e))throw Error(re(200));return GB(t,e,null,n)};ws.createRoot=function(t,e){if(!AS(t))throw Error(re(299));var n=!1,r="",s=E$;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=CS(t,1,!1,null,null,n,!1,r,s),t[Bo]=e.current,Sp(t.nodeType===8?t.parentNode:t),new SS(e)};ws.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=qR(e),t=t===null?null:t.stateNode,t};ws.flushSync=function(t){return Fl(t)};ws.hydrate=function(t,e,n){if(!L0(e))throw Error(re(200));return M0(null,t,e,!0,n)};ws.hydrateRoot=function(t,e,n){if(!AS(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=E$;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=_$(e,null,t,1,n??null,s,!1,i,o),t[Bo]=e.current,Sp(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new U0(e)};ws.render=function(t,e,n){if(!L0(e))throw Error(re(200));return M0(null,t,e,!1,n)};ws.unmountComponentAtNode=function(t){if(!L0(t))throw Error(re(40));return t._reactRootContainer?(Fl(function(){M0(null,null,t,!1,function(){t._reactRootContainer=null,t[Bo]=null})}),!0):!1};ws.unstable_batchedUpdates=vS;ws.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!L0(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return M0(t,e,n,!1,r)};ws.version="18.3.1-next-f1338f8080-20240426";function C$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C$)}catch(t){console.error(t)}}C$(),CR.exports=ws;var IS=CR.exports,D2=IS;v_.createRoot=D2.createRoot,v_.hydrateRoot=D2.hydrateRoot;const x$="2.31.4";let Gh={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${x$}`},ee=class hE extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof hE?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof hE&&n.cause.docsPath||n.docsPath,i=(a=Gh.getDocsUrl)==null?void 0:a.call(Gh,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Gh.version?[`Version: ${Gh.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=x$}walk(e){return S$(this,e)}};function S$(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?S$(t.cause,e):e?null:t}let A$=class extends ee{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class ZB extends ee{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}let XB=class extends ee{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};class I$ extends ee{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let T$=class extends ee{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class j2 extends ee{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function gh(t,{dir:e,size:n=32}={}){return typeof t=="string"?fc(t,{dir:e,size:n}):eF(t,{dir:e,size:n})}function fc(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new T$({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function eF(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new T$({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}function Wo(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function sn(t){return Wo(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function mh(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const tF=new TextEncoder;function B0(t,e={}){return typeof t=="number"||typeof t=="bigint"?rF(t,e):typeof t=="boolean"?nF(t,e):Wo(t)?Xi(t,e):xd(t,e)}function nF(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Ci(n,{size:e.size}),gh(n,{size:e.size})):n}const oo={zero:48,nine:57,A:65,F:70,a:97,f:102};function U2(t){if(t>=oo.zero&&t<=oo.nine)return t-oo.zero;if(t>=oo.A&&t<=oo.F)return t-(oo.A-10);if(t>=oo.a&&t<=oo.f)return t-(oo.a-10)}function Xi(t,e={}){let n=t;e.size&&(Ci(n,{size:e.size}),n=gh(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=U2(r.charCodeAt(a++)),l=U2(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new ee(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function rF(t,e){const n=$e(t,e);return Xi(n)}function xd(t,e={}){const n=tF.encode(t);return typeof e.size=="number"?(Ci(n,{size:e.size}),gh(n,{dir:"right",size:e.size})):n}function Ci(t,{size:e}){if(sn(t)>e)throw new XB({givenSize:sn(t),maxSize:e})}function qo(t,e={}){const{signed:n}=e;e.size&&Ci(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Ho(t,e={}){return Number(qo(t,e))}function N$(t,e={}){let n=Xi(t);return e.size&&(Ci(n,{size:e.size}),n=mh(n,{dir:"right"})),new TextDecoder().decode(n)}const sF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function zl(t,e={}){return typeof t=="number"||typeof t=="bigint"?$e(t,e):typeof t=="string"?F0(t,e):typeof t=="boolean"?P$(t,e):Er(t,e)}function P$(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Ci(n,{size:e.size}),gh(n,{size:e.size})):n}function Er(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=sF[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Ci(r,{size:e.size}),gh(r,{dir:"right",size:e.size})):r}function $e(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new A$({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?gh(a,{size:r}):a}const iF=new TextEncoder;function F0(t,e={}){const n=iF.encode(t);return Er(n,e)}async function oF(t,{chain:e}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:$e(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function Sc(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new vF(t.type);return`${t.name}(${z0(t.inputs,{includeName:e})})`}function z0(t,{includeName:e=!1}={}){return t?t.map(n=>aF(n,{includeName:e})).join(e?", ":","):""}function aF(t,{includeName:e}){return t.type.startsWith("tuple")?`(${z0(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class cF extends ee{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class L2 extends ee{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class k$ extends ee{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${z0(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class W0 extends ee{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class lF extends ee{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class uF extends ee{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${sn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class dF extends ee{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class aCe extends ee{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class cCe extends ee{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class O$ extends ee{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class hF extends ee{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class R$ extends ee{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Dw extends ee{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class fF extends ee{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class lCe extends ee{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class pF extends ee{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Sc(e.abiItem)}\`, and`,`\`${n.type}\` in \`${Sc(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class gF extends ee{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class fE extends ee{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${z0(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class $$ extends ee{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Sc(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class mF extends ee{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class yF extends ee{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class wF extends ee{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class vF extends ee{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function Ac(t){return typeof t[0]=="string"?q0(t):bF(t)}function bF(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function q0(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}class Ic extends ee{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}let H0=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Fm=BigInt(2**32-1),M2=BigInt(32);function _F(t,e=!1){return e?{h:Number(t&Fm),l:Number(t>>M2&Fm)}:{h:Number(t>>M2&Fm)|0,l:Number(t&Fm)|0}}function EF(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=_F(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const CF=(t,e,n)=>t<<n|e>>>32-n,xF=(t,e,n)=>e<<n|t>>>32-n,SF=(t,e,n)=>e<<n-32|t>>>64-n,AF=(t,e,n)=>t<<n-32|e>>>64-n,Cu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function IF(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function jw(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Wl(t,...e){if(!IF(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function dCe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");jw(t.outputLen),jw(t.blockLen)}function Uw(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function D$(t,e){Wl(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function TF(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function $p(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function xb(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ni(t,e){return t<<32-e|t>>>e}const NF=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function PF(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function kF(t){for(let e=0;e<t.length;e++)t[e]=PF(t[e]);return t}const B2=NF?t=>t:kF,j$=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",OF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function hCe(t){if(Wl(t),j$)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=OF[t[n]];return e}const ao={_0:48,_9:57,A:65,F:70,a:97,f:102};function F2(t){if(t>=ao._0&&t<=ao._9)return t-ao._0;if(t>=ao.A&&t<=ao.F)return t-(ao.A-10);if(t>=ao.a&&t<=ao.f)return t-(ao.a-10)}function fCe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(j$)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=F2(t.charCodeAt(i)),a=F2(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function RF(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function V0(t){return typeof t=="string"&&(t=RF(t)),Wl(t),t}function pCe(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Wl(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class U${}function L$(t){const e=r=>t().update(V0(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function $F(t){const e=(r,s)=>t(s).update(V0(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function gCe(t=32){if(Cu&&typeof Cu.getRandomValues=="function")return Cu.getRandomValues(new Uint8Array(t));if(Cu&&typeof Cu.randomBytes=="function")return Uint8Array.from(Cu.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const DF=BigInt(0),Kh=BigInt(1),jF=BigInt(2),UF=BigInt(7),LF=BigInt(256),MF=BigInt(113),M$=[],B$=[],F$=[];for(let t=0,e=Kh,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],M$.push(2*(5*r+n)),B$.push((t+1)*(t+2)/2%64);let s=DF;for(let i=0;i<7;i++)e=(e<<Kh^(e>>UF)*MF)%LF,e&jF&&(s^=Kh<<(Kh<<BigInt(i))-Kh);F$.push(s)}const z$=EF(F$,!0),BF=z$[0],FF=z$[1],z2=(t,e,n)=>n>32?SF(t,e,n):CF(t,e,n),W2=(t,e,n)=>n>32?AF(t,e,n):xF(t,e,n);function W$(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=z2(l,u,1)^n[a],h=W2(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=B$[o],c=z2(s,i,a),l=W2(s,i,a),u=M$[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=BF[r],t[1]^=FF[r]}$p(n)}class Vg extends U${constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,jw(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=TF(this.state)}clone(){return this._cloneInto()}keccak(){B2(this.state32),W$(this.state32,this.rounds),B2(this.state32),this.posOut=0,this.pos=0}update(e){Uw(this),e=V0(e),Wl(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Uw(this,!1),Wl(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return jw(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(D$(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,$p(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Vg(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Uc=(t,e,n)=>L$(()=>new Vg(e,t,n)),zF=Uc(6,144,224/8),WF=Uc(6,136,256/8),qF=Uc(6,104,384/8),HF=Uc(6,72,512/8),VF=Uc(1,144,224/8),TS=Uc(1,136,256/8),GF=Uc(1,104,384/8),KF=Uc(1,72,512/8),q$=(t,e,n)=>$F((r={})=>new Vg(e,t,r.dkLen===void 0?n:r.dkLen,!0)),YF=q$(31,168,128/8),JF=q$(31,136,256/8),mCe=Object.freeze(Object.defineProperty({__proto__:null,Keccak:Vg,keccakP:W$,keccak_224:VF,keccak_256:TS,keccak_384:GF,keccak_512:KF,sha3_224:zF,sha3_256:WF,sha3_384:qF,sha3_512:HF,shake128:YF,shake256:JF},Symbol.toStringTag,{value:"Module"}));function yh(t,e){const n=e||"hex",r=TS(Wo(t,{strict:!1})?B0(t):t);return n==="bytes"?r:zl(r)}const Sb=new H0(8192);function Gg(t,e){if(Sb.has(`${t}.${e}`))return Sb.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=yh(xd(n),"bytes"),s=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return Sb.set(`${t}.${e}`,i),i}function Xa(t,e){if(!_i(t,{strict:!1}))throw new Ic({address:t});return Gg(t,e)}const QF=/^0x[a-fA-F0-9]{40}$/,Ab=new H0(8192);function _i(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(Ab.has(r))return Ab.get(r);const s=QF.test(t)?t.toLowerCase()===t?!0:n?Gg(t)===t:!0:!1;return Ab.set(r,s),s}function Lw(t,e,n,{strict:r}={}){return Wo(t,{strict:!1})?pE(t,e,n,{strict:r}):G$(t,e,n,{strict:r})}function H$(t,e){if(typeof e=="number"&&e>0&&e>sn(t)-1)throw new I$({offset:e,position:"start",size:sn(t)})}function V$(t,e,n){if(typeof e=="number"&&typeof n=="number"&&sn(t)!==n-e)throw new I$({offset:n,position:"end",size:sn(t)})}function G$(t,e,n,{strict:r}={}){H$(t,e);const s=t.slice(e,n);return r&&V$(s,e,n),s}function pE(t,e,n,{strict:r}={}){H$(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&V$(s,e,n),s}const ZF=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,K$=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Y$(t,e){if(t.length!==e.length)throw new dF({expectedLength:t.length,givenLength:e.length});const n=XF({params:t,values:e}),r=PS(n);return r.length===0?"0x":r}function XF({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(NS({param:t[r],value:e[r]}));return n}function NS({param:t,value:e}){const n=kS(t.type);if(n){const[r,s]=n;return t9(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return o9(e,{param:t});if(t.type==="address")return e9(e);if(t.type==="bool")return r9(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=K$.exec(t.type)??[];return s9(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return n9(e,{param:t});if(t.type==="string")return i9(e);throw new mF(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function PS(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?e+=32:e+=sn(a)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?(n.push($e(e+s,{size:32})),r.push(a),s+=sn(a)):n.push(a)}return Ac([...n,...r])}function e9(t){if(!_i(t))throw new Ic({address:t});return{dynamic:!1,encoded:fc(t.toLowerCase())}}function t9(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new wF(t);if(!r&&t.length!==e)throw new lF({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const i=[];for(let o=0;o<t.length;o++){const a=NS({param:n,value:t[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=PS(i);if(r){const a=$e(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Ac([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Ac(i.map(({encoded:o})=>o))}}function n9(t,{param:e}){const[,n]=e.type.split("bytes"),r=sn(t);if(!n){let s=t;return r%32!==0&&(s=fc(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Ac([fc($e(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new uF({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:fc(t,{dir:"right"})}}function r9(t){if(typeof t!="boolean")throw new ee(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:fc(P$(t))}}function s9(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new A$({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:$e(t,{size:32,signed:e})}}function i9(t){const e=F0(t),n=Math.ceil(sn(e)/32),r=[];for(let s=0;s<n;s++)r.push(fc(Lw(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Ac([fc($e(sn(e),{size:32})),...r])}}function o9(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],o=Array.isArray(t)?s:i.name,a=NS({param:i,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?PS(r):Ac(r.map(({encoded:s})=>s))}}function kS(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const Ib="/docs/contract/encodeDeployData";function OS(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new cF({docsPath:Ib});if(!("inputs"in s))throw new L2({docsPath:Ib});if(!s.inputs||s.inputs.length===0)throw new L2({docsPath:Ib});const i=Y$(s.inputs,n);return q0([r,i])}function qn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class lu extends ee{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Vy extends ee{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function a9(t){const e=yh(`0x${t.substring(4)}`).substring(26);return Gg(`0x${e}`)}const c9="modulepreload",l9=function(t){return"/"+t},q2={},tn=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=l9(c),c in q2)return;q2[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":c9,l||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};async function u9({hash:t,signature:e}){const n=Wo(t)?t:zl(t),{secp256k1:r}=await tn(async()=>{const{secp256k1:o}=await import("./secp256k1-DydvkAFG.js");return{secp256k1:o}},__vite__mapDeps([0,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=H2(f);return new r.Signature(qo(l),qo(u)).addRecoveryBit(p)}const o=Wo(e)?e:zl(e);if(sn(o)!==65)throw new Error("invalid signature length");const a=Ho(`0x${o.slice(130)}`),c=H2(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function H2(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function d9({hash:t,signature:e}){return a9(await u9({hash:t,signature:e}))}class V2 extends ee{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class J$ extends ee{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class h9 extends ee{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const f9={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new h9({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new J$({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new V2({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new V2({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function RS(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(f9);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function p9(t,e="hex"){const n=Q$(t),r=RS(new Uint8Array(n.length));return n.encode(r),e==="hex"?Er(r.bytes):r.bytes}function Q$(t){return Array.isArray(t)?g9(t.map(e=>Q$(e))):m9(t)}function g9(t){const e=t.reduce((s,i)=>s+i.length,0),n=Z$(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function m9(t){const e=typeof t=="string"?Xi(t):t,n=Z$(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function Z$(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new ee("Length is too large.")}function y9(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,i=yh(q0(["0x05",p9([e?$e(e):"0x",s,n?$e(n):"0x"])]));return r==="bytes"?Xi(i):i}async function X$(t){const{authorization:e,signature:n}=t;return d9({hash:y9(e),signature:n??e})}class gE extends ee{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class w9 extends ee{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class v9 extends ee{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class eD extends ee{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function tD({chain:t,currentChainId:e}){if(!t)throw new v9;if(e!==t.id)throw new w9({chain:t,currentChainId:e})}const b9={gwei:9,wei:18},_9={ether:-9,wei:9},E9={ether:-18,gwei:-9};function wh(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function Qr(t,e="wei"){return wh(t,_9[e])}class hl extends ee{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(hl,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(hl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Mw extends ee{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Qr(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Mw,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class mE extends ee{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Qr(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(mE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class yE extends ee{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(yE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class wE extends ee{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(wE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class vE extends ee{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(vE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class bE extends ee{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(bE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class _E extends ee{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(_E,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class EE extends ee{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(EE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class CE extends ee{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(CE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Bw extends ee{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Qr(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Qr(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Bw,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class G0 extends ee{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function $S(t,e="wei"){return wh(t,b9[e])}function Kg(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class C9 extends ee{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class x9 extends ee{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Kg(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class S9 extends ee{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var p;const f=Kg({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${$S(h)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Qr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Qr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Qr(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class nD extends ee{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class rD extends ee{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class A9 extends ee{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const vr=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n),I9=t=>t,DS=t=>t;class Kf extends ee{constructor({body:e,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${DS(o)}`,e&&`Request body: ${vr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class jS extends ee{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${DS(r)}`,`Request body: ${vr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class G2 extends ee{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${DS(n)}`,`Request body: ${vr(e)}`],name:"TimeoutError"})}}const T9=-1;class Xr extends ee{constructor(e,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof jS?e.code:n??T9}}class bs extends Xr{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Dp extends Xr{constructor(e){super(e,{code:Dp.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Dp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class jp extends Xr{constructor(e){super(e,{code:jp.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Up extends Xr{constructor(e,{method:n}={}){super(e,{code:Up.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Up,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Lp extends Xr{constructor(e){super(e,{code:Lp.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Lp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ql extends Xr{constructor(e){super(e,{code:ql.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(ql,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Mp extends Xr{constructor(e){super(e,{code:Mp.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Mp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Bp extends Xr{constructor(e){super(e,{code:Bp.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Bp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class pc extends Xr{constructor(e){super(e,{code:pc.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(pc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Qd extends Xr{constructor(e){super(e,{code:Qd.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Qd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class fl extends Xr{constructor(e,{method:n}={}){super(e,{code:fl.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(fl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Zd extends Xr{constructor(e){super(e,{code:Zd.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Zd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Fp extends Xr{constructor(e){super(e,{code:Fp.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Fp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class gn extends bs{constructor(e){super(e,{code:gn.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(gn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class zp extends bs{constructor(e){super(e,{code:zp.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Wp extends bs{constructor(e,{method:n}={}){super(e,{code:Wp.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Wp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class qp extends bs{constructor(e){super(e,{code:qp.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Hp extends bs{constructor(e){super(e,{code:Hp.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Hp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class eo extends bs{constructor(e){super(e,{code:eo.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(eo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Xd extends bs{constructor(e){super(e,{code:Xd.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Xd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Vp extends bs{constructor(e){super(e,{code:Vp.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Vp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Gp extends bs{constructor(e){super(e,{code:Gp.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Gp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Kp extends bs{constructor(e){super(e,{code:Kp.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Kp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Yp extends bs{constructor(e){super(e,{code:Yp.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Yp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Jp extends bs{constructor(e){super(e,{code:Jp.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class eh extends bs{constructor(e){super(e,{code:eh.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(eh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class N9 extends Xr{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function US(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof ee?t.walk(s=>(s==null?void 0:s.code)===hl.code):t;return r instanceof ee?new hl({cause:t,message:r.details}):hl.nodeMessage.test(n)?new hl({cause:t,message:t.details}):Mw.nodeMessage.test(n)?new Mw({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):mE.nodeMessage.test(n)?new mE({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):yE.nodeMessage.test(n)?new yE({cause:t,nonce:e==null?void 0:e.nonce}):wE.nodeMessage.test(n)?new wE({cause:t,nonce:e==null?void 0:e.nonce}):vE.nodeMessage.test(n)?new vE({cause:t,nonce:e==null?void 0:e.nonce}):bE.nodeMessage.test(n)?new bE({cause:t}):_E.nodeMessage.test(n)?new _E({cause:t,gas:e==null?void 0:e.gas}):EE.nodeMessage.test(n)?new EE({cause:t,gas:e==null?void 0:e.gas}):CE.nodeMessage.test(n)?new CE({cause:t}):Bw.nodeMessage.test(n)?new Bw({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new G0({cause:t})}function sD(t,{docsPath:e,...n}){const r=(()=>{const s=US(t,n);return s instanceof G0?t:s})();return new S9(r,{docsPath:e,...n})}function LS(t,{format:e}){if(!e)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in t&&(n[a]=t[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=e(t||{});return r(s),n}const P9={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function K0(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=k9(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Er(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=$e(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=$e(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=$e(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=$e(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=$e(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=$e(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=P9[t.type]),typeof t.value<"u"&&(e.value=$e(t.value)),e}function k9(t){return t.map(e=>({address:e.address,r:e.r?$e(BigInt(e.r)):e.r,s:e.s?$e(BigInt(e.s)):e.s,chainId:$e(e.chainId),nonce:$e(e.nonce),...typeof e.yParity<"u"?{yParity:$e(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:$e(e.v)}:{}}))}function Ct(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const O9=2n**256n-1n;function Yg(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=t,o=e?qn(e):void 0;if(o&&!_i(o.address))throw new Ic({address:o.address});if(i&&!_i(i))throw new Ic({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new C9;if(r&&r>O9)throw new Mw({maxFeePerGas:r});if(s&&r&&s>r)throw new Bw({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function Jg(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Ho(e)}class R9 extends ee{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class MS extends ee{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class $9 extends ee{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Qr(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class iD extends ee{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const oD={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function aD(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Ho(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Ho(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?oD[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=D9(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function D9(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function j9(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:aD(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function Qp(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:s}={}){var u,d,h;const i=r??"latest",o=s??!1,a=n!==void 0?$e(n):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[a||i,o]},{dedupe:!!a}),!c)throw new iD({blockHash:e,blockNumber:n});return(((h=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:h.format)||j9)(c)}async function cD(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function U9(t,e){var i,o;const{block:n,chain:r=t.chain,request:s}=e||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const l=n||await Ct(t,Qp,"getBlock")({}),u=await a({block:l,client:t,request:s});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return qo(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):Ct(t,Qp,"getBlock")({}),Ct(t,cD,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new MS;const l=c-a.baseFeePerGas;return l<0n?0n:l}}async function K2(t,e){var h,f;const{block:n,chain:r=t.chain,request:s,type:i="eip1559"}=e||{},o=await(async()=>{var p,g;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)??1.2})();if(o<1)throw new R9;const c=10**(((h=o.toString().split(".")[1])==null?void 0:h.length)??0),l=p=>p*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await Ct(t,Qp,"getBlock")({});if(typeof((f=r==null?void 0:r.fees)==null?void 0:f.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:s,type:i});if(p!==null)return p}if(i==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new MS;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await U9(t,{block:u,chain:r,request:s}),g=l(u.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??g+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??l(await Ct(t,cD,"getGasPrice")({}))}}class L9 extends ee{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var p;const f=Kg({from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${$S(h)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Qr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Qr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Qr(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function M9(t,{docsPath:e,...n}){const r=(()=>{const s=US(t,n);return s instanceof G0?t:s})();return new L9(r,{docsPath:e,...n})}class B9 extends ee{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class F9 extends ee{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Y2(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function z9(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=Y2(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=Y2(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function J2(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new j2({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new j2({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function W9(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:i}=t,o={};if(i!==void 0&&(o.code=i),e!==void 0&&(o.balance=$e(e)),n!==void 0&&(o.nonce=$e(n)),r!==void 0&&(o.state=J2(r)),s!==void 0){if(o.state)throw new F9;o.stateDiff=J2(s)}return o}function lD(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!_i(n,{strict:!1}))throw new Ic({address:n});if(e[n])throw new B9({address:n});e[n]=W9(r)}return e}async function uD(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=typeof n=="bigint"?$e(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(i)}async function dD(t,e){var s,i,o;const{account:n=t.account}=e,r=n?qn(n):void 0;try{let M=function(A){const{block:j,request:P,rpcStateOverride:k}=A;return t.request({method:"eth_estimateGas",params:k?[P,j??"latest",k]:j?[P,j]:[P]})};const{accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,blockNumber:d,blockTag:h,data:f,gas:p,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:v,value:E,stateOverride:_,...x}=await Y0(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),T=(typeof d=="bigint"?$e(d):void 0)||h,C=lD(_),O=await(async()=>{if(x.to)return x.to;if(c&&c.length>0)return await X$({authorization:c[0]}).catch(()=>{throw new ee("`to` is required. Could not infer from `authorizationList`")})})();Yg(e);const R=(o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,z=(R||K0)({...LS(x,{format:R}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,data:f,gas:p,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:v,to:O,value:E});let I=BigInt(await M({block:T,request:z,rpcStateOverride:C}));if(c){const A=await uD(t,{address:z.from}),j=await Promise.all(c.map(async P=>{const{address:k}=P,U=await M({block:T,request:{authorizationList:void 0,data:f,from:r==null?void 0:r.address,to:k,value:$e(A)},rpcStateOverride:C}).catch(()=>100000n);return 2n*BigInt(U)}));I+=j.reduce((P,k)=>P+k,0n)}return I}catch(a){throw M9(a,{...e,account:r,chain:t.chain})}}async function hD(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?$e(r):n]},{dedupe:!!r});return Ho(s)}function fD(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>Xi(i)):t.blobs,s=[];for(const i of r)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>Er(i))}function pD(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>Xi(o)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(o=>Xi(o)):t.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>Er(o))}function q9(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function H9(t,e,n){return t&e^~t&n}function V9(t,e,n){return t&e^t&n^e&n}class G9 extends U${constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=xb(this.buffer)}update(e){Uw(this),e=V0(e),Wl(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=xb(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Uw(this),D$(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,$p(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;q9(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=xb(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const sa=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),K9=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ia=new Uint32Array(64);class Y9 extends G9{constructor(e=32){super(64,e,8,!1),this.A=sa[0]|0,this.B=sa[1]|0,this.C=sa[2]|0,this.D=sa[3]|0,this.E=sa[4]|0,this.F=sa[5]|0,this.G=sa[6]|0,this.H=sa[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)ia[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=ia[d-15],f=ia[d-2],p=Ni(h,7)^Ni(h,18)^h>>>3,g=Ni(f,17)^Ni(f,19)^f>>>10;ia[d]=g+ia[d-7]+p+ia[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Ni(a,6)^Ni(a,11)^Ni(a,25),f=u+h+H9(a,c,l)+K9[d]+ia[d]|0,g=(Ni(r,2)^Ni(r,13)^Ni(r,22))+V9(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){$p(ia)}destroy(){this.set(0,0,0,0,0,0,0,0),$p(this.buffer)}}const J9=L$(()=>new Y9),Q9=J9;function Z9(t,e){return Q9(Wo(t,{strict:!1})?B0(t):t)}function X9(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=Z9(e);return s.set([n],0),r==="bytes"?s:Er(s)}function e7(t){const{commitments:e,version:n}=t,r=t.to,s=[];for(const i of e)s.push(X9({commitment:i,to:r,version:n}));return s}const Q2=6,gD=32,BS=4096,mD=gD*BS,Z2=mD*Q2-1-1*BS*Q2;class t7 extends ee{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class n7 extends ee{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function r7(t){const e=typeof t.data=="string"?Xi(t.data):t.data,n=sn(e);if(!n)throw new n7;if(n>Z2)throw new t7({maxSize:Z2,size:n});const r=[];let s=!0,i=0;for(;s;){const o=RS(new Uint8Array(mD));let a=0;for(;a<BS;){const c=e.slice(i,i+(gD-1));if(o.pushByte(0),o.pushBytes(c),c.length<31){o.pushByte(128),s=!1;break}a++,i+=31}r.push(o)}return r.map(o=>Er(o.bytes))}function s7(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??r7({data:e}),i=t.commitments??fD({blobs:s,kzg:n,to:r}),o=t.proofs??pD({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function i7(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new x9({transaction:t})}const yD=["blobVersionedHashes","chainId","fees","gas","nonce","type"],X2=new Map;async function Y0(t,e){const{account:n=t.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:l=yD,type:u}=e,d=n&&qn(n),h={...e,...d?{from:d==null?void 0:d.address}:{}};let f;async function p(){return f||(f=await Ct(t,Qp,"getBlock")({blockTag:"latest"}),f)}let g;async function y(){return g||(s?s.id:typeof e.chainId<"u"?e.chainId:(g=await Ct(t,Jg,"getChainId")({}),g))}if(l.includes("nonce")&&typeof a>"u"&&d)if(c){const w=await y();h.nonce=await c.consume({address:d.address,chainId:w,client:t})}else h.nonce=await Ct(t,hD,"getTransactionCount")({address:d.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&o){const w=fD({blobs:r,kzg:o});if(l.includes("blobVersionedHashes")){const b=e7({commitments:w,to:"hex"});h.blobVersionedHashes=b}if(l.includes("sidecars")){const b=pD({blobs:r,commitments:w,kzg:o}),v=s7({blobs:r,commitments:w,proofs:b,to:"hex"});h.sidecars=v}}if(l.includes("chainId")&&(h.chainId=await y()),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{h.type=i7(h)}catch{let w=X2.get(t.uid);if(typeof w>"u"){const b=await p();w=typeof(b==null?void 0:b.baseFeePerGas)=="bigint",X2.set(t.uid,w)}h.type=w?"eip1559":"legacy"}if(l.includes("fees"))if(h.type!=="legacy"&&h.type!=="eip2930"){if(typeof h.maxFeePerGas>"u"||typeof h.maxPriorityFeePerGas>"u"){const w=await p(),{maxFeePerGas:b,maxPriorityFeePerGas:v}=await K2(t,{block:w,chain:s,request:h});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<v)throw new $9({maxPriorityFeePerGas:v});h.maxPriorityFeePerGas=v,h.maxFeePerGas=b}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new MS;if(typeof e.gasPrice>"u"){const w=await p(),{gasPrice:b}=await K2(t,{block:w,chain:s,request:h,type:"legacy"});h.gasPrice=b}}return l.includes("gas")&&typeof i>"u"&&(h.gas=await Ct(t,dD,"estimateGas")({...h,account:d&&{address:d.address,type:"json-rpc"}})),Yg(h),delete h.parameters,h}async function wD(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const Tb=new H0(128);async function Qg(t,e){var b,v,E,_;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,type:p,value:g,...y}=e;if(typeof n>"u")throw new lu({docsPath:"/docs/actions/wallet/sendTransaction"});const w=n?qn(n):null;try{Yg(e);const x=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await X$({authorization:i[0]}).catch(()=>{throw new ee("`to` is required. Could not infer from `authorizationList`.")})})();if((w==null?void 0:w.type)==="json-rpc"||w===null){let S;r!==null&&(S=await Ct(t,Jg,"getChainId")({}),tD({currentChainId:S,chain:r}));const T=(E=(v=(b=t.chain)==null?void 0:b.formatters)==null?void 0:v.transactionRequest)==null?void 0:E.format,O=(T||K0)({...LS(y,{format:T}),accessList:s,authorizationList:i,blobs:o,chainId:S,data:a,from:w==null?void 0:w.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,to:x,type:p,value:g}),R=Tb.get(t.uid),B=R?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:B,params:[O]},{retryCount:0})}catch(z){if(R===!1)throw z;const M=z;if(M.name==="InvalidInputRpcError"||M.name==="InvalidParamsRpcError"||M.name==="MethodNotFoundRpcError"||M.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[O]},{retryCount:0}).then(I=>(Tb.set(t.uid,!0),I)).catch(I=>{const A=I;throw A.name==="MethodNotFoundRpcError"||A.name==="MethodNotSupportedRpcError"?(Tb.set(t.uid,!1),M):A});throw M}}if((w==null?void 0:w.type)==="local"){const S=await Ct(t,Y0,"prepareTransactionRequest")({account:w,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,nonceManager:w.nonceManager,parameters:[...yD,"sidecars"],type:p,value:g,...y,to:x}),T=(_=r==null?void 0:r.serializers)==null?void 0:_.transaction,C=await w.signTransaction(S,{serializer:T});return await Ct(t,wD,"sendRawTransaction")({serializedTransaction:C})}throw(w==null?void 0:w.type)==="smart"?new Vy({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Vy({docsPath:"/docs/actions/wallet/sendTransaction",type:w==null?void 0:w.type})}catch(x){throw x instanceof Vy?x:sD(x,{...e,account:w,chain:e.chain||void 0})}}function o7(t,e){const{abi:n,args:r,bytecode:s,...i}=e,o=OS({abi:n,args:r,bytecode:s});return Qg(t,{...i,...i.authorizationList?{to:null}:{},data:o})}const xE=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],yCe=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],a7=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],c7=[...a7,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}];function l7(t,e={}){typeof e.size<"u"&&Ci(t,{size:e.size});const n=Er(t,e);return qo(n,e)}function u7(t,e={}){let n=t;if(typeof e.size<"u"&&(Ci(n,{size:e.size}),n=mh(n)),n.length>1||n[0]>1)throw new ZB(n);return!!n[0]}function $o(t,e={}){typeof e.size<"u"&&Ci(t,{size:e.size});const n=Er(t,e);return Ho(n,e)}function d7(t,e={}){let n=t;return typeof e.size<"u"&&(Ci(n,{size:e.size}),n=mh(n,{dir:"right"})),new TextDecoder().decode(n)}function J0(t,e){const n=typeof e=="string"?Xi(e):e,r=RS(n);if(sn(n)===0&&t.length>0)throw new W0;if(sn(e)&&sn(e)<32)throw new k$({data:typeof e=="string"?e:Er(e),params:t,size:sn(e)});let s=0;const i=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(s);const[c,l]=Sd(r,a,{staticPosition:0});s+=l,i.push(c)}return i}function Sd(t,e,{staticPosition:n}){const r=kS(e.type);if(r){const[s,i]=r;return f7(t,{...e,type:i},{length:s,staticPosition:n})}if(e.type==="tuple")return y7(t,e,{staticPosition:n});if(e.type==="address")return h7(t);if(e.type==="bool")return p7(t);if(e.type.startsWith("bytes"))return g7(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return m7(t,e);if(e.type==="string")return w7(t,{staticPosition:n});throw new yF(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const eT=32,SE=32;function h7(t){const e=t.readBytes(32);return[Gg(Er(G$(e,-20))),32]}function f7(t,e,{length:n,staticPosition:r}){if(!n){const o=$o(t.readBytes(SE)),a=r+o,c=a+eT;t.setPosition(a);const l=$o(t.readBytes(eT)),u=Zp(e);let d=0;const h=[];for(let f=0;f<l;++f){t.setPosition(c+(u?f*32:d));const[p,g]=Sd(t,e,{staticPosition:c});d+=g,h.push(p)}return t.setPosition(r+32),[h,32]}if(Zp(e)){const o=$o(t.readBytes(SE)),a=r+o,c=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[u]=Sd(t,e,{staticPosition:a});c.push(u)}return t.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=Sd(t,e,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function p7(t){return[u7(t.readBytes(32),{size:32}),32]}function g7(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const o=$o(t.readBytes(32));t.setPosition(n+o);const a=$o(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[Er(c),32]}return[Er(t.readBytes(Number.parseInt(s),32)),32]}function m7(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[r>48?l7(s,{signed:n}):$o(s,{signed:n}),32]}function y7(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(Zp(e)){const o=$o(t.readBytes(SE)),a=n+o;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(a+i);const[u,d]=Sd(t,l,{staticPosition:a});i+=d,s[r?c:l==null?void 0:l.name]=u}return t.setPosition(n+32),[s,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,l]=Sd(t,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=l}return[s,i]}function w7(t,{staticPosition:e}){const n=$o(t.readBytes(32)),r=e+n;t.setPosition(r);const s=$o(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),o=d7(mh(i));return t.setPosition(e+32),[o,32]}function Zp(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(Zp);const n=kS(t.type);return!!(n&&Zp({...t,type:n[1]}))}const v7=t=>yh(B0(t));function b7(t){return v7(t)}const _7="1.0.8";let Ws=class AE extends Error{constructor(e,n={}){var o;const r=n.cause instanceof AE?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof AE&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${_7}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Jo(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const vD=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,bD=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,_D=/^\(.+?\).*?$/,tT=/^tuple(?<array>(\[(\d*)\])*)$/;function IE(t){let e=t.type;if(tT.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=IE(i),s<n-1&&(e+=", ")}const r=Jo(tT,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,IE({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Yh(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=IE(s),r!==n-1&&(e+=", ")}return e}function E7(t){var e;return t.type==="function"?`function ${t.name}(${Yh(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Yh(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Yh(t.inputs)})`:t.type==="error"?`error ${t.name}(${Yh(t.inputs)})`:t.type==="constructor"?`constructor(${Yh(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const ED=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function C7(t){return ED.test(t)}function x7(t){return Jo(ED,t)}const CD=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function S7(t){return CD.test(t)}function A7(t){return Jo(CD,t)}const xD=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function I7(t){return xD.test(t)}function T7(t){return Jo(xD,t)}const SD=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function AD(t){return SD.test(t)}function N7(t){return Jo(SD,t)}const ID=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function P7(t){return ID.test(t)}function k7(t){return Jo(ID,t)}const TD=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function O7(t){return TD.test(t)}function R7(t){return Jo(TD,t)}const $7=/^receive\(\) external payable$/;function D7(t){return $7.test(t)}const j7=new Set(["indexed"]),TE=new Set(["calldata","memory","storage"]);class U7 extends Ws{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class L7 extends Ws{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class M7 extends Ws{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class B7 extends Ws{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class F7 extends Ws{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class z7 extends Ws{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class W7 extends Ws{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class vh extends Ws{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class q7 extends Ws{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class H7 extends Ws{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class V7 extends Ws{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class G7 extends Ws{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function K7(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${t}${r}`:t}const Nb=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Y7(t,e={}){if(I7(t))return J7(t,e);if(S7(t))return Q7(t,e);if(C7(t))return Z7(t,e);if(P7(t))return X7(t,e);if(O7(t))return ez(t);if(D7(t))return{type:"receive",stateMutability:"payable"};throw new q7({signature:t})}function J7(t,e={}){const n=T7(t);if(!n)throw new vh({signature:t,type:"function"});const r=di(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Hl(r[a],{modifiers:TE,structs:e,type:"function"}));const o=[];if(n.returns){const a=di(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(Hl(a[l],{modifiers:TE,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function Q7(t,e={}){const n=A7(t);if(!n)throw new vh({signature:t,type:"event"});const r=di(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Hl(r[o],{modifiers:j7,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Z7(t,e={}){const n=x7(t);if(!n)throw new vh({signature:t,type:"error"});const r=di(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Hl(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function X7(t,e={}){const n=k7(t);if(!n)throw new vh({signature:t,type:"constructor"});const r=di(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Hl(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function ez(t){const e=R7(t);if(!e)throw new vh({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const tz=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,nz=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,rz=/^u?int$/;function Hl(t,e){var d,h;const n=K7(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(Nb.has(n))return Nb.get(n);const r=_D.test(t),s=Jo(r?nz:tz,t);if(!s)throw new M7({param:t});if(s.name&&iz(s.name))throw new B7({param:t,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,l={};if(r){c="tuple";const f=di(s.type),p=[],g=f.length;for(let y=0;y<g;y++)p.push(Hl(f[y],{structs:a}));l={components:p}}else if(s.type in a)c="tuple",l={components:a[s.type]};else if(rz.test(s.type))c=`${s.type}256`;else if(c=s.type,(e==null?void 0:e.type)!=="struct"&&!ND(c))throw new L7({type:c});if(s.modifier){if(!((h=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&h.call(d,s.modifier)))throw new F7({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(TE.has(s.modifier)&&!oz(c,!!s.array))throw new z7({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const u={type:`${c}${s.array??""}`,...i,...o,...l};return Nb.set(n,u),u}function di(t,e=[],n="",r=0){const s=t.trim().length;for(let i=0;i<s;i++){const o=t[i],a=t.slice(i+1);switch(o){case",":return r===0?di(a,[...e,n.trim()]):di(a,e,`${n}${o}`,r);case"(":return di(a,e,`${n}${o}`,r+1);case")":return di(a,e,`${n}${o}`,r-1);default:return di(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new G7({current:n,depth:r});return e.push(n.trim()),e}function ND(t){return t==="address"||t==="bool"||t==="function"||t==="string"||vD.test(t)||bD.test(t)}const sz=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function iz(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||vD.test(t)||bD.test(t)||sz.test(t)}function oz(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function az(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!AD(a))continue;const c=N7(a);if(!c)throw new vh({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let h=0;h<d;h++){const p=l[h].trim();if(!p)continue;const g=Hl(p,{type:"struct"});u.push(g)}if(!u.length)throw new H7({signature:a});e[c.name]=u}const r={},s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=PD(c,e)}return r}const cz=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function PD(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const o=t[i];if(_D.test(o.type))r.push(o);else{const c=Jo(cz,o.type);if(!(c!=null&&c.type))throw new W7({abiParameter:o});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new V7({type:u});r.push({...o,type:`tuple${l??""}`,components:PD(e[u]??[],e,new Set([...n,u]))})}else if(ND(u))r.push(o);else throw new U7({type:u})}}return r}function kD(t){const e=az(t),n=[],r=t.length;for(let s=0;s<r;s++){const i=t[s];AD(i)||n.push(Y7(i,e))}return n}function lz(t){let e=!0,n="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=a,n+=a}}if(!i)throw new ee("Unable to normalize signature.");return s}const uz=t=>{const e=typeof t=="string"?t:E7(t);return lz(e)};function OD(t){return b7(uz(t))}const FS=OD,zS=t=>Lw(OD(t),0,4);function WS(t){const{abi:e,args:n=[],name:r}=t,s=Wo(r,{strict:!1}),i=e.filter(a=>s?a.type==="function"?zS(a)===r:a.type==="event"?FS(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in a&&a.inputs[u];return d?NE(l,d):!1})){if(o&&"inputs"in o&&o.inputs){const l=RD(a.inputs,o.inputs,n);if(l)throw new pF({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||i[0]}function NE(t,e){const n=typeof t,r=e.type;switch(r){case"address":return _i(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>NE(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>NE(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function RD(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return RD(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?_i(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?_i(n[r],{strict:!1}):!1)return o}}const Pb="/docs/contract/decodeFunctionResult";function qS(t){const{abi:e,args:n,functionName:r,data:s}=t;let i=e[0];if(r){const a=WS({abi:e,args:n,name:r});if(!a)throw new Dw(r,{docsPath:Pb});i=a}if(i.type!=="function")throw new Dw(void 0,{docsPath:Pb});if(!i.outputs)throw new fF(i.name,{docsPath:Pb});const o=J0(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const nT="/docs/contract/encodeFunctionData";function dz(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const i=WS({abi:e,args:n,name:r});if(!i)throw new Dw(r,{docsPath:nT});s=i}if(s.type!=="function")throw new Dw(void 0,{docsPath:nT});return{abi:[s],functionName:zS(Sc(s))}}function Zg(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:dz(t)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?Y$(s.inputs,e??[]):void 0;return q0([i,o??"0x"])}function HS({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new gE({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new gE({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const $D={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},hz={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},fz={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function pz(t){const{abi:e,data:n}=t,r=Lw(n,0,4);if(r==="0x")throw new W0;const i=[...e||[],hz,fz].find(o=>o.type==="error"&&r===zS(Sc(o)));if(!i)throw new O$(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?J0(i.inputs,Lw(n,4)):void 0,errorName:i.name}}function DD({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?vr(e[i]):e[i]}`).join(", ")})`}class gz extends ee{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h,stateOverride:f}){var y;const p=n?qn(n):void 0;let g=Kg({from:p==null?void 0:p.address,to:d,value:typeof h<"u"&&`${$S(h)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Qr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Qr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Qr(l)} gwei`,nonce:u});f&&(g+=`
${z9(f)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",g].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class jD extends ee{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=WS({abi:n,args:r,name:o}),l=c?DD({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?Sc(c,{includeName:!0}):void 0,d=Kg({address:s&&I9(s),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=o,this.sender=a}}class PE extends ee{constructor({abi:e,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=pz({abi:e,data:n});const{abiItem:u,errorName:d,args:h}=o;if(d==="Error")c=h[0];else if(d==="Panic"){const[f]=h;c=$D[f]}else{const f=u?Sc(u,{includeName:!0}):void 0,p=u&&h?DD({abiItem:u,args:h,includeFunctionName:!1,includeName:!1}):void 0;a=[f?`Error: ${f}`:"",p&&p!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(u){i=u}else s&&(c=s);let l;i instanceof O$&&(l=i.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}}class mz extends ee{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class yz extends ee{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class VS extends ee{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function wz(t,e){var r,s,i,o,a,c;if(!(t instanceof ee))return!1;const n=t.walk(l=>l instanceof PE);return n instanceof PE?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((i=n.data)==null?void 0:i.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||n.reason===$D[50]):!1}function vz(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Wo(e)?e:null}function bz(t){return`[${t.slice(2)}]`}function _z(t){const e=new Uint8Array(32).fill(0);return t?vz(t)||yh(xd(t)):Er(e)}function Ez(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(xd(e).byteLength+2);let r=0;const s=e.split(".");for(let i=0;i<s.length;i++){let o=xd(s[i]);o.byteLength>255&&(o=xd(bz(_z(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const Cz=3;function Fw(t,{abi:e,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=t instanceof VS?t:t instanceof ee?t.walk(p=>"data"in p)||t.walk():{},{code:c,data:l,details:u,message:d,shortMessage:h}=a,f=t instanceof W0?new mz({functionName:i}):[Cz,ql.code].includes(c)&&(l||u||d||h)?new PE({abi:e,data:typeof l=="object"?l.data:l,functionName:i,message:a instanceof jS?u:h??d}):t;return new jD(f,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}const xz="0.1.1";function Sz(){return xz}let UD=class kE extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof kE){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof kE&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Sz()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return LD(this,e)}};function LD(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?LD(t.cause,e):e?null:t}function Az(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new Nz({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function xo(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof t=="bigint"?"n":"";throw new Tz({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Iz(c,r):c}function Iz(t,e){return Az(t,{dir:"left",size:e})}let Tz=class extends UD{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},Nz=class extends UD{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function Pz(t){return{address:t.address,amount:xo(t.amount),index:xo(t.index),validatorIndex:xo(t.validatorIndex)}}function kz(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:xo(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:xo(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:xo(t.gasLimit)},...typeof t.number=="bigint"&&{number:xo(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:xo(t.prevRandao)},...typeof t.time=="bigint"&&{time:xo(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(Pz)}}}const Oz="0x82ad56cb",Rz="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",$z="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";function Dz(t,{docsPath:e,...n}){const r=(()=>{const s=US(t,n);return s instanceof G0?t:s})();return new gz(r,{docsPath:e,...n})}function GS(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const kb=new Map;function MD({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const u=c();o();const d=u.map(({args:h})=>h);d.length!==0&&t(d).then(h=>{s&&Array.isArray(h)&&h.sort(s);for(let f=0;f<u.length;f++){const{resolve:p}=u[f];p==null||p([h[f],h])}}).catch(h=>{for(let f=0;f<u.length;f++){const{reject:p}=u[f];p==null||p(h)}})},o=()=>kb.delete(e),a=()=>c().map(({args:u})=>u),c=()=>kb.get(e)||[],l=u=>kb.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:d,resolve:h,reject:f}=GS();return(n==null?void 0:n([...a(),u]))&&i(),c().length>0?(l({args:u,resolve:h,reject:f}),d):(l({args:u,resolve:h,reject:f}),setTimeout(i,r),d)}}}async function BD(t,e){var z,M,I,A;const{account:n=t.account,authorizationList:r,batch:s=!!((z=t.batch)!=null&&z.multicall),blockNumber:i,blockTag:o="latest",accessList:a,blobs:c,blockOverrides:l,code:u,data:d,factory:h,factoryData:f,gas:p,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:v,to:E,value:_,stateOverride:x,...S}=e,T=n?qn(n):void 0;if(u&&(h||f))throw new ee("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&E)throw new ee("Cannot provide both `code` & `to` as parameters.");const C=u&&d,O=h&&f&&E&&d,R=C||O,B=C?Lz({code:u,data:d}):O?Mz({data:d,factory:h,factoryData:f,to:E}):d;try{Yg(e);const P=(typeof i=="bigint"?$e(i):void 0)||o,k=l?kz(l):void 0,U=lD(x),F=(A=(I=(M=t.chain)==null?void 0:M.formatters)==null?void 0:I.transactionRequest)==null?void 0:A.format,J=(F||K0)({...LS(S,{format:F}),from:T==null?void 0:T.address,accessList:a,authorizationList:r,blobs:c,data:B,gas:p,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:v,to:R?void 0:E,value:_});if(s&&jz({request:J})&&!U&&!k)try{return await Uz(t,{...J,blockNumber:i,blockTag:o})}catch(se){if(!(se instanceof eD)&&!(se instanceof gE))throw se}const K=(()=>{const se=[J,P];return U&&k?[...se,U,k]:U?[...se,U]:k?[...se,{},k]:se})(),Z=await t.request({method:"eth_call",params:K});return Z==="0x"?{data:void 0}:{data:Z}}catch(j){const P=Bz(j),{offchainLookup:k,offchainLookupSignature:U}=await tn(async()=>{const{offchainLookup:F,offchainLookupSignature:V}=await import("./ccip-C6Vme9IE.js");return{offchainLookup:F,offchainLookupSignature:V}},[]);if(t.ccipRead!==!1&&(P==null?void 0:P.slice(0,10))===U&&E)return{data:await k(t,{data:P,to:E})};throw R&&(P==null?void 0:P.slice(0,10))==="0x101bb98d"?new yz({factory:h}):Dz(j,{...e,account:T,chain:t.chain})}}function jz({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(Oz)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Uz(t,e){var g;const{batchSize:n=1024,wait:r=0}=typeof((g=t.batch)==null?void 0:g.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:i="latest",data:o,multicallAddress:a,to:c}=e;let l=a;if(!l){if(!t.chain)throw new eD;l=HS({blockNumber:s,chain:t.chain,contract:"multicall3"})}const d=(typeof s=="bigint"?$e(s):void 0)||i,{schedule:h}=MD({id:`${t.uid}.${d}`,wait:r,shouldSplitBatch(y){return y.reduce((b,{data:v})=>b+(v.length-2),0)>n*2},fn:async y=>{const w=y.map(E=>({allowFailure:!0,callData:E.data,target:E.to})),b=Zg({abi:xE,args:[w],functionName:"aggregate3"}),v=await t.request({method:"eth_call",params:[{data:b,to:l},d]});return qS({abi:xE,args:[w],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:f,success:p}]=await h({data:o,to:c});if(!p)throw new VS({data:f});return f==="0x"?{data:void 0}:{data:f}}function Lz(t){const{code:e,data:n}=t;return OS({abi:kD(["constructor(bytes, bytes)"]),bytecode:Rz,args:[e,n]})}function Mz(t){const{data:e,factory:n,factoryData:r,to:s}=t;return OS({abi:kD(["constructor(address, bytes, address, bytes)"]),bytecode:$z,args:[s,e,n,r]})}function Bz(t){var n;if(!(t instanceof ee))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function KS(t,e){const{abi:n,address:r,args:s,functionName:i,...o}=e,a=Zg({abi:n,args:s,functionName:i});try{const{data:c}=await Ct(t,BD,"call")({...o,data:a,to:r});return qS({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw Fw(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function Fz(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:s,strict:i,universalResolverAddress:o}){let a=o;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=HS({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const c=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const l={address:a,abi:c7,functionName:"reverse",args:[zl(Ez(c))],blockNumber:n,blockTag:r},u=Ct(t,KS,"readContract"),[d,h]=s?await u({...l,args:[...l.args,s]}):await u(l);return e.toLowerCase()!==h.toLowerCase()?null:d}catch(l){if(i)throw l;if(wz(l))return null;throw l}}function zz(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&e===i&&(n[o]=c.request)})),i=>n[i]||t.request}async function Wz(t){const e=zz(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}const qz=new Map,Hz=new Map;function Vz(t){const e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=e(t,qz),r=e(t,Hz);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Gz(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Vz(e),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const Kz=t=>`blockNumber.${t}`;async function Yz(t,{cacheTime:e=t.cacheTime}={}){const n=await Gz(()=>t.request({method:"eth_blockNumber"}),{cacheKey:Kz(t.uid),cacheTime:e});return BigInt(n)}function FD(t,e){if(!_i(t,{strict:!1}))throw new Ic({address:t});if(!_i(e,{strict:!1}))throw new Ic({address:e});return t.toLowerCase()===e.toLowerCase()}const rT="/docs/contract/decodeEventLog";function Jz(t){const{abi:e,data:n,strict:r,topics:s}=t,i=r??!0,[o,...a]=s;if(!o)throw new hF({docsPath:rT});const c=e.find(g=>g.type==="event"&&o===FS(Sc(g)));if(!(c&&"name"in c)||c.type!=="event")throw new R$(o,{docsPath:rT});const{name:l,inputs:u}=c,d=u==null?void 0:u.some(g=>!("name"in g&&g.name)),h=d?[]:{},f=u.map((g,y)=>[g,y]).filter(([g])=>"indexed"in g&&g.indexed);for(let g=0;g<f.length;g++){const[y,w]=f[g],b=a[g];if(!b)throw new $$({abiItem:c,param:y});h[d?w:y.name||w]=Qz({param:y,value:b})}const p=u.filter(g=>!("indexed"in g&&g.indexed));if(p.length>0){if(n&&n!=="0x")try{const g=J0(p,n);if(g)if(d)for(let y=0;y<u.length;y++)h[y]=h[y]??g.shift();else for(let y=0;y<p.length;y++)h[p[y].name]=g[y]}catch(g){if(i)throw g instanceof k$||g instanceof J$?new fE({abiItem:c,data:n,params:p,size:sn(n)}):g}else if(i)throw new fE({abiItem:c,data:"0x",params:p,size:0})}return{eventName:l,args:Object.values(h).length>0?h:void 0}}function Qz({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(J0([t],e)||[])[0]}function Zz(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const c=e.find(u=>u.type==="event"&&o.topics[0]===FS(u));if(!c)return null;const l=Jz({...o,abi:[c],strict:s});return i&&!i.includes(l.eventName)||!Xz({args:l.args,inputs:c.inputs,matchArgs:n})?null:{...l,...o}}catch(c){let l,u;if(c instanceof R$)return null;if(c instanceof fE||c instanceof $$){if(s)return null;l=c.abiItem.name,u=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...o,args:u?[]:{},eventName:l}}}).filter(Boolean)}function Xz(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(i,o,a){try{return i.type==="address"?FD(o,a):i.type==="string"||i.type==="bytes"?yh(B0(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(l=>s(a,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===i);return a?(Array.isArray(o)?o:[o]).some(l=>s(a,l,e[i])):!1}):!1}function zD(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function eW(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>zD(i));return!("abi"in e)||!e.abi?s:Zz({abi:e.abi,logs:s,strict:n})}async function WD(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){var u,d,h;const o=r||"latest",a=n!==void 0?$e(n):void 0;let c=null;if(s?c=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,$e(i)]},{dedupe:!0}):c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,$e(i)]},{dedupe:!!a}),!c)throw new nD({blockHash:e,blockNumber:n,blockTag:o,hash:s,index:i});return(((h=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.transaction)==null?void 0:h.format)||aD)(c)}const qD={"0x0":"reverted","0x1":"success"};function tW(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>zD(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Ho(t.transactionIndex):null,status:t.status?qD[t.status]:null,type:t.type?oD[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}async function sT(t,{hash:e}){var s,i,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new rD({hash:e});return(((o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||tW)(n)}async function nW(t,e){var w;const{account:n,allowFailure:r=!0,batchSize:s,blockNumber:i,blockTag:o,multicallAddress:a,stateOverride:c}=e,l=e.contracts,u=s??(typeof((w=t.batch)==null?void 0:w.multicall)=="object"&&t.batch.multicall.batchSize||1024);let d=a;if(!d){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");d=HS({blockNumber:i,chain:t.chain,contract:"multicall3"})}const h=[[]];let f=0,p=0;for(let b=0;b<l.length;b++){const{abi:v,address:E,args:_,functionName:x}=l[b];try{const S=Zg({abi:v,args:_,functionName:x});p+=(S.length-2)/2,u>0&&p>u&&h[f].length>0&&(f++,p=(S.length-2)/2,h[f]=[]),h[f]=[...h[f],{allowFailure:!0,callData:S,target:E}]}catch(S){const T=Fw(S,{abi:v,address:E,args:_,docsPath:"/docs/contract/multicall",functionName:x,sender:n});if(!r)throw T;h[f]=[...h[f],{allowFailure:!0,callData:"0x",target:E}]}}const g=await Promise.allSettled(h.map(b=>Ct(t,KS,"readContract")({abi:xE,account:n,address:d,args:[b],blockNumber:i,blockTag:o,functionName:"aggregate3",stateOverride:c}))),y=[];for(let b=0;b<g.length;b++){const v=g[b];if(v.status==="rejected"){if(!r)throw v.reason;for(let _=0;_<h[b].length;_++)y.push({status:"failure",error:v.reason,result:void 0});continue}const E=v.value;for(let _=0;_<E.length;_++){const{returnData:x,success:S}=E[_],{callData:T}=h[b][_],{abi:C,address:O,functionName:R,args:B}=l[y.length];try{if(T==="0x")throw new W0;if(!S)throw new VS({data:x});const z=qS({abi:C,args:B,data:x,functionName:R});y.push(r?{result:z,status:"success"}:z)}catch(z){const M=Fw(z,{abi:C,address:O,args:B,docsPath:"/docs/contract/multicall",functionName:R});if(!r)throw M;y.push({error:M,result:void 0,status:"failure"})}}}if(y.length!==l.length)throw new ee("multicall results mismatch");return y}const zm=new H0(8192);function rW(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(zm.get(n))return zm.get(n);const r=t().finally(()=>zm.delete(n));return zm.set(n,r),r}async function zw(t){return new Promise(e=>setTimeout(e,t))}function Ww(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await zw(u),o({count:a+1})};try{const l=await t();s(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});i(l)}};o()})}function sW(t,e={}){return async(n,r={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((d=i==null?void 0:i.exclude)!=null&&d.includes(l))throw new fl(new Error("method not supported"),{method:l});if(i!=null&&i.include&&!i.include.includes(l))throw new fl(new Error("method not supported"),{method:l});const u=s?F0(`${c}.${vr(n)}`):void 0;return rW(()=>Ww(async()=>{try{return await t(n)}catch(h){const f=h;switch(f.code){case Dp.code:throw new Dp(f);case jp.code:throw new jp(f);case Up.code:throw new Up(f,{method:n.method});case Lp.code:throw new Lp(f);case ql.code:throw new ql(f);case Mp.code:throw new Mp(f);case Bp.code:throw new Bp(f);case pc.code:throw new pc(f);case Qd.code:throw new Qd(f);case fl.code:throw new fl(f,{method:n.method});case Zd.code:throw new Zd(f);case Fp.code:throw new Fp(f);case gn.code:throw new gn(f);case zp.code:throw new zp(f);case Wp.code:throw new Wp(f);case qp.code:throw new qp(f);case Hp.code:throw new Hp(f);case eo.code:throw new eo(f);case Xd.code:throw new Xd(f);case Vp.code:throw new Vp(f);case Gp.code:throw new Gp(f);case Kp.code:throw new Kp(f);case Yp.code:throw new Yp(f);case Jp.code:throw new Jp(f);case eh.code:throw new eh(f);case 5e3:throw new gn(f);default:throw h instanceof ee?h:new N9(f)}}},{delay:({count:h,error:f})=>{var p;if(f&&f instanceof Kf){const g=(p=f==null?void 0:f.headers)==null?void 0:p.get("Retry-After");if(g!=null&&g.match(/\d/))return Number.parseInt(g)*1e3}return~~(1<<h)*o},retryCount:a,shouldRetry:({error:h})=>iW(h)}),{enabled:s,id:u})}}function iW(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Zd.code||t.code===ql.code:t instanceof Kf&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function oW(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function HD(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(e)},n)),s(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function aW(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const iT=aW();function cW(t,e={}){return{async request(n){var d;const{body:r,onRequest:s=e.onRequest,onResponse:i=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const h=await HD(async({signal:p})=>{const g={...a,body:Array.isArray(r)?vr(r.map(v=>({jsonrpc:"2.0",id:v.id??iT.take(),...v}))):vr({jsonrpc:"2.0",id:r.id??iT.take(),...r}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(o>0?p:null)},y=new Request(t,g),w=await(s==null?void 0:s(y,g))??{...g,url:t};return await fetch(w.url??t,w)},{errorInstance:new G2({body:r,url:t}),timeout:o,signal:!0});i&&await i(h);let f;if((d=h.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))f=await h.json();else{f=await h.text();try{f=JSON.parse(f||"{}")}catch(p){if(h.ok)throw p;f={error:f}}}if(!h.ok)throw new Kf({body:r,details:vr(f.error)||h.statusText,headers:h.headers,status:h.status,url:t});return f}catch(h){throw h instanceof Kf||h instanceof G2?h:new Kf({body:r,cause:h,url:t})}}}}class lW extends ee{constructor({domain:e}){super(`Invalid domain "${vr(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class uW extends ee{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class dW extends ee{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function hW(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(c,l)=>{const u={...l};for(const d of c){const{name:h,type:f}=d;f==="address"&&(u[h]=u[h].toLowerCase())}return u},o=s.EIP712Domain?e?i(s.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return i(s[r],n)})();return vr({domain:o,message:a,primaryType:r,types:s})}function fW(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(o,a)=>{for(const c of o){const{name:l,type:u}=c,d=a[l],h=u.match(K$);if(h&&(typeof d=="number"||typeof d=="bigint")){const[g,y,w]=h;$e(d,{signed:y==="int",size:Number.parseInt(w)/8})}if(u==="address"&&typeof d=="string"&&!_i(d))throw new Ic({address:d});const f=u.match(ZF);if(f){const[g,y]=f;if(y&&sn(d)!==Number.parseInt(y))throw new gF({expectedSize:Number.parseInt(y),givenSize:sn(d)})}const p=s[u];p&&(gW(u),i(p,d))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new lW({domain:e});i(s.EIP712Domain,e)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new uW({primaryType:r,types:s})}function pW({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function gW(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new dW({type:t})}class mW extends ee{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function yW(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new mW({value:t});let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[i,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}const Ob=new Map,oT=new Map;let wW=0;function Xp(t,e,n){const r=++wW,s=()=>Ob.get(t)||[],i=()=>{const u=s();Ob.set(t,u.filter(d=>d.id!==r))},o=()=>{const u=s();if(!u.some(h=>h.id===r))return;const d=oT.get(t);if(u.length===1&&d){const h=d();h instanceof Promise&&h.catch(()=>{})}i()},a=s();if(Ob.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const u in e)c[u]=(...d)=>{var f,p;const h=s();if(h.length!==0)for(const g of h)(p=(f=g.fns)[u])==null||p.call(f,...d)};const l=n(c);return typeof l=="function"&&oT.set(t,l),o}function YS(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;e&&(a=await t({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await zw(c);const l=async()=>{s&&(await t({unpoll:i}),await zw(r),l())};l()})(),i}function vW(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=t.pollingInterval}){const a=typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=vr(["watchBlockNumber",t.uid,e,n,o]);return Xp(d,{onBlockNumber:r,onError:s},h=>YS(async()=>{var f;try{const p=await Ct(t,Yz,"getBlockNumber")({cacheTime:0});if(c){if(p===c)return;if(p-c>1&&n)for(let g=c+1n;g<p;g++)h.onBlockNumber(g,c),c=g}(!c||p>c)&&(h.onBlockNumber(p,c),c=p)}catch(p){(f=h.onError)==null||f.call(h,p)}},{emitOnBegin:e,interval:o}))})():(()=>{const d=vr(["watchBlockNumber",t.uid,e,n]);return Xp(d,{onBlockNumber:r,onError:s},h=>{let f=!0,p=()=>f=!1;return(async()=>{try{const g=(()=>{if(t.transport.type==="fallback"){const w=t.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return w?w.value:t.transport}return t.transport})(),{unsubscribe:y}=await g.subscribe({params:["newHeads"],onData(w){var v;if(!f)return;const b=qo((v=w.result)==null?void 0:v.number);h.onBlockNumber(b,c),c=b},onError(w){var b;(b=h.onError)==null||b.call(h,w)}});p=y,f||p()}catch(g){s==null||s(g)}})(),()=>p()})})()}async function bW(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function _W(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const l=vr(["watchPendingTransactions",t.uid,e,i]);return Xp(l,{onTransactions:r,onError:n},u=>{let d;const h=YS(async()=>{var f;try{if(!d)try{d=await Ct(t,Wz,"createPendingTransactionFilter")({});return}catch(g){throw h(),g}const p=await Ct(t,eW,"getFilterChanges")({filter:d});if(p.length===0)return;if(e)u.onTransactions(p);else for(const g of p)u.onTransactions([g])}catch(p){(f=u.onError)==null||f.call(u,p)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await Ct(t,bW,"uninstallFilter")({filter:d}),h()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!l)return;const f=h.result;r([f])},onError(h){n==null||n(h)}});u=d,l||u()}catch(d){n==null||n(d)}})(),()=>u()})()}async function EW(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>Gg(r))}async function CW(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function xW(t,e={}){const{account:n=t.account,chainId:r}=e,s=n?qn(n):void 0,i=r?[s==null?void 0:s.address,[$e(r)]]:[s==null?void 0:s.address],o=await t.request({method:"wallet_getCapabilities",params:i}),a={};for(const[c,l]of Object.entries(o)){a[Number(c)]={};for(let[u,d]of Object.entries(l))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(c)][u]=d}return typeof r=="number"?a[r]:a}const VD="0x5792579257925792579257925792579257925792579257925792579257925792",GD=$e(0,{size:32});async function SW(t,e){const{account:n=t.account,capabilities:r,chain:s=t.chain,experimental_fallback:i,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:l="2.0.0"}=e,u=n?qn(n):null,d=e.calls.map(h=>{const f=h,p=f.abi?Zg({abi:f.abi,functionName:f.functionName,args:f.args}):f.data;return{data:f.dataSuffix&&p?Ac([p,f.dataSuffix]):p,to:f.to,value:f.value?$e(f.value):void 0}});try{const h=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:$e(s.id),from:u==null?void 0:u.address,id:c,version:l}]},{retryCount:0});return typeof h=="string"?{id:h}:h}catch(h){const f=h;if(i&&(f.name==="MethodNotFoundRpcError"||f.name==="MethodNotSupportedRpcError"||f.name==="UnknownRpcError"||f.details.toLowerCase().includes("does not exist / is not available")||f.details.toLowerCase().includes("missing or invalid. request()")||f.details.toLowerCase().includes("did not match any variant of untagged enum")||f.details.toLowerCase().includes("account upgraded to unsupported contract")||f.details.toLowerCase().includes("eip-7702 not supported")||f.details.toLowerCase().includes("unsupported wc_ method"))){if(r&&Object.values(r).some(b=>!b.optional)){const b="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Xd(new ee(b,{details:b}))}if(a&&d.length>1){const w="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new eh(new ee(w,{details:w}))}const p=[];for(const w of d){const b=Qg(t,{account:u,chain:s,data:w.data,to:w.to,value:w.value?qo(w.value):void 0});p.push(b),o>0&&await new Promise(v=>setTimeout(v,o))}const g=await Promise.allSettled(p);if(g.every(w=>w.status==="rejected"))throw g[0].reason;const y=g.map(w=>w.status==="fulfilled"?w.value:GD);return{id:Ac([...y,$e(s.id,{size:32}),VD])}}throw sD(h,{...e,account:u,chain:e.chain})}}async function KD(t,e){async function n(u){if(u.endsWith(VD.slice(2))){const h=mh(pE(u,-64,-32)),f=pE(u,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(f.map(y=>GD.slice(2)!==y?t.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),g=p.some(y=>y===null)?100:p.every(y=>(y==null?void 0:y.status)==="0x1")?200:p.every(y=>(y==null?void 0:y.status)==="0x0")?500:600;return{atomic:!1,chainId:Ho(h),receipts:p.filter(Boolean),status:g,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:s,receipts:i,version:o="2.0.0",...a}=await n(e.id),[c,l]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:s?Ho(s):void 0,receipts:(i==null?void 0:i.map(u=>({...u,blockNumber:qo(u.blockNumber),gasUsed:qo(u.gasUsed),status:qD[u.status]})))??[],statusCode:l,status:c,version:o}}async function AW(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function IW(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:s=({statusCode:h})=>h>=200,timeout:i=6e4}=e,o=vr(["waitForCallsStatus",t.uid,n]),{promise:a,resolve:c,reject:l}=GS();let u;const d=Xp(o,{resolve:c,reject:l},h=>{const f=YS(async()=>{const p=g=>{clearTimeout(u),f(),g(),d()};try{const g=await KD(t,{id:n});if(!s(g))return;p(()=>h.resolve(g))}catch(g){p(()=>h.reject(g))}},{interval:r,emitOnBegin:!0});return f});return u=i?setTimeout(()=>{d(),clearTimeout(u),l(new TW({id:n}))},i):void 0,await a}class TW extends ee{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function NW(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:s=t.pollingInterval,retryCount:i=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:a=18e4}){const c=vr(["waitForTransactionReceipt",t.uid,n]);let l,u,d,h=!1,f,p;const{promise:g,resolve:y,reject:w}=GS(),b=a?setTimeout(()=>{p(),f(),w(new A9({hash:n}))},a):void 0;return f=Xp(c,{onReplaced:r,resolve:y,reject:w},v=>{p=Ct(t,vW,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(E){const _=S=>{clearTimeout(b),p(),S(),f()};let x=E;if(!h)try{if(d){if(e>1&&(!d.blockNumber||x-d.blockNumber+1n<e))return;_(()=>v.resolve(d));return}if(l||(h=!0,await Ww(async()=>{l=await Ct(t,WD,"getTransaction")({hash:n}),l.blockNumber&&(x=l.blockNumber)},{delay:o,retryCount:i}),h=!1),d=await Ct(t,sT,"getTransactionReceipt")({hash:n}),e>1&&(!d.blockNumber||x-d.blockNumber+1n<e))return;_(()=>v.resolve(d))}catch(S){if(S instanceof nD||S instanceof rD){if(!l){h=!1;return}try{u=l,h=!0;const T=await Ww(()=>Ct(t,Qp,"getBlock")({blockNumber:x,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:R})=>R instanceof iD});h=!1;const C=T.transactions.find(({from:R,nonce:B})=>R===u.from&&B===u.nonce);if(!C||(d=await Ct(t,sT,"getTransactionReceipt")({hash:C.hash}),e>1&&(!d.blockNumber||x-d.blockNumber+1n<e)))return;let O="replaced";C.to===u.to&&C.value===u.value&&C.input===u.input?O="repriced":C.from===C.to&&C.value===0n&&(O="cancelled"),_(()=>{var R;(R=v.onReplaced)==null||R.call(v,{reason:O,replacedTransaction:u,transaction:C,transactionReceipt:d}),v.resolve(d)})}catch(T){_(()=>v.reject(T))}}else _(()=>v.reject(S))}}})}),g}async function PW(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Xa(n))}async function kW(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function YD(t,e){var c;const{account:n=t.account,chainId:r,nonce:s}=e;if(!n)throw new lu({docsPath:"/docs/eip7702/prepareAuthorization"});const i=qn(n),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:qn(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=t.chain)==null?void 0:c.id)??await Ct(t,Jg,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await Ct(t,hD,"getTransactionCount")({address:i.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&FD(o.address,i.address))&&(a.nonce+=1)),a}async function OW(t,e){const{account:n=t.account}=e;if(!n)throw new lu({docsPath:"/docs/eip7702/signAuthorization"});const r=qn(n);if(!r.signAuthorization)throw new Vy({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await YD(t,e);return r.signAuthorization(s)}async function RW(t,e){var l,u,d,h;const{account:n=t.account,chain:r=t.chain,...s}=e;if(!n)throw new lu({docsPath:"/docs/actions/wallet/signTransaction"});const i=qn(n);Yg({account:i,...e});const o=await Ct(t,Jg,"getChainId")({});r!==null&&tD({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((l=t.chain)==null?void 0:l.formatters),c=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||K0;return i.signTransaction?i.signTransaction({...s,chainId:o},{serializer:(h=(d=t.chain)==null?void 0:d.serializers)==null?void 0:h.transaction}):await t.request({method:"eth_signTransaction",params:[{...c(s),chainId:$e(o),from:i.address}]},{retryCount:0})}async function JD(t,{account:e=t.account,message:n}){if(!e)throw new lu({docsPath:"/docs/actions/wallet/signMessage"});const r=qn(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?F0(n):n.raw instanceof Uint8Array?zl(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function $W(t,e){const{account:n=t.account,domain:r,message:s,primaryType:i}=e;if(!n)throw new lu({docsPath:"/docs/actions/wallet/signTypedData"});const o=qn(n),a={EIP712Domain:pW({domain:r}),...e.types};if(fW({domain:r,message:s,primaryType:i,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:i,types:a});const c=hW({domain:r,message:s,primaryType:i,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function DW(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:$e(e)}]},{retryCount:0})}async function jW(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function QD(t,e){const{abi:n,account:r=t.account,address:s,args:i,dataSuffix:o,functionName:a,...c}=e;if(typeof r>"u")throw new lu({docsPath:"/docs/contract/writeContract"});const l=r?qn(r):null,u=Zg({abi:n,args:i,functionName:a});try{return await Ct(t,Qg,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:s,account:l,...c})}catch(d){throw Fw(d,{abi:n,address:s,args:i,docsPath:"/docs/contract/writeContract",functionName:a,sender:l==null?void 0:l.address})}}function ps(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const Gy="2.17.3",UW=()=>`@wagmi/core@${Gy}`;var ZD=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},qw,XD;let Qo=class OE extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return UW()}constructor(e,n={}){var i;super(),qw.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof OE?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof OE&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return ZD(this,qw,"m",XD).call(this,this,e)}};qw=new WeakSet,XD=function t(e,n){return n!=null&&n(e)?e:e.cause?ZD(this,qw,"m",t).call(this,e.cause,n):e};class eg extends Qo{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class LW extends Qo{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class MW extends Qo{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class BW extends Qo{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class FW extends Qo{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class zW extends Qo{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function Ky(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new LW;try{t.setState(c=>({...c,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...i}=e,o=await n.connect(i),a=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(c=>({...c,connections:new Map(c.connections).set(n.uid,{accounts:a,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:a,chainId:o.chainId}}catch(s){throw t.setState(i=>({...i,status:i.current?"connected":"disconnected"})),s}}const RE=256;let Wm=RE,qm;function e5(t=11){if(!qm||Wm+t>RE*2){qm="",Wm=0;for(let e=0;e<RE;e++)qm+=(256+Math.random()*256|0).toString(16).substring(1)}return qm.substring(Wm,Wm+++t)}function t5(t){const{batch:e,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=t,a=(n==null?void 0:n.blockTime)??12e3,c=Math.min(Math.max(Math.floor(a/2),500),4e3),l=t.pollingInterval??c,u=t.cacheTime??l,d=t.account?qn(t.account):void 0,{config:h,request:f,value:p}=t.transport({chain:n,pollingInterval:l}),g={...h,...p},y={account:d,batch:e,cacheTime:u,ccipRead:r,chain:n,key:s,name:i,pollingInterval:l,request:f,transport:g,type:o,uid:e5()};function w(b){return v=>{const E=v(b);for(const x in y)delete E[x];const _={...b,...E};return Object.assign(_,{extend:w(_)})}}return Object.assign(y,{extend:w(y)})}function JS({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const l=e5();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:sW(r,{methods:e,retryCount:s,retryDelay:i,uid:l}),value:c}}function WW(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=e;return({retryCount:o})=>JS({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:i,type:"custom"})}function aT(t,e={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=qW,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:l=4e3,timeout:u,...d})=>{let h=t,f=()=>{};const p=JS({key:n,name:r,async request({method:g,params:y}){let w;const b=async(v=0)=>{const E=h[v]({...d,chain:c,retryCount:0,timeout:u});try{const _=await E.request({method:g,params:y});return f({method:g,params:y,response:_,transport:E,status:"success"}),_}catch(_){if(f({error:_,method:g,params:y,transport:E,status:"error"}),i(_)||v===h.length-1||(w??(w=h.slice(v+1).some(x=>{const{include:S,exclude:T}=x({chain:c}).config.methods||{};return S?S.includes(g):T?!T.includes(g):!0})),!w))throw _;return b(v+1)}};return b()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:g=>f=g,transports:h.map(g=>g({chain:c,retryCount:0}))});if(s){const g=typeof s=="object"?s:{};HW({chain:c,interval:g.interval??l,onTransports:y=>h=y,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:h,weights:g.weights})}return p}}function qW(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Qd.code||t.code===gn.code||hl.nodeMessage.test(t.message)||t.code===5e3))}function HW({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],d=async()=>{const h=await Promise.all(o.map(async g=>{const y=g({chain:t,retryCount:0,timeout:i}),w=Date.now();let b,v;try{await(r?r({transport:y}):y.request({method:"net_listening"})),v=1}catch{v=0}finally{b=Date.now()}return{latency:b-w,success:v}}));u.push(h),u.length>s&&u.shift();const f=Math.max(...u.map(g=>Math.max(...g.map(({latency:y})=>y)))),p=o.map((g,y)=>{const w=u.map(x=>x[y].latency),v=1-w.reduce((x,S)=>x+S,0)/w.length/f,E=u.map(x=>x[y].success),_=E.reduce((x,S)=>x+S,0)/E.length;return _===0?[0,y]:[l*v+c*_,y]}).sort((g,y)=>y[0]-g[0]);n(p.map(([,g])=>o[g])),await zw(e),d()};d()}class VW extends ee{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Hm(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:d,retryCount:h,timeout:f})=>{const{batchSize:p=1e3,wait:g=0}=typeof n=="object"?n:{},y=e.retryCount??h,w=f??e.timeout??1e4,b=t||(d==null?void 0:d.rpcUrls.default.http[0]);if(!b)throw new VW;const v=cW(b,{fetchOptions:r,onRequest:a,onResponse:c,timeout:w});return JS({key:s,methods:i,name:o,async request({method:E,params:_}){const x={method:E,params:_},{schedule:S}=MD({id:b,wait:g,shouldSplitBatch(R){return R.length>p},fn:R=>v.request({body:R}),sort:(R,B)=>R.id-B.id}),T=async R=>n?S(R):[await v.request({body:R})],[{error:C,result:O}]=await T(x);if(u)return{error:C,result:O};if(C)throw new jS({body:x,error:C,url:b});return O},retryCount:y,retryDelay:l,timeout:w,type:"http"},{fetchOptions:r,url:b})}}function GW(t){return{addChain:e=>oF(t,e),deployContract:e=>o7(t,e),getAddresses:()=>EW(t),getCallsStatus:e=>KD(t,e),getCapabilities:e=>xW(t,e),getChainId:()=>Jg(t),getPermissions:()=>CW(t),prepareAuthorization:e=>YD(t,e),prepareTransactionRequest:e=>Y0(t,e),requestAddresses:()=>PW(t),requestPermissions:e=>kW(t,e),sendCalls:e=>SW(t,e),sendRawTransaction:e=>wD(t,e),sendTransaction:e=>Qg(t,e),showCallsStatus:e=>AW(t,e),signAuthorization:e=>OW(t,e),signMessage:e=>JD(t,e),signTransaction:e=>RW(t,e),signTypedData:e=>$W(t,e),switchChain:e=>DW(t,e),waitForCallsStatus:e=>IW(t,e),watchAsset:e=>jW(t,e),writeContract:e=>QD(t,e)}}async function Xg(t,e={}){let n;if(e.connector){const{connector:l}=e;if(t.state.status==="reconnecting"&&!l.getAccounts&&!l.getChainId)throw new zW({connector:l});const[u,d]=await Promise.all([l.getAccounts().catch(h=>{if(e.account===null)return[];throw h}),l.getChainId()]);n={accounts:u,chainId:d,connector:l}}else n=t.state.connections.get(t.state.current);if(!n)throw new MW;const r=e.chainId??n.chainId,s=await n.connector.getChainId();if(s!==n.chainId)throw new FW({connectionChainId:n.chainId,connectorChainId:s});const i=n.connector;if(i.getClient)return i.getClient({chainId:r});const o=qn(e.account??n.accounts[0]);if(o&&(o.address=Xa(o.address)),e.account&&!n.accounts.some(l=>l.toLowerCase()===o.address.toLowerCase()))throw new BW({address:o.address,connector:i});const a=t.chains.find(l=>l.id===r),c=await n.connector.getProvider({chainId:r});return t5({account:o,chain:a,name:"Connector Client",transport:l=>WW(c)({...l,retryCount:0})})}async function n5(t,e={}){var s,i;let n;if(e.connector)n=e.connector;else{const{connections:o,current:a}=t.state,c=o.get(a);n=c==null?void 0:c.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(o=>{if(r.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...o,connections:new Map(r),current:a.connector.uid}});{const o=t.state.current;if(!o)return;const a=(s=t.state.connections.get(o))==null?void 0:s.connector;if(!a)return;await((i=t.storage)==null?void 0:i.setItem("recentConnectorId",a.id))}}async function KW(t,e){const{chainId:n,connector:r,...s}=e;let i;e.account?i=e.account:i=(await Xg(t,{account:e.account,chainId:n,connector:r})).account;const o=t.getClient({chainId:n});return ps(o,dD,"estimateGas")({...s,account:i})}function r5(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(E9[t])}function Ad(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],i=t.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=t.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function YW(t,e){const{allowFailure:n=!0,chainId:r,contracts:s,...i}=e,o=t.getClient({chainId:r});return ps(o,nW,"multicall")({allowFailure:n,contracts:s,...i})}function JW(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return ps(s,KS,"readContract")(r)}async function QW(t,e){var a;const{allowFailure:n=!0,blockNumber:r,blockTag:s,...i}=e,o=e.contracts;try{const c={};for(const[h,f]of o.entries()){const p=f.chainId??t.state.chainId;c[p]||(c[p]=[]),(a=c[p])==null||a.push({contract:f,index:h})}const l=()=>Object.entries(c).map(([h,f])=>YW(t,{...i,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(h),contracts:f.map(({contract:p})=>p)})),u=(await Promise.all(l())).flat(),d=Object.values(c).flatMap(h=>h.map(({index:f})=>f));return u.reduce((h,f,p)=>(h&&(h[d[p]]=f),h),[])}catch(c){if(c instanceof jD)throw c;const l=()=>o.map(u=>JW(t,{...u,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(l())).map(u=>u.status==="fulfilled"?{result:u.value,status:"success"}:{error:u.reason,result:void 0,status:"failure"}):await Promise.all(l())}}async function ZW(t,e){const{address:n,blockNumber:r,blockTag:s,chainId:i,token:o,unit:a="ether"}=e;if(o)try{return await cT(t,{balanceAddress:n,chainId:i,symbolType:"string",tokenAddress:o})}catch(h){if(h.name==="ContractFunctionExecutionError"){const f=await cT(t,{balanceAddress:n,chainId:i,symbolType:"bytes32",tokenAddress:o}),p=N$(mh(f.symbol,{dir:"right"}));return{...f,symbol:p}}throw h}const c=t.getClient({chainId:i}),u=await ps(c,uD,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),d=t.chains.find(h=>h.id===i)??c.chain;return{decimals:d.nativeCurrency.decimals,formatted:wh(u,r5(a)),symbol:d.nativeCurrency.symbol,value:u}}async function cT(t,e){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:i,unit:o}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:i},[c,l,u]=await QW(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=wh(c??"0",r5(o??l));return{decimals:l,formatted:d,symbol:u,value:c}}function lT(t){return t.state.chainId}function Vl(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Vl(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!Vl(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}let Vm=[];function Li(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||Vl(Vm,e)?Vm:(Vm=e,e)}let Rb=[];function uT(t){const e=t.connectors;return Vl(Rb,e)?Rb:(Rb=e,e)}function XW(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return ps(s,Fz,"getEnsName")(r)}async function eq(t,e={}){return(await Xg(t,e)).extend(GW)}async function tq(t,e){const{account:n,chainId:r,...s}=e,i=n??Ad(t).address,o=t.getClient({chainId:r});return ps(o,Y0,"prepareTransactionRequest")({...s,...i?{account:i}:{}})}let $b=!1;async function $E(t,e={}){var l,u;if($b)return[];$b=!0,t.setState(d=>({...d,status:d.current?"reconnecting":"connecting"}));const n=[];if((l=e.connectors)!=null&&l.length)for(const d of e.connectors){let h;typeof d=="function"?h=t._internal.connectors.setup(d):h=d,n.push(h)}else n.push(...t.connectors);let r;try{r=await((u=t.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const s={};for(const[,d]of t.state.connections)s[d.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((d,h)=>(s[d.id]??10)-(s[h.id]??10)):n;let o=!1;const a=[],c=[];for(const d of i){const h=await d.getProvider().catch(()=>{});if(!h||c.some(g=>g===h)||!await d.isAuthorized())continue;const p=await d.connect({isReconnecting:!0}).catch(()=>null);p&&(d.emitter.off("connect",t._internal.events.connect),d.emitter.on("change",t._internal.events.change),d.emitter.on("disconnect",t._internal.events.disconnect),t.setState(g=>{const y=new Map(o?g.connections:new Map).set(d.uid,{accounts:p.accounts,chainId:p.chainId,connector:d});return{...g,current:o?g.current:d.uid,connections:y}}),a.push({accounts:p.accounts,chainId:p.chainId,connector:d}),c.push(h),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(d=>({...d,status:"connected"})):t.setState(d=>({...d,connections:new Map,current:null,status:"disconnected"}))),$b=!1,a}async function nq(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await Xg(t,{account:n??void 0,chainId:r,connector:s}),await ps(o,Qg,"sendTransaction")({...i,...n?{account:n}:{},chain:r?{id:r}:null,gas:i.gas??void 0})}async function rq(t,e){const{account:n,connector:r,...s}=e;let i;return typeof n=="object"&&n.type==="local"?i=t.getClient():i=await Xg(t,{account:n,connector:r}),ps(i,JD,"signMessage")({...s,...n?{account:n}:{}})}class Ta extends Qo{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class sq extends Qo{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function dT(t,e){var o;const{addEthereumChainParameter:n,chainId:r}=e,s=t.state.connections.get(((o=e.connector)==null?void 0:o.uid)??t.state.current);if(s){const a=s.connector;if(!a.switchChain)throw new sq({connector:a});return await a.switchChain({addEthereumChainParameter:n,chainId:r})}const i=t.chains.find(a=>a.id===r);if(!i)throw new eg;return t.setState(a=>({...a,chainId:r})),i}function s5(t,e){const{onChange:n}=e;return t.subscribe(()=>Ad(t),n,{equalityFn(r,s){const{connector:i,...o}=r,{connector:a,...c}=s;return Vl(o,c)&&(i==null?void 0:i.id)===(a==null?void 0:a.id)&&(i==null?void 0:i.uid)===(a==null?void 0:a.uid)}})}function iq(t,e){const{onChange:n}=e;return t.subscribe(r=>r.chainId,n)}function oq(t,e){const{onChange:n}=e;return t.subscribe(()=>Li(t),n,{equalityFn:Vl})}function i5(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function aq(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const i=c=>{s&&s();const l=t.getClient({chainId:c});return s=ps(l,_W,"watchPendingTransactions")(r),s},o=i(e.chainId);let a;return n&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,async c=>i(c))),()=>{o==null||o(),a==null||a()}}async function cq(t,e){const{chainId:n,timeout:r=0,...s}=e,i=t.getClient({chainId:n}),a=await ps(i,NW,"waitForTransactionReceipt")({...s,timeout:r});if(a.status==="reverted"){const l=await ps(i,WD,"getTransaction")({hash:a.transactionHash}),d=await ps(i,BD,"call")({...l,data:l.input,gasPrice:l.type!=="eip1559"?l.gasPrice:void 0,maxFeePerGas:l.type==="eip1559"?l.maxFeePerGas:void 0,maxPriorityFeePerGas:l.type==="eip1559"?l.maxPriorityFeePerGas:void 0}),h=d!=null&&d.data?N$(`0x${d.data.substring(138)}`):"unknown reason";throw new Error(h)}return{...a,chainId:i.chain.id}}async function lq(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await Xg(t,{account:n??void 0,chainId:r,connector:s}),await ps(o,QD,"writeContract")({...i,...n?{account:n}:{},chain:r?{id:r}:null})}function bCe(t){return t}Q0.type="injected";function Q0(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c=="function"){const l=c();if(l)return l}return typeof c=="object"?c:typeof c=="string"?{...uq[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l==null?void 0:l.ethereum}}}let s,i,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:Q0.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&t.target&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)))},async connect({chainId:l,isReconnecting:u}={}){var f,p,g,y,w,b;const d=await this.getProvider();if(!d)throw new Ta;let h=[];if(u)h=await this.getAccounts().catch(()=>[]);else if(e)try{h=(y=(g=(p=(f=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:f.caveats)==null?void 0:p[0])==null?void 0:g.value)==null?void 0:y.map(E=>Xa(E)),h.length>0&&(h=await this.getAccounts())}catch(v){const E=v;if(E.code===gn.code)throw new gn(E);if(E.code===pc.code)throw E}try{!(h!=null&&h.length)&&!u&&(h=(await d.request({method:"eth_requestAccounts"})).map(_=>Xa(_))),o&&(d.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let v=await this.getChainId();if(l&&v!==l){const E=await this.switchChain({chainId:l}).catch(_=>{if(_.code===gn.code)throw _;return{id:v}});v=(E==null?void 0:E.id)??v}return e&&await((w=c.storage)==null?void 0:w.removeItem(`${this.id}.disconnected`)),t.target||await((b=c.storage)==null?void 0:b.setItem("injected.connected",!0)),{accounts:h,chainId:v}}catch(v){const E=v;throw E.code===gn.code?new gn(E):E.code===pc.code?new pc(E):E}},async disconnect(){var u,d;const l=await this.getProvider();if(!l)throw new Ta;i&&(l.removeListener("chainChanged",i),i=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o));try{await HD(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=c.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),t.target||await((d=c.storage)==null?void 0:d.removeItem("injected.connected"))},async getAccounts(){const l=await this.getProvider();if(!l)throw new Ta;return(await l.request({method:"eth_accounts"})).map(d=>Xa(d))},async getChainId(){const l=await this.getProvider();if(!l)throw new Ta;const u=await l.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let l;const u=r();return typeof u.provider=="function"?l=u.provider(window):typeof u.provider=="string"?l=Yy(window,u.provider):l=u.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){var l,u;try{if(e&&await((l=c.storage)==null?void 0:l.getItem(`${this.id}.disconnected`))||!t.target&&!await((u=c.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const p=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",p),!!await this.getProvider()),g=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(w=>window.addEventListener("ethereum#initialized",()=>w(p()),{once:!0}))]:[],new Promise(w=>setTimeout(()=>w(p()),g))]))return!0}throw new Ta}return!!(await Ww(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:u}){var p,g,y,w;const d=await this.getProvider();if(!d)throw new Ta;const h=c.chains.find(b=>b.id===u);if(!h)throw new eo(new eg);const f=new Promise(b=>{const v=E=>{"chainId"in E&&E.chainId===u&&(c.emitter.off("change",v),b())};c.emitter.on("change",v)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:$e(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),f]),h}catch(b){const v=b;if(v.code===4902||((g=(p=v==null?void 0:v.data)==null?void 0:p.originalError)==null?void 0:g.code)===4902)try{const{default:E,..._}=h.blockExplorers??{};let x;l!=null&&l.blockExplorerUrls?x=l.blockExplorerUrls:E&&(x=[E.url,...Object.values(_).map(C=>C.url)]);let S;(y=l==null?void 0:l.rpcUrls)!=null&&y.length?S=l.rpcUrls:S=[((w=h.rpcUrls.default)==null?void 0:w.http[0])??""];const T={blockExplorerUrls:x,chainId:$e(u),chainName:(l==null?void 0:l.chainName)??h.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??h.nativeCurrency,rpcUrls:S};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[T]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new gn(new Error("User rejected switch after adding network."))}),f]),h}catch(E){throw new gn(E)}throw v.code===gn.code?new gn(v):new eo(v)}},async onAccountsChanged(l){var u;if(l.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const d=(await this.getChainId()).toString();this.onConnect({chainId:d}),e&&await((u=c.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:l.map(d=>Xa(d))})},onChainChanged(l){const u=Number(l);c.emitter.emit("change",{chainId:u})},async onConnect(l){const u=await this.getAccounts();if(u.length===0)return;const d=Number(l.chainId);c.emitter.emit("connect",{accounts:u,chainId:d});const h=await this.getProvider();h&&(o&&(h.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),h.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),h.on("disconnect",a)))},async onDisconnect(l){const u=await this.getProvider();l&&l.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(i&&(u.removeListener("chainChanged",i),i=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const uq={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:Yy(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return Yy(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:Yy(t,"isPhantom")}}};function Yy(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function dq(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function hq(){const t=new Set;let e=[];const n=()=>dq(s=>{e.some(({info:i})=>i.uuid===s.info.uuid)||(e=[...e,s],t.forEach(i=>i(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:s}){return e.find(i=>i.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:i}={}){return t.add(s),i&&s(e,{added:e}),()=>t.delete(s)}}}const fq=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let d=o(r.getState());l=h=>{const f=o(h);if(!u(d,f)){const p=d;a(d=f,p)}},c!=null&&c.fireImmediately&&a(d,d)}return s(l)},t(e,n,r)},pq=fq;function gq(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const DE=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return DE(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return DE(r)(n)}}}},mq=(t,e)=>(n,r,s)=>{let i={storage:gq(()=>localStorage),partialize:g=>g,version:0,merge:(g,y)=>({...y,...g}),...e},o=!1;const a=new Set,c=new Set;let l=i.storage;if(!l)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...g)},r,s);const u=()=>{const g=i.partialize({...r()});return l.setItem(i.name,{state:g,version:i.version})},d=s.setState;s.setState=(g,y)=>{d(g,y),u()};const h=t((...g)=>{n(...g),u()},r,s);s.getInitialState=()=>h;let f;const p=()=>{var g,y;if(!l)return;o=!1,a.forEach(b=>{var v;return b((v=r())!=null?v:h)});const w=((y=i.onRehydrateStorage)==null?void 0:y.call(i,(g=r())!=null?g:h))||void 0;return DE(l.getItem.bind(l))(i.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return[!0,i.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var v;const[E,_]=b;if(f=i.merge(_,(v=r())!=null?v:h),n(f,!0),E)return u()}).then(()=>{w==null||w(f,void 0),f=r(),o=!0,c.forEach(b=>b(f))}).catch(b=>{w==null||w(void 0,b)})};return s.persist={setOptions:g=>{i={...i,...g},g.storage&&(l=g.storage)},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},i.skipHydration||p(),f||h},yq=mq,hT=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const h=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(f=>f(e,h))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,s,a);return a},Db=t=>t?hT(t):hT;var o5={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function i(c,l,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new s(u,d||c,h),p=n?n+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},a.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,h,f,p){var g=n?n+l:l;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,b,v;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,f),!0;case 6:return y.fn.call(y.context,u,d,h,f,p),!0}for(v=1,b=new Array(w-1);v<w;v++)b[v-1]=arguments[v];y.fn.apply(y.context,b)}else{var E=y.length,_;for(v=0;v<E;v++)switch(y[v].once&&this.removeListener(l,y[v].fn,void 0,!0),w){case 1:y[v].fn.call(y[v].context);break;case 2:y[v].fn.call(y[v].context,u);break;case 3:y[v].fn.call(y[v].context,u,d);break;case 4:y[v].fn.call(y[v].context,u,d,h);break;default:if(!b)for(_=1,b=new Array(w-1);_<w;_++)b[_-1]=arguments[_];y[v].fn.apply(y[v].context,b)}}return!0},a.prototype.on=function(l,u,d){return i(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return i(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,h){var f=n?n+l:l;if(!this._events[f])return this;if(!u)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&o(this,f);else{for(var g=0,y=[],w=p.length;g<w;g++)(p[g].fn!==u||h&&!p[g].once||d&&p[g].context!==d)&&y.push(p[g]);y.length?this._events[f]=y.length===1?y[0]:y:o(this,f)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(o5);var wq=o5.exports;const vq=ou(wq);class bq{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new vq})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function _q(t){return new bq(t)}function Eq(t,e){return JSON.parse(t,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(n,s))??s})}function fT(t,e){return t.slice(0,e).join(".")||"."}function pT(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function Cq(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],i=[];return function(a,c){if(typeof c=="object")if(s.length){const l=pT(s,this);l===0?s[s.length]=this:(s.splice(l),i.splice(l)),i[i.length]=a;const u=pT(s,c);if(u!==0)return r?e.call(this,a,c,fT(i,u)):`[ref=${fT(i,u)}]`}else s[0]=c,i[0]=a;return n?t.call(this,a,c):c}}function xq(t,e,n,r){return JSON.stringify(t,Cq((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(e==null?void 0:e(s,o))??o},r),n??void 0)}function Sq(t){const{deserialize:e=Eq,key:n="wagmi",serialize:r=xq,storage:s=a5}=t;function i(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...s,key:n,async getItem(o,a){const c=s.getItem(`${n}.${o}`),l=await i(c);return l?e(l)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await i(s.removeItem(c)):await i(s.setItem(c,r(a)))},async removeItem(o){await i(s.removeItem(`${n}.${o}`))}}}const a5={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function Aq(){const t=typeof window<"u"&&window.localStorage?window.localStorage:a5;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const jE=256;let Gm=jE,Km;function Iq(t=11){if(!Km||Gm+t>jE*2){Km="",Gm=0;for(let e=0;e<jE;e++)Km+=(256+Math.random()*256|0).toString(16).substring(1)}return Km.substring(Gm,Gm+++t)}function Tq(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=Sq({storage:Aq()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=t,o=typeof window<"u"&&e?hq():void 0,a=Db(()=>i.chains),c=Db(()=>{const _=[],x=new Set;for(const S of i.connectors??[]){const T=l(S);if(_.push(T),!s&&T.rdns){const C=typeof T.rdns=="string"?[T.rdns]:T.rdns;for(const O of C)x.add(O)}}if(!s&&o){const S=o.getProviders();for(const T of S)x.has(T.info.rdns)||_.push(l(u(T)))}return _});function l(_){var T;const x=_q(Iq()),S={..._({emitter:x,chains:a.getState(),storage:n,transports:i.transports}),emitter:x,uid:x.uid};return x.on("connect",v),(T=S.setup)==null||T.call(S),S}function u(_){const{info:x}=_,S=_.provider;return Q0({target:{...x,id:x.rdns,provider:S}})}const d=new Map;function h(_={}){const x=_.chainId??y.getState().chainId,S=a.getState().find(C=>C.id===x);if(_.chainId&&!S)throw new eg;{const C=d.get(y.getState().chainId);if(C&&!S)return C;if(!S)throw new eg}{const C=d.get(x);if(C)return C}let T;if(i.client)T=i.client({chain:S});else{const C=S.id,O=a.getState().map(z=>z.id),R={},B=Object.entries(i);for(const[z,M]of B)if(!(z==="chains"||z==="client"||z==="connectors"||z==="transports"))if(typeof M=="object")if(C in M)R[z]=M[C];else{if(O.some(A=>A in M))continue;R[z]=M}else R[z]=M;T=t5({...R,chain:S,batch:R.batch??{multicall:!0},transport:z=>i.transports[C]({...z,connectors:c})})}return d.set(x,T),T}function f(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const g="0.0.0-canary-";Gy.startsWith(g)?p=Number.parseInt(Gy.replace(g,"")):p=Number.parseInt(Gy.split(".")[0]??"0");const y=Db(pq(n?yq(f,{migrate(_,x){if(x===p)return _;const S=f(),T=w(_,S.chainId);return{...S,chainId:T}},name:"store",partialize(_){return{connections:{__type:"Map",value:Array.from(_.connections.entries()).map(([x,S])=>{const{id:T,name:C,type:O,uid:R}=S.connector;return[x,{...S,connector:{id:T,name:C,type:O,uid:R}}]})},chainId:_.chainId,current:_.current}},merge(_,x){typeof _=="object"&&_&&"status"in _&&delete _.status;const S=w(_,x.chainId);return{...x,..._,chainId:S}},skipHydration:s,storage:n,version:p}):f));y.setState(f());function w(_,x){return _&&typeof _=="object"&&"chainId"in _&&typeof _.chainId=="number"&&a.getState().some(S=>S.id===_.chainId)?_.chainId:x}r&&y.subscribe(({connections:_,current:x})=>{var S;return x?(S=_.get(x))==null?void 0:S.chainId:void 0},_=>{if(a.getState().some(S=>S.id===_))return y.setState(S=>({...S,chainId:_??S.chainId}))}),o==null||o.subscribe(_=>{const x=new Set,S=new Set;for(const C of c.getState())if(x.add(C.id),C.rdns){const O=typeof C.rdns=="string"?[C.rdns]:C.rdns;for(const R of O)S.add(R)}const T=[];for(const C of _){if(S.has(C.info.rdns))continue;const O=l(u(C));x.has(O.id)||T.push(O)}n&&!y.persist.hasHydrated()||c.setState(C=>[...C,...T],!0)});function b(_){y.setState(x=>{const S=x.connections.get(_.uid);return S?{...x,connections:new Map(x.connections).set(_.uid,{accounts:_.accounts??S.accounts,chainId:_.chainId??S.chainId,connector:S.connector})}:x})}function v(_){y.getState().status==="connecting"||y.getState().status==="reconnecting"||y.setState(x=>{const S=c.getState().find(T=>T.uid===_.uid);return S?(S.emitter.listenerCount("connect")&&S.emitter.off("connect",b),S.emitter.listenerCount("change")||S.emitter.on("change",b),S.emitter.listenerCount("disconnect")||S.emitter.on("disconnect",E),{...x,connections:new Map(x.connections).set(_.uid,{accounts:_.accounts,chainId:_.chainId,connector:S}),current:_.uid,status:"connected"}):x})}function E(_){y.setState(x=>{const S=x.connections.get(_.uid);if(S){const C=S.connector;C.emitter.listenerCount("change")&&S.connector.emitter.off("change",b),C.emitter.listenerCount("disconnect")&&S.connector.emitter.off("disconnect",E),C.emitter.listenerCount("connect")||S.connector.emitter.on("connect",v)}if(x.connections.delete(_.uid),x.connections.size===0)return{...x,connections:new Map,current:null,status:"disconnected"};const T=x.connections.values().next().value;return{...x,connections:new Map(x.connections),current:T.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:h,get state(){return y.getState()},setState(_){let x;typeof _=="function"?x=_(y.getState()):x=_;const S=f();typeof x!="object"&&(x=S),Object.keys(S).some(C=>!(C in x))&&(x=S),y.setState(x,!0)},subscribe(_,x,S){return y.subscribe(_,x,S?{...S,fireImmediately:S.emitImmediately}:void 0)},_internal:{mipd:o,store:y,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(_){const x=typeof _=="function"?_(a.getState()):_;if(x.length!==0)return a.setState(x,!0)},subscribe(_){return a.subscribe(_)}},connectors:{providerDetailToConnector:u,setup:l,setState(_){return c.setState(typeof _=="function"?_(c.getState()):_,!0)},subscribe(_){return c.subscribe(_)}},events:{change:b,connect:v,disconnect:E}}}}function Nq(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(s=>{var c;const i=new Set;for(const l of s??[])if(l.rdns){const u=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const d of u)i.add(d)}const o=[],a=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const l of a){if(i.has(l.info.rdns))continue;const u=t._internal.connectors.providerDetailToConnector(l),d=t._internal.connectors.setup(u);o.push(d)}return[...s,...o]})),r?$E(t):t.storage&&t.setState(s=>({...s,connections:new Map}))}}}function Pq(t){const{children:e,config:n,initialState:r,reconnectOnMount:s=!0}=t,{onMount:i}=Nq(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||i();const o=D.useRef(!0);return D.useEffect(()=>{if(o.current&&n._internal.ssr)return i(),()=>{o.current=!1}},[]),e}const c5=D.createContext(void 0);function kq(t){const{children:e,config:n}=t,r={value:n};return D.createElement(Pq,t,D.createElement(c5.Provider,r,e))}const Oq="2.15.6",Rq=()=>`wagmi@${Oq}`;let $q=class extends Qo{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return Rq()}};class Dq extends $q{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function Lc(t={}){const e=t.config??D.useContext(c5);if(!e)throw new Dq;return e}var l5={exports:{}},u5={},d5={exports:{}},h5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var th=D;function jq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Uq=typeof Object.is=="function"?Object.is:jq,Lq=th.useState,Mq=th.useEffect,Bq=th.useLayoutEffect,Fq=th.useDebugValue;function zq(t,e){var n=e(),r=Lq({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return Bq(function(){s.value=n,s.getSnapshot=e,jb(s)&&i({inst:s})},[t,n,e]),Mq(function(){return jb(s)&&i({inst:s}),t(function(){jb(s)&&i({inst:s})})},[t]),Fq(n),n}function jb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Uq(t,n)}catch{return!0}}function Wq(t,e){return e()}var qq=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Wq:zq;h5.useSyncExternalStore=th.useSyncExternalStore!==void 0?th.useSyncExternalStore:qq;d5.exports=h5;var Hq=d5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0=D,Vq=Hq;function Gq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kq=typeof Object.is=="function"?Object.is:Gq,Yq=Vq.useSyncExternalStore,Jq=Z0.useRef,Qq=Z0.useEffect,Zq=Z0.useMemo,Xq=Z0.useDebugValue;u5.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=Jq(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Zq(function(){function c(f){if(!l){if(l=!0,u=f,f=r(f),s!==void 0&&o.hasValue){var p=o.value;if(s(p,f))return d=p}return d=f}if(p=d,Kq(u,f))return p;var g=r(f);return s!==void 0&&s(p,g)?(u=f,p):(u=f,d=g)}var l=!1,u,d,h=n===void 0?null:n;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,n,r,s]);var a=Yq(t,i[0],i[1]);return Qq(function(){o.hasValue=!0,o.value=a},[a]),Xq(a),a};l5.exports=u5;var eH=l5.exports;const Ub=t=>typeof t=="object"&&!Array.isArray(t);function tH(t,e,n=e,r=Vl){const s=D.useRef([]),i=eH.useSyncExternalStoreWithSelector(t,e,n,o=>o,(o,a)=>{if(Ub(o)&&Ub(a)&&s.current.length){for(const c of s.current)if(!r(o[c],a[c]))return!1;return!0}return r(o,a)});return D.useMemo(()=>{if(Ub(i)){const o={...i};let a={};for(const[c,l]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),l)}};return Object.defineProperties(o,a),o}return i},[i])}function em(t={}){const e=Lc(t);return tH(n=>s5(e,{onChange:n}),()=>Ad(e))}var bh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gl=typeof window>"u"||"Deno"in globalThis;function mr(){}function nH(t,e){return typeof t=="function"?t(e):t}function UE(t){return typeof t=="number"&&t>=0&&t!==1/0}function f5(t,e){return Math.max(t+(e||0)-Date.now(),0)}function gc(t,e){return typeof t=="function"?t(e):t}function li(t,e){return typeof t=="function"?t(e):t}function gT(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==QS(o,e.options))return!1}else if(!tg(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function mT(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Kl(e.options.mutationKey)!==Kl(i))return!1}else if(!tg(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function QS(t,e){return((e==null?void 0:e.queryKeyHashFn)||Kl)(t)}function Kl(t){return JSON.stringify(t,(e,n)=>LE(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function tg(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>tg(t[n],e[n])):!1}function p5(t,e){if(t===e)return t;const n=yT(t)&&yT(e);if(n||LE(t)&&LE(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&c.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=p5(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Hw(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function yT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function LE(t){if(!wT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!wT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function wT(t){return Object.prototype.toString.call(t)==="[object Object]"}function rH(t){return new Promise(e=>{setTimeout(e,t)})}function ME(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?p5(t,e):e}function sH(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function iH(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ZS=Symbol();function g5(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ZS?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function m5(t,e){return typeof t=="function"?t(...e):!!t}var _l,Fa,Od,tR,oH=(tR=class extends bh{constructor(){super();Se(this,_l);Se(this,Fa);Se(this,Od);fe(this,Od,e=>{if(!Gl&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){L(this,Fa)||this.setEventListener(L(this,Od))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,Fa))==null||e.call(this),fe(this,Fa,void 0))}setEventListener(e){var n;fe(this,Od,e),(n=L(this,Fa))==null||n.call(this),fe(this,Fa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){L(this,_l)!==e&&(fe(this,_l,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof L(this,_l)=="boolean"?L(this,_l):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},_l=new WeakMap,Fa=new WeakMap,Od=new WeakMap,tR),XS=new oH,Rd,za,$d,nR,aH=(nR=class extends bh{constructor(){super();Se(this,Rd,!0);Se(this,za);Se(this,$d);fe(this,$d,e=>{if(!Gl&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){L(this,za)||this.setEventListener(L(this,$d))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,za))==null||e.call(this),fe(this,za,void 0))}setEventListener(e){var n;fe(this,$d,e),(n=L(this,za))==null||n.call(this),fe(this,za,e(this.setOnline.bind(this)))}setOnline(e){L(this,Rd)!==e&&(fe(this,Rd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return L(this,Rd)}},Rd=new WeakMap,za=new WeakMap,$d=new WeakMap,nR),Vw=new aH;function BE(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function cH(t){return Math.min(1e3*2**t,3e4)}function y5(t){return(t??"online")==="online"?Vw.isOnline():!0}var w5=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Lb(t){return t instanceof w5}function v5(t){let e=!1,n=0,r=!1,s;const i=BE(),o=g=>{var y;r||(h(new w5(g)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},c=()=>{e=!1},l=()=>XS.isFocused()&&(t.networkMode==="always"||Vw.isOnline())&&t.canRun(),u=()=>y5(t.networkMode)&&t.canRun(),d=g=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,g),s==null||s(),i.resolve(g))},h=g=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,g),s==null||s(),i.reject(g))},f=()=>new Promise(g=>{var y;s=w=>{(r||l())&&g(w)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(r)return;let g;const y=n===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(d).catch(w=>{var x;if(r)return;const b=t.retry??(Gl?0:3),v=t.retryDelay??cH,E=typeof v=="function"?v(n,w):v,_=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,w);if(e||!_){h(w);return}n++,(x=t.onFail)==null||x.call(t,n,w),rH(E).then(()=>l()?void 0:f()).then(()=>{e?h(w):p()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?p():f().then(p),i)}}var lH=t=>setTimeout(t,0);function uH(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=lH;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var wn=uH(),El,rR,b5=(rR=class{constructor(){Se(this,El)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),UE(this.gcTime)&&fe(this,El,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Gl?1/0:5*60*1e3))}clearGcTimeout(){L(this,El)&&(clearTimeout(L(this,El)),fe(this,El,void 0))}},El=new WeakMap,rR),Dd,Cl,ks,xl,ar,Ug,Sl,si,yo,sR,dH=(sR=class extends b5{constructor(e){super();Se(this,si);Se(this,Dd);Se(this,Cl);Se(this,ks);Se(this,xl);Se(this,ar);Se(this,Ug);Se(this,Sl);fe(this,Sl,!1),fe(this,Ug,e.defaultOptions),this.setOptions(e.options),this.observers=[],fe(this,xl,e.client),fe(this,ks,L(this,xl).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,fe(this,Dd,hH(this.options)),this.state=e.state??L(this,Dd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=L(this,ar))==null?void 0:e.promise}setOptions(e){this.options={...L(this,Ug),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,ks).remove(this)}setData(e,n){const r=ME(this.state.data,e,this.options);return qe(this,si,yo).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){qe(this,si,yo).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=L(this,ar))==null?void 0:r.promise;return(s=L(this,ar))==null||s.cancel(e),n?n.then(mr).catch(mr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,Dd))}isActive(){return this.observers.some(e=>li(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ZS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>gc(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!f5(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=L(this,ar))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=L(this,ar))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),L(this,ks).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(L(this,ar)&&(L(this,Sl)?L(this,ar).cancel({revert:!0}):L(this,ar).cancelRetry()),this.scheduleGc()),L(this,ks).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qe(this,si,yo).call(this,{type:"invalidate"})}fetch(e,n){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(L(this,ar))return L(this,ar).continueRetry(),L(this,ar).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(fe(this,Sl,!0),r.signal)})},i=()=>{const h=g5(this.options,n),p=(()=>{const g={client:L(this,xl),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return fe(this,Sl,!1),this.options.persister?this.options.persister(h,p,this):h(p)},a=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:L(this,xl),state:this.state,fetchFn:i};return s(h),h})();(l=this.options.behavior)==null||l.onFetch(a,this),fe(this,Cl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&qe(this,si,yo).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const c=h=>{var f,p,g,y;Lb(h)&&h.silent||qe(this,si,yo).call(this,{type:"error",error:h}),Lb(h)||((p=(f=L(this,ks).config).onError)==null||p.call(f,h,this),(y=(g=L(this,ks).config).onSettled)==null||y.call(g,this.state.data,h,this)),this.scheduleGc()};return fe(this,ar,v5({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,p,g,y;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){c(w);return}(p=(f=L(this,ks).config).onSuccess)==null||p.call(f,h,this),(y=(g=L(this,ks).config).onSettled)==null||y.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,f)=>{qe(this,si,yo).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{qe(this,si,yo).call(this,{type:"pause"})},onContinue:()=>{qe(this,si,yo).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),L(this,ar).start()}},Dd=new WeakMap,Cl=new WeakMap,ks=new WeakMap,xl=new WeakMap,ar=new WeakMap,Ug=new WeakMap,Sl=new WeakMap,si=new WeakSet,yo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,..._5(r.data,this.options),fetchMeta:e.meta??null};case"success":return fe(this,Cl,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Lb(s)&&s.revert&&L(this,Cl)?{...L(this,Cl),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),wn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),L(this,ks).notify({query:this,type:"updated",action:e})})},sR);function _5(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:y5(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function hH(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Mi,iR,fH=(iR=class extends bh{constructor(e={}){super();Se(this,Mi);this.config=e,fe(this,Mi,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??QS(s,n);let o=this.get(i);return o||(o=new dH({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){L(this,Mi).has(e.queryHash)||(L(this,Mi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=L(this,Mi).get(e.queryHash);n&&(e.destroy(),n===e&&L(this,Mi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){wn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return L(this,Mi).get(e)}getAll(){return[...L(this,Mi).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>gT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>gT(e,r)):n}notify(e){wn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){wn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){wn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Mi=new WeakMap,iR),Bi,fr,Al,Fi,Ea,oR,pH=(oR=class extends b5{constructor(e){super();Se(this,Fi);Se(this,Bi);Se(this,fr);Se(this,Al);this.mutationId=e.mutationId,fe(this,fr,e.mutationCache),fe(this,Bi,[]),this.state=e.state||E5(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){L(this,Bi).includes(e)||(L(this,Bi).push(e),this.clearGcTimeout(),L(this,fr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){fe(this,Bi,L(this,Bi).filter(n=>n!==e)),this.scheduleGc(),L(this,fr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){L(this,Bi).length||(this.state.status==="pending"?this.scheduleGc():L(this,fr).remove(this))}continue(){var e;return((e=L(this,Al))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,c,l,u,d,h,f,p,g,y,w,b,v,E,_,x,S,T;const n=()=>{qe(this,Fi,Ea).call(this,{type:"continue"})};fe(this,Al,v5({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,O)=>{qe(this,Fi,Ea).call(this,{type:"failed",failureCount:C,error:O})},onPause:()=>{qe(this,Fi,Ea).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,fr).canRun(this)}));const r=this.state.status==="pending",s=!L(this,Al).canStart();try{if(r)n();else{qe(this,Fi,Ea).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=L(this,fr).config).onMutate)==null?void 0:o.call(i,e,this));const O=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));O!==this.state.context&&qe(this,Fi,Ea).call(this,{type:"pending",context:O,variables:e,isPaused:s})}const C=await L(this,Al).start();return await((u=(l=L(this,fr).config).onSuccess)==null?void 0:u.call(l,C,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,C,e,this.state.context)),await((p=(f=L(this,fr).config).onSettled)==null?void 0:p.call(f,C,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,C,null,e,this.state.context)),qe(this,Fi,Ea).call(this,{type:"success",data:C}),C}catch(C){try{throw await((b=(w=L(this,fr).config).onError)==null?void 0:b.call(w,C,e,this.state.context,this)),await((E=(v=this.options).onError)==null?void 0:E.call(v,C,e,this.state.context)),await((x=(_=L(this,fr).config).onSettled)==null?void 0:x.call(_,void 0,C,this.state.variables,this.state.context,this)),await((T=(S=this.options).onSettled)==null?void 0:T.call(S,void 0,C,e,this.state.context)),C}finally{qe(this,Fi,Ea).call(this,{type:"error",error:C})}}finally{L(this,fr).runNext(this)}}},Bi=new WeakMap,fr=new WeakMap,Al=new WeakMap,Fi=new WeakSet,Ea=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),wn.batch(()=>{L(this,Bi).forEach(r=>{r.onMutationUpdate(e)}),L(this,fr).notify({mutation:this,type:"updated",action:e})})},oR);function E5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ao,ii,Lg,aR,gH=(aR=class extends bh{constructor(e={}){super();Se(this,Ao);Se(this,ii);Se(this,Lg);this.config=e,fe(this,Ao,new Set),fe(this,ii,new Map),fe(this,Lg,0)}build(e,n,r){const s=new pH({mutationCache:this,mutationId:++Cm(this,Lg)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){L(this,Ao).add(e);const n=Ym(e);if(typeof n=="string"){const r=L(this,ii).get(n);r?r.push(e):L(this,ii).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(L(this,Ao).delete(e)){const n=Ym(e);if(typeof n=="string"){const r=L(this,ii).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&L(this,ii).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Ym(e);if(typeof n=="string"){const r=L(this,ii).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Ym(e);if(typeof n=="string"){const s=(r=L(this,ii).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){wn.batch(()=>{L(this,Ao).forEach(e=>{this.notify({type:"removed",mutation:e})}),L(this,Ao).clear(),L(this,ii).clear()})}getAll(){return Array.from(L(this,Ao))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>mT(n,r))}findAll(e={}){return this.getAll().filter(n=>mT(e,n))}notify(e){wn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return wn.batch(()=>Promise.all(e.map(n=>n.continue().catch(mr))))}},Ao=new WeakMap,ii=new WeakMap,Lg=new WeakMap,aR);function Ym(t){var e;return(e=t.options.scope)==null?void 0:e.id}function vT(t){return{onFetch:(e,n)=>{var u,d,h,f,p;const r=e.options,s=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((f=e.state.data)==null?void 0:f.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let g=!1;const y=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},w=g5(e.options,e.fetchOptions),b=async(v,E,_)=>{if(g)return Promise.reject();if(E==null&&v.pages.length)return Promise.resolve(v);const S=(()=>{const R={client:e.client,queryKey:e.queryKey,pageParam:E,direction:_?"backward":"forward",meta:e.options.meta};return y(R),R})(),T=await w(S),{maxPages:C}=e.options,O=_?iH:sH;return{pages:O(v.pages,T,C),pageParams:O(v.pageParams,E,C)}};if(s&&i.length){const v=s==="backward",E=v?mH:bT,_={pages:i,pageParams:o},x=E(r,_);a=await b(_,x,v)}else{const v=t??i.length;do{const E=c===0?o[0]??r.initialPageParam:bT(r,a);if(c>0&&E==null)break;a=await b(a,E),c++}while(c<v)}return a};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function bT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function mH(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Qt,Wa,qa,jd,Ud,Ha,Ld,Md,cR,yH=(cR=class{constructor(t={}){Se(this,Qt);Se(this,Wa);Se(this,qa);Se(this,jd);Se(this,Ud);Se(this,Ha);Se(this,Ld);Se(this,Md);fe(this,Qt,t.queryCache||new fH),fe(this,Wa,t.mutationCache||new gH),fe(this,qa,t.defaultOptions||{}),fe(this,jd,new Map),fe(this,Ud,new Map),fe(this,Ha,0)}mount(){Cm(this,Ha)._++,L(this,Ha)===1&&(fe(this,Ld,XS.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,Qt).onFocus())})),fe(this,Md,Vw.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,Qt).onOnline())})))}unmount(){var t,e;Cm(this,Ha)._--,L(this,Ha)===0&&((t=L(this,Ld))==null||t.call(this),fe(this,Ld,void 0),(e=L(this,Md))==null||e.call(this),fe(this,Md,void 0))}isFetching(t){return L(this,Qt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return L(this,Wa).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=L(this,Qt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=L(this,Qt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(gc(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return L(this,Qt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=L(this,Qt).get(r.queryHash),i=s==null?void 0:s.state.data,o=nH(e,i);if(o!==void 0)return L(this,Qt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return wn.batch(()=>L(this,Qt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=L(this,Qt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=L(this,Qt);wn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=L(this,Qt);return wn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=wn.batch(()=>L(this,Qt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(mr).catch(mr)}invalidateQueries(t,e={}){return wn.batch(()=>(L(this,Qt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=wn.batch(()=>L(this,Qt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(mr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(mr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=L(this,Qt).build(this,e);return n.isStaleByTime(gc(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(mr).catch(mr)}fetchInfiniteQuery(t){return t.behavior=vT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(mr).catch(mr)}ensureInfiniteQueryData(t){return t.behavior=vT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Vw.isOnline()?L(this,Wa).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,Qt)}getMutationCache(){return L(this,Wa)}getDefaultOptions(){return L(this,qa)}setDefaultOptions(t){fe(this,qa,t)}setQueryDefaults(t,e){L(this,jd).set(Kl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...L(this,jd).values()],n={};return e.forEach(r=>{tg(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){L(this,Ud).set(Kl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...L(this,Ud).values()],n={};return e.forEach(r=>{tg(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...L(this,qa).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=QS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ZS&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...L(this,qa).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){L(this,Qt).clear(),L(this,Wa).clear()}},Qt=new WeakMap,Wa=new WeakMap,qa=new WeakMap,jd=new WeakMap,Ud=new WeakMap,Ha=new WeakMap,Ld=new WeakMap,Md=new WeakMap,cR),Lr,et,Mg,pr,Il,Bd,Va,Ga,Bg,Fd,zd,Tl,Nl,Ka,Wd,pt,Af,FE,zE,WE,qE,HE,VE,GE,C5,lR,wH=(lR=class extends bh{constructor(e,n){super();Se(this,pt);Se(this,Lr);Se(this,et);Se(this,Mg);Se(this,pr);Se(this,Il);Se(this,Bd);Se(this,Va);Se(this,Ga);Se(this,Bg);Se(this,Fd);Se(this,zd);Se(this,Tl);Se(this,Nl);Se(this,Ka);Se(this,Wd,new Set);this.options=n,fe(this,Lr,e),fe(this,Ga,null),fe(this,Va,BE()),this.options.experimental_prefetchInRender||L(this,Va).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(L(this,et).addObserver(this),_T(L(this,et),this.options)?qe(this,pt,Af).call(this):this.updateResult(),qe(this,pt,qE).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return KE(L(this,et),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return KE(L(this,et),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,qe(this,pt,HE).call(this),qe(this,pt,VE).call(this),L(this,et).removeObserver(this)}setOptions(e){const n=this.options,r=L(this,et);if(this.options=L(this,Lr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof li(this.options.enabled,L(this,et))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");qe(this,pt,GE).call(this),L(this,et).setOptions(this.options),n._defaulted&&!Hw(this.options,n)&&L(this,Lr).getQueryCache().notify({type:"observerOptionsUpdated",query:L(this,et),observer:this});const s=this.hasListeners();s&&ET(L(this,et),r,this.options,n)&&qe(this,pt,Af).call(this),this.updateResult(),s&&(L(this,et)!==r||li(this.options.enabled,L(this,et))!==li(n.enabled,L(this,et))||gc(this.options.staleTime,L(this,et))!==gc(n.staleTime,L(this,et)))&&qe(this,pt,FE).call(this);const i=qe(this,pt,zE).call(this);s&&(L(this,et)!==r||li(this.options.enabled,L(this,et))!==li(n.enabled,L(this,et))||i!==L(this,Ka))&&qe(this,pt,WE).call(this,i)}getOptimisticResult(e){const n=L(this,Lr).getQueryCache().build(L(this,Lr),e),r=this.createResult(n,e);return bH(this,r)&&(fe(this,pr,r),fe(this,Bd,this.options),fe(this,Il,L(this,et).state)),r}getCurrentResult(){return L(this,pr)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){L(this,Wd).add(e)}getCurrentQuery(){return L(this,et)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=L(this,Lr).defaultQueryOptions(e),r=L(this,Lr).getQueryCache().build(L(this,Lr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return qe(this,pt,Af).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),L(this,pr)))}createResult(e,n){var C;const r=L(this,et),s=this.options,i=L(this,pr),o=L(this,Il),a=L(this,Bd),l=e!==r?e.state:L(this,Mg),{state:u}=e;let d={...u},h=!1,f;if(n._optimisticResults){const O=this.hasListeners(),R=!O&&_T(e,n),B=O&&ET(e,r,n,s);(R||B)&&(d={...d,..._5(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:y}=d;f=d.data;let w=!1;if(n.placeholderData!==void 0&&f===void 0&&y==="pending"){let O;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(O=i.data,w=!0):O=typeof n.placeholderData=="function"?n.placeholderData((C=L(this,zd))==null?void 0:C.state.data,L(this,zd)):n.placeholderData,O!==void 0&&(y="success",f=ME(i==null?void 0:i.data,O,n),h=!0)}if(n.select&&f!==void 0&&!w)if(i&&f===(o==null?void 0:o.data)&&n.select===L(this,Bg))f=L(this,Fd);else try{fe(this,Bg,n.select),f=n.select(f),f=ME(i==null?void 0:i.data,f,n),fe(this,Fd,f),fe(this,Ga,null)}catch(O){fe(this,Ga,O)}L(this,Ga)&&(p=L(this,Ga),f=L(this,Fd),g=Date.now(),y="error");const b=d.fetchStatus==="fetching",v=y==="pending",E=y==="error",_=v&&b,x=f!==void 0,T={status:y,fetchStatus:d.fetchStatus,isPending:v,isSuccess:y==="success",isError:E,isInitialLoading:_,isLoading:_,data:f,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!v,isLoadingError:E&&!x,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:E&&x,isStale:eA(e,n),refetch:this.refetch,promise:L(this,Va)};if(this.options.experimental_prefetchInRender){const O=z=>{T.status==="error"?z.reject(T.error):T.data!==void 0&&z.resolve(T.data)},R=()=>{const z=fe(this,Va,T.promise=BE());O(z)},B=L(this,Va);switch(B.status){case"pending":e.queryHash===r.queryHash&&O(B);break;case"fulfilled":(T.status==="error"||T.data!==B.value)&&R();break;case"rejected":(T.status!=="error"||T.error!==B.reason)&&R();break}}return T}updateResult(){const e=L(this,pr),n=this.createResult(L(this,et),this.options);if(fe(this,Il,L(this,et).state),fe(this,Bd,this.options),L(this,Il).data!==void 0&&fe(this,zd,L(this,et)),Hw(n,e))return;fe(this,pr,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!L(this,Wd).size)return!0;const o=new Set(i??L(this,Wd));return this.options.throwOnError&&o.add("error"),Object.keys(L(this,pr)).some(a=>{const c=a;return L(this,pr)[c]!==e[c]&&o.has(c)})};qe(this,pt,C5).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&qe(this,pt,qE).call(this)}},Lr=new WeakMap,et=new WeakMap,Mg=new WeakMap,pr=new WeakMap,Il=new WeakMap,Bd=new WeakMap,Va=new WeakMap,Ga=new WeakMap,Bg=new WeakMap,Fd=new WeakMap,zd=new WeakMap,Tl=new WeakMap,Nl=new WeakMap,Ka=new WeakMap,Wd=new WeakMap,pt=new WeakSet,Af=function(e){qe(this,pt,GE).call(this);let n=L(this,et).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(mr)),n},FE=function(){qe(this,pt,HE).call(this);const e=gc(this.options.staleTime,L(this,et));if(Gl||L(this,pr).isStale||!UE(e))return;const r=f5(L(this,pr).dataUpdatedAt,e)+1;fe(this,Tl,setTimeout(()=>{L(this,pr).isStale||this.updateResult()},r))},zE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(L(this,et)):this.options.refetchInterval)??!1},WE=function(e){qe(this,pt,VE).call(this),fe(this,Ka,e),!(Gl||li(this.options.enabled,L(this,et))===!1||!UE(L(this,Ka))||L(this,Ka)===0)&&fe(this,Nl,setInterval(()=>{(this.options.refetchIntervalInBackground||XS.isFocused())&&qe(this,pt,Af).call(this)},L(this,Ka)))},qE=function(){qe(this,pt,FE).call(this),qe(this,pt,WE).call(this,qe(this,pt,zE).call(this))},HE=function(){L(this,Tl)&&(clearTimeout(L(this,Tl)),fe(this,Tl,void 0))},VE=function(){L(this,Nl)&&(clearInterval(L(this,Nl)),fe(this,Nl,void 0))},GE=function(){const e=L(this,Lr).getQueryCache().build(L(this,Lr),this.options);if(e===L(this,et))return;const n=L(this,et);fe(this,et,e),fe(this,Mg,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},C5=function(e){wn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(L(this,pr))}),L(this,Lr).getQueryCache().notify({query:L(this,et),type:"observerResultsUpdated"})})},lR);function vH(t,e){return li(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function _T(t,e){return vH(t,e)||t.state.data!==void 0&&KE(t,e,e.refetchOnMount)}function KE(t,e,n){if(li(e.enabled,t)!==!1&&gc(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&eA(t,e)}return!1}function ET(t,e,n,r){return(t!==e||li(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&eA(t,n)}function eA(t,e){return li(e.enabled,t)!==!1&&t.isStaleByTime(gc(e.staleTime,t))}function bH(t,e){return!Hw(t.getCurrentResult(),e)}var Ya,Ja,Mr,Io,Lo,Jy,YE,uR,_H=(uR=class extends bh{constructor(n,r){super();Se(this,Lo);Se(this,Ya);Se(this,Ja);Se(this,Mr);Se(this,Io);fe(this,Ya,n),this.setOptions(r),this.bindMethods(),qe(this,Lo,Jy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=L(this,Ya).defaultMutationOptions(n),Hw(this.options,r)||L(this,Ya).getMutationCache().notify({type:"observerOptionsUpdated",mutation:L(this,Mr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Kl(r.mutationKey)!==Kl(this.options.mutationKey)?this.reset():((s=L(this,Mr))==null?void 0:s.state.status)==="pending"&&L(this,Mr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=L(this,Mr))==null||n.removeObserver(this)}onMutationUpdate(n){qe(this,Lo,Jy).call(this),qe(this,Lo,YE).call(this,n)}getCurrentResult(){return L(this,Ja)}reset(){var n;(n=L(this,Mr))==null||n.removeObserver(this),fe(this,Mr,void 0),qe(this,Lo,Jy).call(this),qe(this,Lo,YE).call(this)}mutate(n,r){var s;return fe(this,Io,r),(s=L(this,Mr))==null||s.removeObserver(this),fe(this,Mr,L(this,Ya).getMutationCache().build(L(this,Ya),this.options)),L(this,Mr).addObserver(this),L(this,Mr).execute(n)}},Ya=new WeakMap,Ja=new WeakMap,Mr=new WeakMap,Io=new WeakMap,Lo=new WeakSet,Jy=function(){var r;const n=((r=L(this,Mr))==null?void 0:r.state)??E5();fe(this,Ja,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},YE=function(n){wn.batch(()=>{var r,s,i,o,a,c,l,u;if(L(this,Io)&&this.hasListeners()){const d=L(this,Ja).variables,h=L(this,Ja).context;(n==null?void 0:n.type)==="success"?((s=(r=L(this,Io)).onSuccess)==null||s.call(r,n.data,d,h),(o=(i=L(this,Io)).onSettled)==null||o.call(i,n.data,null,d,h)):(n==null?void 0:n.type)==="error"&&((c=(a=L(this,Io)).onError)==null||c.call(a,n.error,d,h),(u=(l=L(this,Io)).onSettled)==null||u.call(l,void 0,n.error,d,h))}this.listeners.forEach(d=>{d(L(this,Ja))})})},uR);function EH(t){return JSON.stringify(t,(e,n)=>CH(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function CH(t){if(!CT(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!CT(n)||!n.hasOwnProperty("isPrototypeOf"))}function CT(t){return Object.prototype.toString.call(t)==="[object Object]"}function x5(t){const{_defaulted:e,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:i,maxPages:o,meta:a,networkMode:c,queryFn:l,queryHash:u,queryKey:d,queryKeyHashFn:h,retry:f,retryDelay:p,structuralSharing:g,getPreviousPageParam:y,getNextPageParam:w,initialPageParam:b,_optimisticResults:v,enabled:E,notifyOnChangeProps:_,placeholderData:x,refetchInterval:S,refetchIntervalInBackground:T,refetchOnMount:C,refetchOnReconnect:O,refetchOnWindowFocus:R,retryOnMount:B,select:z,staleTime:M,suspense:I,throwOnError:A,config:j,connector:P,query:k,...U}=t;return U}function xH(t){return{mutationFn(e){return Ky(t,e)},mutationKey:["connect"]}}function SH(t){return{mutationFn(e){return n5(t,e)},mutationKey:["disconnect"]}}function AH(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...i}=n[1];if(!r)throw new Error("address is required");return XW(t,{...i,address:r})},queryKey:IH(e)}}function IH(t={}){return["ensName",x5(t)]}function TH(t,e={}){return{gcTime:0,async queryFn({queryKey:n}){const{connector:r}=e,{connectorUid:s,scopeKey:i,...o}=n[1];return eq(t,{...o,connector:r})},queryKey:NH(e)}}function NH(t={}){const{connector:e,...n}=t;return["walletClient",{...x5(n),connectorUid:e==null?void 0:e.uid}]}var S5=D.createContext(void 0),tA=t=>{const e=D.useContext(S5);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},PH=({client:t,children:e})=>(D.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(S5.Provider,{value:t,children:e})),A5=D.createContext(!1),kH=()=>D.useContext(A5);A5.Provider;function OH(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var RH=D.createContext(OH()),$H=()=>D.useContext(RH),DH=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},jH=t=>{D.useEffect(()=>{t.clearReset()},[t])},UH=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||m5(n,[t.error,r])),LH=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},MH=(t,e)=>t.isLoading&&t.isFetching&&!e,BH=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,xT=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function FH(t,e,n){var d,h,f,p,g;const r=kH(),s=$H(),i=tA(),o=i.defaultQueryOptions(t);(h=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",LH(o),DH(o,s),jH(s);const a=!i.getQueryCache().get(o.queryHash),[c]=D.useState(()=>new e(i,o)),l=c.getOptimisticResult(o),u=!r&&t.subscribed!==!1;if(D.useSyncExternalStore(D.useCallback(y=>{const w=u?c.subscribe(wn.batchCalls(y)):mr;return c.updateResult(),w},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),D.useEffect(()=>{c.setOptions(o)},[o,c]),BH(o,l))throw xT(o,c,s);if(UH({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;if((p=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,o,l),o.experimental_prefetchInRender&&!Gl&&MH(l,r)){const y=a?xT(o,c,s):(g=i.getQueryCache().get(o.queryHash))==null?void 0:g.promise;y==null||y.catch(mr).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?l:c.trackResult(l)}function zH(t,e){return FH(t,wH)}function I5(t,e){const n=tA(),[r]=D.useState(()=>new _H(n,t));D.useEffect(()=>{r.setOptions(t)},[r,t]);const s=D.useSyncExternalStore(D.useCallback(o=>r.subscribe(wn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=D.useCallback((o,a)=>{r.mutate(o,a).catch(mr)},[r]);if(s.error&&m5(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function T5(t){const e=zH({...t,queryKeyHashFn:EH});return e.queryKey=t.queryKey,e}function N5(t={}){const e=Lc(t);return D.useSyncExternalStore(n=>iq(e,{onChange:n}),()=>lT(e),()=>lT(e))}function WH(t={}){const e=Lc(t);return D.useSyncExternalStore(n=>i5(e,{onChange:n}),()=>uT(e),()=>uT(e))}function P5(t={}){const{mutation:e}=t,n=Lc(t),r=xH(n),{mutate:s,mutateAsync:i,...o}=I5({...e,...r});return D.useEffect(()=>n.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&o.reset()}),[n,o.reset]),{...o,connect:s,connectAsync:i,connectors:WH({config:n})}}function qH(t={}){const e=Lc(t);return D.useSyncExternalStore(n=>oq(e,{onChange:n}),()=>Li(e),()=>Li(e))}function k5(t={}){const{mutation:e}=t,n=Lc(t),r=SH(n),{mutate:s,mutateAsync:i,...o}=I5({...e,...r});return{...o,connectors:qH({config:n}).map(a=>a.connector),disconnect:s,disconnectAsync:i}}function O5(t={}){const{address:e,query:n={}}=t,r=Lc(t),s=N5({config:r}),i=AH(r,{...t,chainId:t.chainId??s}),o=!!(e&&(n.enabled??!0));return T5({...n,...i,enabled:o})}function R5(t={}){const{query:e={},...n}=t,r=Lc(n),s=tA(),{address:i,connector:o,status:a}=em({config:r}),c=N5({config:r}),l=t.connector??o,{queryKey:u,...d}=TH(r,{...t,chainId:t.chainId??c,connector:t.connector??o}),h=!!((a==="connected"||a==="reconnecting"&&(l!=null&&l.getProvider))&&(e.enabled??!0)),f=D.useRef(i);return D.useEffect(()=>{const p=f.current;!i&&p?(s.removeQueries({queryKey:u}),f.current=void 0):i!==p&&(s.invalidateQueries({queryKey:u}),f.current=i)},[i,s]),T5({...e,...d,queryKey:u,enabled:h,staleTime:Number.POSITIVE_INFINITY})}const HH="_verified_lvyh0_1",nA={verified:HH},VH=()=>m.jsx("svg",{viewBox:"0 0 24 24","aria-label":"Verified account",role:"img",className:nA.verified,children:m.jsx("g",{children:m.jsx("path",{d:"M22.25 12c0-1.43-.88-2.67-2.19-3.34.46-1.39.2-2.9-.81-3.91s-2.52-1.27-3.91-.81c-.66-1.31-1.91-2.19-3.34-2.19s-2.67.88-3.33 2.19c-1.4-.46-2.91-.2-3.92.81s-1.26 2.52-.8 3.91c-1.31.67-2.2 1.91-2.2 3.34s.89 2.67 2.2 3.34c-.46 1.39-.21 2.9.8 3.91s2.52 1.26 3.91.81c.67 1.31 1.91 2.19 3.34 2.19s2.68-.88 3.34-2.19c1.39.45 2.9.2 3.91-.81s1.27-2.52.81-3.91c1.31-.67 2.19-1.91 2.19-3.34zm-11.71 4.2L6.8 12.46l1.41-1.42 2.26 2.26 4.8-5.23 1.47 1.36-6.2 6.77z"})})}),GH=()=>m.jsx("svg",{viewBox:"0 0 22 22","aria-label":"Verified account",role:"img",className:nA.verified,children:m.jsxs("g",{children:[m.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-a",x1:"4.411",x2:"18.083",y1:"2.495",y2:"21.508",children:[m.jsx("stop",{offset:"0",stopColor:"#f4e72a"}),m.jsx("stop",{offset:".539",stopColor:"#cd8105"}),m.jsx("stop",{offset:".68",stopColor:"#cb7b00"}),m.jsx("stop",{offset:"1",stopColor:"#f4ec26"}),m.jsx("stop",{offset:"1",stopColor:"#f4e72a"})]}),m.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-b",x1:"5.355",x2:"16.361",y1:"3.395",y2:"19.133",children:[m.jsx("stop",{offset:"0",stopColor:"#f9e87f"}),m.jsx("stop",{offset:".406",stopColor:"#e2b719"}),m.jsx("stop",{offset:".989",stopColor:"#e2b719"})]}),m.jsxs("g",{clipRule:"evenodd",fillRule:"evenodd",children:[m.jsx("path",{d:"M13.324 3.848L11 1.6 8.676 3.848l-3.201-.453-.559 3.184L2.06 8.095 3.48 11l-1.42 2.904 2.856 1.516.559 3.184 3.201-.452L11 20.4l2.324-2.248 3.201.452.559-3.184 2.856-1.516L18.52 11l1.42-2.905-2.856-1.516-.559-3.184zm-7.09 7.575l3.428 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-a)"}),m.jsx("path",{d:"M13.101 4.533L11 2.5 8.899 4.533l-2.895-.41-.505 2.88-2.583 1.37L4.2 11l-1.284 2.627 2.583 1.37.505 2.88 2.895-.41L11 19.5l2.101-2.033 2.895.41.505-2.88 2.583-1.37L17.8 11l1.284-2.627-2.583-1.37-.505-2.88zm-6.868 6.89l3.429 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-b)"}),m.jsx("path",{d:"M6.233 11.423l3.429 3.428 5.65-6.17.038-.033-.005 1.398-5.683 6.206-3.429-3.429-.003-1.405.005.003z",fill:"#d18800"})]})]})}),KH=()=>m.jsx("svg",{viewBox:"0 0 22 22","aria-label":"Verified account",role:"img",className:nA.verified,children:m.jsx("g",{children:m.jsx("path",{clipRule:"evenodd",d:"M12.05 2.056c-.568-.608-1.532-.608-2.1 0l-1.393 1.49c-.284.303-.685.47-1.1.455L5.42 3.932c-.832-.028-1.514.654-1.486 1.486l.069 2.039c.014.415-.152.816-.456 1.1l-1.49 1.392c-.608.568-.608 1.533 0 2.101l1.49 1.393c.304.284.47.684.456 1.1l-.07 2.038c-.027.832.655 1.514 1.487 1.486l2.038-.069c.415-.014.816.152 1.1.455l1.392 1.49c.569.609 1.533.609 2.102 0l1.393-1.49c.283-.303.684-.47 1.099-.455l2.038.069c.832.028 1.515-.654 1.486-1.486L18 14.542c-.015-.415.152-.815.455-1.099l1.49-1.393c.608-.568.608-1.533 0-2.101l-1.49-1.393c-.303-.283-.47-.684-.455-1.1l.068-2.038c.029-.832-.654-1.514-1.486-1.486l-2.038.07c-.415.013-.816-.153-1.1-.456zm-5.817 9.367l3.429 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fillRule:"evenodd"})})});function $5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=$5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mc(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=$5(t))&&(r&&(r+=" "),r+=e);return r}const YH="_root_98iqw_1",JH="_article_98iqw_21",ST={root:YH,article:JH},rA=({className:t,children:e})=>m.jsx("div",{className:mc("react-tweet-theme",ST.root,t),children:m.jsx("article",{className:ST.article,children:e})}),D5=t=>m.jsx("img",{...t}),QH="_header_nqq4j_1",ZH="_avatar_nqq4j_11",XH="_avatarOverflow_nqq4j_16",eV="_avatarSquare_nqq4j_23",tV="_avatarShadow_nqq4j_26",nV="_author_nqq4j_37",rV="_authorLink_nqq4j_44",sV="_authorVerified_nqq4j_53",iV="_authorLinkText_nqq4j_56",oV="_authorMeta_nqq4j_63",aV="_authorFollow_nqq4j_66",cV="_username_nqq4j_69",lV="_follow_nqq4j_74",uV="_separator_nqq4j_82",dV="_brand_nqq4j_86",hV="_twitterIcon_nqq4j_90",$n={header:QH,avatar:ZH,avatarOverflow:XH,avatarSquare:eV,avatarShadow:tV,author:nV,authorLink:rV,authorVerified:sV,authorLinkText:iV,authorMeta:oV,authorFollow:aV,username:cV,follow:lV,separator:uV,brand:dV,twitterIcon:hV},fV="_verifiedOld_lcna5_1",pV="_verifiedBlue_lcna5_4",gV="_verifiedGovernment_lcna5_7",Mb={verifiedOld:fV,verifiedBlue:pV,verifiedGovernment:gV},j5=({user:t,className:e})=>{const n=t.verified||t.is_blue_verified||t.verified_type;let r=m.jsx(VH,{}),s=Mb.verifiedBlue;if(n)switch(t.is_blue_verified||(s=Mb.verifiedOld),t.verified_type){case"Government":r=m.jsx(KH,{}),s=Mb.verifiedGovernment;break;case"Business":r=m.jsx(GH,{}),s=null;break}return n?m.jsx("div",{className:mc(e,s),children:r}):null},mV=({tweet:t,components:e})=>{var n;const r=(n=e==null?void 0:e.AvatarImg)!=null?n:D5,{user:s}=t;return m.jsxs("div",{className:$n.header,children:[m.jsxs("a",{href:t.url,className:$n.avatar,target:"_blank",rel:"noopener noreferrer",children:[m.jsx("div",{className:mc($n.avatarOverflow,s.profile_image_shape==="Square"&&$n.avatarSquare),children:m.jsx(r,{src:s.profile_image_url_https,alt:s.name,width:48,height:48})}),m.jsx("div",{className:$n.avatarOverflow,children:m.jsx("div",{className:$n.avatarShadow})})]}),m.jsxs("div",{className:$n.author,children:[m.jsxs("a",{href:t.url,className:$n.authorLink,target:"_blank",rel:"noopener noreferrer",children:[m.jsx("div",{className:$n.authorLinkText,children:m.jsx("span",{title:s.name,children:s.name})}),m.jsx(j5,{user:s,className:$n.authorVerified})]}),m.jsxs("div",{className:$n.authorMeta,children:[m.jsx("a",{href:t.url,className:$n.username,target:"_blank",rel:"noopener noreferrer",children:m.jsxs("span",{title:`@${s.screen_name}`,children:["@",s.screen_name]})}),m.jsxs("div",{className:$n.authorFollow,children:[m.jsx("span",{className:$n.separator,children:""}),m.jsx("a",{href:s.follow_url,className:$n.follow,target:"_blank",rel:"noopener noreferrer",children:"Follow"})]})]})]}),m.jsx("a",{href:t.url,className:$n.brand,target:"_blank",rel:"noopener noreferrer","aria-label":"View on Twitter",children:m.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:$n.twitterIcon,children:m.jsx("g",{children:m.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})})})]})},yV="_root_1ec15_1",wV={root:yV},vV=({tweet:t})=>m.jsxs("a",{href:t.in_reply_to_url,className:wV.root,target:"_blank",rel:"noopener noreferrer",children:["Replying to @",t.in_reply_to_screen_name]}),bV="_root_eihfa_1",_V={root:bV},EV=({href:t,children:e})=>m.jsx("a",{href:t,className:_V.root,target:"_blank",rel:"noopener noreferrer nofollow",children:e}),CV="_root_1xq52_1",xV={root:CV},SV=({tweet:t})=>m.jsx("p",{className:xV.root,lang:t.lang,dir:"auto",children:t.entities.map((e,n)=>{switch(e.type){case"hashtag":case"mention":case"url":case"symbol":return m.jsx(EV,{href:e.href,children:e.text},n);case"media":return;default:return m.jsx("span",{dangerouslySetInnerHTML:{__html:e.text}},n)}})}),AT=t=>`https://x.com/${t.user.screen_name}/status/${t.id_str}`,U5=t=>`https://x.com/${typeof t=="string"?t:t.user.screen_name}`,AV=t=>`https://x.com/intent/like?tweet_id=${t.id_str}`,IV=t=>`https://x.com/intent/tweet?in_reply_to=${t.id_str}`,TV=t=>`https://x.com/intent/follow?screen_name=${t.user.screen_name}`,NV=t=>`https://x.com/hashtag/${t.text}`,PV=t=>`https://x.com/search?q=%24${t.text}`,kV=t=>`https://x.com/${t.in_reply_to_screen_name}/status/${t.in_reply_to_status_id_str}`,L5=(t,e)=>{const n=new URL(t.media_url_https),r=n.pathname.split(".").pop();return r?(n.pathname=n.pathname.replace(`.${r}`,""),n.searchParams.set("format",r),n.searchParams.set("name",e),n.toString()):t.media_url_https},OV=t=>{const{variants:e}=t.video_info;return e.filter(r=>r.content_type==="video/mp4").sort((r,s)=>{var i,o;return((i=s.bitrate)!=null?i:0)-((o=r.bitrate)!=null?o:0)})},RV=t=>{const e=OV(t);return e.length>1?e[1]:e[0]},JE=t=>t>999999?`${(t/1e6).toFixed(1)}M`:t>999?`${(t/1e3).toFixed(1)}K`:t.toString();function IT(t){const e=Array.from(t.text),n=[{indices:t.display_text_range,type:"text"}];return Jh(n,"hashtag",t.entities.hashtags),Jh(n,"mention",t.entities.user_mentions),Jh(n,"url",t.entities.urls),Jh(n,"symbol",t.entities.symbols),t.entities.media&&Jh(n,"media",t.entities.media),$V(t,n),n.map(r=>{const s=e.slice(r.indices[0],r.indices[1]).join("");switch(r.type){case"hashtag":return Object.assign(r,{href:NV(r),text:s});case"mention":return Object.assign(r,{href:U5(r.screen_name),text:s});case"url":case"media":return Object.assign(r,{href:r.expanded_url,text:r.display_url});case"symbol":return Object.assign(r,{href:PV(r),text:s});default:return Object.assign(r,{text:s})}})}function Jh(t,e,n){for(const r of n)for(const[s,i]of t.entries()){if(i.indices[0]>r.indices[0]||i.indices[1]<r.indices[1])continue;const o=[{...r,type:e}];i.indices[0]<r.indices[0]&&o.unshift({indices:[i.indices[0],r.indices[0]],type:"text"}),i.indices[1]>r.indices[1]&&o.push({indices:[r.indices[1],i.indices[1]],type:"text"}),t.splice(s,1,...o);break}}function $V(t,e){t.entities.media&&t.entities.media[0].indices[0]<t.display_text_range[1]&&(t.display_text_range[1]=t.entities.media[0].indices[0]);const n=e.at(-1);n&&n.indices[1]>t.display_text_range[1]&&(n.indices[1]=t.display_text_range[1])}const DV=t=>({...t,url:AT(t),user:{...t.user,url:U5(t),follow_url:TV(t)},like_url:AV(t),reply_url:IV(t),in_reply_to_url:t.in_reply_to_screen_name?kV(t):void 0,entities:IT(t),quoted_tweet:t.quoted_tweet?{...t.quoted_tweet,url:AT(t.quoted_tweet),entities:IT(t.quoted_tweet)}:void 0}),jV="_root_g9tkv_1",UV="_rounded_g9tkv_6",LV="_mediaWrapper_g9tkv_10",MV="_grid2Columns_g9tkv_17",BV="_grid3_g9tkv_20",FV="_grid2x2_g9tkv_23",zV="_mediaContainer_g9tkv_26",WV="_mediaLink_g9tkv_34",qV="_skeleton_g9tkv_38",HV="_image_g9tkv_43",rs={root:jV,rounded:UV,mediaWrapper:LV,grid2Columns:MV,grid3:BV,grid2x2:FV,mediaContainer:zV,mediaLink:WV,skeleton:qV,image:HV},VV="_anchor_fp31d_1",GV="_videoButton_fp31d_17",KV="_videoButtonIcon_fp31d_35",YV="_watchOnTwitter_fp31d_44",JV="_viewReplies_fp31d_60",xu={anchor:VV,videoButton:GV,videoButtonIcon:KV,watchOnTwitter:YV,viewReplies:JV},QV=({tweet:t,media:e})=>{const[n,r]=D.useState(!0),[s,i]=D.useState(!1),[o,a]=D.useState(!1),c=RV(e);let l=0;return m.jsxs(m.Fragment,{children:[m.jsx("video",{className:rs.image,poster:L5(e,"small"),controls:!n,playsInline:!0,preload:"none",tabIndex:n?-1:0,onPlay:()=>{l&&window.clearTimeout(l),s||i(!0),o&&a(!1)},onPause:()=>{l&&window.clearTimeout(l),l=window.setTimeout(()=>{s&&i(!1),l=0},100)},onEnded:()=>{a(!0)},children:m.jsx("source",{src:c.url,type:c.content_type})}),n&&m.jsx("button",{type:"button",className:xu.videoButton,"aria-label":"View video on X",onClick:u=>{const d=u.currentTarget.previousSibling;u.preventDefault(),r(!1),d.load(),d.play().then(()=>{i(!0),d.focus()}).catch(h=>{console.error("Error playing video:",h),r(!0),i(!1)})},children:m.jsx("svg",{viewBox:"0 0 24 24",className:xu.videoButtonIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M21 12L4 2v20l17-10z"})})})}),!s&&!o&&m.jsx("div",{className:xu.watchOnTwitter,children:m.jsx("a",{href:t.url,className:xu.anchor,target:"_blank",rel:"noopener noreferrer",children:n?"Watch on X":"Continue watching on X"})}),o&&m.jsx("a",{href:t.url,className:mc(xu.anchor,xu.viewReplies),target:"_blank",rel:"noopener noreferrer",children:"View replies"})]})},ZV=t=>m.jsx("img",{...t}),TT=(t,e)=>{let n=56.25;return e===1&&(n=100/t.original_info.width*t.original_info.height),e===2&&(n=n*2),{width:t.type==="photo"?void 0:"unset",paddingBottom:`${n}%`}},M5=({tweet:t,components:e,quoted:n})=>{var r,s,i;const o=(i=(r=t.mediaDetails)==null?void 0:r.length)!=null?i:0;var a;const c=(a=e==null?void 0:e.MediaImg)!=null?a:ZV;return m.jsx("div",{className:mc(rs.root,!n&&rs.rounded),children:m.jsx("div",{className:mc(rs.mediaWrapper,o>1&&rs.grid2Columns,o===3&&rs.grid3,o>4&&rs.grid2x2),children:(s=t.mediaDetails)==null?void 0:s.map(l=>m.jsx(D.Fragment,{children:l.type==="photo"?m.jsxs("a",{href:t.url,className:mc(rs.mediaContainer,rs.mediaLink),target:"_blank",rel:"noopener noreferrer",children:[m.jsx("div",{className:rs.skeleton,style:TT(l,o)}),m.jsx(c,{src:L5(l,"small"),alt:l.ext_alt_text||"Image",className:rs.image,draggable:!0})]},l.media_url_https):m.jsxs("div",{className:rs.mediaContainer,children:[m.jsx("div",{className:rs.skeleton,style:TT(l,o)}),m.jsx(QV,{tweet:t,media:l})]},l.media_url_https)},l.media_url_https))})})},XV={hour:"numeric",minute:"2-digit",hour12:!0,weekday:"short",month:"short",day:"numeric",year:"numeric"},eG=new Intl.DateTimeFormat("en-US",XV),tG=t=>{const e={};for(const n of t)e[n.type]=n.value;return e},nG=t=>{const e=tG(eG.formatToParts(t)),n=`${e.hour}:${e.minute} ${e.dayPeriod}`,r=`${e.month} ${e.day}, ${e.year}`;return`${n}  ${r}`},rG="_root_i24yn_1",sG={root:rG},iG=({tweet:t})=>{const e=new Date(t.created_at),n=nG(e);return m.jsx("a",{className:sG.root,href:t.url,target:"_blank",rel:"noopener noreferrer","aria-label":n,children:m.jsx("time",{dateTime:e.toISOString(),children:n})})},oG="_info_19qcj_1",aG="_infoLink_19qcj_10",cG="_infoIcon_19qcj_30",Bb={info:oG,infoLink:aG,infoIcon:cG},lG=({tweet:t})=>m.jsxs("div",{className:Bb.info,children:[m.jsx(iG,{tweet:t}),m.jsx("a",{className:Bb.infoLink,href:"https://help.x.com/en/x-for-websites-ads-info-and-privacy",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter for Websites, Ads Information and Privacy",children:m.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:Bb.infoIcon,children:m.jsx("g",{children:m.jsx("path",{d:"M13.5 8.5c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5S11.17 7 12 7s1.5.67 1.5 1.5zM13 17v-5h-2v5h2zm-1 5.25c5.66 0 10.25-4.59 10.25-10.25S17.66 1.75 12 1.75 1.75 6.34 1.75 12 6.34 22.25 12 22.25zM20.25 12c0 4.56-3.69 8.25-8.25 8.25S3.75 16.56 3.75 12 7.44 3.75 12 3.75s8.25 3.69 8.25 8.25z"})})})})]}),uG="_actions_n2anf_1",dG="_like_n2anf_13",hG="_reply_n2anf_14",fG="_copy_n2anf_15",pG="_likeIconWrapper_n2anf_27",gG="_likeCount_n2anf_30",mG="_replyIconWrapper_n2anf_35",yG="_copyIconWrapper_n2anf_36",wG="_likeIcon_n2anf_27",vG="_replyIcon_n2anf_35",bG="_copyIcon_n2anf_36",_G="_replyText_n2anf_56",EG="_copyText_n2anf_57",Br={actions:uG,like:dG,reply:hG,copy:fG,likeIconWrapper:pG,likeCount:gG,replyIconWrapper:mG,copyIconWrapper:yG,likeIcon:wG,replyIcon:vG,copyIcon:bG,replyText:_G,copyText:EG},CG=({tweet:t})=>{const[e,n]=D.useState(!1),r=()=>{navigator.clipboard.writeText(t.url),n(!0)};return D.useEffect(()=>{if(e){const s=setTimeout(()=>{n(!1)},6e3);return()=>clearTimeout(s)}},[e]),m.jsxs("button",{type:"button",className:Br.copy,"aria-label":"Copy link",onClick:r,children:[m.jsx("div",{className:Br.copyIconWrapper,children:e?m.jsx("svg",{viewBox:"0 0 24 24",className:Br.copyIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M9.64 18.952l-5.55-4.861 1.317-1.504 3.951 3.459 8.459-10.948L19.4 6.32 9.64 18.952z"})})}):m.jsx("svg",{viewBox:"0 0 24 24",className:Br.copyIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M18.36 5.64c-1.95-1.96-5.11-1.96-7.07 0L9.88 7.05 8.46 5.64l1.42-1.42c2.73-2.73 7.16-2.73 9.9 0 2.73 2.74 2.73 7.17 0 9.9l-1.42 1.42-1.41-1.42 1.41-1.41c1.96-1.96 1.96-5.12 0-7.07zm-2.12 3.53l-7.07 7.07-1.41-1.41 7.07-7.07 1.41 1.41zm-12.02.71l1.42-1.42 1.41 1.42-1.41 1.41c-1.96 1.96-1.96 5.12 0 7.07 1.95 1.96 5.11 1.96 7.07 0l1.41-1.41 1.42 1.41-1.42 1.42c-2.73 2.73-7.16 2.73-9.9 0-2.73-2.74-2.73-7.17 0-9.9z"})})})}),m.jsx("span",{className:Br.copyText,children:e?"Copied!":"Copy link"})]})},xG=({tweet:t})=>{const e=JE(t.favorite_count);return m.jsxs("div",{className:Br.actions,children:[m.jsxs("a",{className:Br.like,href:t.like_url,target:"_blank",rel:"noopener noreferrer","aria-label":`Like. This Tweet has ${e} likes`,children:[m.jsx("div",{className:Br.likeIconWrapper,children:m.jsx("svg",{viewBox:"0 0 24 24",className:Br.likeIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M20.884 13.19c-1.351 2.48-4.001 5.12-8.379 7.67l-.503.3-.504-.3c-4.379-2.55-7.029-5.19-8.382-7.67-1.36-2.5-1.41-4.86-.514-6.67.887-1.79 2.647-2.91 4.601-3.01 1.651-.09 3.368.56 4.798 2.01 1.429-1.45 3.146-2.1 4.796-2.01 1.954.1 3.714 1.22 4.601 3.01.896 1.81.846 4.17-.514 6.67z"})})})}),m.jsx("span",{className:Br.likeCount,children:e})]}),m.jsxs("a",{className:Br.reply,href:t.reply_url,target:"_blank",rel:"noopener noreferrer","aria-label":"Reply to this Tweet on Twitter",children:[m.jsx("div",{className:Br.replyIconWrapper,children:m.jsx("svg",{viewBox:"0 0 24 24",className:Br.replyIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M1.751 10c0-4.42 3.584-8 8.005-8h4.366c4.49 0 8.129 3.64 8.129 8.13 0 2.96-1.607 5.68-4.196 7.11l-8.054 4.46v-3.69h-.067c-4.49.1-8.183-3.51-8.183-8.01z"})})})}),m.jsx("span",{className:Br.replyText,children:"Reply"})]}),m.jsx(CG,{tweet:t})]})},SG="_replies_1cutb_1",AG="_link_1cutb_4",IG="_text_1cutb_23",Fb={replies:SG,link:AG,text:IG},TG=({tweet:t})=>m.jsx("div",{className:Fb.replies,children:m.jsx("a",{className:Fb.link,href:t.url,target:"_blank",rel:"noopener noreferrer",children:m.jsx("span",{className:Fb.text,children:t.conversation_count===0?"Read more on X":t.conversation_count===1?`Read ${JE(t.conversation_count)} reply`:`Read ${JE(t.conversation_count)} replies`})})}),NG="_root_q5799_1",PG="_article_q5799_16",NT={root:NG,article:PG},kG=({tweet:t,children:e})=>m.jsx("div",{className:NT.root,onClick:n=>{n.preventDefault(),window.open(t.url,"_blank")},children:m.jsx("article",{className:NT.article,children:e})}),OG="_header_r31i5_1",RG="_avatar_r31i5_11",$G="_avatarSquare_r31i5_17",DG="_author_r31i5_21",jG="_authorText_r31i5_26",UG="_username_r31i5_33",Hc={header:OG,avatar:RG,avatarSquare:$G,author:DG,authorText:jG,username:UG},LG=({tweet:t})=>{const{user:e}=t;return m.jsxs("div",{className:Hc.header,children:[m.jsx("a",{href:t.url,className:Hc.avatar,target:"_blank",rel:"noopener noreferrer",children:m.jsx("div",{className:mc(Hc.avatarOverflow,e.profile_image_shape==="Square"&&Hc.avatarSquare),children:m.jsx(D5,{src:e.profile_image_url_https,alt:e.name,width:20,height:20})})}),m.jsxs("div",{className:Hc.author,children:[m.jsx("div",{className:Hc.authorText,children:m.jsx("span",{title:e.name,children:e.name})}),m.jsx(j5,{user:e}),m.jsx("div",{className:Hc.username,children:m.jsxs("span",{title:`@${e.screen_name}`,children:["@",e.screen_name]})})]})]})},MG="_root_175ot_1",BG={root:MG},FG=({tweet:t})=>m.jsx("p",{className:BG.root,lang:t.lang,dir:"auto",children:t.entities.map((e,n)=>m.jsx("span",{dangerouslySetInnerHTML:{__html:e.text}},n))}),zG=({tweet:t})=>{var e;return m.jsxs(kG,{tweet:t,children:[m.jsx(LG,{tweet:t}),m.jsx(FG,{tweet:t}),(e=t.mediaDetails)!=null&&e.length?m.jsx(M5,{quoted:!0,tweet:t}):null]})},WG=({tweet:t,components:e})=>{var n;const r=D.useMemo(()=>DV(t),[t]);return m.jsxs(rA,{children:[m.jsx(mV,{tweet:r,components:e}),r.in_reply_to_status_id_str&&m.jsx(vV,{tweet:r}),m.jsx(SV,{tweet:r}),(n=r.mediaDetails)!=null&&n.length?m.jsx(M5,{tweet:r,components:e}):null,r.quoted_tweet&&m.jsx(zG,{tweet:r.quoted_tweet}),m.jsx(lG,{tweet:r}),m.jsx(xG,{tweet:r}),m.jsx(TG,{tweet:r})]})},qG="_root_16yxa_1",HG={root:qG},VG=t=>m.jsx(rA,{children:m.jsxs("div",{className:HG.root,children:[m.jsx("h3",{children:"Tweet not found"}),m.jsx("p",{children:"The embedded tweet could not be found"})]})}),GG="_skeleton_oi7hr_1",KG={skeleton:GG},Jm=({style:t})=>m.jsx("span",{className:KG.skeleton,style:t}),YG="_root_17qqv_1",JG={root:YG},QG=()=>m.jsxs(rA,{className:JG.root,children:[m.jsx(Jm,{style:{height:"3rem",marginBottom:"0.75rem"}}),m.jsx(Jm,{style:{height:"6rem",margin:"0.5rem 0"}}),m.jsx("div",{style:{borderTop:"var(--tweet-border)",margin:"0.5rem 0"}}),m.jsx(Jm,{style:{height:"2rem"}}),m.jsx(Jm,{style:{height:"2rem",borderRadius:"9999px",marginTop:"0.5rem"}})]});var B5={exports:{}},F5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh=D;function ZG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var XG=typeof Object.is=="function"?Object.is:ZG,eK=nh.useState,tK=nh.useEffect,nK=nh.useLayoutEffect,rK=nh.useDebugValue;function sK(t,e){var n=e(),r=eK({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return nK(function(){s.value=n,s.getSnapshot=e,zb(s)&&i({inst:s})},[t,n,e]),tK(function(){return zb(s)&&i({inst:s}),t(function(){zb(s)&&i({inst:s})})},[t]),rK(n),n}function zb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!XG(t,n)}catch{return!0}}function iK(t,e){return e()}var oK=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?iK:sK;F5.useSyncExternalStore=nh.useSyncExternalStore!==void 0?nh.useSyncExternalStore:oK;B5.exports=F5;var aK=B5.exports;const z5=0,W5=1,q5=2,PT=3;var kT=Object.prototype.hasOwnProperty;function QE(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&QE(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(kT.call(t,n)&&++r&&!kT.call(e,n)||!(n in e)||!QE(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}const To=new WeakMap,ec=()=>{},yr=ec(),ZE=Object,rt=t=>t===yr,Hi=t=>typeof t=="function",Tc=(t,e)=>({...t,...e}),H5=t=>Hi(t.then),Wb={},Qm={},sA="undefined",tm=typeof window!=sA,XE=typeof document!=sA,cK=tm&&"Deno"in window,lK=()=>tm&&typeof window.requestAnimationFrame!=sA,V5=(t,e)=>{const n=To.get(t);return[()=>!rt(e)&&t.get(e)||Wb,r=>{if(!rt(e)){const s=t.get(e);e in Qm||(Qm[e]=s),n[5](e,Tc(s,r),s||Wb)}},n[6],()=>!rt(e)&&e in Qm?Qm[e]:!rt(e)&&t.get(e)||Wb]};let eC=!0;const uK=()=>eC,[tC,nC]=tm&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[ec,ec],dK=()=>{const t=XE&&document.visibilityState;return rt(t)||t!=="hidden"},hK=t=>(XE&&document.addEventListener("visibilitychange",t),tC("focus",t),()=>{XE&&document.removeEventListener("visibilitychange",t),nC("focus",t)}),fK=t=>{const e=()=>{eC=!0,t()},n=()=>{eC=!1};return tC("online",e),tC("offline",n),()=>{nC("online",e),nC("offline",n)}},pK={isOnline:uK,isVisible:dK},gK={initFocus:hK,initReconnect:fK},OT=!hs.useId,ng=!tm||cK,mK=t=>lK()?window.requestAnimationFrame(t):setTimeout(t,1),qb=ng?D.useEffect:D.useLayoutEffect,Hb=typeof navigator<"u"&&navigator.connection,RT=!ng&&Hb&&(["slow-2g","2g"].includes(Hb.effectiveType)||Hb.saveData),Zm=new WeakMap,Vb=(t,e)=>ZE.prototype.toString.call(t)===`[object ${e}]`;let yK=0;const rC=t=>{const e=typeof t,n=Vb(t,"Date"),r=Vb(t,"RegExp"),s=Vb(t,"Object");let i,o;if(ZE(t)===t&&!n&&!r){if(i=Zm.get(t),i)return i;if(i=++yK+"~",Zm.set(t,i),Array.isArray(t)){for(i="@",o=0;o<t.length;o++)i+=rC(t[o])+",";Zm.set(t,i)}if(s){i="#";const a=ZE.keys(t).sort();for(;!rt(o=a.pop());)rt(t[o])||(i+=o+":"+rC(t[o])+",");Zm.set(t,i)}}else i=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},iA=t=>{if(Hi(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?rC(t):"",[t,e]};let wK=0;const sC=()=>++wK;async function G5(...t){const[e,n,r,s]=t,i=Tc({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let o=i.populateCache;const a=i.rollbackOnError;let c=i.optimisticData;const l=h=>typeof a=="function"?a(h):a!==!1,u=i.throwOnError;if(Hi(n)){const h=n,f=[],p=e.keys();for(const g of p)!/^\$(inf|sub)\$/.test(g)&&h(e.get(g)._k)&&f.push(g);return Promise.all(f.map(d))}return d(n);async function d(h){const[f]=iA(h);if(!f)return;const[p,g]=V5(e,f),[y,w,b,v]=To.get(e),E=()=>{const z=y[f];return(Hi(i.revalidate)?i.revalidate(p().data,h):i.revalidate!==!1)&&(delete b[f],delete v[f],z&&z[0])?z[0](q5).then(()=>p().data):p().data};if(t.length<3)return E();let _=r,x;const S=sC();w[f]=[S,0];const T=!rt(c),C=p(),O=C.data,R=C._c,B=rt(R)?O:R;if(T&&(c=Hi(c)?c(B,O):c,g({data:c,_c:B})),Hi(_))try{_=_(B)}catch(z){x=z}if(_&&H5(_))if(_=await _.catch(z=>{x=z}),S!==w[f][0]){if(x)throw x;return _}else x&&T&&l(x)&&(o=!0,g({data:B,_c:yr}));if(o&&!x)if(Hi(o)){const z=o(_,B);g({data:z,error:yr,_c:yr})}else g({data:_,error:yr,_c:yr});if(w[f][1]=sC(),Promise.resolve(E()).then(()=>{g({_c:yr})}),x){if(u)throw x;return}return _}}const $T=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},vK=(t,e)=>{if(!To.has(t)){const n=Tc(gK,e),r=Object.create(null),s=G5.bind(yr,t);let i=ec;const o=Object.create(null),a=(u,d)=>{const h=o[u]||[];return o[u]=h,h.push(d),()=>h.splice(h.indexOf(d),1)},c=(u,d,h)=>{t.set(u,d);const f=o[u];if(f)for(const p of f)p(d,h)},l=()=>{if(!To.has(t)&&(To.set(t,[r,Object.create(null),Object.create(null),Object.create(null),s,c,a]),!ng)){const u=n.initFocus(setTimeout.bind(yr,$T.bind(yr,r,z5))),d=n.initReconnect(setTimeout.bind(yr,$T.bind(yr,r,W5)));i=()=>{u&&u(),d&&d(),To.delete(t)}}};return l(),[t,s,l,i]}return[t,To.get(t)[4]]},bK=(t,e,n,r,s)=>{const i=n.errorRetryCount,o=s.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!rt(i)&&o>i||setTimeout(r,a,s)},_K=QE,[K5,EK]=vK(new Map),CK=Tc({onLoadingSlow:ec,onSuccess:ec,onError:ec,onErrorRetry:bK,onDiscarded:ec,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:RT?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:RT?5e3:3e3,compare:_K,isPaused:()=>!1,cache:K5,mutate:EK,fallback:{}},pK),xK=(t,e)=>{const n=Tc(t,e);if(e){const{use:r,fallback:s}=t,{use:i,fallback:o}=e;r&&i&&(n.use=r.concat(i)),s&&o&&(n.fallback=Tc(s,o))}return n},SK=D.createContext({}),AK="$inf$",Y5=tm&&window.__SWR_DEVTOOLS_USE__,IK=Y5?window.__SWR_DEVTOOLS_USE__:[],TK=()=>{Y5&&(window.__SWR_DEVTOOLS_REACT__=hs)},NK=t=>Hi(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],PK=()=>Tc(CK,D.useContext(SK)),kK=t=>(e,n,r)=>t(e,n&&((...i)=>{const[o]=iA(e),[,,,a]=To.get(K5);if(o.startsWith(AK))return n(...i);const c=a[o];return rt(c)?n(...i):(delete a[o],c)}),r),OK=IK.concat(kK),RK=t=>function(...n){const r=PK(),[s,i,o]=NK(n),a=xK(r,o);let c=t;const{use:l}=a,u=(l||[]).concat(OK);for(let d=u.length;d--;)c=u[d](c);return c(s,i||a.fetcher||null,a)},$K=(t,e,n)=>{const r=e[t]||(e[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s>=0&&(r[s]=r[r.length-1],r.pop())}};TK();const Gb=hs.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),Kb={dedupe:!0},DK=(t,e,n)=>{const{cache:r,compare:s,suspense:i,fallbackData:o,revalidateOnMount:a,revalidateIfStale:c,refreshInterval:l,refreshWhenHidden:u,refreshWhenOffline:d,keepPreviousData:h}=n,[f,p,g,y]=To.get(r),[w,b]=iA(t),v=D.useRef(!1),E=D.useRef(!1),_=D.useRef(w),x=D.useRef(e),S=D.useRef(n),T=()=>S.current,C=()=>T().isVisible()&&T().isOnline(),[O,R,B,z]=V5(r,w),M=D.useRef({}).current,I=rt(o)?rt(n.fallback)?yr:n.fallback[w]:o,A=(Ye,Ke)=>{for(const Kt in M){const Ot=Kt;if(Ot==="data"){if(!s(Ye[Ot],Ke[Ot])&&(!rt(Ye[Ot])||!s(Z,Ke[Ot])))return!1}else if(Ke[Ot]!==Ye[Ot])return!1}return!0},j=D.useMemo(()=>{const Ye=!w||!e?!1:rt(a)?T().isPaused()||i?!1:c!==!1:a,Ke=Yt=>{const Jn=Tc(Yt);return delete Jn._k,Ye?{isValidating:!0,isLoading:!0,...Jn}:Jn},Kt=O(),Ot=z(),_n=Ke(Kt),Ii=Kt===Ot?_n:Ke(Ot);let Ft=_n;return[()=>{const Yt=Ke(O());return A(Yt,Ft)?(Ft.data=Yt.data,Ft.isLoading=Yt.isLoading,Ft.isValidating=Yt.isValidating,Ft.error=Yt.error,Ft):(Ft=Yt,Yt)},()=>Ii]},[r,w]),P=aK.useSyncExternalStore(D.useCallback(Ye=>B(w,(Ke,Kt)=>{A(Kt,Ke)||Ye()}),[r,w]),j[0],j[1]),k=!v.current,U=f[w]&&f[w].length>0,F=P.data,V=rt(F)?I&&H5(I)?Gb(I):I:F,J=P.error,K=D.useRef(V),Z=h?rt(F)?rt(K.current)?V:K.current:F:V,se=U&&!rt(J)?!1:k&&!rt(a)?a:T().isPaused()?!1:i?rt(V)?!1:c:rt(V)||c,Ie=!!(w&&e&&k&&se),je=rt(P.isValidating)?Ie:P.isValidating,Re=rt(P.isLoading)?Ie:P.isLoading,Ge=D.useCallback(async Ye=>{const Ke=x.current;if(!w||!Ke||E.current||T().isPaused())return!1;let Kt,Ot,_n=!0;const Ii=Ye||{},Ft=!g[w]||!Ii.dedupe,Yt=()=>OT?!E.current&&w===_.current&&v.current:w===_.current,Jn={isValidating:!1,isLoading:!1},Fc=()=>{R(Jn)},Zo=()=>{const Rn=g[w];Rn&&Rn[1]===Ot&&delete g[w]},Xo={isValidating:!0};rt(O().data)&&(Xo.isLoading=!0);try{if(Ft&&(R(Xo),n.loadingTimeout&&rt(O().data)&&setTimeout(()=>{_n&&Yt()&&T().onLoadingSlow(w,n)},n.loadingTimeout),g[w]=[Ke(b),sC()]),[Kt,Ot]=g[w],Kt=await Kt,Ft&&setTimeout(Zo,n.dedupingInterval),!g[w]||g[w][1]!==Ot)return Ft&&Yt()&&T().onDiscarded(w),!1;Jn.error=yr;const Rn=p[w];if(!rt(Rn)&&(Ot<=Rn[0]||Ot<=Rn[1]||Rn[1]===0))return Fc(),Ft&&Yt()&&T().onDiscarded(w),!1;const Ar=O().data;Jn.data=s(Ar,Kt)?Ar:Kt,Ft&&Yt()&&T().onSuccess(Kt,w,n)}catch(Rn){Zo();const Ar=T(),{shouldRetryOnError:ea}=Ar;Ar.isPaused()||(Jn.error=Rn,Ft&&Yt()&&(Ar.onError(Rn,w,Ar),(ea===!0||Hi(ea)&&ea(Rn))&&(!T().revalidateOnFocus||!T().revalidateOnReconnect||C())&&Ar.onErrorRetry(Rn,w,Ar,_u=>{const ta=f[w];ta&&ta[0]&&ta[0](PT,_u)},{retryCount:(Ii.retryCount||0)+1,dedupe:!0})))}return _n=!1,Fc(),!0},[w,r]),Lt=D.useCallback((...Ye)=>G5(r,_.current,...Ye),[]);if(qb(()=>{x.current=e,S.current=n,rt(F)||(K.current=F)}),qb(()=>{if(!w)return;const Ye=Ge.bind(yr,Kb);let Ke=0;T().revalidateOnFocus&&(Ke=Date.now()+T().focusThrottleInterval);const Ot=$K(w,f,(_n,Ii={})=>{if(_n==z5){const Ft=Date.now();T().revalidateOnFocus&&Ft>Ke&&C()&&(Ke=Ft+T().focusThrottleInterval,Ye())}else if(_n==W5)T().revalidateOnReconnect&&C()&&Ye();else{if(_n==q5)return Ge();if(_n==PT)return Ge(Ii)}});return E.current=!1,_.current=w,v.current=!0,R({_k:b}),se&&(rt(V)||ng?Ye():mK(Ye)),()=>{E.current=!0,Ot()}},[w]),qb(()=>{let Ye;function Ke(){const Ot=Hi(l)?l(O().data):l;Ot&&Ye!==-1&&(Ye=setTimeout(Kt,Ot))}function Kt(){!O().error&&(u||T().isVisible())&&(d||T().isOnline())?Ge(Kb).then(Ke):Ke()}return Ke(),()=>{Ye&&(clearTimeout(Ye),Ye=-1)}},[l,u,d,w]),D.useDebugValue(Z),i&&rt(V)&&w){if(!OT&&ng)throw new Error("Fallback data is required when using Suspense in SSR.");x.current=e,S.current=n,E.current=!1;const Ye=y[w];if(!rt(Ye)){const Ke=Lt(Ye);Gb(Ke)}if(rt(J)){const Ke=Ge(Kb);rt(Z)||(Ke.status="fulfilled",Ke.value=!0),Gb(Ke)}else throw J}return{mutate:Lt,get data(){return M.data=!0,Z},get error(){return M.error=!0,J},get isValidating(){return M.isValidating=!0,je},get isLoading(){return M.isLoading=!0,Re}}},DT=RK(DK);class jK extends Error{constructor({message:e,status:n,data:r}){super(e),this.name="TwitterApiError",this.status=n,this.data=r}}const UK=DT.default||DT,LK="https://react-tweet.vercel.app";async function MK([t,e]){const n=await fetch(t,e),r=await n.json();if(n.ok)return r.data||null;throw new jK({message:`Failed to fetch tweet at "${t}" with "${n.status}".`,data:r,status:n.status})}const BK=(t,e,n)=>{const{isLoading:r,data:s,error:i}=UK(()=>e||t?[e||t&&`${LK}/api/tweet/${t}`,n]:null,MK,{revalidateIfStale:!1,revalidateOnFocus:!1,shouldRetryOnError:!1});return{isLoading:!!(r||s===void 0&&!i),data:s,error:i}},FK=({id:t,apiUrl:e,fallback:n=m.jsx(QG,{}),components:r,fetchOptions:s,onError:i})=>{const{data:o,error:a,isLoading:c}=BK(t,e,s);if(c)return n;if(a||!o){const l=(r==null?void 0:r.TweetNotFound)||VG;return m.jsx(l,{error:i?i(a):a})}return m.jsx(WG,{tweet:o,components:r})};var X0={exports:{}},J5={},Q5={exports:{}},zK="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",WK=zK,qK=WK;function Z5(){}function X5(){}X5.resetWarningCache=Z5;var HK=function(){function t(r,s,i,o,a,c){if(c!==qK){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:X5,resetWarningCache:Z5};return n.PropTypes=n,n};Q5.exports=HK();var e8=Q5.exports;function t8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=t8(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function jT(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=t8(t))&&(r&&(r+=" "),r+=e);return r}const VK=Object.freeze(Object.defineProperty({__proto__:null,clsx:jT,default:jT},Symbol.toStringTag,{value:"Module"})),GK=C0(VK);var en={},so={};Object.defineProperty(so,"__esModule",{value:!0});so.dontSetMe=ZK;so.findInArray=KK;so.int=QK;so.isFunction=YK;so.isNum=JK;function KK(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function YK(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function JK(t){return typeof t=="number"&&!isNaN(t)}function QK(t){return parseInt(t,10)}function ZK(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var uu={};Object.defineProperty(uu,"__esModule",{value:!0});uu.browserPrefixToKey=r8;uu.browserPrefixToStyle=XK;uu.default=void 0;uu.getPrefix=n8;const Yb=["Moz","Webkit","O","ms"];function n8(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<Yb.length;r++)if(r8(e,Yb[r])in n)return Yb[r];return""}function r8(t,e){return e?"".concat(e).concat(eY(t)):t}function XK(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function eY(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}uu.default=n8();Object.defineProperty(en,"__esModule",{value:!0});en.addClassName=o8;en.addEvent=rY;en.addUserSelectStyles=pY;en.createCSSTransform=uY;en.createSVGTransform=dY;en.getTouch=hY;en.getTouchIdentifier=fY;en.getTranslation=oA;en.innerHeight=aY;en.innerWidth=cY;en.matchesSelector=i8;en.matchesSelectorAndParentsTo=nY;en.offsetXYFromParent=lY;en.outerHeight=iY;en.outerWidth=oY;en.removeClassName=a8;en.removeEvent=sY;en.removeUserSelectStyles=gY;var gs=so,UT=tY(uu);function s8(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(s8=function(r){return r?n:e})(t)}function tY(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=s8(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}let Xm="";function i8(t,e){return Xm||(Xm=(0,gs.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,gs.isFunction)(t[n])})),(0,gs.isFunction)(t[Xm])?t[Xm](e):!1}function nY(t,e,n){let r=t;do{if(i8(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function rY(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,s):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function sY(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,s):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function iY(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,gs.int)(n.borderTopWidth),e+=(0,gs.int)(n.borderBottomWidth),e}function oY(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,gs.int)(n.borderLeftWidth),e+=(0,gs.int)(n.borderRightWidth),e}function aY(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,gs.int)(n.paddingTop),e-=(0,gs.int)(n.paddingBottom),e}function cY(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,gs.int)(n.paddingLeft),e-=(0,gs.int)(n.paddingRight),e}function lY(t,e,n){const s=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),i=(t.clientX+e.scrollLeft-s.left)/n,o=(t.clientY+e.scrollTop-s.top)/n;return{x:i,y:o}}function uY(t,e){const n=oA(t,e,"px");return{[(0,UT.browserPrefixToKey)("transform",UT.default)]:n}}function dY(t,e){return oA(t,e,"")}function oA(t,e,n){let{x:r,y:s}=t,i="translate(".concat(r).concat(n,",").concat(s).concat(n,")");if(e){const o="".concat(typeof e.x=="string"?e.x:e.x+n),a="".concat(typeof e.y=="string"?e.y:e.y+n);i="translate(".concat(o,", ").concat(a,")")+i}return i}function hY(t,e){return t.targetTouches&&(0,gs.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,gs.findInArray)(t.changedTouches,n=>e===n.identifier)}function fY(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function pY(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&o8(t.body,"react-draggable-transparent-selection")}function gY(t){if(t)try{if(t.body&&a8(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function o8(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function a8(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var io={};Object.defineProperty(io,"__esModule",{value:!0});io.canDragX=wY;io.canDragY=vY;io.createCoreData=_Y;io.createDraggableData=EY;io.getBoundPosition=mY;io.getControlPosition=bY;io.snapToGrid=yY;var ss=so,gd=en;function mY(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:CY(r);const s=aA(t);if(typeof r=="string"){const{ownerDocument:i}=s,o=i.defaultView;let a;if(r==="parent"?a=s.parentNode:a=i.querySelector(r),!(a instanceof o.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const c=a,l=o.getComputedStyle(s),u=o.getComputedStyle(c);r={left:-s.offsetLeft+(0,ss.int)(u.paddingLeft)+(0,ss.int)(l.marginLeft),top:-s.offsetTop+(0,ss.int)(u.paddingTop)+(0,ss.int)(l.marginTop),right:(0,gd.innerWidth)(c)-(0,gd.outerWidth)(s)-s.offsetLeft+(0,ss.int)(u.paddingRight)-(0,ss.int)(l.marginRight),bottom:(0,gd.innerHeight)(c)-(0,gd.outerHeight)(s)-s.offsetTop+(0,ss.int)(u.paddingBottom)-(0,ss.int)(l.marginBottom)}}return(0,ss.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,ss.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,ss.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,ss.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function yY(t,e,n){const r=Math.round(e/t[0])*t[0],s=Math.round(n/t[1])*t[1];return[r,s]}function wY(t){return t.props.axis==="both"||t.props.axis==="x"}function vY(t){return t.props.axis==="both"||t.props.axis==="y"}function bY(t,e,n){const r=typeof e=="number"?(0,gd.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const s=aA(n),i=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,gd.offsetXYFromParent)(r||t,i,n.props.scale)}function _Y(t,e,n){const r=!(0,ss.isNum)(t.lastX),s=aA(t);return r?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:s,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function EY(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function CY(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function aA(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var ev={},tv={};Object.defineProperty(tv,"__esModule",{value:!0});tv.default=xY;function xY(){}Object.defineProperty(ev,"__esModule",{value:!0});ev.default=void 0;var Jb=AY(D),Ir=cA(e8),SY=cA(IS),Xn=en,oa=io,Qb=so,Qh=cA(tv);function cA(t){return t&&t.__esModule?t:{default:t}}function c8(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(c8=function(r){return r?n:e})(t)}function AY(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=c8(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function hr(t,e,n){return e=IY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IY(t){var e=TY(t,"string");return typeof e=="symbol"?e:String(e)}function TY(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Zs={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let aa=Zs.mouse,nv=class extends Jb.Component{constructor(){super(...arguments),hr(this,"dragging",!1),hr(this,"lastX",NaN),hr(this,"lastY",NaN),hr(this,"touchIdentifier",null),hr(this,"mounted",!1),hr(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Xn.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,Xn.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const s=(0,Xn.getTouchIdentifier)(e);this.touchIdentifier=s;const i=(0,oa.getControlPosition)(e,s,this);if(i==null)return;const{x:o,y:a}=i,c=(0,oa.createCoreData)(this,o,a);(0,Qh.default)("DraggableCore: handleDragStart: %j",c),(0,Qh.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Xn.addUserSelectStyles)(r),this.dragging=!0,this.lastX=o,this.lastY=a,(0,Xn.addEvent)(r,aa.move,this.handleDrag),(0,Xn.addEvent)(r,aa.stop,this.handleDragStop))}),hr(this,"handleDrag",e=>{const n=(0,oa.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,c=s-this.lastY;if([a,c]=(0,oa.snapToGrid)(this.props.grid,a,c),!a&&!c)return;r=this.lastX+a,s=this.lastY+c}const i=(0,oa.createCoreData)(this,r,s);if((0,Qh.default)("DraggableCore: handleDrag: %j",i),this.props.onDrag(e,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=r,this.lastY=s}),hr(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,oa.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let c=r-this.lastX||0,l=s-this.lastY||0;[c,l]=(0,oa.snapToGrid)(this.props.grid,c,l),r=this.lastX+c,s=this.lastY+l}const i=(0,oa.createCoreData)(this,r,s);if(this.props.onStop(e,i)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Xn.removeUserSelectStyles)(a.ownerDocument),(0,Qh.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,Qh.default)("DraggableCore: Removing handlers"),(0,Xn.removeEvent)(a.ownerDocument,aa.move,this.handleDrag),(0,Xn.removeEvent)(a.ownerDocument,aa.stop,this.handleDragStop))}),hr(this,"onMouseDown",e=>(aa=Zs.mouse,this.handleDragStart(e))),hr(this,"onMouseUp",e=>(aa=Zs.mouse,this.handleDragStop(e))),hr(this,"onTouchStart",e=>(aa=Zs.touch,this.handleDragStart(e))),hr(this,"onTouchEnd",e=>(aa=Zs.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Xn.addEvent)(e,Zs.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,Xn.removeEvent)(n,Zs.mouse.move,this.handleDrag),(0,Xn.removeEvent)(n,Zs.touch.move,this.handleDrag),(0,Xn.removeEvent)(n,Zs.mouse.stop,this.handleDragStop),(0,Xn.removeEvent)(n,Zs.touch.stop,this.handleDragStop),(0,Xn.removeEvent)(e,Zs.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Xn.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:SY.default.findDOMNode(this)}render(){return Jb.cloneElement(Jb.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};ev.default=nv;hr(nv,"displayName","DraggableCore");hr(nv,"propTypes",{allowAnyClick:Ir.default.bool,children:Ir.default.node.isRequired,disabled:Ir.default.bool,enableUserSelectHack:Ir.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Ir.default.arrayOf(Ir.default.number),handle:Ir.default.string,cancel:Ir.default.string,nodeRef:Ir.default.object,onStart:Ir.default.func,onDrag:Ir.default.func,onStop:Ir.default.func,onMouseDown:Ir.default.func,scale:Ir.default.number,className:Qb.dontSetMe,style:Qb.dontSetMe,transform:Qb.dontSetMe});hr(nv,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var e=h(D),n=u(e8),r=u(IS),s=u(GK),i=en,o=io,a=so,c=u(ev),l=u(tv);function u(b){return b&&b.__esModule?b:{default:b}}function d(b){if(typeof WeakMap!="function")return null;var v=new WeakMap,E=new WeakMap;return(d=function(_){return _?E:v})(b)}function h(b,v){if(b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var E=d(v);if(E&&E.has(b))return E.get(b);var _={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in b)if(S!=="default"&&Object.prototype.hasOwnProperty.call(b,S)){var T=x?Object.getOwnPropertyDescriptor(b,S):null;T&&(T.get||T.set)?Object.defineProperty(_,S,T):_[S]=b[S]}return _.default=b,E&&E.set(b,_),_}function f(){return f=Object.assign?Object.assign.bind():function(b){for(var v=1;v<arguments.length;v++){var E=arguments[v];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(b[_]=E[_])}return b},f.apply(this,arguments)}function p(b,v,E){return v=g(v),v in b?Object.defineProperty(b,v,{value:E,enumerable:!0,configurable:!0,writable:!0}):b[v]=E,b}function g(b){var v=y(b,"string");return typeof v=="symbol"?v:String(v)}function y(b,v){if(typeof b!="object"||b===null)return b;var E=b[Symbol.toPrimitive];if(E!==void 0){var _=E.call(b,v);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(b)}class w extends e.Component{static getDerivedStateFromProps(v,E){let{position:_}=v,{prevPropsPosition:x}=E;return _&&(!x||_.x!==x.x||_.y!==x.y)?((0,l.default)("Draggable: getDerivedStateFromProps %j",{position:_,prevPropsPosition:x}),{x:_.x,y:_.y,prevPropsPosition:{..._}}):null}constructor(v){super(v),p(this,"onDragStart",(E,_)=>{if((0,l.default)("Draggable: onDragStart: %j",_),this.props.onStart(E,(0,o.createDraggableData)(this,_))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),p(this,"onDrag",(E,_)=>{if(!this.state.dragging)return!1;(0,l.default)("Draggable: onDrag: %j",_);const x=(0,o.createDraggableData)(this,_),S={x:x.x,y:x.y,slackX:0,slackY:0};if(this.props.bounds){const{x:C,y:O}=S;S.x+=this.state.slackX,S.y+=this.state.slackY;const[R,B]=(0,o.getBoundPosition)(this,S.x,S.y);S.x=R,S.y=B,S.slackX=this.state.slackX+(C-S.x),S.slackY=this.state.slackY+(O-S.y),x.x=S.x,x.y=S.y,x.deltaX=S.x-this.state.x,x.deltaY=S.y-this.state.y}if(this.props.onDrag(E,x)===!1)return!1;this.setState(S)}),p(this,"onDragStop",(E,_)=>{if(!this.state.dragging||this.props.onStop(E,(0,o.createDraggableData)(this,_))===!1)return!1;(0,l.default)("Draggable: onDragStop: %j",_);const S={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:C,y:O}=this.props.position;S.x=C,S.y=O}this.setState(S)}),this.state={dragging:!1,dragged:!1,x:v.position?v.position.x:v.defaultPosition.x,y:v.position?v.position.y:v.defaultPosition.y,prevPropsPosition:{...v.position},slackX:0,slackY:0,isElementSVG:!1},v.position&&!(v.onDrag||v.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var v,E;return(v=(E=this.props)===null||E===void 0||(E=E.nodeRef)===null||E===void 0?void 0:E.current)!==null&&v!==void 0?v:r.default.findDOMNode(this)}render(){const{axis:v,bounds:E,children:_,defaultPosition:x,defaultClassName:S,defaultClassNameDragging:T,defaultClassNameDragged:C,position:O,positionOffset:R,scale:B,...z}=this.props;let M={},I=null;const j=!!!O||this.state.dragging,P=O||x,k={x:(0,o.canDragX)(this)&&j?this.state.x:P.x,y:(0,o.canDragY)(this)&&j?this.state.y:P.y};this.state.isElementSVG?I=(0,i.createSVGTransform)(k,R):M=(0,i.createCSSTransform)(k,R);const U=(0,s.default)(_.props.className||"",S,{[T]:this.state.dragging,[C]:this.state.dragged});return e.createElement(c.default,f({},z,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(_),{className:U,style:{..._.props.style,...M},transform:I}))}}t.default=w,p(w,"displayName","Draggable"),p(w,"propTypes",{...c.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),p(w,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(J5);const{default:l8,DraggableCore:NY}=J5;X0.exports=l8;X0.exports.default=l8;X0.exports.DraggableCore=NY;var PY=X0.exports;const nm=ou(PY);function Ht(){return Ht=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ht.apply(null,arguments)}function u8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var d8={exports:{}},bt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var On=typeof Symbol=="function"&&Symbol.for,lA=On?Symbol.for("react.element"):60103,uA=On?Symbol.for("react.portal"):60106,rv=On?Symbol.for("react.fragment"):60107,sv=On?Symbol.for("react.strict_mode"):60108,iv=On?Symbol.for("react.profiler"):60114,ov=On?Symbol.for("react.provider"):60109,av=On?Symbol.for("react.context"):60110,dA=On?Symbol.for("react.async_mode"):60111,cv=On?Symbol.for("react.concurrent_mode"):60111,lv=On?Symbol.for("react.forward_ref"):60112,uv=On?Symbol.for("react.suspense"):60113,kY=On?Symbol.for("react.suspense_list"):60120,dv=On?Symbol.for("react.memo"):60115,hv=On?Symbol.for("react.lazy"):60116,OY=On?Symbol.for("react.block"):60121,RY=On?Symbol.for("react.fundamental"):60117,$Y=On?Symbol.for("react.responder"):60118,DY=On?Symbol.for("react.scope"):60119;function _s(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case lA:switch(t=t.type,t){case dA:case cv:case rv:case iv:case sv:case uv:return t;default:switch(t=t&&t.$$typeof,t){case av:case lv:case hv:case dv:case ov:return t;default:return e}}case uA:return e}}}function h8(t){return _s(t)===cv}bt.AsyncMode=dA;bt.ConcurrentMode=cv;bt.ContextConsumer=av;bt.ContextProvider=ov;bt.Element=lA;bt.ForwardRef=lv;bt.Fragment=rv;bt.Lazy=hv;bt.Memo=dv;bt.Portal=uA;bt.Profiler=iv;bt.StrictMode=sv;bt.Suspense=uv;bt.isAsyncMode=function(t){return h8(t)||_s(t)===dA};bt.isConcurrentMode=h8;bt.isContextConsumer=function(t){return _s(t)===av};bt.isContextProvider=function(t){return _s(t)===ov};bt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===lA};bt.isForwardRef=function(t){return _s(t)===lv};bt.isFragment=function(t){return _s(t)===rv};bt.isLazy=function(t){return _s(t)===hv};bt.isMemo=function(t){return _s(t)===dv};bt.isPortal=function(t){return _s(t)===uA};bt.isProfiler=function(t){return _s(t)===iv};bt.isStrictMode=function(t){return _s(t)===sv};bt.isSuspense=function(t){return _s(t)===uv};bt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===rv||t===cv||t===iv||t===sv||t===uv||t===kY||typeof t=="object"&&t!==null&&(t.$$typeof===hv||t.$$typeof===dv||t.$$typeof===ov||t.$$typeof===av||t.$$typeof===lv||t.$$typeof===RY||t.$$typeof===$Y||t.$$typeof===DY||t.$$typeof===OY)};bt.typeOf=_s;d8.exports=bt;var jY=d8.exports,hA=jY,UY={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},LY={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},MY={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},f8={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},fA={};fA[hA.ForwardRef]=MY;fA[hA.Memo]=f8;function LT(t){return hA.isMemo(t)?f8:fA[t.$$typeof]||UY}var BY=Object.defineProperty,FY=Object.getOwnPropertyNames,MT=Object.getOwnPropertySymbols,zY=Object.getOwnPropertyDescriptor,WY=Object.getPrototypeOf,BT=Object.prototype;function p8(t,e,n){if(typeof e!="string"){if(BT){var r=WY(e);r&&r!==BT&&p8(t,r,n)}var s=FY(e);MT&&(s=s.concat(MT(e)));for(var i=LT(t),o=LT(e),a=0;a<s.length;++a){var c=s[a];if(!LY[c]&&!(n&&n[c])&&!(o&&o[c])&&!(i&&i[c])){var l=zY(e,c);try{BY(t,c,l)}catch{}}}}return t}var qY=p8;const HY=ou(qY);var g8={};Object.defineProperty(g8,"__esModule",{value:!0});g8.default=VY;function VY(t){return t.displayName||t.name||(typeof t=="string"&&t.length>0?t:"Unknown")}function ey(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gw(){return Gw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gw.apply(this,arguments)}function GY(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function ca(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KY(t){var e=function(n){GY(r,n);function r(){for(var i,o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return i=n.call.apply(n,[this].concat(a))||this,ey(ca(ca(i)),"cachedTheme",void 0),ey(ca(ca(i)),"lastOuterTheme",void 0),ey(ca(ca(i)),"lastTheme",void 0),ey(ca(ca(i)),"renderProvider",function(l){var u=i.props.children;return hs.createElement(t.Provider,{value:i.getTheme(l)},u)}),i}var s=r.prototype;return s.getTheme=function(o){if(this.props.theme!==this.lastTheme||o!==this.lastOuterTheme||!this.cachedTheme)if(this.lastOuterTheme=o,this.lastTheme=this.props.theme,typeof this.lastTheme=="function"){var a=this.props.theme;this.cachedTheme=a(o)}else{var c=this.props.theme;this.cachedTheme=o?Gw({},o,c):c}return this.cachedTheme},s.render=function(){var o=this.props.children;return o?hs.createElement(t.Consumer,null,this.renderProvider):null},r}(hs.Component);return e}function YY(t){return function(n){var r=hs.forwardRef(function(s,i){return hs.createElement(t.Consumer,null,function(o){return hs.createElement(n,Gw({theme:o,ref:i},s))})});return HY(r,n),r}}function JY(t){var e=function(){var r=hs.useContext(t);return r};return e}function QY(t){return{context:t,withTheme:YY(t),useTheme:JY(t),ThemeProvider:KY(t)}}var m8=D.createContext();QY(m8);var FT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h=(typeof window>"u"?"undefined":FT(window))==="object"&&(typeof document>"u"?"undefined":FT(document))==="object"&&document.nodeType===9;function rg(t){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(t)}function ZY(t,e){if(rg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function XY(t){var e=ZY(t,"string");return rg(e)=="symbol"?e:e+""}function eJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XY(r.key),r)}}function pA(t,e,n){return e&&eJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iC(t,e){return iC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},iC(t,e)}function y8(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,iC(t,e)}function zT(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var tJ={}.constructor;function oC(t){if(t==null||typeof t!="object")return t;if(Array.isArray(t))return t.map(oC);if(t.constructor!==tJ)return t;var e={};for(var n in t)e[n]=oC(t[n]);return e}function fv(t,e,n){t===void 0&&(t="unnamed");var r=n.jss,s=oC(e),i=r.plugins.onCreateRule(t,s,n);return i||(t[0],null)}var WT=function(e,n){for(var r="",s=0;s<e.length&&e[s]!=="!important";s++)r&&(r+=n),r+=e[s];return r},Ol=function(e){if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&e[r]!=="!important";r++)n&&(n+=", "),n+=WT(e[r]," ");else n=WT(e,", ");return e[e.length-1]==="!important"&&(n+=" !important"),n};function Eh(t){return t&&t.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function Zh(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function sg(t,e,n){n===void 0&&(n={});var r="";if(!e)return r;var s=n,i=s.indent,o=i===void 0?0:i,a=e.fallbacks;n.format===!1&&(o=-1/0);var c=Eh(n),l=c.linebreak,u=c.space;if(t&&o++,a)if(Array.isArray(a))for(var d=0;d<a.length;d++){var h=a[d];for(var f in h){var p=h[f];p!=null&&(r&&(r+=l),r+=Zh(f+":"+u+Ol(p)+";",o))}}else for(var g in a){var y=a[g];y!=null&&(r&&(r+=l),r+=Zh(g+":"+u+Ol(y)+";",o))}for(var w in e){var b=e[w];b!=null&&w!=="fallbacks"&&(r&&(r+=l),r+=Zh(w+":"+u+Ol(b)+";",o))}return!r&&!n.allowEmpty||!t?r:(o--,r&&(r=""+l+r+l),Zh(""+t+u+"{"+r,o)+Zh("}",o))}var nJ=/([[\].#*$><+~=|^:(),"'`\s])/g,qT=typeof CSS<"u"&&CSS.escape,gA=function(t){return qT?qT(t):t.replace(nJ,"\\$1")},w8=function(){function t(n,r,s){this.type="style",this.isProcessed=!1;var i=s.sheet,o=s.Renderer;this.key=n,this.options=s,this.style=r,i?this.renderer=i.renderer:o&&(this.renderer=new o)}var e=t.prototype;return e.prop=function(r,s,i){if(s===void 0)return this.style[r];var o=i?i.force:!1;if(!o&&this.style[r]===s)return this;var a=s;(!i||i.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(s,r,this));var c=a==null||a===!1,l=r in this.style;if(c&&!l&&!o)return this;var u=c&&l;if(u?delete this.style[r]:this.style[r]=a,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,a),this;var d=this.options.sheet;return d&&d.attached,this},t}(),aC=function(t){y8(e,t);function e(r,s,i){var o;o=t.call(this,r,s,i)||this;var a=i.selector,c=i.scoped,l=i.sheet,u=i.generateId;return a?o.selectorText=a:c!==!1&&(o.id=u(zT(zT(o)),l),o.selectorText="."+gA(o.id)),o}var n=e.prototype;return n.applyTo=function(s){var i=this.renderer;if(i){var o=this.toJSON();for(var a in o)i.setProperty(s,a,o[a])}return this},n.toJSON=function(){var s={};for(var i in this.style){var o=this.style[i];typeof o!="object"?s[i]=o:Array.isArray(o)&&(s[i]=Ol(o))}return s},n.toString=function(s){var i=this.options.sheet,o=i?i.options.link:!1,a=o?Ht({},s,{allowEmpty:!0}):s;return sg(this.selectorText,this.style,a)},pA(e,[{key:"selector",set:function(s){if(s!==this.selectorText){this.selectorText=s;var i=this.renderer,o=this.renderable;if(!(!o||!i)){var a=i.setSelector(o,s);a||i.replaceRule(o,this)}}},get:function(){return this.selectorText}}]),e}(w8),rJ={onCreateRule:function(e,n,r){return e[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new aC(e,n,r)}},Zb={indent:1,children:!0},sJ=/@([\w-]+)/,iJ=function(){function t(n,r,s){this.type="conditional",this.isProcessed=!1,this.key=n;var i=n.match(sJ);this.at=i?i[1]:"unknown",this.query=s.name||"@"+this.at,this.options=s,this.rules=new pv(Ht({},s,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.indexOf=function(r){return this.rules.indexOf(r)},e.addRule=function(r,s,i){var o=this.rules.add(r,s,i);return o?(this.options.jss.plugins.onProcessRule(o),o):null},e.replaceRule=function(r,s,i){var o=this.rules.replace(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.toString=function(r){r===void 0&&(r=Zb);var s=Eh(r),i=s.linebreak;if(r.indent==null&&(r.indent=Zb.indent),r.children==null&&(r.children=Zb.children),r.children===!1)return this.query+" {}";var o=this.rules.toString(r);return o?this.query+" {"+i+o+i+"}":""},t}(),oJ=/@container|@media|@supports\s+/,aJ={onCreateRule:function(e,n,r){return oJ.test(e)?new iJ(e,n,r):null}},Xb={indent:1,children:!0},cJ=/@keyframes\s+([\w-]+)/,cC=function(){function t(n,r,s){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=n.match(cJ);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=s;var o=s.scoped,a=s.sheet,c=s.generateId;this.id=o===!1?this.name:gA(c(this,a)),this.rules=new pv(Ht({},s,{parent:this}));for(var l in r)this.rules.add(l,r[l],Ht({},s,{parent:this}));this.rules.process()}var e=t.prototype;return e.toString=function(r){r===void 0&&(r=Xb);var s=Eh(r),i=s.linebreak;if(r.indent==null&&(r.indent=Xb.indent),r.children==null&&(r.children=Xb.children),r.children===!1)return this.at+" "+this.id+" {}";var o=this.rules.toString(r);return o&&(o=""+i+o+i),this.at+" "+this.id+" {"+o+"}"},t}(),lJ=/@keyframes\s+/,uJ=/\$([\w-]+)/g,lC=function(e,n){return typeof e=="string"?e.replace(uJ,function(r,s){return s in n?n[s]:r}):e},HT=function(e,n,r){var s=e[n],i=lC(s,r);i!==s&&(e[n]=i)},dJ={onCreateRule:function(e,n,r){return typeof e=="string"&&lJ.test(e)?new cC(e,n,r):null},onProcessStyle:function(e,n,r){return n.type!=="style"||!r||("animation-name"in e&&HT(e,"animation-name",r.keyframes),"animation"in e&&HT(e,"animation",r.keyframes)),e},onChangeValue:function(e,n,r){var s=r.options.sheet;if(!s)return e;switch(n){case"animation":return lC(e,s.keyframes);case"animation-name":return lC(e,s.keyframes);default:return e}}},hJ=function(t){y8(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.toString=function(s){var i=this.options.sheet,o=i?i.options.link:!1,a=o?Ht({},s,{allowEmpty:!0}):s;return sg(this.key,this.style,a)},e}(w8),fJ={onCreateRule:function(e,n,r){return r.parent&&r.parent.type==="keyframes"?new hJ(e,n,r):null}},pJ=function(){function t(n,r,s){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=s}var e=t.prototype;return e.toString=function(r){var s=Eh(r),i=s.linebreak;if(Array.isArray(this.style)){for(var o="",a=0;a<this.style.length;a++)o+=sg(this.at,this.style[a]),this.style[a+1]&&(o+=i);return o}return sg(this.at,this.style,r)},t}(),gJ=/@font-face/,mJ={onCreateRule:function(e,n,r){return gJ.test(e)?new pJ(e,n,r):null}},yJ=function(){function t(n,r,s){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=s}var e=t.prototype;return e.toString=function(r){return sg(this.key,this.style,r)},t}(),wJ={onCreateRule:function(e,n,r){return e==="@viewport"||e==="@-ms-viewport"?new yJ(e,n,r):null}},vJ=function(){function t(n,r,s){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=s}var e=t.prototype;return e.toString=function(r){if(Array.isArray(this.value)){for(var s="",i=0;i<this.value.length;i++)s+=this.key+" "+this.value[i]+";",this.value[i+1]&&(s+=`
`);return s}return this.key+" "+this.value+";"},t}(),bJ={"@charset":!0,"@import":!0,"@namespace":!0},_J={onCreateRule:function(e,n,r){return e in bJ?new vJ(e,n,r):null}},VT=[rJ,aJ,dJ,fJ,mJ,wJ,_J],EJ={process:!0},GT={force:!0,process:!0},pv=function(){function t(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var e=t.prototype;return e.add=function(r,s,i){var o=this.options,a=o.parent,c=o.sheet,l=o.jss,u=o.Renderer,d=o.generateId,h=o.scoped,f=Ht({classes:this.classes,parent:a,sheet:c,jss:l,Renderer:u,generateId:d,scoped:h,name:r,keyframes:this.keyframes,selector:void 0},i),p=r;r in this.raw&&(p=r+"-d"+this.counter++),this.raw[p]=s,p in this.classes&&(f.selector="."+gA(this.classes[p]));var g=fv(p,s,f);if(!g)return null;this.register(g);var y=f.index===void 0?this.index.length:f.index;return this.index.splice(y,0,g),g},e.replace=function(r,s,i){var o=this.get(r),a=this.index.indexOf(o);o&&this.remove(o);var c=i;return a!==-1&&(c=Ht({},i,{index:a})),this.add(r,s,c)},e.get=function(r){return this.map[r]},e.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},e.indexOf=function(r){return this.index.indexOf(r)},e.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},e.register=function(r){this.map[r.key]=r,r instanceof aC?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof cC&&this.keyframes&&(this.keyframes[r.name]=r.id)},e.unregister=function(r){delete this.map[r.key],r instanceof aC?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof cC&&delete this.keyframes[r.name]},e.update=function(){var r,s,i;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],s=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2]):(s=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),s,i);else for(var o=0;o<this.index.length;o++)this.updateOne(this.index[o],s,i)},e.updateOne=function(r,s,i){i===void 0&&(i=EJ);var o=this.options,a=o.jss.plugins,c=o.sheet;if(r.rules instanceof t){r.rules.update(s,i);return}var l=r.style;if(a.onUpdate(s,r,c,i),i.process&&l&&l!==r.style){a.onProcessStyle(r.style,r,c);for(var u in r.style){var d=r.style[u],h=l[u];d!==h&&r.prop(u,d,GT)}for(var f in l){var p=r.style[f],g=l[f];p==null&&p!==g&&r.prop(f,null,GT)}}},e.toString=function(r){for(var s="",i=this.options.sheet,o=i?i.options.link:!1,a=Eh(r),c=a.linebreak,l=0;l<this.index.length;l++){var u=this.index[l],d=u.toString(r);!d&&!o||(s&&(s+=c),s+=d)}return s},t}(),v8=function(){function t(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Ht({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new pv(this.options);for(var s in n)this.rules.add(s,n[s]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(r,s,i){var o=this.queue;this.attached&&!o&&(this.queue=[]);var a=this.rules.add(r,s,i);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(o?o.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},e.replaceRule=function(r,s,i){var o=this.rules.get(r);if(!o)return this.addRule(r,s,i);var a=this.rules.replace(r,s,i);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?o.renderable&&this.renderer.replaceRule(o.renderable,a):this.renderer.deleteRule(o)),a):(this.deployed=!1,a)},e.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},e.addRules=function(r,s){var i=[];for(var o in r){var a=this.addRule(o,r[o],s);a&&i.push(a)}return i},e.getRule=function(r){return this.rules.get(r)},e.deleteRule=function(r){var s=typeof r=="object"?r:this.rules.get(r);return!s||this.attached&&!s.renderable?!1:(this.rules.remove(s),this.attached&&s.renderable&&this.renderer?this.renderer.deleteRule(s.renderable):!0)},e.indexOf=function(r){return this.rules.indexOf(r)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},e.updateOne=function(r,s,i){return this.rules.updateOne(r,s,i),this},e.toString=function(r){return this.rules.toString(r)},t}(),CJ=function(){function t(){this.plugins={internal:[],external:[]},this.registry={}}var e=t.prototype;return e.onCreateRule=function(r,s,i){for(var o=0;o<this.registry.onCreateRule.length;o++){var a=this.registry.onCreateRule[o](r,s,i);if(a)return a}return null},e.onProcessRule=function(r){if(!r.isProcessed){for(var s=r.options.sheet,i=0;i<this.registry.onProcessRule.length;i++)this.registry.onProcessRule[i](r,s);r.style&&this.onProcessStyle(r.style,r,s),r.isProcessed=!0}},e.onProcessStyle=function(r,s,i){for(var o=0;o<this.registry.onProcessStyle.length;o++)s.style=this.registry.onProcessStyle[o](s.style,s,i)},e.onProcessSheet=function(r){for(var s=0;s<this.registry.onProcessSheet.length;s++)this.registry.onProcessSheet[s](r)},e.onUpdate=function(r,s,i,o){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](r,s,i,o)},e.onChangeValue=function(r,s,i){for(var o=r,a=0;a<this.registry.onChangeValue.length;a++)o=this.registry.onChangeValue[a](o,s,i);return o},e.use=function(r,s){s===void 0&&(s={queue:"external"});var i=this.plugins[s.queue];i.indexOf(r)===-1&&(i.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(o,a){for(var c in a)c in o&&o[c].push(a[c]);return o},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),xJ=function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(r){var s=this.registry,i=r.options.index;if(s.indexOf(r)===-1){if(s.length===0||i>=this.index){s.push(r);return}for(var o=0;o<s.length;o++)if(s[o].options.index>i){s.splice(o,0,r);return}}},e.reset=function(){this.registry=[]},e.remove=function(r){var s=this.registry.indexOf(r);this.registry.splice(s,1)},e.toString=function(r){for(var s=r===void 0?{}:r,i=s.attached,o=u8(s,["attached"]),a=Eh(o),c=a.linebreak,l="",u=0;u<this.registry.length;u++){var d=this.registry[u];i!=null&&d.attached!==i||(l&&(l+=c),l+=d.toString(o))}return l},pA(t,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),t}(),Yf=new xJ,uC=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),dC="2f1acc6c3a606b082e5eef5e54414ffb";uC[dC]==null&&(uC[dC]=0);var KT=uC[dC]++,YT=function(e){e===void 0&&(e={});var n=0,r=function(i,o){n+=1;var a="",c="";return o&&(o.options.classNamePrefix&&(c=o.options.classNamePrefix),o.options.jss.id!=null&&(a=String(o.options.jss.id))),e.minify?""+(c||"c")+KT+a+n:c+i.key+"-"+KT+(a?"-"+a:"")+"-"+n};return r},b8=function(e){var n;return function(){return n||(n=e()),n}},SJ=function(e,n){try{return e.attributeStyleMap?e.attributeStyleMap.get(n):e.style.getPropertyValue(n)}catch{return""}},AJ=function(e,n,r){try{var s=r;if(Array.isArray(r)&&(s=Ol(r)),e.attributeStyleMap)e.attributeStyleMap.set(n,s);else{var i=s?s.indexOf("!important"):-1,o=i>-1?s.substr(0,i-1):s;e.style.setProperty(n,o,i>-1?"important":"")}}catch{return!1}return!0},IJ=function(e,n){try{e.attributeStyleMap?e.attributeStyleMap.delete(n):e.style.removeProperty(n)}catch{}},TJ=function(e,n){return e.selectorText=n,e.selectorText===n},_8=b8(function(){return document.querySelector("head")});function NJ(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}function PJ(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}function kJ(t){for(var e=_8(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===t)return r}return null}function OJ(t){var e=Yf.registry;if(e.length>0){var n=NJ(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=PJ(e,t),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&typeof r=="string"){var s=kJ(r);if(s)return{parent:s.parentNode,node:s.nextSibling}}return!1}function RJ(t,e){var n=e.insertionPoint,r=OJ(e);if(r!==!1&&r.parent){r.parent.insertBefore(t,r.node);return}if(n&&typeof n.nodeType=="number"){var s=n,i=s.parentNode;i&&i.insertBefore(t,s.nextSibling);return}_8().appendChild(t)}var $J=b8(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),JT=function(e,n,r){try{"insertRule"in e?e.insertRule(n,r):"appendRule"in e&&e.appendRule(n)}catch{return!1}return e.cssRules[r]},QT=function(e,n){var r=e.cssRules.length;return n===void 0||n>r?r:n},DJ=function(){var e=document.createElement("style");return e.textContent=`
`,e},jJ=function(){function t(n){this.getPropertyValue=SJ,this.setProperty=AJ,this.removeProperty=IJ,this.setSelector=TJ,this.hasInsertedRules=!1,this.cssRules=[],n&&Yf.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},s=r.media,i=r.meta,o=r.element;this.element=o||DJ(),this.element.setAttribute("data-jss",""),s&&this.element.setAttribute("media",s),i&&this.element.setAttribute("data-meta",i);var a=$J();a&&this.element.setAttribute("nonce",a)}var e=t.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){RJ(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},e.insertRules=function(r,s){for(var i=0;i<r.index.length;i++)this.insertRule(r.index[i],i,s)},e.insertRule=function(r,s,i){if(i===void 0&&(i=this.element.sheet),r.rules){var o=r,a=i;if(r.type==="conditional"||r.type==="keyframes"){var c=QT(i,s);if(a=JT(i,o.toString({children:!1}),c),a===!1)return!1;this.refCssRule(r,c,a)}return this.insertRules(o.rules,a),a}var l=r.toString();if(!l)return!1;var u=QT(i,s),d=JT(i,l,u);return d===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,u,d),d)},e.refCssRule=function(r,s,i){r.renderable=i,r.options.parent instanceof v8&&this.cssRules.splice(s,0,i)},e.deleteRule=function(r){var s=this.element.sheet,i=this.indexOf(r);return i===-1?!1:(s.deleteRule(i),this.cssRules.splice(i,1),!0)},e.indexOf=function(r){return this.cssRules.indexOf(r)},e.replaceRule=function(r,s){var i=this.indexOf(r);return i===-1?!1:(this.element.sheet.deleteRule(i),this.cssRules.splice(i,1),this.insertRule(s,i))},e.getRules=function(){return this.element.sheet.cssRules},t}(),UJ=0,LJ=function(){function t(n){this.id=UJ++,this.version="10.10.0",this.plugins=new CJ,this.options={id:{minify:!1},createGenerateId:YT,Renderer:_h?jJ:null,plugins:[]},this.generateId=YT({minify:!1});for(var r=0;r<VT.length;r++)this.plugins.use(VT[r],{queue:"internal"});this.setup(n)}var e=t.prototype;return e.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=Ht({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},e.createStyleSheet=function(r,s){s===void 0&&(s={});var i=s,o=i.index;typeof o!="number"&&(o=Yf.index===0?0:Yf.index+1);var a=new v8(r,Ht({},s,{jss:this,generateId:s.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:o}));return this.plugins.onProcessSheet(a),a},e.removeStyleSheet=function(r){return r.detach(),Yf.remove(r),this},e.createRule=function(r,s,i){if(s===void 0&&(s={}),i===void 0&&(i={}),typeof r=="object")return this.createRule(void 0,r,s);var o=Ht({},i,{name:r,jss:this,Renderer:this.options.Renderer});o.generateId||(o.generateId=this.generateId),o.classes||(o.classes={}),o.keyframes||(o.keyframes={});var a=fv(r,s,o);return a&&this.plugins.onProcessRule(a),a},e.use=function(){for(var r=this,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return i.forEach(function(a){r.plugins.use(a)}),this},t}(),E8=function(e){return new LJ(e)},ZT=function(){function t(){this.length=0,this.sheets=new WeakMap}var e=t.prototype;return e.get=function(r){var s=this.sheets.get(r);return s&&s.sheet},e.add=function(r,s){this.sheets.has(r)||(this.length++,this.sheets.set(r,{sheet:s,refs:0}))},e.manage=function(r){var s=this.sheets.get(r);if(s)return s.refs===0&&s.sheet.attach(),s.refs++,s.sheet},e.unmanage=function(r){var s=this.sheets.get(r);s&&s.refs>0&&(s.refs--,s.refs===0&&s.sheet.detach())},pA(t,[{key:"size",get:function(){return this.length}}]),t}(),mA=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function C8(t){var e=null;for(var n in t){var r=t[n],s=typeof r;if(s==="function")e||(e={}),e[n]=r;else if(s==="object"&&r!==null&&!Array.isArray(r)){var i=C8(r);i&&(e||(e={}),e[n]=i)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */E8();var x8=Date.now(),e1="fnValues"+x8,t1="fnStyle"+ ++x8,MJ=function(){return{onCreateRule:function(n,r,s){if(typeof r!="function")return null;var i=fv(n,{},s);return i[t1]=r,i},onProcessStyle:function(n,r){if(e1 in r||t1 in r)return n;var s={};for(var i in n){var o=n[i];typeof o=="function"&&(delete n[i],s[i]=o)}return r[e1]=s,n},onUpdate:function(n,r,s,i){var o=r,a=o[t1];a&&(o.style=a(n)||{});var c=o[e1];if(c)for(var l in c)o.prop(l,c[l](n),i)}}};function BJ(t){var e,n=t.Symbol;return typeof n=="function"?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var Qu;typeof self<"u"?Qu=self:typeof window<"u"?Qu=window:typeof global<"u"?Qu=global:typeof module<"u"?Qu=module:Qu=Function("return this")();var XT=BJ(Qu),eN=function(e){return e&&e[XT]&&e===e[XT]()},FJ=function(e){return{onCreateRule:function(r,s,i){if(!eN(s))return null;var o=s,a=fv(r,{},i);return o.subscribe(function(c){for(var l in c)a.prop(l,c[l],e)}),a},onProcessRule:function(r){if(!(r&&r.type!=="style")){var s=r,i=s.style,o=function(u){var d=i[u];if(!eN(d))return"continue";delete i[u],d.subscribe({next:function(f){s.prop(u,f,e)}})};for(var a in i)var c=o(a)}}}},zJ=/;\n/,WJ=function(e){for(var n={},r=e.split(zJ),s=0;s<r.length;s++){var i=(r[s]||"").trim();if(i){var o=i.indexOf(":");if(o!==-1){var a=i.substr(0,o).trim(),c=i.substr(o+1).trim();n[a]=c}}}return n},qJ=function(e){typeof e.style=="string"&&(e.style=WJ(e.style))};function HJ(){return{onProcessRule:qJ}}var yc="@global",hC="@global ",VJ=function(){function t(n,r,s){this.type="global",this.at=yc,this.isProcessed=!1,this.key=n,this.options=s,this.rules=new pv(Ht({},s,{parent:this}));for(var i in r)this.rules.add(i,r[i]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.addRule=function(r,s,i){var o=this.rules.add(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.replaceRule=function(r,s,i){var o=this.rules.replace(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.indexOf=function(r){return this.rules.indexOf(r)},e.toString=function(r){return this.rules.toString(r)},t}(),GJ=function(){function t(n,r,s){this.type="global",this.at=yc,this.isProcessed=!1,this.key=n,this.options=s;var i=n.substr(hC.length);this.rule=s.jss.createRule(i,r,Ht({},s,{parent:this}))}var e=t.prototype;return e.toString=function(r){return this.rule?this.rule.toString(r):""},t}(),KJ=/\s*,\s*/g;function S8(t,e){for(var n=t.split(KJ),r="",s=0;s<n.length;s++)r+=e+" "+n[s].trim(),n[s+1]&&(r+=", ");return r}function YJ(t,e){var n=t.options,r=t.style,s=r?r[yc]:null;if(s){for(var i in s)e.addRule(i,s[i],Ht({},n,{selector:S8(i,t.selector)}));delete r[yc]}}function JJ(t,e){var n=t.options,r=t.style;for(var s in r)if(!(s[0]!=="@"||s.substr(0,yc.length)!==yc)){var i=S8(s.substr(yc.length),t.selector);e.addRule(i,r[s],Ht({},n,{selector:i})),delete r[s]}}function QJ(){function t(n,r,s){if(!n)return null;if(n===yc)return new VJ(n,r,s);if(n[0]==="@"&&n.substr(0,hC.length)===hC)return new GJ(n,r,s);var i=s.parent;return i&&(i.type==="global"||i.options.parent&&i.options.parent.type==="global")&&(s.scoped=!1),!s.selector&&s.scoped===!1&&(s.selector=n),null}function e(n,r){n.type!=="style"||!r||(YJ(n,r),JJ(n,r))}return{onCreateRule:t,onProcessRule:e}}var Qy=function(e){return e&&typeof e=="object"&&!Array.isArray(e)},n1="extendCurrValue"+Date.now();function ZJ(t,e,n,r){var s=typeof t.extend;if(s==="string"){if(!n)return;var i=n.getRule(t.extend);if(!i||i===e)return;var o=i.options.parent;if(o){var a=o.rules.raw[t.extend];pl(a,e,n,r)}return}if(Array.isArray(t.extend)){for(var c=0;c<t.extend.length;c++){var l=t.extend[c],u=typeof l=="string"?Ht({},t,{extend:l}):t.extend[c];pl(u,e,n,r)}return}for(var d in t.extend){if(d==="extend"){pl(t.extend.extend,e,n,r);continue}if(Qy(t.extend[d])){d in r||(r[d]={}),pl(t.extend[d],e,n,r[d]);continue}r[d]=t.extend[d]}}function XJ(t,e,n,r){for(var s in t)if(s!=="extend"){if(Qy(r[s])&&Qy(t[s])){pl(t[s],e,n,r[s]);continue}if(Qy(t[s])){r[s]=pl(t[s],e,n);continue}r[s]=t[s]}}function pl(t,e,n,r){return r===void 0&&(r={}),ZJ(t,e,n,r),XJ(t,e,n,r),r}function eQ(){function t(n,r,s){return"extend"in n?pl(n,r,s):n}function e(n,r,s){if(r!=="extend")return n;if(n==null||n===!1){for(var i in s[n1])s.prop(i,null);return s[n1]=null,null}if(typeof n=="object"){for(var o in n)s.prop(o,n[o]);s[n1]=n}return null}return{onProcessStyle:t,onChangeValue:e}}var tN=/\s*,\s*/g,tQ=/&/g,nQ=/\$([\w-]+)/g;function rQ(){function t(s,i){return function(o,a){var c=s.getRule(a)||i&&i.getRule(a);return c?c.selector:a}}function e(s,i){for(var o=i.split(tN),a=s.split(tN),c="",l=0;l<o.length;l++)for(var u=o[l],d=0;d<a.length;d++){var h=a[d];c&&(c+=", "),c+=h.indexOf("&")!==-1?h.replace(tQ,u):u+" "+h}return c}function n(s,i,o){if(o)return Ht({},o,{index:o.index+1});var a=s.options.nestingLevel;a=a===void 0?1:a+1;var c=Ht({},s.options,{nestingLevel:a,index:i.indexOf(s)+1});return delete c.name,c}function r(s,i,o){if(i.type!=="style")return s;var a=i,c=a.options.parent,l,u;for(var d in s){var h=d.indexOf("&")!==-1,f=d[0]==="@";if(!(!h&&!f)){if(l=n(a,c,l),h){var p=e(d,a.selector);u||(u=t(c,o)),p=p.replace(nQ,u);var g=a.key+"-"+d;"replaceRule"in c?c.replaceRule(g,s[d],Ht({},l,{selector:p})):c.addRule(g,s[d],Ht({},l,{selector:p}))}else f&&c.addRule(d,{},l).addRule(a.key,s[d],{selector:a.selector});delete s[d]}}return s}return{onProcessStyle:r}}function fC(t,e){if(!e)return!0;if(Array.isArray(e)){for(var n=0;n<e.length;n++){var r=fC(t,e[n]);if(!r)return!1}return!0}if(e.indexOf(" ")>-1)return fC(t,e.split(" "));var s=t.options.parent;if(e[0]==="$"){var i=s.getRule(e.substr(1));return!i||i===t?!1:(s.classes[t.key]+=" "+s.classes[i.key],!0)}return s.classes[t.key]+=" "+e,!0}function sQ(){function t(e,n){return"composes"in e&&(fC(n,e.composes),delete e.composes),e}return{onProcessStyle:t}}var iQ=/[A-Z]/g,oQ=/^ms-/,r1={};function aQ(t){return"-"+t.toLowerCase()}function A8(t){if(r1.hasOwnProperty(t))return r1[t];var e=t.replace(iQ,aQ);return r1[t]=oQ.test(e)?"-"+e:e}function Kw(t){var e={};for(var n in t){var r=n.indexOf("--")===0?n:A8(n);e[r]=t[n]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(Kw):e.fallbacks=Kw(t.fallbacks)),e}function cQ(){function t(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=Kw(n[r]);return n}return Kw(n)}function e(n,r,s){if(r.indexOf("--")===0)return n;var i=A8(r);return r===i?n:(s.prop(i,n),null)}return{onProcessStyle:t,onChangeValue:e}}var Y=mA&&CSS?CSS.px:"px",ty=mA&&CSS?CSS.ms:"ms",Su=mA&&CSS?CSS.percent:"%",lQ={"animation-delay":ty,"animation-duration":ty,"background-position":Y,"background-position-x":Y,"background-position-y":Y,"background-size":Y,border:Y,"border-bottom":Y,"border-bottom-left-radius":Y,"border-bottom-right-radius":Y,"border-bottom-width":Y,"border-left":Y,"border-left-width":Y,"border-radius":Y,"border-right":Y,"border-right-width":Y,"border-top":Y,"border-top-left-radius":Y,"border-top-right-radius":Y,"border-top-width":Y,"border-width":Y,"border-block":Y,"border-block-end":Y,"border-block-end-width":Y,"border-block-start":Y,"border-block-start-width":Y,"border-block-width":Y,"border-inline":Y,"border-inline-end":Y,"border-inline-end-width":Y,"border-inline-start":Y,"border-inline-start-width":Y,"border-inline-width":Y,"border-start-start-radius":Y,"border-start-end-radius":Y,"border-end-start-radius":Y,"border-end-end-radius":Y,margin:Y,"margin-bottom":Y,"margin-left":Y,"margin-right":Y,"margin-top":Y,"margin-block":Y,"margin-block-end":Y,"margin-block-start":Y,"margin-inline":Y,"margin-inline-end":Y,"margin-inline-start":Y,padding:Y,"padding-bottom":Y,"padding-left":Y,"padding-right":Y,"padding-top":Y,"padding-block":Y,"padding-block-end":Y,"padding-block-start":Y,"padding-inline":Y,"padding-inline-end":Y,"padding-inline-start":Y,"mask-position-x":Y,"mask-position-y":Y,"mask-size":Y,height:Y,width:Y,"min-height":Y,"max-height":Y,"min-width":Y,"max-width":Y,bottom:Y,left:Y,top:Y,right:Y,inset:Y,"inset-block":Y,"inset-block-end":Y,"inset-block-start":Y,"inset-inline":Y,"inset-inline-end":Y,"inset-inline-start":Y,"box-shadow":Y,"text-shadow":Y,"column-gap":Y,"column-rule":Y,"column-rule-width":Y,"column-width":Y,"font-size":Y,"font-size-delta":Y,"letter-spacing":Y,"text-decoration-thickness":Y,"text-indent":Y,"text-stroke":Y,"text-stroke-width":Y,"word-spacing":Y,motion:Y,"motion-offset":Y,outline:Y,"outline-offset":Y,"outline-width":Y,perspective:Y,"perspective-origin-x":Su,"perspective-origin-y":Su,"transform-origin":Su,"transform-origin-x":Su,"transform-origin-y":Su,"transform-origin-z":Su,"transition-delay":ty,"transition-duration":ty,"vertical-align":Y,"flex-basis":Y,"shape-margin":Y,size:Y,gap:Y,grid:Y,"grid-gap":Y,"row-gap":Y,"grid-row-gap":Y,"grid-column-gap":Y,"grid-template-rows":Y,"grid-template-columns":Y,"grid-auto-rows":Y,"grid-auto-columns":Y,"box-shadow-x":Y,"box-shadow-y":Y,"box-shadow-blur":Y,"box-shadow-spread":Y,"font-line-height":Y,"text-shadow-x":Y,"text-shadow-y":Y,"text-shadow-blur":Y};function I8(t){var e=/(-[a-z])/g,n=function(o){return o[1].toUpperCase()},r={};for(var s in t)r[s]=t[s],r[s.replace(e,n)]=t[s];return r}var uQ=I8(lQ);function Jf(t,e,n){if(e==null)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=Jf(t,e[r],n);else if(typeof e=="object")if(t==="fallbacks")for(var s in e)e[s]=Jf(s,e[s],n);else for(var i in e)e[i]=Jf(t+"-"+i,e[i],n);else if(typeof e=="number"&&isNaN(e)===!1){var o=n[t]||uQ[t];return o&&!(e===0&&o===Y)?typeof o=="function"?o(e).toString():""+e+o:e.toString()}return e}function dQ(t){t===void 0&&(t={});var e=I8(t);function n(s,i){if(i.type!=="style")return s;for(var o in s)s[o]=Jf(o,s[o],e);return s}function r(s,i){return Jf(i,s,e)}return{onProcessStyle:n,onChangeValue:r}}var hQ={"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},fQ={position:!0,size:!0},ny={padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},s1={border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function pQ(t,e,n){return t.map(function(r){return N8(r,e,n,!1,!0)})}function T8(t,e,n,r){return n[e]==null?t:t.length===0?[]:Array.isArray(t[0])?T8(t[0],e,n,r):typeof t[0]=="object"?pQ(t,e,r):[t]}function N8(t,e,n,r,s){if(!(ny[e]||s1[e]))return[];var i=[];if(s1[e]&&(t=gQ(t,n,s1[e],r)),Object.keys(t).length)for(var o in ny[e]){if(t[o]){Array.isArray(t[o])?i.push(fQ[o]===null?t[o]:t[o].join(" ")):i.push(t[o]);continue}ny[e][o]!=null&&i.push(ny[e][o])}return!i.length||s?i:[i]}function gQ(t,e,n,r){for(var s in n){var i=n[s];if(typeof t[s]<"u"&&(r||!e.prop(i))){var o,a=ig((o={},o[i]=t[s],o),e)[i];r?e.style.fallbacks[i]=a:e.style[i]=a}delete t[s]}return t}function ig(t,e,n){for(var r in t){var s=t[r];if(Array.isArray(s)){if(!Array.isArray(s[0])){if(r==="fallbacks"){for(var i=0;i<t.fallbacks.length;i++)t.fallbacks[i]=ig(t.fallbacks[i],e,!0);continue}t[r]=T8(s,r,hQ,e),t[r].length||delete t[r]}}else if(typeof s=="object"){if(r==="fallbacks"){t.fallbacks=ig(t.fallbacks,e,!0);continue}t[r]=N8(s,r,e,n),t[r].length||delete t[r]}else t[r]===""&&delete t[r]}return t}function mQ(){function t(e,n){if(!e||n.type!=="style")return e;if(Array.isArray(e)){for(var r=0;r<e.length;r++)e[r]=ig(e[r],n);return e}return ig(e,n)}return{onProcessStyle:t}}function pC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function yQ(t){if(Array.isArray(t))return pC(t)}function wQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vQ(t,e){if(t){if(typeof t=="string")return pC(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pC(t,e):void 0}}function bQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Q(t){return yQ(t)||wQ(t)||vQ(t)||bQ()}var If="",gC="",P8="",k8="",EQ=_h&&"ontouchstart"in document.documentElement;if(_h){var i1={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},CQ=document.createElement("p"),o1=CQ.style,xQ="Transform";for(var a1 in i1)if(a1+xQ in o1){If=a1,gC=i1[a1];break}If==="Webkit"&&"msHyphens"in o1&&(If="ms",gC=i1.ms,k8="edge"),If==="Webkit"&&"-apple-trailing-word"in o1&&(P8="apple")}var ze={js:If,css:gC,vendor:P8,browser:k8,isTouch:EQ};function SQ(t){return t[1]==="-"||ze.js==="ms"?t:"@"+ze.css+"keyframes"+t.substr(10)}var AQ={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:ze.js==="ms"?"-webkit-"+e:ze.css+e}},IQ={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:ze.js==="Webkit"?ze.css+"print-"+e:e}},TQ=/[-\s]+(.)?/g;function NQ(t,e){return e?e.toUpperCase():""}function yA(t){return t.replace(TQ,NQ)}function Nc(t){return yA("-"+t)}var PQ={noPrefill:["mask"],supportedProperty:function(e,n){if(!/^mask/.test(e))return!1;if(ze.js==="Webkit"){var r="mask-image";if(yA(r)in n)return e;if(ze.js+Nc(r)in n)return ze.css+e}return e}},kQ={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:ze.vendor==="apple"&&!ze.isTouch?ze.css+e:e}},OQ={noPrefill:["transform"],supportedProperty:function(e,n,r){return e!=="transform"?!1:r.transform?e:ze.css+e}},RQ={noPrefill:["transition"],supportedProperty:function(e,n,r){return e!=="transition"?!1:r.transition?e:ze.css+e}},$Q={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:ze.js==="Webkit"||ze.js==="ms"&&ze.browser!=="edge"?ze.css+e:e}},DQ={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:ze.js==="Moz"||ze.js==="ms"||ze.vendor==="apple"?ze.css+e:e}},jQ={supportedProperty:function(e,n){if(!/^break-/.test(e))return!1;if(ze.js==="Webkit"){var r="WebkitColumn"+Nc(e);return r in n?ze.css+"column-"+e:!1}if(ze.js==="Moz"){var s="page"+Nc(e);return s in n?"page-"+e:!1}return!1}},UQ={supportedProperty:function(e,n){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(ze.js==="Moz")return e;var r=e.replace("-inline","");return ze.js+Nc(r)in n?ze.css+r:!1}},LQ={supportedProperty:function(e,n){return yA(e)in n?e:!1}},MQ={supportedProperty:function(e,n){var r=Nc(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:ze.js+r in n?ze.css+e:ze.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+e:!1}},BQ={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:ze.js==="ms"?""+ze.css+e:e}},FQ={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:ze.js==="ms"?ze.css+"scroll-chaining":e}},zQ={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},WQ={supportedProperty:function(e,n){var r=zQ[e];return r&&ze.js+Nc(r)in n?ze.css+r:!1}},O8={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},qQ=Object.keys(O8),HQ=function(e){return ze.css+e},VQ={supportedProperty:function(e,n,r){var s=r.multiple;if(qQ.indexOf(e)>-1){var i=O8[e];if(!Array.isArray(i))return ze.js+Nc(i)in n?ze.css+i:!1;if(!s)return!1;for(var o=0;o<i.length;o++)if(!(ze.js+Nc(i[0])in n))return!1;return i.map(HQ)}return!1}},R8=[AQ,IQ,PQ,kQ,OQ,RQ,$Q,DQ,jQ,UQ,LQ,MQ,BQ,FQ,WQ,VQ],nN=R8.filter(function(t){return t.supportedProperty}).map(function(t){return t.supportedProperty}),GQ=R8.filter(function(t){return t.noPrefill}).reduce(function(t,e){return t.push.apply(t,_Q(e.noPrefill)),t},[]),Tf,sl={};if(_h){Tf=document.createElement("p");var c1=window.getComputedStyle(document.documentElement,"");for(var l1 in c1)isNaN(l1)||(sl[c1[l1]]=c1[l1]);GQ.forEach(function(t){return delete sl[t]})}function mC(t,e){if(e===void 0&&(e={}),!Tf)return t;if(sl[t]!=null)return sl[t];(t==="transition"||t==="transform")&&(e[t]=t in Tf.style);for(var n=0;n<nN.length&&(sl[t]=nN[n](t,Tf.style,e),!sl[t]);n++);try{Tf.style[t]=""}catch{return!1}return sl[t]}var Au={},KQ={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},YQ=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Ca;function JQ(t,e,n){if(e==="var")return"var";if(e==="all")return"all";if(n==="all")return", all";var r=e?mC(e):", "+mC(n);return r||e||n}_h&&(Ca=document.createElement("p"));function rN(t,e){var n=e;if(!Ca||t==="content")return e;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=t+n;if(Au[r]!=null)return Au[r];try{Ca.style[t]=n}catch{return Au[r]=!1,!1}if(KQ[t])n=n.replace(YQ,JQ);else if(Ca.style[t]===""&&(n=ze.css+n,n==="-ms-flex"&&(Ca.style[t]="-ms-flexbox"),Ca.style[t]=n,Ca.style[t]===""))return Au[r]=!1,!1;return Ca.style[t]="",Au[r]=n,Au[r]}function QQ(){function t(s){if(s.type==="keyframes"){var i=s;i.at=SQ(i.at)}}function e(s){for(var i in s){var o=s[i];if(i==="fallbacks"&&Array.isArray(o)){s[i]=o.map(e);continue}var a=!1,c=mC(i);c&&c!==i&&(a=!0);var l=!1,u=rN(c,Ol(o));u&&u!==o&&(l=!0),(a||l)&&(a&&delete s[i],s[c||i]=u||o)}return s}function n(s,i){return i.type!=="style"?s:e(s)}function r(s,i){return rN(i,Ol(s))||s}return{onProcessRule:t,onProcessStyle:n,onChangeValue:r}}function ZQ(){var t=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var s={},i=Object.keys(n).sort(t),o=0;o<i.length;o++)s[i[o]]=n[i[o]];return s}}}var XQ=function(e){return e===void 0&&(e={}),{plugins:[MJ(),FJ(e.observable),HJ(),QJ(),eQ(),rQ(),sQ(),cQ(),dQ(e.defaultUnit),mQ(),QQ(),ZQ()]}},eZ=Number.MIN_SAFE_INTEGER||-1e9,tZ=function(){return eZ++},nZ=D.createContext({classNamePrefix:"",disableStylesGeneration:!1,isSSR:!_h}),sN=new Map,wA=function(e,n){var r=e.managers;if(r)return r[n]||(r[n]=new ZT),r[n];var s=sN.get(n);return s||(s=new ZT,sN.set(n,s)),s},iN=function(e){var n=e.sheet,r=e.context,s=e.index,i=e.theme;if(n){var o=wA(r,s);o.manage(i),r.registry&&r.registry.add(n)}},rZ=function(e){if(e.sheet){var n=wA(e.context,e.index);n.unmanage(e.theme)}},sZ=E8(XQ()),$8=new WeakMap,D8=function(e){return $8.get(e)},iZ=function(e,n){$8.set(e,n)},oZ=function(e){var n=e.styles;return typeof n!="function"?n:n(e.theme)};function aZ(t,e){var n;t.context.id&&t.context.id.minify!=null&&(n=t.context.id.minify);var r=t.context.classNamePrefix||"";t.name&&!n&&(r+=t.name.replace(/\s/g,"-")+"-");var s="";return t.name&&(s=t.name+", "),s+=typeof t.styles=="function"?"Themed":"Unthemed",Ht({},t.sheetOptions,{index:t.index,meta:s,classNamePrefix:r,link:e,generateId:t.sheetOptions&&t.sheetOptions.generateId?t.sheetOptions.generateId:t.context.generateId})}var cZ=function(e){if(!e.context.disableStylesGeneration){var n=wA(e.context,e.index),r=n.get(e.theme);if(r)return r;var s=e.context.jss||sZ,i=oZ(e),o=C8(i),a=s.createStyleSheet(i,aZ(e,o!==null));return iZ(a,{dynamicStyles:o,styles:i}),n.add(e.theme,a),a}},lZ=function(e,n){for(var r in n)e.deleteRule(n[r])},uZ=function(e,n,r){for(var s in r)n.updateOne(r[s],e)},dZ=function(e,n){var r=D8(e);if(r){var s={};for(var i in r.dynamicStyles)for(var o=e.rules.index.length,a=e.addRule(i,r.dynamicStyles[i]),c=o;c<e.rules.index.length;c++){var l=e.rules.index[c];e.updateOne(l,n),s[a===l?i:l.key]=l}return s}},hZ=function(e,n){if(!n)return e.classes;var r=D8(e);if(!r)return e.classes;var s={};for(var i in r.styles)s[i]=e.classes[i],i in n&&(s[i]+=" "+e.classes[n[i].key]);return s};function oN(t){return t?D.useEffect:hs.useInsertionEffect||D.useLayoutEffect}var u1={},xi=function(e,n){n===void 0&&(n={});var r=n,s=r.index,i=s===void 0?tZ():s,o=r.theming,a=r.name,c=u8(r,["index","theming","name"]),l=o&&o.context||m8,u=function(f){return typeof e=="function"&&(f||D.useContext(l))||u1},d={};return function(f){var p=D.useRef(!0),g=D.useContext(nZ),y=u(f&&f.theme),w=D.useMemo(function(){var _=cZ({context:g,styles:e,name:a,theme:y,index:i,sheetOptions:c});return _&&g.isSSR&&iN({index:i,context:g,sheet:_,theme:y}),[_,_?dZ(_,f):null]},[g,y]),b=w[0],v=w[1];oN(g.isSSR)(function(){b&&v&&!p.current&&uZ(f,b,v)},[f]),oN(g.isSSR)(function(){return b&&iN({index:i,context:g,sheet:b,theme:y}),function(){b&&(rZ({index:i,context:g,sheet:b,theme:y}),v&&lZ(b,v))}},[b]);var E=D.useMemo(function(){return b&&v?hZ(b,v):d},[b,v]);return D.useDebugValue(E),D.useDebugValue(y===u1?"No theme":y),D.useEffect(function(){p.current=!1}),E}};const fZ=xi({icon:{position:"absolute",width:"80px",textAlign:"center",cursor:"pointer",zIndex:3e3,userSelect:"none",pointerEvents:"auto"},iconImage:{width:"48px",height:"48px",display:"block",margin:"0 auto"},iconLabel:{display:"block",background:"#c0c0c0",color:"#000",fontSize:"12px",padding:"2px 4px",marginTop:"2px",border:"1px outset #fff"}});function d1({image:t,label:e,action:n,url:r,popupId:s,folderId:i,isInFolder:o=!1,position:a,onDrag:c,onClick:l}){const u=fZ(),d=D.useRef(null),h=p=>{p.stopPropagation(),p.preventDefault(),l(n,s,r,i)},f=m.jsxs("div",{ref:d,className:u.icon,onClick:h,style:{position:o?"relative":"absolute",zIndex:3e3,left:!o&&a?a.x:void 0,top:!o&&a?a.y:void 0},children:[m.jsx("img",{src:t,alt:e,className:u.iconImage}),m.jsx("span",{className:u.iconLabel,children:e})]});return o?f:m.jsx(nm,{nodeRef:d,position:a,onDrag:c,bounds:"parent",children:f})}const pZ=xi({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"600px",height:"480px",minWidth:"360px",minHeight:"240px",top:"calc(50vh - 240px)",left:"calc(50vw - 300px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto"},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"15px",height:"calc(100% - 30px)",overflow:"auto"}});function Ns({id:t,isOpen:e,onClose:n,onMinimize:r,children:s,title:i,initialPosition:o,initialSize:a,zIndex:c}){const l=pZ({isOpen:e}),u=D.useRef(null),d=()=>{r&&r(t)};return m.jsx(nm,{nodeRef:u,handle:`.${l.header}`,defaultPosition:o,children:m.jsxs("div",{ref:u,className:l.popup,style:{width:a==null?void 0:a.width,height:a==null?void 0:a.height,zIndex:c||100},children:[m.jsxs("div",{className:l.header,children:[m.jsx("span",{children:i||t.replace("-popup","")}),m.jsxs("div",{className:l.titleBarButtons,children:[m.jsx("button",{className:l.titleBarButton,onClick:d,title:"Minimize",children:"_"}),m.jsx("button",{className:l.titleBarButton,onClick:n,title:"Close",children:""})]})]}),m.jsx("div",{className:l.content,children:s})]})})}const h1=[{id:"evm-folder",image:"/assets/evmfolder.png",label:"EVM NFTs",action:"folder",folderId:"evm-folder",row:0,col:3},{id:"sol-folder",image:"/assets/solfolder.png",label:"SOL NFTs",action:"folder",folderId:"sol-folder",row:1,col:3},{id:"wallet",image:"/assets/wallet.png",label:"Wallet",action:"wallet",row:0,col:0},{id:"mint",image:"/assets/mint.gif",label:"Mint",action:"mint",row:0,col:1},{id:"gallery",image:"/assets/lawbstarz.gif",label:"NFT Gallery",action:"nft-gallery",row:0,col:2},{id:"meme-generator",image:"/assets/meme.gif",label:"Meme Generator",action:"meme-generator",row:0,col:4},{id:"chess",image:"/assets/chess.svg",label:"Chess",action:"chess",row:0,col:5},{id:"purity",image:"/assets/purityfinance.png",label:"Purity",action:"popup",popupId:"purity-popup",row:1,col:0},{id:"lawbshop",image:"/assets/lawbshop.png",label:"Lawb.Shop",action:"url",url:"https://store.fun/lawbshop",row:1,col:1},{id:"lawbstarz",image:"/assets/lawbstarz.gif",label:"Lawbstarz",action:"popup",popupId:"lawbstarz-popup",row:-1,col:-1},{id:"lawbsters",image:"/assets/lawbsters.gif",label:"Lawbsters",action:"popup",popupId:"lawbsters-popup",row:-1,col:-1},{id:"halloween",image:"/assets/lawbsterhalloween.gif",label:"Halloween",action:"popup",popupId:"halloween-popup",row:-1,col:-1},{id:"pixelawbs",image:"/assets/pixelawb.png",label:"Pixelawbs",action:"popup",popupId:"pixelawbs-popup",row:-1,col:-1},{id:"lawbstation",image:"/assets/lawbstation.GIF",label:"Lawbstation",action:"popup",popupId:"lawbstation-popup",row:-1,col:-1},{id:"nexus",image:"/assets/nexus.gif",label:"Nexus",action:"popup",popupId:"nexus-popup",row:-1,col:-1},{id:"chat",image:"/assets/miladychan.png",label:"Chat",action:"popup",popupId:"chat-popup",row:3,col:0},{id:"lawb",image:"/assets/lawbticker.gif",label:"$LAWB",action:"popup",popupId:"lawb-popup",row:3,col:2}],gZ=80,mZ=80,yZ=10,wZ=10,vZ=10,bZ=10,_Z=({onIconClick:t})=>{const e=h1.filter(l=>l.row>=0&&l.col>=0),n=()=>{const l={};let u=0,d=0;return e.forEach(h=>{l[h.id]={x:vZ+d*(gZ+yZ),y:bZ+u*(mZ+wZ)},u++,u>=4&&(u=0,d++)}),l},[r,s]=D.useState(n()),[i,o]=D.useState({}),a=(l,u)=>{s(d=>({...d,[l]:{x:u.x,y:u.y}}))},c=(l,u,d,h)=>{if(l==="folder"&&h){o(f=>({...f,[h]:!0}));return}t(l,u,d)};return m.jsx("div",{style:{position:"relative",width:"100vw",height:"100vh",background:"url('/assets/background.gif') no-repeat center center fixed",backgroundSize:"cover",overflow:"hidden"},children:m.jsxs("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 60px)",padding:"10px",zIndex:10,overflow:"visible"},children:[e.map(l=>m.jsx(d1,{image:l.image,label:l.label,action:l.action,url:l.url,popupId:l.popupId,folderId:l.folderId,position:r[l.id],onDrag:(u,d)=>a(l.id,d),onClick:c},l.id)),i["evm-folder"]&&m.jsx(Ns,{id:"evm-folder",isOpen:!0,onClose:()=>o(l=>({...l,"evm-folder":!1})),onMinimize:()=>o(l=>({...l,"evm-folder":!1})),zIndex:3001,children:m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(96px, 1fr))",gap:24,padding:32,justifyItems:"center",alignItems:"center",minHeight:"100%"},children:h1.filter(l=>["lawbsters","lawbstarz","halloween","pixelawbs"].includes(l.id)).map(l=>m.jsx(d1,{image:l.image,label:l.label,action:l.action,popupId:l.popupId,folderId:l.folderId,onClick:c,isInFolder:!0},l.id))})}),i["sol-folder"]&&m.jsx(Ns,{id:"sol-folder",isOpen:!0,onClose:()=>o(l=>({...l,"sol-folder":!1})),onMinimize:()=>o(l=>({...l,"sol-folder":!1})),zIndex:3001,children:m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(96px, 1fr))",gap:24,padding:32,justifyItems:"center",alignItems:"center",minHeight:"100%"},children:h1.filter(l=>["lawbstation","nexus"].includes(l.id)).map(l=>m.jsx(d1,{image:l.image,label:l.label,action:l.action,popupId:l.popupId,folderId:l.folderId,onClick:c,isInFolder:!0},l.id))})})]})})},EZ=xi({taskbar:{position:"fixed",left:0,bottom:0,width:"100vw",height:40,background:"#c0c0c0",borderTop:"2px outset #fff",display:"flex",alignItems:"center",justifyContent:"space-between",zIndex:200},leftSection:{display:"flex",alignItems:"center"},rightSection:{display:"flex",alignItems:"center",marginRight:"5px",height:"100%"},statusSection:{display:"flex",alignItems:"center",padding:"0 8px",marginRight:"4px",border:"2px inset #fff",height:"calc(100% - 8px)"},menuBtn:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer"},menu:{position:"absolute",bottom:"45px",left:"5px",background:"#c0c0c0",border:"2px outset #fff",padding:"5px",display:({isOpen:t})=>t?"block":"none",zIndex:9999,maxHeight:"300px",overflowY:"auto"},menuLink:{display:"block",padding:"4px 12px",color:"#000",textDecoration:"none",background:"#c0c0c0",border:"2px outset #fff",marginBottom:"1px",cursor:"pointer",fontSize:"12px","&:hover":{background:"#d0d0d0",border:"2px inset #fff"},"&:active":{border:"2px inset #c0c0c0"}},minimizedWindow:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:"12px"},clock:{padding:"5px 10px",background:"#c0c0c0",border:"2px inset #fff",fontSize:"12px",fontFamily:"monospace",height:"calc(100% - 8px)",display:"flex",alignItems:"center"},windows:{display:"flex",alignItems:"center"},windowButton:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer"}}),CZ=({minimizedWindows:t,onRestoreWindow:e,walletButton:n,connectionStatus:r})=>{const[s,i]=D.useState(!1),[o,a]=D.useState(new Date),c=EZ({isOpen:s});D.useEffect(()=>{const h=window.setInterval(()=>{a(new Date)},1e3);return()=>window.clearInterval(h)},[]);const l=h=>h.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),u=()=>{i(!s)},d=()=>{i(!1)};return m.jsxs("div",{className:c.taskbar,children:[m.jsxs("div",{className:c.leftSection,children:[m.jsx("button",{className:c.menuBtn,onClick:u,children:"Menu"}),m.jsx("div",{className:c.windows,children:t.map(h=>m.jsx("button",{className:c.windowButton,onClick:()=>e(h),children:h.replace("-popup","").replace("-"," ").toUpperCase()},h))})]}),m.jsxs("div",{className:c.rightSection,children:[m.jsxs("div",{className:c.statusSection,children:[m.jsx("div",{style:{display:"flex",alignItems:"center",gap:4,fontSize:12},children:m.jsx("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",background:r.connected?"limegreen":"red",marginRight:4,border:"1px solid #222"}})}),n]}),m.jsx("div",{className:c.clock,children:l(o)})]}),s&&m.jsxs("div",{className:c.menu,children:[m.jsx("a",{href:"https://dexscreener.com/solana/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Dexscreener"}),m.jsx("a",{href:"https://x.com/lawbstation",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"LawbStation Twitter"}),m.jsx("a",{href:"https://x.com/lawbnexus",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"LawbNexus Twitter"}),m.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/info/",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"NFTX - Lawbsters"}),m.jsx("a",{href:"https://uwu.pro/memoji/ulawb",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"UwU LAWB"}),m.jsx("a",{href:"https://t.me/lawblawblawb",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Telegram"}),m.jsx("a",{href:"https://discord.gg/JdkzUHYmMy",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Discord"}),m.jsx("a",{href:"https://store.fun/lawbshop",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Lawb.Shop"})]})]})};async function j8(t){const e="https://api.scatter.art/v1",n="pixelawbs";try{console.log(`Getting eligible invite lists for collection: ${n}`);const r=await fetch(`${e}/collection/${n}/eligible-invite-lists?minterAddress=${t}`);if(console.log("Response status:",r.status),r.ok){const s=await r.json();return console.log("Lists found:",s),s}else return console.log("Failed to get lists:",r.status,r.statusText),[]}catch(r){return console.log("Error getting lists:",r),[]}}async function vA(t,e=1,n=50,r){let i=`https://api.scatter.art/v1/collection/${t}/nfts?page=${e}&pageSize=${n}&sortBy=recent&sortOrder=desc`;r&&(i+=`&ownerAddress=${r}`);try{const o=await fetch(i);if(o.ok)return await o.json();throw new Error(`Failed to get NFTs: ${o.statusText}`)}catch(o){throw console.error("Error getting collection NFTs:",o),o}}async function U8(t,e){const i=await fetch("https://api.scatter.art/v1/mint",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({collectionAddress:"0x2d278e95b2fC67D4b27a276807e24E479D9707F6",chainId:1,minterAddress:t,lists:e})}),o=await i.json();if(!i.ok)throw console.error("Scatter API Error:",JSON.stringify(o,null,2)),new Error(o.message||"Minting failed");return{success:!0,mintTransaction:o.mintTransaction,erc20s:o.erc20s}}async function bA(t,e=50,n){const r="030a5ee582f64b8ab3a598ab2b97d85f";let s=`https://api.opensea.io/api/v2/collection/${t}/nfts?limit=${e}`;n&&console.warn("Owner filtering is not supported for OpenSea collections in this view.");try{const i=await fetch(s,{headers:{"X-API-KEY":r}});if(!i.ok)throw new Error(`Failed to get OpenSea NFTs: ${i.statusText}`);const a=(await i.json()).nfts.map(c=>{var l,u,d;return{id:c.identifier,address:c.contract,token_id:parseInt(c.identifier,10),attributes:JSON.stringify(c.traits||[]),name:c.name||`#${c.identifier}`,image_url:c.image_url,owner_of:((u=(l=c.owners)==null?void 0:l[0])==null?void 0:u.address)||"",block_minted:0,contract_type:"ERC721",description:c.description||"",image:c.image_url,image_url_shrunk:c.image_url,animation_url:c.animation_url,metadata:"",chain_id:1,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:t,num_items:1,created_at:c.updated_at||new Date().toISOString(),updated_at:c.updated_at||new Date().toISOString(),owners:((d=c.owners)==null?void 0:d.map(h=>({owner_of:h.address,quantity:h.quantity})))||[]}});return{page:1,pageSize:e,totalCount:a.length,totalPages:1,data:a}}catch(i){throw console.error("Error getting OpenSea NFTs:",i),i}}async function L8(t,e,n){const r="030a5ee582f64b8ab3a598ab2b97d85f",s=`https://api.opensea.io/api/v2/chain/${t}/contract/${e}/nfts/${n}`;try{const i=await fetch(s,{headers:{"X-API-KEY":r}});if(!i.ok)throw new Error(`Failed to get single OpenSea NFT: ${i.statusText}`);return(await i.json()).nft}catch(i){throw console.error("Error getting single OpenSea NFT:",i),i}}async function M8(t,e=50){var s;const n="030a5ee582f64b8ab3a598ab2b97d85f",r=`https://api.opensea.io/api/v2/collection/${t}/nfts?chain=solana&limit=${e}&include_orders=true`;try{const i=await fetch(r,{headers:{"X-API-KEY":n}});if(!i.ok)throw new Error(`Failed to get OpenSea Solana NFTs: ${i.statusText}`);const o=await i.json();console.log("Solana collection response:",o),console.log("Sample NFT from response:",o.nfts[0]),console.log("Sample NFT owners:",(s=o.nfts[0])==null?void 0:s.owners),console.log("Sample NFT full structure:",JSON.stringify(o.nfts[0],null,2));const a=o.nfts.map(c=>{var l,u,d;return{id:c.identifier,address:c.contract,token_id:parseInt(c.identifier,10),attributes:JSON.stringify(c.traits||[]),name:c.name||`#${c.identifier}`,image_url:c.image_url,owner_of:((u=(l=c.owners)==null?void 0:l[0])==null?void 0:u.address)||"",block_minted:0,contract_type:"SOL",description:c.description||"",image:c.image_url,image_url_shrunk:c.image_url,animation_url:c.animation_url,metadata:"",chain_id:1399811149,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:t,num_items:1,created_at:c.updated_at||new Date().toISOString(),updated_at:c.updated_at||new Date().toISOString(),owners:((d=c.owners)==null?void 0:d.map(h=>({owner_of:h.address,quantity:h.quantity})))||[]}});return{page:1,pageSize:e,totalCount:a.length,totalPages:1,data:a}}catch(i){throw console.error("Error getting OpenSea Solana NFTs:",i),i}}async function xZ(t,e=50){var s;const n="030a5ee582f64b8ab3a598ab2b97d85f",r=[`https://api.opensea.io/api/v2/chain/solana/account/${t}/nfts?limit=${e}`,`https://api.opensea.io/api/v2/chain/solana/account/${t}/nfts?limit=${e}&include_orders=false`,`https://api.opensea.io/api/v2/chain/solana/account/${t}/nfts?limit=${e}&include_orders=false&include_metadata=true`];for(const i of r){console.log("Trying OpenSea endpoint:",i);try{const o=await fetch(i,{headers:{"X-API-KEY":n}});if(console.log("Response status:",o.status),!o.ok){const c=await o.text();console.error("API Error response:",c);continue}const a=await o.json();if(console.log("Raw API response:",a),console.log("Number of NFTs returned:",((s=a.nfts)==null?void 0:s.length)||0),a.nfts&&a.nfts.length>0){const c=a.nfts.map(l=>({id:l.identifier,address:l.contract,token_id:parseInt(l.identifier,10),attributes:JSON.stringify(l.traits||[]),name:l.name||`#${l.identifier}`,image_url:l.image_url,owner_of:t,block_minted:0,contract_type:"SOL",description:l.description||"",image:l.image_url,image_url_shrunk:l.image_url,animation_url:l.animation_url,metadata:"",chain_id:1399811149,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:"",num_items:1,created_at:l.updated_at||new Date().toISOString(),updated_at:l.updated_at||new Date().toISOString(),owners:[{owner_of:t,quantity:1}]}));return console.log("Transformed NFTs:",c.length),{page:1,pageSize:e,totalCount:c.length,totalPages:1,data:c}}}catch(o){console.error("Error with endpoint:",i,o);continue}}return console.log("All OpenSea endpoints failed, returning empty result"),{page:1,pageSize:e,totalCount:0,totalPages:1,data:[]}}const SZ=xi({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"600px",height:"480px",minWidth:"360px",minHeight:"240px",top:"calc(50vh - 240px)",left:"calc(50vw - 300px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto",zIndex:5e3},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",height:"calc(100% - 30px)",overflow:"auto"}}),AZ=({isOpen:t,onClose:e,onMinimize:n,walletAddress:r})=>{const s=SZ({isOpen:t}),i=D.useRef(null),[o,a]=D.useState([]),[c,l]=D.useState(!1),[u,d]=D.useState(!1),[h,f]=D.useState({}),[p,g]=D.useState(null),{data:y}=R5();D.useEffect(()=>{t&&r&&w()},[t,r]);const w=async()=>{l(!0),g(null);try{const x=await j8(r);a(x);const S={};x.forEach(T=>{S[T.id]=0}),f(S)}catch(x){g(x.message)}finally{l(!1)}},b=(x,S)=>{f(T=>({...T,[x]:Math.max(0,S)}))},v=async()=>{const x=Object.entries(h).filter(([,S])=>S>0).map(([S,T])=>({id:S,quantity:T}));if(x.length===0){g("Please select at least one item to mint");return}if(!y){g("Wallet not connected");return}d(!0),g(null);try{console.log("Starting mint process for address:",r);const S=await U8(r,x);if(console.log("Mint API result:",S),S.success&&S.mintTransaction){console.log("Got mint transaction:",S.mintTransaction),alert("Please confirm the transaction in your wallet.");try{console.log("Sending transaction to wallet...");const T=await y.sendTransaction({to:S.mintTransaction.to,value:BigInt(S.mintTransaction.value),data:S.mintTransaction.data});console.log("Transaction sent successfully:",T),alert(`NFT Minted Successfully: Transaction Hash - ${T}`),e()}catch(T){console.error("Transaction sending failed:",T),g("Transaction failed: "+T.message)}}else throw new Error(S.message||"Could not retrieve minting transaction.")}catch(S){console.error("Minting failed:",S),g("Minting failed: "+S.message)}finally{d(!1)}},E=(x,S)=>`${parseFloat(x)} ${S}`,_=()=>{n&&n()};return t?m.jsx(nm,{nodeRef:i,handle:`.${s.header}`,children:m.jsxs("div",{ref:i,className:s.popup,children:[m.jsxs("div",{className:s.header,children:[m.jsx("span",{children:"Mint Pixelawbster"}),m.jsxs("div",{className:s.titleBarButtons,children:[m.jsx("button",{className:s.titleBarButton,onClick:_,title:"Minimize",children:"_"}),m.jsx("button",{className:s.titleBarButton,onClick:e,title:"Close",children:""})]})]}),m.jsxs("div",{className:s.content,children:[p&&m.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:p}),c?m.jsx("div",{children:"Loading eligible invite lists..."}):o.length===0?m.jsx("div",{children:"No eligible invite lists found for your wallet."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{marginBottom:"20px"},children:[m.jsx("h3",{children:"Available Lists:"}),o.map(x=>m.jsxs("div",{style:{border:"1px solid #808080",padding:"10px",marginBottom:"10px",backgroundColor:"#ffffff"},children:[m.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:x.name}),m.jsxs("div",{style:{fontSize:"12px",marginBottom:"5px"},children:["Price: ",E(x.token_price,x.currency_symbol)]}),m.jsxs("div",{style:{fontSize:"12px",marginBottom:"10px"},children:["Limit: ",x.wallet_limit===4294967295?"Unlimited":x.wallet_limit," per wallet"]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[m.jsx("label",{style:{fontSize:"12px"},children:"Quantity:"}),m.jsx("input",{type:"number",min:"0",max:x.wallet_limit===4294967295?999:x.wallet_limit,value:h[x.id]||0,onChange:S=>b(x.id,parseInt(S.target.value)||0),style:{width:"60px",padding:"2px 5px",border:"1px solid #808080"}})]})]},x.id))]}),m.jsx("button",{onClick:v,disabled:u,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"10px 20px",cursor:u?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"},children:u?"Minting...":"Mint Selected NFTs"})]})]})]})}):null},IZ=xi({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"400px",height:"auto",top:"20vh",left:"30vw",zIndex:102,display:"flex",flexDirection:"column"},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",background:"white",color:"black"},detailImage:{width:"100%",height:"auto",marginBottom:"10px"},detailTraits:{listStyleType:"none",paddingLeft:"0","& li":{marginBottom:"5px"}}}),TZ=t=>{try{const e=JSON.parse(t);return Array.isArray(e)&&e.every(n=>"trait_type"in n&&"value"in n)?e:[]}catch{return[]}},NZ=({nft:t,onClose:e})=>{const n=IZ(),r=D.useRef(null),s=TZ(t.attributes);return m.jsx(nm,{nodeRef:r,handle:`.${n.header}`,children:m.jsxs("div",{className:n.popup,ref:r,children:[m.jsxs("div",{className:n.header,children:[m.jsxs("span",{children:[t.name," - Details"]}),m.jsx("button",{className:n.titleBarButton,onClick:e,children:"X"})]}),m.jsxs("div",{className:n.content,children:[m.jsx("img",{src:t.image_url,alt:t.name,className:n.detailImage}),m.jsx("h3",{children:"Traits"}),m.jsx("ul",{className:n.detailTraits,children:s.length>0?s.map((i,o)=>m.jsxs("li",{children:[m.jsxs("strong",{children:[i.trait_type,":"]})," ",i.value]},o)):m.jsx("li",{children:"No traits found."})})]})]})})},PZ=Symbol(),aN=Object.getPrototypeOf,yC=new WeakMap,kZ=t=>t&&(yC.has(t)?yC.get(t):aN(t)===Object.prototype||aN(t)===Array.prototype),OZ=t=>kZ(t)&&t[PZ]||null,cN=(t,e=!0)=>{yC.set(t,e)},Yw={},f1=t=>typeof t=="object"&&t!==null,Na=new WeakMap,Nf=new WeakSet,RZ=(t=Object.is,e=(l,u)=>new Proxy(l,u),n=l=>f1(l)&&!Nf.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),r=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},s=new WeakMap,i=(l,u,d=r)=>{const h=s.get(l);if((h==null?void 0:h[0])===u)return h[1];const f=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return cN(f,!0),s.set(l,[u,f]),Reflect.ownKeys(l).forEach(p=>{if(Object.getOwnPropertyDescriptor(f,p))return;const g=Reflect.get(l,p),{enumerable:y}=Reflect.getOwnPropertyDescriptor(l,p),w={value:g,enumerable:y,configurable:!0};if(Nf.has(g))cN(g,!1);else if(g instanceof Promise)delete w.value,w.get=()=>d(g);else if(Na.has(g)){const[b,v]=Na.get(g);w.value=i(b,v(),d)}Object.defineProperty(f,p,w)}),Object.preventExtensions(f)},o=new WeakMap,a=[1,1],c=l=>{if(!f1(l))throw new Error("object required");const u=o.get(l);if(u)return u;let d=a[0];const h=new Set,f=(C,O=++a[0])=>{d!==O&&(d=O,h.forEach(R=>R(C,O)))};let p=a[1];const g=(C=++a[1])=>(p!==C&&!h.size&&(p=C,w.forEach(([O])=>{const R=O[1](C);R>d&&(d=R)})),d),y=C=>(O,R)=>{const B=[...O];B[1]=[C,...B[1]],f(B,R)},w=new Map,b=(C,O)=>{if((Yw?"production":void 0)!=="production"&&w.has(C))throw new Error("prop listener already exists");if(h.size){const R=O[3](y(C));w.set(C,[O,R])}else w.set(C,[O])},v=C=>{var O;const R=w.get(C);R&&(w.delete(C),(O=R[1])==null||O.call(R))},E=C=>(h.add(C),h.size===1&&w.forEach(([R,B],z)=>{if((Yw?"production":void 0)!=="production"&&B)throw new Error("remove already exists");const M=R[3](y(z));w.set(z,[R,M])}),()=>{h.delete(C),h.size===0&&w.forEach(([R,B],z)=>{B&&(B(),w.set(z,[R]))})}),_=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),S=e(_,{deleteProperty(C,O){const R=Reflect.get(C,O);v(O);const B=Reflect.deleteProperty(C,O);return B&&f(["delete",[O],R]),B},set(C,O,R,B){const z=Reflect.has(C,O),M=Reflect.get(C,O,B);if(z&&(t(M,R)||o.has(R)&&t(M,o.get(R))))return!0;v(O),f1(R)&&(R=OZ(R)||R);let I=R;if(R instanceof Promise)R.then(A=>{R.status="fulfilled",R.value=A,f(["resolve",[O],A])}).catch(A=>{R.status="rejected",R.reason=A,f(["reject",[O],A])});else{!Na.has(R)&&n(R)&&(I=c(R));const A=!Nf.has(I)&&Na.get(I);A&&b(O,A)}return Reflect.set(C,O,I,B),f(["set",[O],R,M]),!0}});o.set(l,S);const T=[_,g,i,E];return Na.set(S,T),Reflect.ownKeys(l).forEach(C=>{const O=Object.getOwnPropertyDescriptor(l,C);"value"in O&&(S[C]=l[C],delete O.value,delete O.writable),Object.defineProperty(_,C,O)}),S})=>[c,Na,Nf,t,e,n,r,s,i,o,a],[$Z]=RZ();function kt(t={}){return $Z(t)}function Hn(t,e,n){const r=Na.get(t);(Yw?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],o=r[3];let a=!1;const l=o(u=>{i.push(u),s||(s=Promise.resolve().then(()=>{s=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,l()}}function og(t,e){const n=Na.get(t);(Yw?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,s,i]=n;return i(r,s(),e)}function Yl(t){return Nf.add(t),t}function Vn(t,e,n,r){let s=t[e];return Hn(t,()=>{const i=t[e];Object.is(s,i)||n(s=i)})}function DZ(t){const e=kt({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const s=this.data.find(i=>i[0]===n);return s?s[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(s=>s[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(s=>s[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}var lN={};const X={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof lN<"u"?lN.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},ag={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){var s;if(!e)return;const n=t.find(i=>i.caipNetworkId===e);if(n)return n.name;const[r]=e.split(":");return((s=X.CHAIN_NAME_MAP)==null?void 0:s[r])||void 0}};var jZ=20,UZ=1,Jl=1e6,uN=1e6,LZ=-7,MZ=21,BZ=!1,rm="[big.js] ",du=rm+"Invalid ",gv=du+"decimal places",FZ=du+"rounding mode",B8=rm+"Division by zero",vt={},Yi=void 0,zZ=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function F8(){function t(e){var n=this;if(!(n instanceof t))return e===Yi?F8():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(du+"value");e=e===0&&1/e<0?"-0":String(e)}WZ(n,e)}n.constructor=t}return t.prototype=vt,t.DP=jZ,t.RM=UZ,t.NE=LZ,t.PE=MZ,t.strict=BZ,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function WZ(t,e){var n,r,s;if(!zZ.test(e))throw Error(du+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),s=e.length,r=0;r<s&&e.charAt(r)=="0";)++r;if(r==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=s;)t.c[n++]=+e.charAt(r++)}return t}function hu(t,e,n,r){var s=t.c;if(n===Yi&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(FZ);if(e<1)r=n===3&&(r||!!s[0])||e===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==Yi))),s.length=1,r?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(r=n===1&&s[e]>=5||n===2&&(s[e]>5||s[e]===5&&(r||s[e+1]!==Yi||s[e-1]&1))||n===3&&(r||!!s[0]),s.length=e,r){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function fu(t,e,n){var r=t.e,s=t.c.join(""),i=s.length;if(e)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&n?"-"+s:s}vt.abs=function(){var t=new this.constructor(this);return t.s=1,t};vt.cmp=function(t){var e,n=this,r=n.c,s=(t=new n.constructor(t)).c,i=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!s[0])return r[0]?i:s[0]?-o:0;if(i!=o)return i;if(e=i<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=s.length)?a:c,i=-1;++i<o;)if(r[i]!=s[i])return r[i]>s[i]^e?1:-1;return a==c?0:a>c^e?1:-1};vt.div=function(t){var e=this,n=e.constructor,r=e.c,s=(t=new n(t)).c,i=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>Jl)throw Error(gv);if(!s[0])throw Error(B8);if(!r[0])return t.s=i,t.c=[t.e=0],t;var a,c,l,u,d,h=s.slice(),f=a=s.length,p=r.length,g=r.slice(0,a),y=g.length,w=t,b=w.c=[],v=0,E=o+(w.e=e.e-t.e)+1;for(w.s=i,i=E<0?0:E,h.unshift(0);y++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(y=g.length))u=a>y?1:-1;else for(d=-1,u=0;++d<a;)if(s[d]!=g[d]){u=s[d]>g[d]?1:-1;break}if(u<0){for(c=y==a?s:h;y;){if(g[--y]<c[y]){for(d=y;d&&!g[--d];)g[d]=9;--g[d],g[y]+=10}g[y]-=c[y]}for(;!g[0];)g.shift()}else break}b[v++]=u?l:++l,g[0]&&u?g[y]=r[f]||0:g=[r[f]]}while((f++<p||g[0]!==Yi)&&i--);return!b[0]&&v!=1&&(b.shift(),w.e--,E--),v>E&&hu(w,E,n.RM,g[0]!==Yi),w};vt.eq=function(t){return this.cmp(t)===0};vt.gt=function(t){return this.cmp(t)>0};vt.gte=function(t){return this.cmp(t)>-1};vt.lt=function(t){return this.cmp(t)<0};vt.lte=function(t){return this.cmp(t)<1};vt.minus=vt.sub=function(t){var e,n,r,s,i=this,o=i.constructor,a=i.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,i.plus(t);var l=i.c.slice(),u=i.e,d=t.c,h=t.e;if(!l[0]||!d[0])return d[0]?t.s=-c:l[0]?t=new o(i):t.s=1,t;if(a=u-h){for((s=a<0)?(a=-a,r=l):(h=u,r=d),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((s=l.length<d.length)?l:d).length,a=c=0;c<n;c++)if(l[c]!=d[c]){s=l[c]<d[c];break}if(s&&(r=l,l=d,d=r,t.s=-t.s),(c=(n=d.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>a;){if(l[--n]<d[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=d[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--h;return l[0]||(t.s=1,l=[h=0]),t.c=l,t.e=h,t};vt.mod=function(t){var e,n=this,r=n.constructor,s=n.s,i=(t=new r(t)).s;if(!t.c[0])throw Error(B8);return n.s=t.s=1,e=t.cmp(n)==1,n.s=s,t.s=i,e?new r(n):(s=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=s,r.RM=i,this.minus(n.times(t)))};vt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};vt.plus=vt.add=function(t){var e,n,r,s=this,i=s.constructor;if(t=new i(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var o=s.e,a=s.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new i(s):t.s=s.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};vt.pow=function(t){var e=this,n=new e.constructor("1"),r=n,s=t<0;if(t!==~~t||t<-uN||t>uN)throw Error(du+"exponent");for(s&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return s?n.div(r):r};vt.prec=function(t,e){if(t!==~~t||t<1||t>Jl)throw Error(du+"precision");return hu(new this.constructor(this),t,e)};vt.round=function(t,e){if(t===Yi)t=0;else if(t!==~~t||t<-Jl||t>Jl)throw Error(gv);return hu(new this.constructor(this),t+this.e+1,e)};vt.sqrt=function(){var t,e,n,r=this,s=r.constructor,i=r.s,o=r.e,a=new s("0.5");if(!r.c[0])return new s(r);if(i<0)throw Error(rm+"No square root");i=Math.sqrt(+fu(r,!0,!0)),i===0||i===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),i=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):t=new s(i+""),o=t.e+(s.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return hu(t,(s.DP-=4)+t.e+1,s.RM)};vt.times=vt.mul=function(t){var e,n=this,r=n.constructor,s=n.c,i=(t=new r(t)).c,o=s.length,a=i.length,c=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!s[0]||!i[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=s,s=i,i=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+i[c]*s[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};vt.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==Yi){if(t!==~~t||t<0||t>Jl)throw Error(gv);for(n=hu(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return fu(n,!0,!!r)};vt.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==Yi){if(t!==~~t||t<0||t>Jl)throw Error(gv);for(n=hu(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return fu(n,!1,!!r)};vt[Symbol.for("nodejs.util.inspect.custom")]=vt.toJSON=vt.toString=function(){var t=this,e=t.constructor;return fu(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};vt.toNumber=function(){var t=+fu(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(rm+"Imprecise conversion");return t};vt.toPrecision=function(t,e){var n=this,r=n.constructor,s=n.c[0];if(t!==Yi){if(t!==~~t||t<1||t>Jl)throw Error(du+"precision");for(n=hu(new r(n),t,e);n.c.length<t;)n.c.push(0)}return fu(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};vt.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(rm+"valueOf disallowed");return fu(t,t.e<=e.NE||t.e>=e.PE,!0)};var Xh=F8();const qZ={bigNumber(t){return t?new Xh(t):new Xh(0)},multiply(t,e){if(t===void 0||e===void 0)return new Xh(0);const n=new Xh(t),r=new Xh(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},HZ=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],VZ=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],GZ=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],KZ={getERC20Abi:t=>X.USDT_CONTRACT_ADDRESSES.includes(t)?GZ:HZ,getSwapAbi:()=>VZ},as={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,s]=e;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},De={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids"};function p1(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const ke={setItem(t,e){Pf()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Pf())return localStorage.getItem(t)||void 0},removeItem(t){Pf()&&localStorage.removeItem(t)},clear(){Pf()&&localStorage.clear()}};function Pf(){return typeof window<"u"&&typeof localStorage<"u"}function Oo(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var dN={};const g1=(typeof process<"u"&&typeof dN<"u"?dN.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",z8=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]},{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]}],YZ="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",mt={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:g1,SECURE_SITE_DASHBOARD:`${g1}/dashboard`,SECURE_SITE_FAVICON:`${g1}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld","coinbase"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},le={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=le.getActiveNamespace(),e=le.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{ke.setItem(De.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=ke.getItem(De.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{ke.removeItem(De.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{ke.setItem(De.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{ke.setItem(De.ACTIVE_CAIP_NETWORK_ID,t),le.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return ke.getItem(De.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{ke.removeItem(De.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=p1(t);ke.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=le.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),ke.setItem(De.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=ke.getItem(De.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=p1(t);ke.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return ke.getItem(De.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=p1(t);return ke.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{ke.setItem(De.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return ke.getItem(De.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{ke.removeItem(De.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return ke.getItem(De.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=ke.getItem(De.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{ke.setItem(De.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return ke.getItem(De.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=ke.getItem(De.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));ke.setItem(De.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=le.getConnectedNamespaces();e.includes(t)||(e.push(t),le.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=le.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),le.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return ke.getItem(De.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{ke.setItem(De.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{ke.removeItem(De.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=ke.getItem(De.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=le.getBalanceCache();ke.setItem(De.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=le.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;le.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=le.getBalanceCache();e[t.caipAddress]=t,ke.setItem(De.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=ke.getItem(De.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=le.getBalanceCache();ke.setItem(De.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=le.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),le.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=le.getNativeBalanceCache();e[t.caipAddress]=t,ke.setItem(De.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=ke.getItem(De.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=le.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;le.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=le.getEnsCache();e[t.address]=t,ke.setItem(De.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=le.getEnsCache();ke.setItem(De.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=ke.getItem(De.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=le.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;le.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=le.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},ke.setItem(De.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=le.getIdentityCache();ke.setItem(De.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{ke.removeItem(De.PORTFOLIO_CACHE),ke.removeItem(De.NATIVE_BALANCE_CACHE),ke.removeItem(De.ENS_CACHE),ke.removeItem(De.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{ke.setItem(De.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=ke.getItem(De.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n=le.getConnections(),r=n[e]??[],s=new Map;for(const o of r)s.set(o.connectorId,{...o});for(const o of t){const a=s.get(o.connectorId),c=o.connectorId===X.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(d=>d.address.toLowerCase())),u=o.accounts.filter(d=>!l.has(d.address.toLowerCase()));a.accounts.push(...u)}else s.set(o.connectorId,{...o})}const i={...n,[e]:Array.from(s.values())};ke.setItem(De.CONNECTIONS,JSON.stringify(i))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=ke.getItem(De.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:n}){try{const r=le.getConnections(),s=r[n]??[],i=new Map(s.map(a=>[a.connectorId,a])),o=i.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?i.delete(t):i.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),ke.setItem(De.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const t=ke.getItem(De.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const n=le.getDisconnectedConnectorIds(),r=n[e]??[];r.push(t),ke.setItem(De.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const n=le.getDisconnectedConnectorIds();let r=n[e]??[];r=r.filter(s=>s.toLowerCase()!==t.toLowerCase()),ke.setItem(De.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(le.getDisconnectedConnectorIds()[e]??[]).some(s=>s.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1}},Ce={isMobile(){var t;return this.isClient()?!!(window!=null&&window.matchMedia&&typeof window.matchMedia=="function"&&((t=window.matchMedia("(pointer:coarse)"))!=null&&t.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return Ce.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=mt.TEN_SEC_MS:!0},isAllowedRetry(t,e=mt.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var t,e;if(Ce.isClient()&&window.self!==window.top)try{const n=(e=(t=window==null?void 0:window.location)==null?void 0:t.ancestorOrigins)==null?void 0:e[0],r="https://app.safe.global";if(n){const s=new URL(n),i=new URL(r);return s.hostname===i.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+mt.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function s(){t(...r)}n&&clearTimeout(n),n=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(Ce.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,s=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!(s!=null&&s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const i=encodeURIComponent(e);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(t,e){if(!Ce.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?le.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,r;if(typeof window>"u")return!1;const t=window!=null&&window.matchMedia&&typeof window.matchMedia=="function"?(n=window.matchMedia("(display-mode: standalone)"))==null?void 0:n.matches:!1,e=(r=window==null?void 0:window.navigator)==null?void 0:r.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,Ce.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const s=Math.floor(r*1e3)/1e3;s&&(n=s.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){var r;let n;if(t==="0")n="0";else if(typeof t=="string"){const s=Number(t);s&&(n=(r=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return X.W3M_API_URL},getBlockchainApiUrl(){return X.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return X.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,s)=>{n[r]=s}),e.sort((r,s)=>{const i=n[r.id],o=n[s.id];return i!==void 0&&o!==void 0?i-o:i!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const s=r[e];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(t,e,n){const s=t.length===0?mt.ADAPTER_TYPES.UNIVERSAL:t.map(i=>i.adapterType).join(",");return`${e}-${s}-${n}`},createAccount(t,e,n,r,s){return{namespace:t,address:e,type:n,publicKey:r,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in X.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",i=t.substring(t.indexOf(s)+s.length),o=this.injectIntoUrl(decodeURIComponent(i),n,e);return t.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",r),i=e.length,o=s!==-1?s:t.length,a=t.substring(0,r+i),c=t.substring(r+i,o),l=t.substring(s),u=c+n;return a+u+l}};async function ef(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class sm{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...s}){const i=this.createUrl(s);return(await ef(i,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const s=this.createUrl(r);return(await ef(s,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await ef(i,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await ef(i,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await ef(i,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([s,i])=>{i&&r.searchParams.append(s,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const JZ={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?mt.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(Ce.isTelegram()){if(Ce.isIos())return t.filter(e=>e!=="google");if(Ce.isMac())return t.filter(e=>e!=="x");if(Ce.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},Te=kt({features:mt.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:mt.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),ne={state:Te,subscribeKey(t,e){return Vn(Te,t,e)},setOptions(t){Object.assign(Te,t)},setRemoteFeatures(t){var n;if(!t)return;const e={...Te.remoteFeatures,...t};Te.remoteFeatures=e,(n=Te.remoteFeatures)!=null&&n.socials&&(Te.remoteFeatures.socials=JZ.filterSocialsByPlatform(Te.remoteFeatures.socials))},setFeatures(t){if(!t)return;Te.features||(Te.features=mt.DEFAULT_FEATURES);const e={...Te.features,...t};Te.features=e},setProjectId(t){Te.projectId=t},setCustomRpcUrls(t){Te.customRpcUrls=t},setAllWallets(t){Te.allWallets=t},setIncludeWalletIds(t){Te.includeWalletIds=t},setExcludeWalletIds(t){Te.excludeWalletIds=t},setFeaturedWalletIds(t){Te.featuredWalletIds=t},setTokens(t){Te.tokens=t},setTermsConditionsUrl(t){Te.termsConditionsUrl=t},setPrivacyPolicyUrl(t){Te.privacyPolicyUrl=t},setCustomWallets(t){Te.customWallets=t},setIsSiweEnabled(t){Te.isSiweEnabled=t},setIsUniversalProvider(t){Te.isUniversalProvider=t},setSdkVersion(t){Te.sdkVersion=t},setMetadata(t){Te.metadata=t},setDisableAppend(t){Te.disableAppend=t},setEIP6963Enabled(t){Te.enableEIP6963=t},setDebug(t){Te.debug=t},setEnableWalletConnect(t){Te.enableWalletConnect=t},setEnableWalletGuide(t){Te.enableWalletGuide=t},setEnableAuthLogger(t){Te.enableAuthLogger=t},setEnableWallets(t){Te.enableWallets=t},setPreferUniversalLinks(t){Te.experimental_preferUniversalLinks=t},setHasMultipleAddresses(t){Te.hasMultipleAddresses=t},setSIWX(t){Te.siwx=t},setConnectMethodsOrder(t){Te.features={...Te.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){Te.features={...Te.features,walletFeaturesOrder:t}},setSocialsOrder(t){Te.remoteFeatures={...Te.remoteFeatures,socials:t}},setCollapseWallets(t){Te.features={...Te.features,collapseWallets:t}},setEnableEmbedded(t){Te.enableEmbedded=t},setAllowUnsupportedChain(t){Te.allowUnsupportedChain=t},setManualWCControl(t){Te.manualWCControl=t},setEnableNetworkSwitch(t){Te.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(Te.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){Te.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return Te.universalProviderConfigOverride},getSnapshot(){return og(Te)}},QZ=Object.freeze({enabled:!0,events:[]}),ZZ=new sm({baseUrl:Ce.getAnalyticsUrl(),clientId:null}),XZ=5,eX=60*1e3,la=kt({...QZ}),tX={state:la,subscribeKey(t,e){return Vn(la,t,e)},async sendError(t,e){if(!la.enabled)return;const n=Date.now();if(la.events.filter(i=>{const o=new Date(i.properties.timestamp||"").getTime();return n-o<eX}).length>=XZ)return;const s={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};la.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:o,sdkVersion:a}=ne.state;await ZZ.post({path:"/e",params:{projectId:i,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:Ce.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){la.enabled=!0},disable(){la.enabled=!1},clearEvents(){la.events=[]}};class rh extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,rh.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const i=r.stack,o=i.indexOf(`
`);if(o>-1){const a=i.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,rh):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function hN(t,e){const n=t instanceof rh?t:new rh(t instanceof Error?t.message:String(t),e,t);throw tX.sendError(n,n.category),n}function Es(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const s=t[r];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...o)=>{try{return await s(...o)}catch(a){return hN(a,e)}}:i=(...o)=>{try{return s(...o)}catch(a){return hN(a,e)}},n[r]=i}else n[r]=s}),n}const zi={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},nX={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===zi.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",i=n.split("/")[2],o=encodeURIComponent(`${s}://${i}`);window.location.href=`${zi.PHANTOM.url}/ul/browse/${r}?ref=${o}`}t===zi.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${zi.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===X.CHAIN.SOLANA&&t===zi.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${zi.COINBASE.url}/dapp?cb_url=${r}`)}},ts=kt({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),rX={state:ts,subscribeNetworkImages(t){return Hn(ts.networkImages,()=>t(ts.networkImages))},subscribeKey(t,e){return Vn(ts,t,e)},subscribe(t){return Hn(ts,()=>t(ts))},setWalletImage(t,e){ts.walletImages[t]=e},setNetworkImage(t,e){ts.networkImages[t]=e},setChainImage(t,e){ts.chainImages[t]=e},setConnectorImage(t,e){ts.connectorImages={...ts.connectorImages,[t]:e}},setTokenImage(t,e){ts.tokenImages[t]=e},setCurrencyImage(t,e){ts.currencyImages[t]=e}},ui=Es(rX),sX={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},m1=kt({networkImagePromises:{}}),W8={async fetchWalletImage(t){if(t)return await xe._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(m1.networkImagePromises[t]||(m1.networkImagePromises[t]=xe._fetchNetworkImage(t)),await m1.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return ui.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return ui.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return ui.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return ui.state.networkImages[t]},getConnectorImage(t){var e;if(t!=null&&t.imageUrl)return t.imageUrl;if((e=t==null?void 0:t.info)!=null&&e.icon)return t.info.icon;if(t!=null&&t.imageId)return ui.state.connectorImages[t.imageId]},getChainImage(t){return ui.state.networkImages[sX[t]]}},ua=kt({message:"",variant:"info",open:!1}),iX={state:ua,subscribeKey(t,e){return Vn(ua,t,e)},open(t,e){const{debug:n}=ne.state,{shortMessage:r,longMessage:s}=t;n&&(ua.message=r,ua.variant=e,ua.open=!0),s&&console.error(typeof s=="function"?s():s)},close(){ua.open=!1,ua.message="",ua.variant="info"}},ln=Es(iX),oX=Ce.getAnalyticsUrl(),aX=new sm({baseUrl:oX,clientId:null}),cX=["MODAL_CREATED"],co=kt({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),yt={state:co,subscribe(t){return Hn(co,()=>t(co))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=ne.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=ce.state.address;if(cX.includes(t.data.event)||typeof window>"u")return;await aX.post({path:"/e",params:yt.getSdkProperties(),body:{eventId:Ce.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),co.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===X.HTTP_STATUS_CODES.FORBIDDEN&&!co.reportedErrors.FORBIDDEN&&(ln.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Pf()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),co.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;co.timestamp=Date.now(),co.data=t,(e=ne.state.features)!=null&&e.analytics&&yt._sendAnalyticsEvent(co)}},lX=Ce.getApiUrl(),Tr=new sm({baseUrl:lX,clientId:null}),uX=40,fN=4,dX=20,Me=kt({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),xe={state:Me,subscribeKey(t,e){return Vn(Me,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=ne.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return ne.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${Tr.baseUrl}/getWalletImage/${t}`,n=await Tr.getBlob({path:e,params:xe._getSdkProperties()});ui.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${Tr.baseUrl}/public/getAssetImage/${t}`,n=await Tr.getBlob({path:e,params:xe._getSdkProperties()});ui.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${Tr.baseUrl}/public/getAssetImage/${t}`,n=await Tr.getBlob({path:e,params:xe._getSdkProperties()});ui.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${Tr.baseUrl}/public/getCurrencyImage/${t}`,n=await Tr.getBlob({path:e,params:xe._getSdkProperties()});ui.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${Tr.baseUrl}/public/getTokenImage/${t}`,n=await Tr.getBlob({path:e,params:xe._getSdkProperties()});ui.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return Ce.isMobile()?t==null?void 0:t.filter(n=>n.mobile_link||n.id===zi.COINBASE.id?!0:$.state.activeChain==="solana"&&(n.id===zi.SOLFLARE.id||n.id===zi.PHANTOM.id)):t},async fetchProjectConfig(){return(await Tr.get({path:"/appkit/v1/config",params:xe._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await Tr.get({path:"/projects/v1/origins",params:xe._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===X.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=X.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const t=$.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!W8.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>xe._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=ue.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>xe._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>xe._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>xe._fetchTokenImage(e)))},async fetchWallets(t){var i;const e=t.exclude??[];xe._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(zi).map(o=>o.id));const r=await Tr.get({path:"/getWallets",params:{...xe._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(i=t.include)==null?void 0:i.join(","),exclude:e.join(",")}});return{data:xe._filterWalletsByPlatform(r==null?void 0:r.data)||[],count:r==null?void 0:r.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=ne.state;if(t!=null&&t.length){const e={...xe._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??fN,include:t},{data:n}=await xe.fetchWallets(e),r=[...n].sort((i,o)=>t.indexOf(i.id)-t.indexOf(o.id)),s=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>xe._fetchWalletImage(i))),Me.featured=r,Me.allFeatured=r}},async fetchRecommendedWallets(){try{Me.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=ne.state,r=[...e??[],...n??[]].filter(Boolean),s=$.getRequestedCaipNetworkIds().join(","),i={page:1,entries:fN,include:t,exclude:r,chains:s},{data:o,count:a}=await xe.fetchWallets(i),c=le.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>xe._fetchWalletImage(d))),Me.recommended=o,Me.allRecommended=o,Me.count=a??0}catch{}finally{Me.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=ne.state,s=$.getRequestedCaipNetworkIds().join(","),i=[...Me.recommended.map(({id:u})=>u),...n??[],...r??[]].filter(Boolean),o={page:t,entries:uX,include:e,exclude:i,chains:s},{data:a,count:c}=await xe.fetchWallets(o),l=a.slice(0,dX).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>xe._fetchWalletImage(u))),Me.wallets=Ce.uniqueBy([...Me.wallets,...xe._filterOutExtensions(a)],"id").filter(u=>{var d;return(d=u.chains)==null?void 0:d.some(h=>s.includes(h))}),Me.count=c>Me.count?c:Me.count,Me.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await xe.fetchWallets(e);n&&n.forEach(r=>{Me.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=ne.state,s=$.getRequestedCaipNetworkIds().join(",");Me.search=[];const i={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:s},{data:o}=await xe.fetchWallets(i);yt.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>xe._fetchWalletImage(c)),Ce.wait(300)]),Me.search=xe._filterOutExtensions(o)},initPromise(t,e){const n=Me.promises[t];return n||(Me.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[t&&xe.initPromise("connectorImages",xe.fetchConnectorImages),e&&xe.initPromise("featuredWallets",xe.fetchFeaturedWallets),n&&xe.initPromise("recommendedWallets",xe.fetchRecommendedWallets),r&&xe.initPromise("networkImages",xe.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){var t;(t=ne.state.features)!=null&&t.analytics&&xe.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await Tr.get({path:"/getAnalyticsConfig",params:xe._getSdkProperties()});ne.setFeatures({analytics:t})}catch{ne.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){Me.featured=Me.allFeatured,Me.recommended=Me.allRecommended;return}const e=$.getRequestedCaipNetworkIds().join(",");Me.featured=Me.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Me.recommended=Me.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Me.filteredWallets=Me.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})},clearFilterByNamespaces(){Me.filteredWallets=[]},setFilterByNamespace(t){if(!t){Me.featured=Me.allFeatured,Me.recommended=Me.allRecommended;return}const e=$.getRequestedCaipNetworkIds().join(",");Me.featured=Me.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Me.recommended=Me.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Me.filteredWallets=Me.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})}},_t=kt({view:"Connect",history:["Connect"],transactionStack:[]}),hX={state:_t,subscribeKey(t,e){return Vn(_t,t,e)},pushTransactionStack(t){_t.transactionStack.push(t)},popTransactionStack(t){const e=_t.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:s}=e;switch(t){case"success":n==null||n();break;case"error":r==null||r(),Pe.goBack();break;case"cancel":s==null||s(),Pe.goBack();break}},push(t,e){t!==_t.view&&(_t.view=t,_t.history.push(t),_t.data=e)},reset(t,e){_t.view=t,_t.history=[t],_t.data=e},replace(t,e){_t.history.at(-1)===t||(_t.view=t,_t.history[_t.history.length-1]=t,_t.data=e)},goBack(){var r;const t=$.state.activeCaipAddress,e=Pe.state.view==="ConnectingFarcaster",n=!t&&e;if(_t.history.length>1){_t.history.pop();const[s]=_t.history.slice(-1);s&&(t&&s==="Connect"?_t.view="Account":_t.view=s)}else ft.close();(r=_t.data)!=null&&r.wallet&&(_t.data.wallet=void 0),setTimeout(()=>{var s,i,o;if(n){ce.setFarcasterUrl(void 0,$.state.activeChain);const a=ue.getAuthConnector();(s=a==null?void 0:a.provider)==null||s.reload();const c=og(ne.state);(o=(i=a==null?void 0:a.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(t){if(_t.history.length>1){_t.history=_t.history.slice(0,t+1);const[e]=_t.history.slice(-1);e&&(_t.view=e)}},goBackOrCloseModal(){Pe.state.history.length>1?Pe.goBack():ft.close()}},Pe=Es(hX),lo=kt({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),wC={state:lo,subscribe(t){return Hn(lo,()=>t(lo))},setThemeMode(t){lo.themeMode=t;try{const e=ue.getAuthConnector();if(e){const n=wC.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:Oo(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){lo.themeVariables={...lo.themeVariables,...t};try{const e=ue.getAuthConnector();if(e){const n=wC.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:Oo(lo.themeVariables,lo.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return og(lo)}},Fr=Es(wC),q8={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},it=kt({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...q8},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),fX={state:it,subscribe(t){return Hn(it,()=>{t(it)})},subscribeKey(t,e){return Vn(it,t,e)},initialize(t){t.forEach(e=>{const n=le.getConnectedConnectorId(e);n&&ue.setConnectorId(n,e)})},setActiveConnector(t){t&&(it.activeConnector=Yl(t))},setConnectors(t){t.filter(s=>!it.allConnectors.some(i=>i.id===s.id&&ue.getConnectorName(i.name)===ue.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&it.allConnectors.push(Yl(s))});const n=ue.getEnabledNamespaces(),r=ue.getEnabledConnectors(n);it.connectors=ue.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(it.filterByNamespaceMap).forEach(e=>{it.filterByNamespaceMap[e]=!1}),t.forEach(e=>{it.filterByNamespaceMap[e]=!0}),ue.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){it.filterByNamespaceMap[t]=e,ue.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=ue.getEnabledNamespaces(),e=ue.getEnabledConnectors(t),n=ue.areAllNamespacesEnabled();it.connectors=ue.mergeMultiChainConnectors(e),n?xe.clearFilterByNamespaces():xe.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(it.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return it.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(it.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=ue.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const s=r[0],i=(s==null?void 0:s.id)===X.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&n.push(s)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,s=ue.getConnectorName(r);if(!s)return;const i=e.get(s)||[];i.find(a=>a.chain===n.chain)||i.push(n),e.set(s,i)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===X.CONNECTOR_ID.AUTH){const s=t,i=og(ne.state),o=Fr.getSnapshot().themeMode,a=Fr.getSnapshot().themeVariables;(n=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType}),(r=s==null?void 0:s.provider)==null||r.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:Oo(a,o)}),ue.setConnectors([t])}else ue.setConnectors([t])},getAuthConnector(t){var r;const e=t||$.state.activeChain,n=it.connectors.find(s=>s.id===X.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(i=>i.chain===e):n},getAnnouncedConnectorRdns(){return it.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return it.allConnectors.find(e=>e.id===t)},getConnector(t,e){return it.allConnectors.filter(r=>r.chain===$.state.activeChain).find(r=>{var s;return r.explorerId===t||((s=r.info)==null?void 0:s.rdns)===e})},syncIfAuthConnector(t){var i,o;if(t.id!=="ID_AUTH")return;const e=t,n=og(ne.state),r=Fr.getSnapshot().themeMode,s=Fr.getSnapshot().themeVariables;(o=(i=e==null?void 0:e.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:Oo(s,r)})},getConnectorsByNamespace(t){const e=it.allConnectors.filter(n=>n.chain===t);return ue.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=ue.getConnector(t.id,t.rdns),n=$.state.activeChain;nX.handleMobileDeeplinkRedirect((e==null?void 0:e.explorerId)||t.id,n),e?Pe.push("ConnectingExternal",{connector:e}):Pe.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?ue.getConnectorsByNamespace(t):ue.mergeMultiChainConnectors(it.allConnectors)},setFilterByNamespace(t){it.filterByNamespace=t,it.connectors=ue.getConnectors(t),xe.setFilterByNamespace(t)},setConnectorId(t,e){t&&(it.activeConnectorIds={...it.activeConnectorIds,[e]:t},le.setConnectedConnectorId(e,t))},removeConnectorId(t){it.activeConnectorIds={...it.activeConnectorIds,[t]:void 0},le.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return it.activeConnectorIds[t]},isConnected(t){return t?!!it.activeConnectorIds[t]:Object.values(it.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){it.activeConnectorIds={...q8}}},ue=Es(fX),cg={getConnectionStatus(t,e){const n=ue.state.activeConnectorIds[e],r=we.state.connections.get(e)??[];return!!n&&t.connectorId===n?"connected":r.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},validateAccountSwitch({namespace:t,connection:e,address:n}){if(t===X.CHAIN.BITCOIN){if(!n)throw new Error("Address parameter is required for switching bip122 connection");const{type:s}=e.accounts.find(i=>i.address.toLowerCase()===n.toLowerCase())??{};if(typeof s=="string"&&s!=="payment")throw new Error(`Switching to non-payment accounts is not allowed for ${t}`)}},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:n}){return t.map(r=>{if((e?r.connectorId.toLowerCase()===e.toLowerCase():!1)&&n){const i=r.accounts.filter(o=>!n.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...r,accounts:i}}return r})},excludeExistingConnections(t,e){const n=new Set(t);return e.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(n=>n.connectorId.toLowerCase()===e.toLowerCase())},filterConnectionsByAccountType(t,e){return t.map(n=>{const r=n.accounts.filter(s=>typeof s.type=="string"?s.type.toLowerCase()===e.toLowerCase():!0);return{...n,accounts:r}})},getConnectionsData(t){const e=we.state.connections.get(t)??[],n=e.filter(a=>!a.recent),r=ue.state.activeConnectorIds[t],i=e.filter(a=>a.recent).filter(a=>ue.getConnectorById(a.connectorId)),o=cg.excludeExistingConnections([...n.map(a=>a.connectorId),...r?[r]:[]],i);return{connections:n,recentConnections:o}}};var sh={};const pX="https://secure.walletconnect.org/sdk",gX=(typeof process<"u"&&typeof sh<"u"?sh.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||pX,mX=(typeof process<"u"&&typeof sh<"u"?sh.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",yX=(typeof process<"u"&&typeof sh<"u"?sh.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",be={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},kn={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},wX=1e3,No={checkNamespaceConnectorId(t,e){return ue.getConnectorId(t)===e},isSocialProvider(t){return mt.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:i}){return new Promise((o,a)=>{if(t&&ue.setActiveConnector(e),s==null||s(Ce.isMobile()&&t),r){const l=ft.subscribeKey("open",u=>{u||(Pe.state.view!==r&&Pe.replace(r),l(),a(new Error("Modal closed")))})}const c=$.subscribeKey("activeCaipAddress",l=>{l&&(i==null||i(),n&&ft.close(),c(),o(as.parseCaipAddress(l)))})})},connectExternal(t){return new Promise((e,n)=>{const r=$.subscribeKey("activeCaipAddress",s=>{s&&(ft.close(),r(),e(as.parseCaipAddress(s)))});we.connectExternal(t,t.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:t,closeModalOnConnect:e=!0,onOpenFarcaster:n,onConnect:r}){let s=ce.state.socialWindow,i=ce.state.socialProvider,o=!1,a=null;const c=$.subscribeKey("activeCaipAddress",l=>{l&&(e&&ft.close(),c())});return new Promise((l,u)=>{async function d(f){var p;if((p=f.data)!=null&&p.resultUri)if(f.origin===X.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",d,!1);try{const g=ue.getAuthConnector();if(g&&!o){s&&(s.close(),ce.setSocialWindow(void 0,$.state.activeChain),s=ce.state.socialWindow),o=!0;const y=f.data.resultUri;if(i&&yt.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:i}}),await g.provider.connectSocial(y),i){le.setConnectedSocialProvider(i),await we.connectExternal({id:g.id,type:g.type,socialUri:y},g.chain);const w=$.state.activeCaipAddress;if(!w){u(new Error("Failed to connect"));return}l(as.parseCaipAddress(w)),yt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:i}})}}}catch{i&&yt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}}),u(new Error("Failed to connect"))}}else i&&yt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}})}async function h(){if(t&&(ce.setSocialProvider(t,$.state.activeChain),i=ce.state.socialProvider,yt.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:i}})),i==="farcaster"){n==null||n();const f=ft.subscribeKey("open",g=>{!g&&t==="farcaster"&&(u(new Error("Popup closed")),r==null||r(),f())}),p=ue.getAuthConnector();if(p&&!ce.state.farcasterUrl)try{const{url:g}=await p.provider.getFarcasterUri();ce.setFarcasterUrl(g,$.state.activeChain)}catch{u(new Error("Failed to connect to farcaster"))}}else{const f=ue.getAuthConnector();a=Ce.returnOpenHref(`${X.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(f&&i){const{uri:p}=await f.provider.getSocialRedirectUri({provider:i});if(a&&p){ce.setSocialWindow(a,$.state.activeChain),s=ce.state.socialWindow,a.location.href=p;const g=setInterval(()=>{s!=null&&s.closed&&!o&&(u(new Error("Popup closed")),clearInterval(g))},1e3);window.addEventListener("message",d,!1)}else a==null||a.close(),u(new Error("Failed to initiate social connection"))}}catch{u(new Error("Failed to initiate social connection")),a==null||a.close()}}}h()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:n,onConnect:r}){return new Promise((s,i)=>{if(n==null||n(),e){const a=ft.subscribeKey("open",c=>{c||(Pe.state.view!==e&&Pe.replace(e),a(),i(new Error("Modal closed")))})}const o=$.subscribeKey("activeCaipAddress",a=>{a&&(r==null||r(),t&&ft.close(),o(),s(as.parseCaipAddress(a)))})})},async updateEmail(){const t=le.getConnectedConnectorId($.state.activeChain),e=ue.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==X.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=e.provider.getEmail()??"";return Pe.push("UpdateEmailWallet",{email:n,redirectView:void 0}),new Promise((r,s)=>{const i=setInterval(()=>{const a=e.provider.getEmail()??"";a!==n&&(ft.close(),clearInterval(i),o(),r({email:a}))},wX),o=ft.subscribeKey("open",a=>{a||(Pe.state.view!=="Connect"&&Pe.push("Connect"),clearInterval(i),o(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){var n;return $.checkIfSmartAccountEnabled()&&((n=ce.state.preferredAccountTypes)==null?void 0:n[t])===kn.ACCOUNT_TYPES.EOA}},tl=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),hn=kt({...tl}),vX={state:hn,subscribeKey(t,e){return Vn(hn,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Ce.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){hn.message=tl.message,hn.variant=tl.variant,hn.svg=tl.svg,hn.open=tl.open,hn.autoClose=tl.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=tl.autoClose}){hn.open?(hn.open=!1,setTimeout(()=>{hn.message=t,hn.variant=n,hn.svg=e,hn.open=!0,hn.autoClose=r},150)):(hn.message=t,hn.variant=n,hn.svg=e,hn.open=!0,hn.autoClose=r)}},hi=vX,At=kt({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),bX={state:At,subscribe(t){return Hn(At,()=>t(At))},setLastNetworkInView(t){At.lastNetworkInView=t},async fetchTransactions(t,e){var n,r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");At.loading=!0;try{const s=await Ne.fetchTransactions({account:t,cursor:At.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),i=kf.filterSpamTransactions(s.data),o=kf.filterByConnectedChain(i),a=[...At.transactions,...o];At.loading=!1,e==="coinbase"?At.coinbaseTransactions=kf.groupTransactionsByYearAndMonth(At.coinbaseTransactions,s.data):(At.transactions=a,At.transactionsByYear=kf.groupTransactionsByYearAndMonth(At.transactionsByYear,o)),At.empty=a.length===0,At.next=s.next?s.next:void 0}catch{const i=$.state.activeChain;yt.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:ne.state.projectId,cursor:At.next,isSmartAccount:((r=ce.state.preferredAccountTypes)==null?void 0:r[i])===kn.ACCOUNT_TYPES.SMART_ACCOUNT}}),hi.showError("Failed to fetch transactions"),At.loading=!1,At.empty=!0,At.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),o=n[s]??{},c=(o[i]??[]).filter(l=>l.id!==r.id);n[s]={...o,[i]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var s;return((s=r.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=$.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){At.next=void 0},resetTransactions(){At.transactions=[],At.transactionsByYear={},At.lastNetworkInView=void 0,At.loading=!1,At.empty=!1,At.next=void 0}},kf=Es(bX,"API_ERROR"),tt=kt({connections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let Vc;const _X={state:tt,subscribe(t){return Hn(tt,()=>t(tt))},subscribeKey(t,e){return Vn(tt,t,e)},_getClient(){return tt._client},setClient(t){tt._client=Yl(t)},initialize(t){const e=le.getConnections();for(const n of t){const r=n.namespace;if(r){const s=tt.connections.get(r)??[],i=e[r]??[],o=[...s,...i];tt.connections.set(r,o)}}},async connectWalletConnect(){var t,e,n,r;if(Ce.isTelegram()||Ce.isSafari()&&Ce.isIos()){if(Vc){await Vc,Vc=void 0;return}if(!Ce.isPairingExpired(tt==null?void 0:tt.wcPairingExpiry)){const s=tt.wcUri;tt.wcUri=s;return}Vc=(e=(t=we._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),we.state.status="connecting",await Vc,Vc=void 0,tt.wcPairingExpiry=void 0,we.state.status="connected"}else await((r=(n=we._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var s,i;const r=await((i=(s=we._getClient())==null?void 0:s.connectExternal)==null?void 0:i.call(s,t));return n&&$.setActiveNamespace(e),r},async reconnectExternal(t){var n,r;await((r=(n=we._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||$.state.activeChain;e&&ue.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;ft.setLoading(!0,$.state.activeChain);const n=ue.getAuthConnector();n&&(ce.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),le.setPreferredAccountTypes(ce.state.preferredAccountTypes??{[e]:t}),await we.reconnectExternal(n),ft.setLoading(!1,$.state.activeChain),yt.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=$.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=we._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=we._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=we._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=we._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=we._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=we._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=we._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=we._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=we._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=we._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=we._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=we._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){tt.wcUri=void 0,tt.wcPairingExpiry=void 0,tt.wcLinking=void 0,tt.recentWallet=void 0,tt.status="disconnected",kf.resetTransactions(),le.deleteWalletConnectDeepLink()},resetUri(){tt.wcUri=void 0,tt.wcPairingExpiry=void 0,Vc=void 0},finalizeWcConnection(){var n,r;const{wcLinking:t,recentWallet:e}=we.state;t&&le.setWalletConnectDeepLink(t),e&&le.setAppKitRecent(e),yt.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((r=(n=Pe.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown"}})},setWcBasic(t){tt.wcBasic=t},setUri(t){tt.wcUri=t,tt.wcPairingExpiry=Ce.getPairingExpiry()},setWcLinking(t){tt.wcLinking=t},setWcError(t){tt.wcError=t,tt.buffering=!1},setRecentWallet(t){tt.recentWallet=t},setBuffering(t){tt.buffering=t},setStatus(t){tt.status=t},setIsSwitchingConnection(t){tt.isSwitchingConnection=t},async disconnect({id:t,namespace:e}={}){var n;try{await((n=we._getClient())==null?void 0:n.disconnect({id:t,chainNamespace:e}))}catch(r){throw new rh("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},setConnections(t,e){tt.connections=new Map(tt.connections.set(e,t))},async handleAuthAccountSwitch({address:t,connection:e,namespace:n}){var o;const r=(o=e.accounts.find(a=>a.type==="smartAccount"))==null?void 0:o.address,i=(r==null?void 0:r.toLowerCase())===t.toLowerCase()&&No.canSwitchToSmartAccount(n)?"smartAccount":"eoa";await we.setPreferredAccountType(i,n)},async handleActiveConnection({connection:t,namespace:e,address:n}){const r=ue.getConnectorById(t.connectorId),s=t.connectorId===X.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${t.connectorId}`);const i=await we.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:e},e);return s&&n&&await we.handleAuthAccountSwitch({address:n,connection:t,namespace:e}),i==null?void 0:i.address},async handleDisconnectedConnection({connection:t,namespace:e,address:n,closeModalOnConnect:r}){var l,u;const s=ue.getConnectorById(t.connectorId),i=(u=(l=t.auth)==null?void 0:l.name)==null?void 0:u.toLowerCase(),o=t.connectorId===X.CONNECTOR_ID.AUTH,a=t.connectorId===X.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(i&&No.isSocialProvider(i)){const{address:d}=await No.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){ft.open({view:"ConnectingFarcaster"})},onConnect(){Pe.replace("ProfileWallets")}});c=d}else{const{address:d}=await No.connectEmail({closeModalOnConnect:r,onOpen(){ft.open({view:"EmailLogin"})},onConnect(){Pe.replace("ProfileWallets")}});c=d}else if(a){const{address:d}=await No.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(h){ft.open({view:h?"AllWallets":"ConnectingWalletConnect"})},onConnect(){Pe.replace("ProfileWallets")}});c=d}else{const d=await we.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:e},e);d&&(c=d.address)}return o&&n&&await we.handleAuthAccountSwitch({address:n,connection:t,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:n,closeModalOnConnect:r,onChange:s}){cg.validateAccountSwitch({namespace:n,connection:t,address:e});let i;const o=ce.getCaipAddress(n);if(o){const{address:c}=as.parseCaipAddress(o);i=c}const a=cg.getConnectionStatus(t,n);switch(a){case"connected":case"active":{const c=await we.handleActiveConnection({connection:t,namespace:n,address:e});if(i&&c){const l=c.toLowerCase()!==i.toLowerCase();s==null||s({address:c,namespace:n,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await we.handleDisconnectedConnection({connection:t,namespace:n,address:e,closeModalOnConnect:r});c&&(s==null||s({address:c,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0}));break}default:throw new Error(`Invalid connection status: ${a}`)}}},we=Es(_X),Iu=kt({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Ji={state:Iu,subscribe(t){return Hn(Iu,()=>t(Iu))},subscribeOpen(t){return Vn(Iu,"open",t)},set(t){Object.assign(Iu,{...Iu,...t})}};function EX(t){const e=Array.from($.state.chains.keys());let n=[];return t?(n.push([t,$.state.chains.get(t)]),No.checkNamespaceConnectorId(t,X.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&No.checkNamespaceConnectorId(r,X.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,$.state.chains.get(r)])}):No.checkNamespaceConnectorId(t,X.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&No.checkNamespaceConnectorId(r,X.CONNECTOR_ID.AUTH)&&n.push([r,$.state.chains.get(r)])})):n=Array.from($.state.chains.entries()),n}function H8(){var r,s;const t=((r=$.state.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((s=$.state.activeCaipNetwork)==null?void 0:s.id)||1,n=mt.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`}const CX={async getTokenList(){var r;const t=$.state.activeCaipNetwork,e=await Ne.fetchSwapTokens({chainId:t==null?void 0:t.caipNetworkId});return((r=e==null?void 0:e.tokens)==null?void 0:r.map(s=>({...s,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var e;const t=$.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const n=(e=await(we==null?void 0:we.estimateGas({chainNamespace:"solana"})))==null?void 0:e.toString();return{standard:n,fast:n,instant:n};case"eip155":default:return await Ne.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await Ne.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(s!=null&&s.allowance&&n&&r){const i=we.parseUnits(n,r)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(t){const e=await _A.getMyTokensWithBalance(t);return ce.setTokenBalance(e,$.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:H8(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},gt=kt({tokenBalances:[],loading:!1}),xX={state:gt,subscribe(t){return Hn(gt,()=>t(gt))},subscribeKey(t,e){return Vn(gt,t,e)},setToken(t){t&&(gt.token=Yl(t))},setTokenAmount(t){gt.sendTokenAmount=t},setReceiverAddress(t){gt.receiverAddress=t},setReceiverProfileImageUrl(t){gt.receiverProfileImageUrl=t},setReceiverProfileName(t){gt.receiverProfileName=t},setNetworkBalanceInUsd(t){gt.networkBalanceInUSD=t},setLoading(t){gt.loading=t},async sendToken(){var t;try{switch(dt.setLoading(!0),(t=$.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await dt.sendEvmToken();return;case"solana":await dt.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{dt.setLoading(!1)}},async sendEvmToken(){var n,r,s,i;const t=$.state.activeChain,e=(n=ce.state.preferredAccountTypes)==null?void 0:n[t];if(!dt.state.sendTokenAmount||!dt.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!dt.state.token)throw new Error("A token is required");(r=dt.state.token)!=null&&r.address?(yt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===kn.ACCOUNT_TYPES.SMART_ACCOUNT,token:dt.state.token.address,amount:dt.state.sendTokenAmount,network:((s=$.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),await dt.sendERC20Token({receiverAddress:dt.state.receiverAddress,tokenAddress:dt.state.token.address,sendTokenAmount:dt.state.sendTokenAmount,decimals:dt.state.token.quantity.decimals})):(yt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===kn.ACCOUNT_TYPES.SMART_ACCOUNT,token:dt.state.token.symbol||"",amount:dt.state.sendTokenAmount,network:((i=$.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),await dt.sendNativeToken({receiverAddress:dt.state.receiverAddress,sendTokenAmount:dt.state.sendTokenAmount,decimals:dt.state.token.quantity.decimals}))},async fetchTokenBalance(t){var i,o;gt.loading=!0;const e=(i=$.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=$.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=$.state.activeCaipAddress,s=r?Ce.getPlainAddress(r):void 0;if(gt.lastRetry&&!Ce.isAllowedRetry(gt.lastRetry,30*mt.ONE_SEC_MS))return gt.loading=!1,[];try{if(s&&e&&n){const a=await _A.getMyTokensWithBalance();return gt.tokenBalances=a,gt.lastRetry=void 0,a}}catch(a){gt.lastRetry=Date.now(),t==null||t(a),hi.showError("Token Balance Unavailable")}finally{gt.loading=!1}return[]},fetchNetworkBalance(){if(gt.tokenBalances.length===0)return;const t=CX.mapBalancesToSwapTokens(gt.tokenBalances);if(!t)return;const e=t.find(n=>n.address===H8());e&&(gt.networkBalanceInUSD=e?qZ.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var i,o,a,c;Pe.pushTransactionStack({});const e=t.receiverAddress,n=ce.state.address,r=we.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await we.sendTransaction({chainNamespace:"eip155",to:e,address:n,data:"0x",value:r??BigInt(0)}),yt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((i=ce.state.preferredAccountTypes)==null?void 0:i.eip155)===kn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((o=dt.state.token)==null?void 0:o.symbol)||"",amount:t.sendTokenAmount,network:((a=$.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),(c=we._getClient())==null||c.updateBalance("eip155"),dt.resetSend()},async sendERC20Token(t){Pe.pushTransactionStack({onSuccess(){Pe.replace("Account")}});const e=we.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(ce.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=Ce.getPlainAddress(t.tokenAddress);await we.writeContract({fromAddress:ce.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:KZ.getERC20Abi(n),chainNamespace:"eip155"}),dt.resetSend()}},async sendSolanaToken(){var t;if(!dt.state.sendTokenAmount||!dt.state.receiverAddress)throw new Error("An amount and receiver address are required");Pe.pushTransactionStack({onSuccess(){Pe.replace("Account")}}),await we.sendTransaction({chainNamespace:"solana",to:dt.state.receiverAddress,value:dt.state.sendTokenAmount}),(t=we._getClient())==null||t.updateBalance("solana"),dt.resetSend()},resetSend(){gt.token=void 0,gt.sendTokenAmount=void 0,gt.receiverAddress=void 0,gt.receiverProfileImageUrl=void 0,gt.receiverProfileName=void 0,gt.loading=!1,gt.tokenBalances=[]}},dt=Es(xX),y1={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},ry={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},de=kt({chains:DZ(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),SX={state:de,subscribe(t){return Hn(de,()=>{t(de)})},subscribeKey(t,e){return Vn(de,t,e)},subscribeChainProp(t,e,n){let r;return Hn(de.chains,()=>{var i;const s=n||de.activeChain;if(s){const o=(i=de.chains.get(s))==null?void 0:i[t];r!==o&&(r=o,e(o))}})},initialize(t,e,n){const{chainId:r,namespace:s}=le.getActiveNetworkProps(),i=e==null?void 0:e.find(u=>u.id.toString()===(r==null?void 0:r.toString())),a=t.find(u=>(u==null?void 0:u.namespace)===s)||(t==null?void 0:t[0]),c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=ne.state.enableEmbedded?new Set([...c]):new Set([...(e==null?void 0:e.map(u=>u.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(de.noAdapters=!0),de.noAdapters||(de.activeChain=a==null?void 0:a.namespace,de.activeCaipNetwork=i,$.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:i}),de.activeChain&&Ji.set({activeChain:a==null?void 0:a.namespace})),l.forEach(u=>{const d=e==null?void 0:e.filter(h=>h.chainNamespace===u);$.state.chains.set(u,{namespace:u,networkState:kt({...ry,caipNetwork:d==null?void 0:d[0]}),accountState:kt(y1),caipNetworks:d??[],...n}),$.setRequestedCaipNetworks(d??[],u)})},removeAdapter(t){var e,n;if(de.activeChain===t){const r=Array.from(de.chains.entries()).find(([s])=>s!==t);if(r){const s=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];s&&$.setActiveCaipNetwork(s)}}de.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){de.chains.set(t.namespace,{namespace:t.namespace,networkState:{...ry,caipNetwork:r[0]},accountState:y1,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),$.setRequestedCaipNetworks((r==null?void 0:r.filter(s=>s.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=de.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(s=>s.id===t.id)||r.push(t),de.chains.set(t.chainNamespace,{...e,caipNetworks:r}),$.setRequestedCaipNetworks(r,t.chainNamespace),ue.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var r,s,i;const n=de.chains.get(t);if(n){const o=((r=de.activeCaipNetwork)==null?void 0:r.id)===e,a=[...((s=n.caipNetworks)==null?void 0:s.filter(c=>c.id!==e))||[]];o&&((i=n==null?void 0:n.caipNetworks)!=null&&i[0])&&$.setActiveCaipNetwork(n.caipNetworks[0]),de.chains.set(t,{...n,caipNetworks:a}),$.setRequestedCaipNetworks(a||[],t),a.length===0&&ue.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=de.chains.get(t);n&&(n.networkState={...n.networkState||ry,...e},de.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=de.chains.get(t);if(r){const s={...r.accountState||y1,...e};de.chains.set(t,{...r,accountState:s}),(de.chains.size===1||de.activeChain===t)&&(e.caipAddress&&(de.activeCaipAddress=e.caipAddress),ce.replaceState(s))}},setChainNetworkData(t,e){if(!t)return;const n=de.chains.get(t);if(n){const r={...n.networkState||ry,...e};de.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){$.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&ue.removeConnectorId(n)},setActiveNamespace(t){var r,s;de.activeChain=t;const e=t?de.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(de.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,de.activeCaipNetwork=n,$.setChainNetworkData(t,{caipNetwork:n}),le.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),Ji.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,s,i;if(!t)return;de.activeChain!==t.chainNamespace&&$.setIsSwitchingNamespace(!0);const e=de.chains.get(t.chainNamespace);de.activeChain=t.chainNamespace,de.activeCaipNetwork=t,$.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?de.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(s=e==null?void 0:e.accountState)==null?void 0:s.address}`:de.activeCaipAddress=void 0,$.setAccountProp("caipAddress",de.activeCaipAddress,t.chainNamespace),e&&ce.replaceState(e.accountState),dt.resetSend(),Ji.set({activeChain:de.activeChain,selectedNetworkId:(i=de.activeCaipNetwork)==null?void 0:i.caipNetworkId}),le.setActiveCaipNetworkId(t.caipNetworkId),!$.checkIfSupportedNetwork(t.chainNamespace)&&ne.state.enableNetworkSwitch&&!ne.state.allowUnsupportedChain&&!we.state.wcBasic&&$.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=de.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var s;if(!t)return;const e=t!==$.state.activeChain,n=(s=$.getNetworkData(t))==null?void 0:s.caipNetwork,r=$.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await $.switchActiveNetwork(r)},async switchActiveNetwork(t){var s;const e=$.state.chains.get($.state.activeChain),n=!((s=e==null?void 0:e.caipNetworks)!=null&&s.some(i=>{var o;return i.id===((o=de.activeCaipNetwork)==null?void 0:o.id)})),r=$.getNetworkControllerClient(t.chainNamespace);if(r){try{await r.switchCaipNetwork(t),n&&ft.close()}catch{Pe.goBack()}yt.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||de.activeChain,n=de.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||de.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=de.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){var s;let n=de.activeChain;if(e&&(n=e),!n)return;const r=(s=de.chains.get(n))==null?void 0:s.accountState;if(r)return r[t]},getNetworkProp(t,e){var r;const n=(r=de.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=de.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return Ce.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return de.chains.forEach(e=>{const n=$.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){$.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=$.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(r));ue.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const t=[];return de.chains.forEach(e=>{const n=$.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return de.activeCaipNetwork},getActiveCaipAddress(){return de.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=de.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=$.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());$.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||de.activeCaipNetwork,r=$.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(s=>s.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(t){if(!de.activeChain)return!0;const e=$.getRequestedCaipNetworks(de.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){$.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=ag.caipNetworkIdToNumber((r=de.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=de.activeChain;if(!e||!t)return!1;const n=$.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},showUnsupportedChainUI(){ft.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=de.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&mt.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){$.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");de.activeCaipAddress=void 0,$.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),ue.removeConnectorId(e)},setIsSwitchingNamespace(t){de.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(de.chains.forEach(s=>{X.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===s.namespace)&&s.namespace&&t.push(s.namespace)}),t.length>0){const s=t[0];return e=s?(r=(n=de.chains.get(s))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var e;return t?(e=$.state.chains.get(t))==null?void 0:e.accountState:ce.state},getNetworkData(t){var n;const e=t||de.activeChain;if(e)return(n=$.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var s,i,o;if(!t)return;const n=$.state.chains.get(t),r=(s=n==null?void 0:n.caipNetworks)==null?void 0:s.find(a=>a.id===e);return r||((i=n==null?void 0:n.networkState)==null?void 0:i.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=ue.state.filterByNamespace;return(t?[de.chains.get(t)]:Array.from(de.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?$.getRequestedCaipNetworks(t):$.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){de.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return de.lastConnectedSIWECaipNetwork}},$=Es(SX),AX={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},V8=Ce.getBlockchainApiUrl(),Nr=kt({clientId:null,api:new sm({baseUrl:V8,clientId:null}),supportedChains:{http:[],ws:[]}}),Ne={state:Nr,async get(t){const{st:e,sv:n}=Ne.getSdkProperties(),r=ne.state.projectId,s={...t.params||{},st:e,sv:n,projectId:r};return Nr.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=ne.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{Nr.supportedChains.http.length||await Ne.getSupportedNetworks()}catch{return!1}return Nr.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Ne.get({path:"v1/supported-chains"});return Nr.supportedChains=t,t}catch{return Nr.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await Ne.isNetworkSupported(e))return{avatar:"",name:""};const r=le.getIdentityFromCacheForAddress(t);if(r)return r;const s=await Ne.get({path:`/v1/identity/${t}`,params:{sender:$.state.activeCaipAddress?Ce.getPlainAddress($.state.activeCaipAddress):void 0}});return le.updateIdentityCache({address:t,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:s,chainId:i}){var a;return await Ne.isNetworkSupported((a=$.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?Ne.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:i},signal:r,cache:s}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:s}){var o;return await Ne.isNetworkSupported((o=$.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?Ne.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await Ne.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ne.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var n;return await Ne.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Nr.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:ne.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await Ne.isNetworkSupported((r=$.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Ne.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var s;const{st:e,sv:n}=Ne.getSdkProperties();if(!await Ne.isNetworkSupported((s=$.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return Ne.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:s}){var o;if(!await Ne.isNetworkSupported((o=$.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Nr.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:mt.CONVERT_SLIPPAGE_TOLERANCE},projectId:ne.state.projectId,from:e,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var o;const{st:r,sv:s}=Ne.getSdkProperties();if(!await Ne.isNetworkSupported((o=$.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Ne.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:s}})},async getBalance(t,e,n){var l;const{st:r,sv:s}=Ne.getSdkProperties();if(!await Ne.isNetworkSupported((l=$.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return hi.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=le.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Ne.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:s}});return le.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var n;return await Ne.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ne.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await Ne.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ne.get({path:`/v1/profile/reverse/${t}`,params:{sender:ce.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await Ne.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ne.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var i;return await Ne.isNetworkSupported((i=$.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?Nr.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){var a;return await Ne.isNetworkSupported((a=$.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await Nr.api.post({path:"/v1/generators/onrampurl",params:{projectId:ne.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await Ne.isNetworkSupported((e=$.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Ne.get({path:"/v1/onramp/options"})}catch{return AX}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var s;try{return await Ne.isNetworkSupported((s=$.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await Nr.api.post({path:"/v1/onramp/quote",params:{projectId:ne.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await Ne.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ne.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var s;return await Ne.isNetworkSupported((s=$.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?Nr.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:ne.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){Nr.clientId=t,Nr.api=new sm({baseUrl:V8,clientId:t})}},w1={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return wh(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},_A={async getMyTokensWithBalance(t){const e=ce.state.address,n=$.state.activeCaipNetwork,r=ue.getConnectorId("eip155")===X.CONNECTOR_ID.AUTH;if(!e||!n)return[];const s=`${n.caipNetworkId}:${e}`,i=le.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(n.chainNamespace==="eip155"&&r){const a=await this.getEIP155Balances(e,n);if(a)return this.filterLowQualityTokens(a)}const o=await Ne.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){var n,r;try{const s=w1.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),i=await we.getCapabilities(t);if(!((r=(n=i==null?void 0:i[s])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await we.walletGetAssets({account:t,chainFilter:[s]});if(!w1.isWalletGetAssetsResponse(o))return null;const c=(o[s]||[]).map(l=>w1.createBalance(l,e.caipNetworkId));return le.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:c},timestamp:Date.now()}),c}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},xs=kt({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),IX={state:xs,replaceState(t){t&&Object.assign(xs,Yl(t))},subscribe(t){return $.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return $.subscribeChainProp("accountState",s=>{if(s){const i=s[t];r!==i&&(r=i,e(i))}},n)},setStatus(t,e){$.setAccountProp("status",t,e)},getCaipAddress(t){return $.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?Ce.getPlainAddress(t):void 0;e===$.state.activeChain&&($.state.activeCaipAddress=t),$.setAccountProp("caipAddress",t,e),$.setAccountProp("address",n,e)},setBalance(t,e,n){$.setAccountProp("balance",t,n),$.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){$.setAccountProp("profileName",t,e)},setProfileImage(t,e){$.setAccountProp("profileImage",t,e)},setUser(t,e){$.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){$.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){$.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){$.setAccountProp("currentTab",t,$.state.activeChain)},setTokenBalance(t,e){t&&$.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){$.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){$.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=$.getAccountProp("addressLabels",n)||new Map;r.set(t,e),$.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=$.getAccountProp("addressLabels",e)||new Map;n.delete(t),$.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){$.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){$.setAccountProp("preferredAccountTypes",{...xs.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){xs.preferredAccountTypes=t},setSocialProvider(t,e){t&&$.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){$.setAccountProp("socialWindow",t?Yl(t):void 0,e)},setFarcasterUrl(t,e){$.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var i,o;xs.balanceLoading=!0;const e=(i=$.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=$.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=$.state.activeCaipAddress,s=r?Ce.getPlainAddress(r):void 0;if(xs.lastRetry&&!Ce.isAllowedRetry(xs.lastRetry,30*mt.ONE_SEC_MS))return xs.balanceLoading=!1,[];try{if(s&&e&&n){const a=await _A.getMyTokensWithBalance();return ce.setTokenBalance(a,n),xs.lastRetry=void 0,xs.balanceLoading=!1,a}}catch(a){xs.lastRetry=Date.now(),t==null||t(a),hi.showError("Token Balance Unavailable")}finally{xs.balanceLoading=!1}return[]},resetAccount(t){$.resetAccount(t)}},ce=Es(IX),TX={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=$.state.activeCaipNetwork,r=Pe.state.data;if(t.id===(n==null?void 0:n.id))return;const i=ce.getCaipAddress($.state.activeChain),o=t.chainNamespace!==$.state.activeChain,a=ce.getCaipAddress(t.chainNamespace),l=ue.getConnectorId($.state.activeChain)===X.CONNECTOR_ID.AUTH,u=X.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(d=>d===t.chainNamespace);e||l&&u?Pe.push("SwitchNetwork",{...r,network:t}):i&&o&&!a?Pe.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):Pe.push("SwitchNetwork",{...r,network:t})}},Pr=kt({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),NX={state:Pr,subscribe(t){return Hn(Pr,()=>t(Pr))},subscribeKey(t,e){return Vn(Pr,t,e)},async open(t){var o,a;const e=ce.state.status==="connected",n=t==null?void 0:t.namespace,r=$.state.activeChain,s=n&&n!==r,i=(o=$.getAccountData(t==null?void 0:t.namespace))==null?void 0:o.caipAddress;if(we.state.wcBasic?xe.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await xe.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),ue.setFilterByNamespace(t==null?void 0:t.namespace),ft.setLoading(!0,n),n&&s){const c=((a=$.getNetworkData(n))==null?void 0:a.caipNetwork)||$.getRequestedCaipNetworks(n)[0];c&&TX.onSwitchNetwork({network:c,ignoreSwitchConfirmation:!0})}else{const c=$.state.noAdapters;ne.state.manualWCControl||c&&!i?Ce.isMobile()?Pe.reset("AllWallets"):Pe.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?Pe.reset(t.view,t.data):i?Pe.reset("Account"):Pe.reset("Connect")}Pr.open=!0,Ji.set({open:!0}),yt.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const t=ne.state.enableEmbedded,e=!!$.state.activeCaipAddress;Pr.open&&yt.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Pr.open=!1,Pe.reset("Connect"),ft.clearLoading(),t?e?Pe.replace("Account"):Pe.push("Connect"):Ji.set({open:!1}),we.resetUri()},setLoading(t,e){e&&Pr.loadingNamespaceMap.set(e,t),Pr.loading=t,Ji.set({loading:t})},clearLoading(){Pr.loadingNamespaceMap.clear(),Pr.loading=!1},shake(){Pr.shake||(Pr.shake=!0,setTimeout(()=>{Pr.shake=!1},500))}},ft=Es(NX),Qf={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},vC={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},PX={providers:z8,selectedProvider:null,error:null,purchaseCurrency:Qf,paymentCurrency:vC,purchaseCurrencies:[Qf],paymentCurrencies:[],quotesLoading:!1},nt=kt(PX),kX={state:nt,subscribe(t){return Hn(nt,()=>t(nt))},subscribeKey(t,e){return Vn(nt,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=$.state.activeChain===X.CHAIN.SOLANA?"SOL":"USDC",n=ce.state.address??"",r=new URL(t.url);r.searchParams.append("publicKey",YZ),r.searchParams.append("destinationCurrencyCode",e),r.searchParams.append("walletAddress",n),r.searchParams.append("externalCustomerId",ne.state.projectId),nt.selectedProvider={...t,url:r.toString()}}else nt.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=z8.filter(r=>e.includes(r.name));nt.providers=n}else nt.providers=[]},setPurchaseCurrency(t){nt.purchaseCurrency=t},setPaymentCurrency(t){nt.paymentCurrency=t},setPurchaseAmount(t){bC.state.purchaseAmount=t},setPaymentAmount(t){bC.state.paymentAmount=t},async getAvailableCurrencies(){const t=await Ne.getOnrampOptions();nt.purchaseCurrencies=t.purchaseCurrencies,nt.paymentCurrencies=t.paymentCurrencies,nt.paymentCurrency=t.paymentCurrencies[0]||vC,nt.purchaseCurrency=t.purchaseCurrencies[0]||Qf,await xe.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await xe.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){var t,e;nt.quotesLoading=!0;try{const n=await Ne.getOnrampQuote({purchaseCurrency:nt.purchaseCurrency,paymentCurrency:nt.paymentCurrency,amount:((t=nt.paymentAmount)==null?void 0:t.toString())||"0",network:(e=nt.purchaseCurrency)==null?void 0:e.symbol});return nt.quotesLoading=!1,nt.purchaseAmount=Number(n==null?void 0:n.purchaseAmount.amount),n}catch(n){return nt.error=n.message,nt.quotesLoading=!1,null}finally{nt.quotesLoading=!1}},resetState(){nt.selectedProvider=null,nt.error=null,nt.purchaseCurrency=Qf,nt.paymentCurrency=vC,nt.purchaseCurrencies=[Qf],nt.paymentCurrencies=[],nt.paymentAmount=void 0,nt.purchaseAmount=void 0,nt.quotesLoading=!1}},bC=Es(kX),pN=2147483648,OX={convertEVMChainIdToCoinType(t){if(t>=pN)throw new Error("Invalid chainId");return(pN|t)>>>0}},Ss=kt({suggestions:[],loading:!1}),RX={state:Ss,subscribe(t){return Hn(Ss,()=>t(Ss))},subscribeKey(t,e){return Vn(Ss,t,e)},async resolveName(t){var e,n;try{return await Ne.lookupEnsName(t)}catch(r){const s=r;throw new Error(((n=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await Ne.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{Ss.loading=!0,Ss.suggestions=[];const e=await Ne.getEnsNameSuggestions(t);return Ss.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],Ss.suggestions}catch(e){const n=Zf.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{Ss.loading=!1}},async getNamesForAddress(t){try{if(!$.state.activeCaipNetwork)return[];const n=le.getEnsFromCacheForAddress(t);if(n)return n;const r=await Ne.reverseLookupEnsName({address:t});return le.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=Zf.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=$.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=ce.state.address,r=ue.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");Ss.loading=!0;try{const s=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Pe.pushTransactionStack({onCancel(){Pe.replace("RegisterAccountName")}});const i=await we.signMessage(s);Ss.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=OX.convertEVMChainIdToCoinType(Number(o));await Ne.registerEnsName({coinType:a,address:n,signature:i,message:s}),ce.setProfileName(t,e.chainNamespace),Pe.replace("RegisterAccountNameSuccess")}catch(s){const i=Zf.parseEnsApiError(s,`Error registering name ${t}`);throw Pe.replace("RegisterAccountName"),new Error(i)}finally{Ss.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,s;const n=t;return((s=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:s.description)||e}},Zf=Es(RX);var EA={exports:{}},Id=typeof Reflect=="object"?Reflect:null,gN=Id&&typeof Id.apply=="function"?Id.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},Zy;Id&&typeof Id.ownKeys=="function"?Zy=Id.ownKeys:Object.getOwnPropertySymbols?Zy=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Zy=function(e){return Object.getOwnPropertyNames(e)};function $X(t){console&&console.warn&&console.warn(t)}var G8=Number.isNaN||function(e){return e!==e};function xt(){xt.init.call(this)}EA.exports=xt;EA.exports.once=LX;xt.EventEmitter=xt;xt.prototype._events=void 0;xt.prototype._eventsCount=0;xt.prototype._maxListeners=void 0;var mN=10;function mv(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(xt,"defaultMaxListeners",{enumerable:!0,get:function(){return mN},set:function(t){if(typeof t!="number"||t<0||G8(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");mN=t}});xt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};xt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||G8(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function K8(t){return t._maxListeners===void 0?xt.defaultMaxListeners:t._maxListeners}xt.prototype.getMaxListeners=function(){return K8(this)};xt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=e==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[e];if(c===void 0)return!1;if(typeof c=="function")gN(c,this,n);else for(var l=c.length,u=X8(c,l),r=0;r<l;++r)gN(u[r],this,n);return!0};function Y8(t,e,n,r){var s,i,o;if(mv(n),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),o=i[e]),o===void 0)o=i[e]=n,++t._eventsCount;else if(typeof o=="function"?o=i[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=K8(t),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,$X(a)}return t}xt.prototype.addListener=function(e,n){return Y8(this,e,n,!1)};xt.prototype.on=xt.prototype.addListener;xt.prototype.prependListener=function(e,n){return Y8(this,e,n,!0)};function DX(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function J8(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},s=DX.bind(r);return s.listener=n,r.wrapFn=s,s}xt.prototype.once=function(e,n){return mv(n),this.on(e,J8(this,e,n)),this};xt.prototype.prependOnceListener=function(e,n){return mv(n),this.prependListener(e,J8(this,e,n)),this};xt.prototype.removeListener=function(e,n){var r,s,i,o,a;if(mv(n),s=this._events,s===void 0)return this;if(r=s[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():jX(r,i),r.length===1&&(s[e]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};xt.prototype.off=xt.prototype.removeListener;xt.prototype.removeAllListeners=function(e){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(e,n[s]);return this};function Q8(t,e,n){var r=t._events;if(r===void 0)return[];var s=r[e];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?UX(s):X8(s,s.length)}xt.prototype.listeners=function(e){return Q8(this,e,!0)};xt.prototype.rawListeners=function(e){return Q8(this,e,!1)};xt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Z8.call(t,e)};xt.prototype.listenerCount=Z8;function Z8(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}xt.prototype.eventNames=function(){return this._eventsCount>0?Zy(this._events):[]};function X8(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function jX(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function UX(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function LX(t,e){return new Promise(function(n,r){function s(o){t.removeListener(e,i),r(o)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),n([].slice.call(arguments))}e6(t,e,i,{once:!0}),e!=="error"&&MX(t,s,{once:!0})})}function MX(t,e,n){typeof t.on=="function"&&e6(t,"error",e,n)}function e6(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){r.once&&t.removeEventListener(e,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var qs=EA.exports;const CA=ou(qs);var oe={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _C=function(t,e){return _C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},_C(t,e)};function BX(t,e){_C(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var EC=function(){return EC=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},EC.apply(this,arguments)};function FX(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function zX(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function WX(t,e){return function(n,r){e(n,r,t)}}function qX(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function HX(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function VX(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function GX(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function KX(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function CC(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function t6(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function YX(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(t6(arguments[e]));return t}function JX(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function lg(t){return this instanceof lg?(this.v=t,this):new lg(t)}function QX(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(f){return new Promise(function(p,g){i.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(i[0][3],p)}}function c(h){h.value instanceof lg?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function ZX(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:lg(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function XX(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof CC=="function"?CC(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function eee(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function tee(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function nee(t){return t&&t.__esModule?t:{default:t}}function ree(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function see(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const iee=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return EC},__asyncDelegator:ZX,__asyncGenerator:QX,__asyncValues:XX,__await:lg,__awaiter:HX,__classPrivateFieldGet:ree,__classPrivateFieldSet:see,__createBinding:GX,__decorate:zX,__exportStar:KX,__extends:BX,__generator:VX,__importDefault:nee,__importStar:tee,__makeTemplateObject:eee,__metadata:qX,__param:WX,__read:t6,__rest:FX,__spread:YX,__spreadArrays:JX,__values:CC},Symbol.toStringTag,{value:"Module"})),yv=C0(iee);var v1={},tf={},yN;function oee(){if(yN)return tf;yN=1,Object.defineProperty(tf,"__esModule",{value:!0}),tf.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return tf.delay=t,tf}var Gc={},b1={},Kc={},wN;function aee(){return wN||(wN=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.ONE_THOUSAND=Kc.ONE_HUNDRED=void 0,Kc.ONE_HUNDRED=100,Kc.ONE_THOUSAND=1e3),Kc}var _1={},vN;function cee(){return vN||(vN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(_1)),_1}var bN;function n6(){return bN||(bN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=yv;e.__exportStar(aee(),t),e.__exportStar(cee(),t)}(b1)),b1}var _N;function lee(){if(_N)return Gc;_N=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.fromMiliseconds=Gc.toMiliseconds=void 0;const t=n6();function e(r){return r*t.ONE_THOUSAND}Gc.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return Gc.fromMiliseconds=n,Gc}var EN;function uee(){return EN||(EN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=yv;e.__exportStar(oee(),t),e.__exportStar(lee(),t)}(v1)),v1}var Tu={},CN;function dee(){if(CN)return Tu;CN=1,Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return Tu.Watch=t,Tu.default=t,Tu}var E1={},nf={},xN;function hee(){if(xN)return nf;xN=1,Object.defineProperty(nf,"__esModule",{value:!0}),nf.IWatch=void 0;class t{}return nf.IWatch=t,nf}var SN;function fee(){return SN||(SN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),yv.__exportStar(hee(),t)}(E1)),E1}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=yv;e.__exportStar(uee(),t),e.__exportStar(dee(),t),e.__exportStar(fee(),t),e.__exportStar(n6(),t)})(oe);class pu{}let pee=class extends pu{constructor(e){super()}};const AN=oe.FIVE_SECONDS,gu={pulse:"heartbeat_pulse"};let gee=class r6 extends pee{constructor(e){super(e),this.events=new qs.EventEmitter,this.interval=AN,this.interval=(e==null?void 0:e.interval)||AN}static async init(e){const n=new r6(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),oe.toMiliseconds(this.interval))}pulse(){this.events.emit(gu.pulse)}};const mee=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,yee=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,wee=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function vee(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){bee(t);return}return e}function bee(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function sy(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!wee.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(mee.test(t)||yee.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,vee)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function _ee(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function xn(t,...e){try{return _ee(t(...e))}catch(n){return Promise.reject(n)}}function Eee(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Cee(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Xy(t){if(Eee(t))return String(t);if(Cee(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Xy(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const xC="base64:";function xee(t){return typeof t=="string"?t:xC+Iee(t)}function See(t){return typeof t!="string"||!t.startsWith(xC)?t:Aee(t.slice(xC.length))}function Aee(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function Iee(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function jr(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function Tee(...t){return jr(t.join(":"))}function iy(t){return t=jr(t),t?t+":":""}function Nee(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function Pee(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const kee="memory",Oee=()=>{const t=new Map;return{name:kee,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function Ree(t={}){const e={mounts:{"":t.driver||Oee()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),s=(l,u)=>{if(e.watching){u=jr(u);for(const d of e.watchListeners)d(l,u)}},i=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await IN(e.mounts[l],s,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,d)=>{const h=new Map,f=p=>{let g=h.get(p.base);return g||(g={driver:p.driver,base:p.base,items:[]},h.set(p.base,g)),g};for(const p of l){const g=typeof p=="string",y=jr(g?p:p.key),w=g?void 0:p.value,b=g||!p.options?u:{...u,...p.options},v=n(y);f(v).items.push({key:y,value:w,relativeKey:v.relativeKey,options:b})}return Promise.all([...h.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=jr(l);const{relativeKey:d,driver:h}=n(l);return xn(h.hasItem,d,u)},getItem(l,u={}){l=jr(l);const{relativeKey:d,driver:h}=n(l);return xn(h.getItem,d,u).then(f=>sy(f))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?xn(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(f=>({key:Tee(d.base,f.key),value:sy(f.value)}))):Promise.all(d.items.map(h=>xn(d.driver.getItem,h.relativeKey,h.options).then(f=>({key:h.key,value:sy(f)})))))},getItemRaw(l,u={}){l=jr(l);const{relativeKey:d,driver:h}=n(l);return h.getItemRaw?xn(h.getItemRaw,d,u):xn(h.getItem,d,u).then(f=>See(f))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=jr(l);const{relativeKey:h,driver:f}=n(l);f.setItem&&(await xn(f.setItem,h,Xy(u),d),f.watch||s("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return xn(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:Xy(h.value),options:h.options})),u);d.driver.setItem&&await Promise.all(d.items.map(h=>xn(d.driver.setItem,h.relativeKey,Xy(h.value),h.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=jr(l);const{relativeKey:h,driver:f}=n(l);if(f.setItemRaw)await xn(f.setItemRaw,h,u,d);else if(f.setItem)await xn(f.setItem,h,xee(u),d);else return;f.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=jr(l);const{relativeKey:d,driver:h}=n(l);h.removeItem&&(await xn(h.removeItem,d,u),(u.removeMeta||u.removeMata)&&await xn(h.removeItem,d+"$",u),h.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=jr(l);const{relativeKey:d,driver:h}=n(l),f=Object.create(null);if(h.getMeta&&Object.assign(f,await xn(h.getMeta,d,u)),!u.nativeOnly){const p=await xn(h.getItem,d+"$",u).then(g=>sy(g));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(f,p))}return f},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var y;l=iy(l);const d=r(l,!0);let h=[];const f=[];let p=!0;for(const w of d){(y=w.driver.flags)!=null&&y.maxDepth||(p=!1);const b=await xn(w.driver.getKeys,w.relativeBase,u);for(const v of b){const E=w.mountpoint+jr(v);h.some(_=>E.startsWith(_))||f.push(E)}h=[w.mountpoint,...h.filter(v=>!v.startsWith(w.mountpoint))]}const g=u.maxDepth!==void 0&&!p;return f.filter(w=>(!g||Nee(w,u.maxDepth))&&Pee(w,l))},async clear(l,u={}){l=iy(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return xn(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(h.map(f=>d.driver.removeItem(f,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>TN(l)))},async watch(l){return await i(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=iy(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,h)=>h.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(IN(u,s,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){var d,h;l=iy(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((h=(d=e.unwatch)[l])==null||h.call(d),delete e.unwatch[l]),u&&await TN(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=jr(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=jr(l),r(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function IN(t,e,n){return t.watch?t.watch((r,s)=>e(r,n+s)):()=>{}}async function TN(t){typeof t.dispose=="function"&&await xn(t.dispose)}function mu(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function s6(t,e){let n;const r=()=>{if(n)return n;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),n=mu(s),n.then(i=>{i.onclose=()=>n=void 0},()=>{}),n};return(s,i)=>r().then(o=>i(o.transaction(e,s).objectStore(e)))}let C1;function im(){return C1||(C1=s6("keyval-store","keyval")),C1}function NN(t,e=im()){return e("readonly",n=>mu(n.get(t)))}function $ee(t,e,n=im()){return n("readwrite",r=>(r.put(e,t),mu(r.transaction)))}function Dee(t,e=im()){return e("readwrite",n=>(n.delete(t),mu(n.transaction)))}function jee(t=im()){return t("readwrite",e=>(e.clear(),mu(e.transaction)))}function Uee(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},mu(t.transaction)}function Lee(t=im()){return t("readonly",e=>{if(e.getAllKeys)return mu(e.getAllKeys());const n=[];return Uee(e,r=>n.push(r.key)).then(()=>n)})}const Mee=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),Bee=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function Ql(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return Bee(t)}catch{return t}}function Vo(t){return typeof t=="string"?t:Mee(t)||""}const Fee="idb-keyval";var zee=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=s=>e+s;let r;return t.dbName&&t.storeName&&(r=s6(t.dbName,t.storeName)),{name:Fee,options:t,async hasItem(s){return!(typeof await NN(n(s),r)>"u")},async getItem(s){return await NN(n(s),r)??null},setItem(s,i){return $ee(n(s),i,r)},removeItem(s){return Dee(n(s),r)},getKeys(){return Lee(r)},clear(){return jee(r)}}};const Wee="WALLET_CONNECT_V2_INDEXED_DB",qee="keyvaluestorage";let Hee=class{constructor(){this.indexedDb=Ree({driver:zee({dbName:Wee,storeName:qee})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Vo(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var x1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ew={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof x1<"u"&&x1.localStorage?ew.exports=x1.localStorage:typeof window<"u"&&window.localStorage?ew.exports=window.localStorage:ew.exports=new e})();function Vee(t){var e;return[t[0],Ql((e=t[1])!=null?e:"")]}let Gee=class{constructor(){this.localStorage=ew.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Vee)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return Ql(n)}async setItem(e,n){this.localStorage.setItem(e,Vo(n))}async removeItem(e){this.localStorage.removeItem(e)}};const Kee="wc_storage_version",PN=1,Yee=async(t,e,n)=>{const r=Kee,s=await e.getItem(r);if(s&&s>=PN){n(e);return}const i=await t.getKeys();if(!i.length){n(e);return}const o=[];for(;i.length;){const a=i.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,PN),n(e),Jee(t,o)},Jee=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let Qee=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new Gee;this.storage=e;try{const n=new Hee;Yee(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};function Zee(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var Xee=ete;function ete(t,e,n){var r=n&&n.stringify||Zee,s=1;if(typeof t=="object"&&t!==null){var i=e.length+s;if(i===1)return t;var o=new Array(i);o[0]=r(t);for(var a=1;a<i;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-s,d=-1,h=t&&t.length||0,f=0;f<h;){if(t.charCodeAt(f)===37&&f+1<h){switch(d=d>-1?d:0,t.charCodeAt(f+1)){case 100:case 102:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Number(e[u]),d=f+2,f++;break;case 105:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Math.floor(Number(e[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;d<f&&(l+=t.slice(d,f));var p=typeof e[u];if(p==="string"){l+="'"+e[u]+"'",d=f+2,f++;break}if(p==="function"){l+=e[u].name||"<anonymous>",d=f+2,f++;break}l+=r(e[u]),d=f+2,f++;break;case 115:if(u>=c)break;d<f&&(l+=t.slice(d,f)),l+=String(e[u]),d=f+2,f++;break;case 37:d<f&&(l+=t.slice(d,f)),l+="%",d=f+2,f++,u--;break}++u}++f}return d===-1?t:(d<h&&(l+=t.slice(d)),l)}const kN=Xee;var Zu=Qi;const ug=ute().console||{},tte={mapHttpRequest:oy,mapHttpResponse:oy,wrapRequestSerializer:S1,wrapResponseSerializer:S1,wrapErrorSerializer:S1,req:oy,res:oy,err:ote};function nte(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Qi(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||ug;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},s=nte(t.browser.serialize,r);let i=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(n);c.log||(c.log=dg),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:d,set:h});const l={transmit:e,serialize:s,asObject:t.browser.asObject,levels:o,timestamp:ate(t)};c.levels=Qi.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=dg,c.serializers=r,c._serialize=s,c._stdErrSerialize=i,c.child=f,e&&(c._logEvent=SC());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function h(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,Nu(l,c,"error","log"),Nu(l,c,"fatal","error"),Nu(l,c,"warn","error"),Nu(l,c,"info","log"),Nu(l,c,"debug","log"),Nu(l,c,"trace","log")}function f(p,g){if(!p)throw new Error("missing bindings for child Pino");g=g||{},s&&p.serializers&&(g.serializers=p.serializers);const y=g.serializers;if(s&&y){var w=Object.assign({},r,y),b=t.browser.serialize===!0?Object.keys(w):s;delete p.serializers,wv([p],b,w,this._stdErrSerialize)}function v(E){this._childLevel=(E._childLevel|0)+1,this.error=Pu(E,p,"error"),this.fatal=Pu(E,p,"fatal"),this.warn=Pu(E,p,"warn"),this.info=Pu(E,p,"info"),this.debug=Pu(E,p,"debug"),this.trace=Pu(E,p,"trace"),w&&(this.serializers=w,this._serialize=b),e&&(this._logEvent=SC([].concat(E._logEvent.bindings,p)))}return v.prototype=this,new v(this)}return c}Qi.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Qi.stdSerializers=tte;Qi.stdTimeFunctions=Object.assign({},{nullTime:i6,epochTime:o6,unixTime:cte,isoTime:lte});function Nu(t,e,n,r){const s=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?dg:s[n]?s[n]:ug[n]||ug[r]||dg,rte(t,e,n)}function rte(t,e,n){!t.transmit&&e[n]===dg||(e[n]=function(r){return function(){const i=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===ug?ug:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&wv(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,ste(this,n,o,i)):r.apply(a,o),t.transmit){const l=t.transmit.level||e.level,u=Qi.levels.values[l],d=Qi.levels.values[n];if(d<u)return;ite(this,{ts:i,methodLevel:n,methodValue:d,transmitValue:Qi.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function ste(t,e,n,r){t._serialize&&wv(n,t._serialize,t.serializers,t._stdErrSerialize);const s=n.slice();let i=s[0];const o={};r&&(o.time=r),o.level=Qi.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),i!==null&&typeof i=="object"){for(;a--&&typeof s[0]=="object";)Object.assign(o,s.shift());i=s.length?kN(s.shift(),s):void 0}else typeof i=="string"&&(i=kN(s.shift(),s));return i!==void 0&&(o.msg=i),o}function wv(t,e,n,r){for(const s in t)if(r&&t[s]instanceof Error)t[s]=Qi.stdSerializers.err(t[s]);else if(typeof t[s]=="object"&&!Array.isArray(t[s]))for(const i in t[s])e&&e.indexOf(i)>-1&&i in n&&(t[s][i]=n[i](t[s][i]))}function Pu(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var s=1;s<r.length;s++)r[s]=arguments[s-1];return t[n].apply(this,r)}}function ite(t,e,n){const r=e.send,s=e.ts,i=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;wv(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=i,t._logEvent.level.value=o,r(i,t._logEvent,a),t._logEvent=SC(c)}function SC(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function ote(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function ate(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?i6:o6}function oy(){return{}}function S1(t){return t}function dg(){}function i6(){return!1}function o6(){return Date.now()}function cte(){return Math.round(Date.now()/1e3)}function lte(){return new Date(Date.now()).toISOString()}function ute(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const om=ou(Zu),dte={level:"info"},am="custom_context",xA=1e3*1024;let hte=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},ON=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new hte(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},a6=class{constructor(e,n=xA){this.level=e??"error",this.levelValue=Zu.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new ON(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Zu.levels.values.error?console.error(e):n===Zu.levels.values.warn?console.warn(e):n===Zu.levels.values.debug?console.debug(e):n===Zu.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Vo({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new ON(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Vo({extraMetadata:e})),new Blob(n,{type:"application/json"})}},fte=class{constructor(e,n=xA){this.baseChunkLogger=new a6(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},pte=class{constructor(e,n=xA){this.baseChunkLogger=new a6(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var gte=Object.defineProperty,mte=Object.defineProperties,yte=Object.getOwnPropertyDescriptors,RN=Object.getOwnPropertySymbols,wte=Object.prototype.hasOwnProperty,vte=Object.prototype.propertyIsEnumerable,$N=(t,e,n)=>e in t?gte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jw=(t,e)=>{for(var n in e||(e={}))wte.call(e,n)&&$N(t,n,e[n]);if(RN)for(var n of RN(e))vte.call(e,n)&&$N(t,n,e[n]);return t},Qw=(t,e)=>mte(t,yte(e));function Ch(t){return Qw(Jw({},t),{level:(t==null?void 0:t.level)||dte.level})}function bte(t,e=am){return t[e]||""}function _te(t,e,n=am){return t[n]=e,t}function es(t,e=am){let n="";return typeof t.bindings>"u"?n=bte(t,e):n=t.bindings().context||"",n}function Ete(t,e,n=am){const r=es(t,n);return r.trim()?`${r}/${e}`:e}function dr(t,e,n=am){const r=Ete(t,e,n),s=t.child({context:r});return _te(s,r,n)}function Cte(t){var e,n;const r=new fte((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:om(Qw(Jw({},t.opts),{level:"trace",browser:Qw(Jw({},(n=t.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function xte(t){var e;const n=new pte((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:om(Qw(Jw({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function SA(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Cte(t):xte(t)}var Ste=Object.defineProperty,Ate=(t,e,n)=>e in t?Ste(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,DN=(t,e,n)=>Ate(t,typeof e!="symbol"?e+"":e,n);let Ite=class extends pu{constructor(e){super(),this.opts=e,DN(this,"protocol","wc"),DN(this,"version",2)}};var Tte=Object.defineProperty,Nte=(t,e,n)=>e in t?Tte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pte=(t,e,n)=>Nte(t,e+"",n);let kte=class extends pu{constructor(e,n){super(),this.core=e,this.logger=n,Pte(this,"records",new Map)}},Ote=class{constructor(e,n){this.logger=e,this.core=n}},Rte=class extends pu{constructor(e,n){super(),this.relayer=e,this.logger=n}},$te=class extends pu{constructor(e){super()}},Dte=class{constructor(e,n,r,s){this.core=e,this.logger=n,this.name=r}},jte=class extends pu{constructor(e,n){super(),this.relayer=e,this.logger=n}},Ute=class extends pu{constructor(e,n){super(),this.core=e,this.logger=n}},Lte=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},Mte=class{constructor(e,n){this.projectId=e,this.logger=n}},Bte=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var Fte=Object.defineProperty,zte=(t,e,n)=>e in t?Fte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jN=(t,e,n)=>zte(t,typeof e!="symbol"?e+"":e,n);let Wte=class{constructor(e){this.opts=e,jN(this,"protocol","wc"),jN(this,"version",2)}},qte=class{constructor(e){this.client=e}};function Hte(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function c6(t,...e){if(!Hte(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function UN(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Vte(t,e){c6(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const ku=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const A1=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function Gte(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function l6(t){return typeof t=="string"&&(t=Gte(t)),c6(t),t}let Kte=class{clone(){return this._cloneInto()}};function Yte(t){const e=r=>t().update(l6(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function u6(t=32){if(ku&&typeof ku.getRandomValues=="function")return ku.getRandomValues(new Uint8Array(t));if(ku&&typeof ku.randomBytes=="function")return ku.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function Jte(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}let Qte=class extends Kte{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=A1(this.buffer)}update(e){UN(this);const{view:n,buffer:r,blockLen:s}=this;e=l6(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=A1(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){UN(this),Vte(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Jte(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=A1(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}};const ay=BigInt(2**32-1),AC=BigInt(32);function d6(t,e=!1){return e?{h:Number(t&ay),l:Number(t>>AC&ay)}:{h:Number(t>>AC&ay)|0,l:Number(t&ay)|0}}function Zte(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=d6(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const Xte=(t,e)=>BigInt(t>>>0)<<AC|BigInt(e>>>0),ene=(t,e,n)=>t>>>n,tne=(t,e,n)=>t<<32-n|e>>>n,nne=(t,e,n)=>t>>>n|e<<32-n,rne=(t,e,n)=>t<<32-n|e>>>n,sne=(t,e,n)=>t<<64-n|e>>>n-32,ine=(t,e,n)=>t>>>n-32|e<<64-n,one=(t,e)=>e,ane=(t,e)=>t,cne=(t,e,n)=>t<<n|e>>>32-n,lne=(t,e,n)=>e<<n|t>>>32-n,une=(t,e,n)=>e<<n-32|t>>>64-n,dne=(t,e,n)=>t<<n-32|e>>>64-n;function hne(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const fne=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),pne=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,gne=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),mne=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,yne=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),wne=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,He={fromBig:d6,split:Zte,toBig:Xte,shrSH:ene,shrSL:tne,rotrSH:nne,rotrSL:rne,rotrBH:sne,rotrBL:ine,rotr32H:one,rotr32L:ane,rotlSH:cne,rotlSL:lne,rotlBH:une,rotlBL:dne,add:hne,add3L:fne,add3H:pne,add4L:gne,add4H:mne,add5H:wne,add5L:yne},[vne,bne]=He.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),da=new Uint32Array(80),ha=new Uint32Array(80);let _ne=class extends Qte{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:g,Hl:y}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let v=0;v<16;v++,n+=4)da[v]=e.getUint32(n),ha[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const E=da[v-15]|0,_=ha[v-15]|0,x=He.rotrSH(E,_,1)^He.rotrSH(E,_,8)^He.shrSH(E,_,7),S=He.rotrSL(E,_,1)^He.rotrSL(E,_,8)^He.shrSL(E,_,7),T=da[v-2]|0,C=ha[v-2]|0,O=He.rotrSH(T,C,19)^He.rotrBH(T,C,61)^He.shrSH(T,C,6),R=He.rotrSL(T,C,19)^He.rotrBL(T,C,61)^He.shrSL(T,C,6),B=He.add4L(S,R,ha[v-7],ha[v-16]),z=He.add4H(B,x,O,da[v-7],da[v-16]);da[v]=z|0,ha[v]=B|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:g,Gl:y,Hh:w,Hl:b}=this;for(let v=0;v<80;v++){const E=He.rotrSH(d,h,14)^He.rotrSH(d,h,18)^He.rotrBH(d,h,41),_=He.rotrSL(d,h,14)^He.rotrSL(d,h,18)^He.rotrBL(d,h,41),x=d&f^~d&g,S=h&p^~h&y,T=He.add5L(b,_,S,bne[v],ha[v]),C=He.add5H(T,w,E,x,vne[v],da[v]),O=T|0,R=He.rotrSH(r,s,28)^He.rotrBH(r,s,34)^He.rotrBH(r,s,39),B=He.rotrSL(r,s,28)^He.rotrBL(r,s,34)^He.rotrBL(r,s,39),z=r&i^r&a^i&a,M=s&o^s&c^o&c;w=g|0,b=y|0,g=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=He.add(l|0,u|0,C|0,O|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const I=He.add3L(O,B,M);r=He.add3H(I,C,R,z),s=I|0}({h:r,l:s}=He.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=He.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=He.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=He.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=He.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=He.add(this.Fh|0,this.Fl|0,f|0,p|0),{h:g,l:y}=He.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:b}=He.add(this.Hh|0,this.Hl|0,w|0,b|0),this.set(r,s,i,o,a,c,l,u,d,h,f,p,g,y,w,b)}roundClean(){da.fill(0),ha.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Ene=Yte(()=>new _ne);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const AA=BigInt(0),h6=BigInt(1),Cne=BigInt(2);function IA(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function TA(t){if(!IA(t))throw new Error("Uint8Array expected")}function I1(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const xne=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function NA(t){TA(t);let e="";for(let n=0;n<t.length;n++)e+=xne[t[n]];return e}function f6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?AA:BigInt("0x"+t)}const uo={_0:48,_9:57,A:65,F:70,a:97,f:102};function LN(t){if(t>=uo._0&&t<=uo._9)return t-uo._0;if(t>=uo.A&&t<=uo.F)return t-(uo.A-10);if(t>=uo.a&&t<=uo.f)return t-(uo.a-10)}function p6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=LN(t.charCodeAt(i)),a=LN(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Sne(t){return f6(NA(t))}function tw(t){return TA(t),f6(NA(Uint8Array.from(t).reverse()))}function g6(t,e){return p6(t.toString(16).padStart(e*2,"0"))}function IC(t,e){return g6(t,e).reverse()}function ho(t,e,n){let r;if(typeof e=="string")try{r=p6(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(IA(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function MN(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];TA(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const T1=t=>typeof t=="bigint"&&AA<=t;function Ane(t,e,n){return T1(t)&&T1(e)&&T1(n)&&e<=t&&t<n}function rf(t,e,n,r){if(!Ane(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Ine(t){let e;for(e=0;t>AA;t>>=h6,e+=1);return e}const Tne=t=>(Cne<<BigInt(t-1))-h6,Nne={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||IA(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function PA(t,e,n={}){const r=(s,i,o)=>{const a=Nne[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function BN(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const Nn=BigInt(0),rn=BigInt(1),il=BigInt(2),Pne=BigInt(3),TC=BigInt(4),FN=BigInt(5),zN=BigInt(8);function yn(t,e){const n=t%e;return n>=Nn?n:e+n}function kne(t,e,n){if(e<Nn)throw new Error("invalid exponent, negatives unsupported");if(n<=Nn)throw new Error("invalid modulus");if(n===rn)return Nn;let r=rn;for(;e>Nn;)e&rn&&(r=r*t%n),t=t*t%n,e>>=rn;return r}function Pi(t,e,n){let r=t;for(;e-- >Nn;)r*=r,r%=n;return r}function WN(t,e){if(t===Nn)throw new Error("invert: expected non-zero number");if(e<=Nn)throw new Error("invert: expected positive modulus, got "+e);let n=yn(t,e),r=e,s=Nn,i=rn;for(;n!==Nn;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==rn)throw new Error("invert: does not exist");return yn(s,e)}function One(t){const e=(t-rn)/il;let n,r,s;for(n=t-rn,r=0;n%il===Nn;n/=il,r++);for(s=il;s<t&&kne(s,e,t)!==t-rn;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+rn)/TC;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(n+rn)/il;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,s),n),u=o.pow(a,i),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let p=o.sqr(d);h<c&&!o.eql(p,o.ONE);h++)p=o.sqr(p);const f=o.pow(l,rn<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function Rne(t){if(t%TC===Pne){const e=(t+rn)/TC;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%zN===FN){const e=(t-FN)/zN;return function(n,r){const s=n.mul(r,il),i=n.pow(s,e),o=n.mul(r,i),a=n.mul(n.mul(o,il),i),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return One(t)}const $ne=(t,e)=>(yn(t,e)&rn)===rn,Dne=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function jne(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Dne.reduce((r,s)=>(r[s]="function",r),e);return PA(t,n)}function Une(t,e,n){if(n<Nn)throw new Error("invalid exponent, negatives unsupported");if(n===Nn)return t.ONE;if(n===rn)return e;let r=t.ONE,s=e;for(;n>Nn;)n&rn&&(r=t.mul(r,s)),s=t.sqr(s),n>>=rn;return r}function Lne(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function m6(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function y6(t,e,n=!1,r={}){if(t<=Nn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=m6(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:Tne(s),ZERO:Nn,ONE:rn,create:c=>yn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Nn<=c&&c<t},is0:c=>c===Nn,isOdd:c=>(c&rn)===rn,neg:c=>yn(-c,t),eql:(c,l)=>c===l,sqr:c=>yn(c*c,t),add:(c,l)=>yn(c+l,t),sub:(c,l)=>yn(c-l,t),mul:(c,l)=>yn(c*l,t),pow:(c,l)=>Une(a,c,l),div:(c,l)=>yn(c*WN(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>WN(c,t),sqrt:r.sqrt||(c=>(o||(o=Rne(t)),o(a,c))),invertBatch:c=>Lne(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?IC(c,i):g6(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?tw(c):Sne(c)}});return Object.freeze(a)}const qN=BigInt(0),cy=BigInt(1);function N1(t,e){const n=e.negate();return t?n:e}function w6(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function P1(t,e){w6(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function Mne(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Bne(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const k1=new WeakMap,v6=new WeakMap;function O1(t){return v6.get(t)||1}function Fne(t,e){return{constTimeNegate:N1,hasPrecomputes(n){return O1(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>qN;)r&cy&&(s=s.add(i)),i=i.double(),r>>=cy;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=P1(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){const{windows:i,windowSize:o}=P1(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<i;h++){const f=h*o;let p=Number(s&l);s>>=d,p>o&&(p-=u,s+=cy);const g=f,y=f+Math.abs(p)-1,w=h%2!==0,b=p<0;p===0?c=c.add(N1(w,r[g])):a=a.add(N1(b,r[y]))}return{p:a,f:c}},wNAFUnsafe(n,r,s,i=t.ZERO){const{windows:o,windowSize:a}=P1(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(s===qN)break;let f=Number(s&c);if(s>>=u,f>a&&(f-=l,s+=cy),f===0)continue;let p=r[h+Math.abs(f)-1];f<0&&(p=p.negate()),i=i.add(p)}return i},getPrecomputes(n,r,s){let i=k1.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&k1.set(r,s(i))),i},wNAFCached(n,r,s){const i=O1(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=O1(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){w6(r,e),v6.set(n,r),k1.delete(n)}}}function zne(t,e,n,r){if(Mne(n,t),Bne(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=Ine(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),l=Math.floor((e.BITS-1)/o)*o;let u=s;for(let d=l;d>=0;d-=o){c.fill(s);for(let f=0;f<r.length;f++){const p=r[f],g=Number(p>>BigInt(d)&BigInt(a));c[g]=c[g].add(n[f])}let h=s;for(let f=c.length-1,p=s;f>0;f--)p=p.add(c[f]),h=h.add(p);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function Wne(t){return jne(t.Fp),PA(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...m6(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Ks=BigInt(0),kr=BigInt(1),ly=BigInt(2),qne=BigInt(8),Hne={zip215:!0};function Vne(t){const e=Wne(t);return PA(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Gne(t){const e=Vne(t),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,l=ly<<BigInt(a*8)-kr,u=n.create,d=y6(e.n,e.nBitLength),h=e.uvRatio||((I,A)=>{try{return{isValid:!0,value:n.sqrt(I*n.inv(A))}}catch{return{isValid:!1,value:Ks}}}),f=e.adjustScalarBytes||(I=>I),p=e.domain||((I,A,j)=>{if(I1("phflag",j),A.length||j)throw new Error("Contexts/pre-hash are not supported");return I});function g(I,A){rf("coordinate "+I,A,Ks,l)}function y(I){if(!(I instanceof v))throw new Error("ExtendedPoint expected")}const w=BN((I,A)=>{const{ex:j,ey:P,ez:k}=I,U=I.is0();A==null&&(A=U?qne:n.inv(k));const F=u(j*A),V=u(P*A),J=u(k*A);if(U)return{x:Ks,y:kr};if(J!==kr)throw new Error("invZ was invalid");return{x:F,y:V}}),b=BN(I=>{const{a:A,d:j}=e;if(I.is0())throw new Error("bad point: ZERO");const{ex:P,ey:k,ez:U,et:F}=I,V=u(P*P),J=u(k*k),K=u(U*U),Z=u(K*K),se=u(V*A),Ie=u(K*u(se+J)),je=u(Z+u(j*u(V*J)));if(Ie!==je)throw new Error("bad point: equation left != right (1)");const Re=u(P*k),Ge=u(U*F);if(Re!==Ge)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(A,j,P,k){this.ex=A,this.ey=j,this.ez=P,this.et=k,g("x",A),g("y",j),g("z",P),g("t",k),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(A){if(A instanceof v)throw new Error("extended point not allowed");const{x:j,y:P}=A||{};return g("x",j),g("y",P),new v(j,P,kr,u(j*P))}static normalizeZ(A){const j=n.invertBatch(A.map(P=>P.ez));return A.map((P,k)=>P.toAffine(j[k])).map(v.fromAffine)}static msm(A,j){return zne(v,d,A,j)}_setWindowSize(A){x.setWindowSize(this,A)}assertValidity(){b(this)}equals(A){y(A);const{ex:j,ey:P,ez:k}=this,{ex:U,ey:F,ez:V}=A,J=u(j*V),K=u(U*k),Z=u(P*V),se=u(F*k);return J===K&&Z===se}is0(){return this.equals(v.ZERO)}negate(){return new v(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:A}=e,{ex:j,ey:P,ez:k}=this,U=u(j*j),F=u(P*P),V=u(ly*u(k*k)),J=u(A*U),K=j+P,Z=u(u(K*K)-U-F),se=J+F,Ie=se-V,je=J-F,Re=u(Z*Ie),Ge=u(se*je),Lt=u(Z*je),Ai=u(Ie*se);return new v(Re,Ge,Ai,Lt)}add(A){y(A);const{a:j,d:P}=e,{ex:k,ey:U,ez:F,et:V}=this,{ex:J,ey:K,ez:Z,et:se}=A;if(j===BigInt(-1)){const Ft=u((U-k)*(K+J)),Yt=u((U+k)*(K-J)),Jn=u(Yt-Ft);if(Jn===Ks)return this.double();const Fc=u(F*ly*se),Zo=u(V*ly*Z),Xo=Zo+Fc,Rn=Yt+Ft,Ar=Zo-Fc,ea=u(Xo*Jn),_u=u(Rn*Ar),ta=u(Xo*Ar),Uh=u(Jn*Rn);return new v(ea,_u,Uh,ta)}const Ie=u(k*J),je=u(U*K),Re=u(V*P*se),Ge=u(F*Z),Lt=u((k+U)*(J+K)-Ie-je),Ai=Ge-Re,Ye=Ge+Re,Ke=u(je-j*Ie),Kt=u(Lt*Ai),Ot=u(Ye*Ke),_n=u(Lt*Ke),Ii=u(Ai*Ye);return new v(Kt,Ot,Ii,_n)}subtract(A){return this.add(A.negate())}wNAF(A){return x.wNAFCached(this,A,v.normalizeZ)}multiply(A){const j=A;rf("scalar",j,kr,r);const{p:P,f:k}=this.wNAF(j);return v.normalizeZ([P,k])[0]}multiplyUnsafe(A,j=v.ZERO){const P=A;return rf("scalar",P,Ks,r),P===Ks?_:this.is0()||P===kr?this:x.wNAFCachedUnsafe(this,P,v.normalizeZ,j)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return x.unsafeLadder(this,r).is0()}toAffine(A){return w(this,A)}clearCofactor(){const{h:A}=e;return A===kr?this:this.multiplyUnsafe(A)}static fromHex(A,j=!1){const{d:P,a:k}=e,U=n.BYTES;A=ho("pointHex",A,U),I1("zip215",j);const F=A.slice(),V=A[U-1];F[U-1]=V&-129;const J=tw(F),K=j?l:n.ORDER;rf("pointHex.y",J,Ks,K);const Z=u(J*J),se=u(Z-kr),Ie=u(P*Z-k);let{isValid:je,value:Re}=h(se,Ie);if(!je)throw new Error("Point.fromHex: invalid y coordinate");const Ge=(Re&kr)===kr,Lt=(V&128)!==0;if(!j&&Re===Ks&&Lt)throw new Error("Point.fromHex: x=0 and x_0=1");return Lt!==Ge&&(Re=u(-Re)),v.fromAffine({x:Re,y:J})}static fromPrivateKey(A){return C(A).point}toRawBytes(){const{x:A,y:j}=this.toAffine(),P=IC(j,n.BYTES);return P[P.length-1]|=A&kr?128:0,P}toHex(){return NA(this.toRawBytes())}}v.BASE=new v(e.Gx,e.Gy,kr,u(e.Gx*e.Gy)),v.ZERO=new v(Ks,kr,kr,Ks);const{BASE:E,ZERO:_}=v,x=Fne(v,a*8);function S(I){return yn(I,r)}function T(I){return S(tw(I))}function C(I){const A=n.BYTES;I=ho("private key",I,A);const j=ho("hashed private key",i(I),2*A),P=f(j.slice(0,A)),k=j.slice(A,2*A),U=T(P),F=E.multiply(U),V=F.toRawBytes();return{head:P,prefix:k,scalar:U,point:F,pointBytes:V}}function O(I){return C(I).pointBytes}function R(I=new Uint8Array,...A){const j=MN(...A);return T(i(p(j,ho("context",I),!!s)))}function B(I,A,j={}){I=ho("message",I),s&&(I=s(I));const{prefix:P,scalar:k,pointBytes:U}=C(A),F=R(j.context,P,I),V=E.multiply(F).toRawBytes(),J=R(j.context,V,U,I),K=S(F+J*k);rf("signature.s",K,Ks,r);const Z=MN(V,IC(K,n.BYTES));return ho("result",Z,n.BYTES*2)}const z=Hne;function M(I,A,j,P=z){const{context:k,zip215:U}=P,F=n.BYTES;I=ho("signature",I,2*F),A=ho("message",A),j=ho("publicKey",j,F),U!==void 0&&I1("zip215",U),s&&(A=s(A));const V=tw(I.slice(F,2*F));let J,K,Z;try{J=v.fromHex(j,U),K=v.fromHex(I.slice(0,F),U),Z=E.multiplyUnsafe(V)}catch{return!1}if(!U&&J.isSmallOrder())return!1;const se=R(k,K.toRawBytes(),J.toRawBytes(),A);return K.add(J.multiplyUnsafe(se)).subtract(Z).clearCofactor().equals(v.ZERO)}return E._setWindowSize(8),{CURVE:e,getPublicKey:O,sign:B,verify:M,ExtendedPoint:v,utils:{getExtendedPublicKey:C,randomPrivateKey:()=>o(n.BYTES),precompute(I=8,A=v.BASE){return A._setWindowSize(I),A.multiply(BigInt(3)),A}}}}BigInt(0),BigInt(1);const kA=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),HN=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Kne=BigInt(1),VN=BigInt(2);BigInt(3);const Yne=BigInt(5),Jne=BigInt(8);function Qne(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=kA,o=t*t%i*t%i,a=Pi(o,VN,i)*o%i,c=Pi(a,Kne,i)*t%i,l=Pi(c,Yne,i)*c%i,u=Pi(l,e,i)*l%i,d=Pi(u,n,i)*u%i,h=Pi(d,r,i)*d%i,f=Pi(h,s,i)*h%i,p=Pi(f,s,i)*h%i,g=Pi(p,e,i)*l%i;return{pow_p_5_8:Pi(g,VN,i)*t%i,b2:o}}function Zne(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Xne(t,e){const n=kA,r=yn(e*e*e,n),s=yn(r*r*e,n),i=Qne(t*s).pow_p_5_8;let o=yn(t*r*i,n);const a=yn(e*o*o,n),c=o,l=yn(o*HN,n),u=a===t,d=a===yn(-t,n),h=a===yn(-t*HN,n);return u&&(o=c),(d||h)&&(o=l),$ne(o,n)&&(o=yn(-o,n)),{isValid:u||d,value:o}}const ere=y6(kA,void 0,!0),tre={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ere,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Jne,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Ene,randomBytes:u6,adjustScalarBytes:Zne,uvRatio:Xne},b6=Gne(tre),nre="EdDSA",rre="JWT",Zw=".",vv="base64url",_6="utf8",E6="utf8",sre=":",ire="did",ore="key",GN="base58btc",are="z",cre="K36",lre=32;function OA(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function C6(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?OA(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function x6(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=C6(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return OA(n)}function ure(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,w=0,b=p.length;w!==b&&p[w]===0;)w++,g++;for(var v=(b-w)*u+1>>>0,E=new Uint8Array(v);w!==b;){for(var _=p[w],x=0,S=v-1;(_!==0||x<y)&&S!==-1;S--,x++)_+=256*E[S]>>>0,E[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");y=x,w++}for(var T=v-y;T!==v&&E[T]===0;)T++;for(var C=c.repeat(g);T<v;++T)C+=t.charAt(E[T]);return C}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,w=0;p[g]===c;)y++,g++;for(var b=(p.length-g)*l+1>>>0,v=new Uint8Array(b);p[g];){var E=n[p.charCodeAt(g)];if(E===255)return;for(var _=0,x=b-1;(E!==0||_<w)&&x!==-1;x--,_++)E+=a*v[x]>>>0,v[x]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=_,g++}if(p[g]!==" "){for(var S=b-w;S!==b&&v[S]===0;)S++;for(var T=new Uint8Array(y+(b-S)),C=y;S!==b;)T[C++]=v[S++];return T}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var dre=ure,hre=dre;const S6=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},fre=t=>new TextEncoder().encode(t),pre=t=>new TextDecoder().decode(t);let gre=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},mre=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return A6(this,e)}},yre=class{constructor(e){this.decoders=e}or(e){return A6(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const A6=(t,e)=>new yre({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let wre=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new gre(e,n,r),this.decoder=new mre(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const bv=({name:t,prefix:e,encode:n,decode:r})=>new wre(t,e,n,r),cm=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=hre(n,e);return bv({prefix:t,name:e,encode:r,decode:i=>S6(s(i))})},vre=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},bre=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Gn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>bv({prefix:e,name:t,encode(s){return bre(s,r,n)},decode(s){return vre(s,r,n,t)}}),_re=bv({prefix:"\0",name:"identity",encode:t=>pre(t),decode:t=>fre(t)});var Ere=Object.freeze({__proto__:null,identity:_re});const Cre=Gn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var xre=Object.freeze({__proto__:null,base2:Cre});const Sre=Gn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Are=Object.freeze({__proto__:null,base8:Sre});const Ire=cm({prefix:"9",name:"base10",alphabet:"0123456789"});var Tre=Object.freeze({__proto__:null,base10:Ire});const Nre=Gn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Pre=Gn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var kre=Object.freeze({__proto__:null,base16:Nre,base16upper:Pre});const Ore=Gn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Rre=Gn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),$re=Gn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Dre=Gn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),jre=Gn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ure=Gn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Lre=Gn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Mre=Gn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Bre=Gn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Fre=Object.freeze({__proto__:null,base32:Ore,base32upper:Rre,base32pad:$re,base32padupper:Dre,base32hex:jre,base32hexupper:Ure,base32hexpad:Lre,base32hexpadupper:Mre,base32z:Bre});const zre=cm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Wre=cm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var qre=Object.freeze({__proto__:null,base36:zre,base36upper:Wre});const Hre=cm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Vre=cm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Gre=Object.freeze({__proto__:null,base58btc:Hre,base58flickr:Vre});const Kre=Gn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Yre=Gn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Jre=Gn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Qre=Gn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Zre=Object.freeze({__proto__:null,base64:Kre,base64pad:Yre,base64url:Jre,base64urlpad:Qre});const I6=Array.from(""),Xre=I6.reduce((t,e,n)=>(t[n]=e,t),[]),ese=I6.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function tse(t){return t.reduce((e,n)=>(e+=Xre[n],e),"")}function nse(t){const e=[];for(const n of t){const r=ese[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const rse=bv({prefix:"",name:"base256emoji",encode:tse,decode:nse});var sse=Object.freeze({__proto__:null,base256emoji:rse}),ise=T6,KN=128,ose=-128,ase=Math.pow(2,31);function T6(t,e,n){e=e||[],n=n||0;for(var r=n;t>=ase;)e[n++]=t&255|KN,t/=128;for(;t&ose;)e[n++]=t&255|KN,t>>>=7;return e[n]=t|0,T6.bytes=n-r+1,e}var cse=NC,lse=128,YN=127;function NC(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw NC.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&YN)<<s:(o&YN)*Math.pow(2,s),s+=7}while(o>=lse);return NC.bytes=i-r,n}var use=Math.pow(2,7),dse=Math.pow(2,14),hse=Math.pow(2,21),fse=Math.pow(2,28),pse=Math.pow(2,35),gse=Math.pow(2,42),mse=Math.pow(2,49),yse=Math.pow(2,56),wse=Math.pow(2,63),vse=function(t){return t<use?1:t<dse?2:t<hse?3:t<fse?4:t<pse?5:t<gse?6:t<mse?7:t<yse?8:t<wse?9:10},bse={encode:ise,decode:cse,encodingLength:vse},N6=bse;const JN=(t,e,n=0)=>(N6.encode(t,e,n),e),QN=t=>N6.encodingLength(t),PC=(t,e)=>{const n=e.byteLength,r=QN(t),s=r+QN(n),i=new Uint8Array(s+n);return JN(t,i,0),JN(n,i,r),i.set(e,s),new _se(t,n,e,i)};let _se=class{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}};const P6=({name:t,code:e,encode:n})=>new Ese(t,e,n);let Ese=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?PC(this.code,n):n.then(r=>PC(this.code,r))}else throw Error("Unknown type, must be binary type")}};const k6=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Cse=P6({name:"sha2-256",code:18,encode:k6("SHA-256")}),xse=P6({name:"sha2-512",code:19,encode:k6("SHA-512")});var Sse=Object.freeze({__proto__:null,sha256:Cse,sha512:xse});const O6=0,Ase="identity",R6=S6,Ise=t=>PC(O6,R6(t)),Tse={code:O6,name:Ase,encode:R6,digest:Ise};var Nse=Object.freeze({__proto__:null,identity:Tse});new TextEncoder,new TextDecoder;const ZN={...Ere,...xre,...Are,...Tre,...kre,...Fre,...qre,...Gre,...Zre,...sse};({...Sse,...Nse});function $6(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const XN=$6("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),R1=$6("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=C6(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),D6={utf8:XN,"utf-8":XN,hex:ZN.base16,latin1:R1,ascii:R1,binary:R1,...ZN};function _v(t,e="utf8"){const n=D6[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function xh(t,e="utf8"){const n=D6[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?OA(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function eP(t){return Ql(_v(xh(t,vv),_6))}function Xw(t){return _v(xh(Vo(t),_6),vv)}function j6(t){const e=xh(cre,GN),n=are+_v(x6([e,t]),GN);return[ire,ore,n].join(sre)}function Pse(t){return _v(t,vv)}function kse(t){return xh(t,vv)}function Ose(t){return xh([Xw(t.header),Xw(t.payload)].join(Zw),E6)}function Rse(t){return[Xw(t.header),Xw(t.payload),Pse(t.signature)].join(Zw)}function kC(t){const e=t.split(Zw),n=eP(e[0]),r=eP(e[1]),s=kse(e[2]),i=xh(e.slice(0,2).join(Zw),E6);return{header:n,payload:r,signature:s,data:i}}function tP(t=u6(lre)){const e=b6.getPublicKey(t);return{secretKey:x6([t,e]),publicKey:e}}async function $se(t,e,n,r,s=oe.fromMiliseconds(Date.now())){const i={alg:nre,typ:rre},o=j6(r.publicKey),a=s+n,c={iss:o,sub:t,aud:e,iat:s,exp:a},l=Ose({header:i,payload:c}),u=b6.sign(l,r.secretKey.slice(0,32));return Rse({header:i,payload:c,signature:u})}var nP=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},Dse=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),jse=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),Use=function(){function t(e,n,r,s){this.name=e,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return t}(),Lse=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Mse=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),Bse=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Fse=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,rP=3,zse=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Bse]],sP=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Wse(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Mse:typeof navigator<"u"?Hse(navigator.userAgent):Gse()}function qse(t){return t!==""&&zse.reduce(function(e,n){var r=n[0],s=n[1];if(e)return e;var i=s.exec(t);return!!i&&[r,i]},!1)}function Hse(t){var e=qse(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new Lse;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<rP&&(s=nP(nP([],s,!0),Kse(rP-s.length),!0)):s=[];var i=s.join("."),o=Vse(t),a=Fse.exec(t);return a&&a[1]?new Use(n,i,o,a[1]):new Dse(n,i,o)}function Vse(t){for(var e=0,n=sP.length;e<n;e++){var r=sP[e],s=r[0],i=r[1],o=i.exec(t);if(o)return s}return null}function Gse(){var t=typeof process<"u"&&process.version;return t?new jse(process.version.slice(1)):null}function Kse(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.getLocalStorage=Nt.getLocalStorageOrThrow=Nt.getCrypto=Nt.getCryptoOrThrow=U6=Nt.getLocation=Nt.getLocationOrThrow=RA=Nt.getNavigator=Nt.getNavigatorOrThrow=Zl=Nt.getDocument=Nt.getDocumentOrThrow=Nt.getFromWindowOrThrow=Nt.getFromWindow=void 0;function yu(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Nt.getFromWindow=yu;function Sh(t){const e=yu(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Nt.getFromWindowOrThrow=Sh;function Yse(){return Sh("document")}Nt.getDocumentOrThrow=Yse;function Jse(){return yu("document")}var Zl=Nt.getDocument=Jse;function Qse(){return Sh("navigator")}Nt.getNavigatorOrThrow=Qse;function Zse(){return yu("navigator")}var RA=Nt.getNavigator=Zse;function Xse(){return Sh("location")}Nt.getLocationOrThrow=Xse;function eie(){return yu("location")}var U6=Nt.getLocation=eie;function tie(){return Sh("crypto")}Nt.getCryptoOrThrow=tie;function nie(){return yu("crypto")}Nt.getCrypto=nie;function rie(){return Sh("localStorage")}Nt.getLocalStorageOrThrow=rie;function sie(){return yu("localStorage")}Nt.getLocalStorage=sie;var $A={};Object.defineProperty($A,"__esModule",{value:!0});var L6=$A.getWindowMetadata=void 0;const iP=Nt;function iie(){let t,e;try{t=iP.getDocumentOrThrow(),e=iP.getLocationOrThrow()}catch{return null}function n(){const d=t.getElementsByTagName("link"),h=[];for(let f=0;f<d.length;f++){const p=d[f],g=p.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")>-1){const y=p.getAttribute("href");if(y)if(y.toLowerCase().indexOf("https:")===-1&&y.toLowerCase().indexOf("http:")===-1&&y.indexOf("//")!==0){let w=e.protocol+"//"+e.host;if(y.indexOf("/")===0)w+=y;else{const b=e.pathname.split("/");b.pop();const v=b.join("/");w+=v+"/"+y}h.push(w)}else if(y.indexOf("//")===0){const w=e.protocol+y;h.push(w)}else h.push(y)}}return h}function r(...d){const h=t.getElementsByTagName("meta");for(let f=0;f<h.length;f++){const p=h[f],g=["itemprop","property","name"].map(y=>p.getAttribute(y)).filter(y=>y?d.includes(y):!1);if(g.length&&g){const y=p.getAttribute("content");if(y)return y}}return""}function s(){let d=r("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function i(){return r("description","og:description","twitter:description","keywords")}const o=s(),a=i(),c=e.origin,l=n();return{description:a,url:c,icons:l,name:o}}L6=$A.getWindowMetadata=iie;function hg(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function OC(t){return hg(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const M6="2.31.0";let sf={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${M6}`};class Xl extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof Xl?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Xl&&n.cause.docsPath||n.docsPath,i=(a=sf.getDocsUrl)==null?void 0:a.call(sf,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...sf.version?[`Version: ${sf.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=M6}walk(e){return B6(this,e)}}function B6(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?B6(t.cause,e):e?null:t}class F6 extends Xl{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Ah(t,{dir:e,size:n=32}={}){return typeof t=="string"?oie(t,{dir:e,size:n}):aie(t,{dir:e,size:n})}function oie(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new F6({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function aie(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new F6({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}class cie extends Xl{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class lie extends Xl{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Ih(t,{size:e}){if(OC(t)>e)throw new lie({givenSize:OC(t),maxSize:e})}function RC(t,e={}){const{signed:n}=e;e.size&&Ih(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function uie(t,e={}){return Number(RC(t,e))}const die=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function $C(t,e={}){return typeof t=="number"||typeof t=="bigint"?W6(t,e):typeof t=="string"?pie(t,e):typeof t=="boolean"?hie(t,e):z6(t,e)}function hie(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Ih(n,{size:e.size}),Ah(n,{size:e.size})):n}function z6(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=die[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Ih(r,{size:e.size}),Ah(r,{dir:"right",size:e.size})):r}function W6(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new cie({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Ah(a,{size:r}):a}const fie=new TextEncoder;function pie(t,e={}){const n=fie.encode(t);return z6(n,e)}const gie=new TextEncoder;function mie(t,e={}){return typeof t=="number"||typeof t=="bigint"?wie(t,e):typeof t=="boolean"?yie(t,e):hg(t)?q6(t,e):H6(t,e)}function yie(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Ih(n,{size:e.size}),Ah(n,{size:e.size})):n}const fo={zero:48,nine:57,A:65,F:70,a:97,f:102};function oP(t){if(t>=fo.zero&&t<=fo.nine)return t-fo.zero;if(t>=fo.A&&t<=fo.F)return t-(fo.A-10);if(t>=fo.a&&t<=fo.f)return t-(fo.a-10)}function q6(t,e={}){let n=t;e.size&&(Ih(n,{size:e.size}),n=Ah(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=oP(r.charCodeAt(a++)),l=oP(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new Xl(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function wie(t,e){const n=W6(t,e);return q6(n)}function H6(t,e={}){const n=gie.encode(t);return typeof e.size=="number"?(Ih(n,{size:e.size}),Ah(n,{dir:"right",size:e.size})):n}function V6(t,e){const n=e||"hex",r=TS(hg(t,{strict:!1})?mie(t):t);return n==="bytes"?r:$C(r)}class vie extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const $1=new vie(8192);function bie(t,e){if($1.has(`${t}.${e}`))return $1.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=V6(H6(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return $1.set(`${t}.${e}`,i),i}function _ie(t){const e=V6(`0x${t.substring(4)}`).substring(26);return bie(`0x${e}`)}async function Eie({hash:t,signature:e}){const n=hg(t)?t:$C(t),{secp256k1:r}=await tn(async()=>{const{secp256k1:o}=await import("./secp256k1-C2kfrrSp.js");return{secp256k1:o}},__vite__mapDeps([2,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=aP(f);return new r.Signature(RC(l),RC(u)).addRecoveryBit(p)}const o=hg(e)?e:$C(e);if(OC(o)!==65)throw new Error("invalid signature length");const a=uie(`0x${o.slice(130)}`),c=aP(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function aP(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Cie({hash:t,signature:e}){return _ie(await Eie({hash:t,signature:e}))}function xie(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,h=0;const f=l.length;for(;h!==f&&l[h]===0;)h++,u++;const p=(f-h)*i+1>>>0,g=new Uint8Array(p);for(;h!==f;){let b=l[h],v=0;for(let E=p-1;(b!==0||v<d)&&E!==-1;E--,v++)b+=256*g[E]>>>0,g[E]=b%n>>>0,b=b/n>>>0;if(b!==0)throw new Error("Non-zero carry");d=v,h++}let y=p-d;for(;y!==p&&g[y]===0;)y++;let w=r.repeat(u);for(;y<p;++y)w+=t.charAt(g[y]);return w}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,h=0;for(;l[u]===r;)d++,u++;const f=(l.length-u)*s+1>>>0,p=new Uint8Array(f);for(;u<l.length;){const b=l.charCodeAt(u);if(b>255)return;let v=e[b];if(v===255)return;let E=0;for(let _=f-1;(v!==0||E<h)&&_!==-1;_--,E++)v+=n*p[_]>>>0,p[_]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");h=E,u++}let g=f-h;for(;g!==f&&p[g]===0;)g++;const y=new Uint8Array(d+(f-g));let w=d;for(;g!==f;)y[w++]=p[g++];return y}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var Sie="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Th=xie(Sie);function Aie(t){const e=t.length;let n=0,r=0;for(;r<e;){let s=t.charCodeAt(r++);if(s&4294967168)if(!(s&4294965248))n+=2;else{if(s>=55296&&s<=56319&&r<e){const i=t.charCodeAt(r);(i&64512)===56320&&(++r,s=((s&1023)<<10)+(i&1023)+65536)}s&4294901760?n+=4:n+=3}else{n++;continue}}return n}function Iie(t,e,n){const r=t.length;let s=n,i=0;for(;i<r;){let o=t.charCodeAt(i++);if(o&4294967168)if(!(o&4294965248))e[s++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&i<r){const a=t.charCodeAt(i);(a&64512)===56320&&(++i,o=((o&1023)<<10)+(a&1023)+65536)}o&4294901760?(e[s++]=o>>18&7|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128):(e[s++]=o>>12&15|224,e[s++]=o>>6&63|128)}else{e[s++]=o;continue}e[s++]=o&63|128}}const Tie=new TextEncoder,Nie=50;function Pie(t,e,n){Tie.encodeInto(t,e.subarray(n))}function kie(t,e,n){t.length>Nie?Pie(t,e,n):Iie(t,e,n)}const Oie=4096;function G6(t,e,n){let r=e;const s=r+n,i=[];let o="";for(;r<s;){const a=t[r++];if(!(a&128))i.push(a);else if((a&224)===192){const c=t[r++]&63;i.push((a&31)<<6|c)}else if((a&240)===224){const c=t[r++]&63,l=t[r++]&63;i.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[r++]&63,l=t[r++]&63,u=t[r++]&63;let d=(a&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|d&1023),i.push(d)}else i.push(a);i.length>=Oie&&(o+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(o+=String.fromCharCode(...i)),o}const Rie=new TextDecoder,$ie=200;function Die(t,e,n){const r=t.subarray(e,e+n);return Rie.decode(r)}function jie(t,e,n){return n>$ie?Die(t,e,n):G6(t,e,n)}class uy{constructor(e,n){this.type=e,this.data=n}}class cs extends Error{constructor(e){super(e);const n=Object.create(cs.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:cs.name})}}const of=4294967295;function Uie(t,e,n){const r=n/4294967296,s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function K6(t,e,n){const r=Math.floor(n/4294967296),s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function Y6(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function Lie(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const Mie=-1,Bie=4294967296-1,Fie=17179869184-1;function zie({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=Fie)if(e===0&&t<=Bie){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,e<<2|n&3),i.setUint32(4,r),s}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),K6(r,4,t),n}}function Wie(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,s=Math.floor(r/1e9);return{sec:n+s,nsec:r-s*1e9}}function qie(t){if(t instanceof Date){const e=Wie(t);return zie(e)}else return null}function Hie(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),s=(n&3)*4294967296+r,i=n>>>2;return{sec:s,nsec:i}}case 12:{const n=Y6(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new cs(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function Vie(t){const e=Hie(t);return new Date(e.sec*1e3+e.nsec/1e6)}const Gie={type:Mie,encode:qie,decode:Vie};class e0{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Gie)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const s=-1-e;this.builtInEncoders[s]=n,this.builtInDecoders[s]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const s=this.builtInEncoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=-1-r;return new uy(o,i)}}}for(let r=0;r<this.encoders.length;r++){const s=this.encoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=r;return new uy(o,i)}}}return e instanceof uy?e:null}decode(e,n,r){const s=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return s?s(e,n,r):new uy(n,e)}}e0.defaultCodec=new e0;function Kie(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function DC(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Kie(t)?new Uint8Array(t):Uint8Array.from(t)}const Yie=100,Jie=2048;let Qie=class J6{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??e0.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??Yie,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??Jie,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new J6({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),s=new DataView(n);r.set(this.bytes),this.view=s,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=Aie(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),kie(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=DC(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const s of e)this.doEncode(s,n+1)}countWithoutUndefined(e,n){let r=0;for(const s of n)e[s]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const s=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(const i of r){const o=e[i];this.ignoreUndefined&&o===void 0||(this.encodeString(i),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),s=r.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),Uie(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),K6(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function Zie(t,e){return new Qie(e).encodeSharedRef(t)}function D1(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const Xie=16,eoe=16;class toe{constructor(e=Xie,n=eoe){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const s=this.caches[r-1];e:for(const i of s){const o=i.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return i.str}return null}store(e,n){const r=this.caches[e.length-1],s={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=s:r.push(s)}decode(e,n,r){const s=this.find(e,n,r);if(s!=null)return this.hit++,s;this.miss++;const i=G6(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,i),i}}const jC="array",Xf="map_key",Q6="map_value",noe=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new cs("The type of key must be string or number but "+typeof t)};class roe{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=jC,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=Xf,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===jC){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===Xf||e.type===Q6){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const af=-1,DA=new DataView(new ArrayBuffer(0)),soe=new Uint8Array(DA.buffer);try{DA.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const cP=new RangeError("Insufficient data"),ioe=new toe;let ooe=class Z6{constructor(e){this.totalPos=0,this.pos=0,this.view=DA,this.bytes=soe,this.headByte=af,this.stack=new roe,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??e0.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??of,this.maxBinLength=(e==null?void 0:e.maxBinLength)??of,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??of,this.maxMapLength=(e==null?void 0:e.maxMapLength)??of,this.maxExtLength=(e==null?void 0:e.maxExtLength)??of,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:ioe,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??noe}clone(){return new Z6({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=af,this.stack.reset()}setBuffer(e){const n=DC(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===af&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=DC(e),s=new Uint8Array(n.length+r.length);s.set(n),s.set(r,n.length),this.setBuffer(s)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:s,pos:i,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${D1(s)} at ${o} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,s=-1;for await(const i of e){if(n&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(s=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e<160){const s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{const s=e-160;n=this.decodeString(s,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const s=this.lookU8();n=this.decodeString(s,1)}else if(e===218){const s=this.lookU16();n=this.decodeString(s,2)}else if(e===219){const s=this.lookU32();n=this.decodeString(s,4)}else if(e===220){const s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===221){const s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===222){const s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===223){const s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===196){const s=this.lookU8();n=this.decodeBinary(s,1)}else if(e===197){const s=this.lookU16();n=this.decodeBinary(s,2)}else if(e===198){const s=this.lookU32();n=this.decodeBinary(s,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const s=this.lookU8();n=this.decodeExtension(s,1)}else if(e===200){const s=this.lookU16();n=this.decodeExtension(s,2)}else if(e===201){const s=this.lookU32();n=this.decodeExtension(s,4)}else throw new cs(`Unrecognized type byte: ${D1(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const s=r.top();if(s.type===jC)if(s.array[s.position]=n,s.position++,s.position===s.size)n=s.array,r.release(s);else continue e;else if(s.type===Xf){if(n==="__proto__")throw new cs("The key __proto__ is not allowed");s.key=this.mapKeyConverter(n),s.type=Q6;continue e}else if(s.map[s.key]=n,s.readCount++,s.readCount===s.size)n=s.map,r.release(s);else{s.key=null,s.type=Xf;continue e}}return n}}readHeadByte(){return this.headByte===af&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=af}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new cs(`Unrecognized array type byte: ${D1(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new cs(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new cs(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){var i;if(e>this.maxStrLength)throw new cs(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw cP;const r=this.pos+n;let s;return this.stateIsMapKey()&&((i=this.keyDecoder)!=null&&i.canBeCached(e))?s=this.keyDecoder.decode(this.bytes,r,e):s=jie(this.bytes,r,e),this.pos+=n+e,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Xf:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new cs(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw cP;const r=this.pos+n,s=this.bytes.subarray(r,r+e);return this.pos+=n+e,s}decodeExtension(e,n){if(e>this.maxExtLength)throw new cs(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),s=this.decodeBinary(e,n+1);return this.extensionCodec.decode(s,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=Lie(this.view,this.pos);return this.pos+=8,e}readI64(){const e=Y6(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function aoe(t,e){return new ooe(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function coe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function X6(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function t0(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function jA(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function UC(t){if(!Array.isArray(t))throw new Error("array expected")}function n0(t,e){if(!X6(!0,e))throw new Error(`${t}: array of strings expected`)}function loe(t,e){if(!X6(!1,e))throw new Error(`${t}: array of numbers expected`)}function uoe(...t){const e=i=>i,n=(i,o)=>a=>i(o(a)),r=t.map(i=>i.encode).reduceRight(n,e),s=t.map(i=>i.decode).reduce(n,e);return{encode:r,decode:s}}function doe(t){const e=typeof t=="string"?t.split(""):t,n=e.length;n0("alphabet",e);const r=new Map(e.map((s,i)=>[s,i]));return{encode:s=>(UC(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${t}`);return e[i]})),decode:s=>(UC(s),s.map(i=>{t0("alphabet.decode",i);const o=r.get(i);if(o===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${t}`);return o}))}}function hoe(t=""){return t0("join",t),{encode:e=>(n0("join.decode",e),e.join(t)),decode:e=>(t0("join.decode",e),e.split(t))}}function foe(t,e="="){return jA(t),t0("padding",e),{encode(n){for(n0("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){n0("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const e4=(t,e)=>e===0?t:e4(e,t%e),r0=(t,e)=>t+(e-e4(t,e)),j1=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function lP(t,e,n,r){if(UC(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(r0(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${r0(e,n)}`);let s=0,i=0;const o=j1[e],a=j1[n]-1,c=[];for(const l of t){if(jA(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(s=s<<e|l,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=n;i-=n)c.push((s>>i-n&a)>>>0);const u=j1[i];if(u===void 0)throw new Error("invalid carry");s&=u-1}if(s=s<<n-i&a,!r&&i>=e)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&c.push(s>>>0),c}function poe(t,e=!1){if(jA(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(r0(8,t)>32||r0(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!coe(n))throw new Error("radix2.encode input should be Uint8Array");return lP(Array.from(n),8,t,!e)},decode:n=>(loe("radix2.decode",n),Uint8Array.from(lP(n,t,8,e)))}}const goe=uoe(poe(5),doe("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),foe(5),hoe(""));function UA(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function t4(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?UA(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function ep(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=t4(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return UA(n)}function moe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,w=0,b=p.length;w!==b&&p[w]===0;)w++,g++;for(var v=(b-w)*u+1>>>0,E=new Uint8Array(v);w!==b;){for(var _=p[w],x=0,S=v-1;(_!==0||x<y)&&S!==-1;S--,x++)_+=256*E[S]>>>0,E[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");y=x,w++}for(var T=v-y;T!==v&&E[T]===0;)T++;for(var C=c.repeat(g);T<v;++T)C+=t.charAt(E[T]);return C}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,w=0;p[g]===c;)y++,g++;for(var b=(p.length-g)*l+1>>>0,v=new Uint8Array(b);p[g];){var E=n[p.charCodeAt(g)];if(E===255)return;for(var _=0,x=b-1;(E!==0||_<w)&&x!==-1;x--,_++)E+=a*v[x]>>>0,v[x]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=_,g++}if(p[g]!==" "){for(var S=b-w;S!==b&&v[S]===0;)S++;for(var T=new Uint8Array(y+(b-S)),C=y;S!==b;)T[C++]=v[S++];return T}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var yoe=moe,woe=yoe;const voe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},boe=t=>new TextEncoder().encode(t),_oe=t=>new TextDecoder().decode(t);class Eoe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Coe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return n4(this,e)}}class xoe{constructor(e){this.decoders=e}or(e){return n4(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const n4=(t,e)=>new xoe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Soe{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new Eoe(e,n,r),this.decoder=new Coe(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Ev=({name:t,prefix:e,encode:n,decode:r})=>new Soe(t,e,n,r),lm=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=woe(n,e);return Ev({prefix:t,name:e,encode:r,decode:i=>voe(s(i))})},Aoe=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Ioe=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Kn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Ev({prefix:e,name:t,encode(s){return Ioe(s,r,n)},decode(s){return Aoe(s,r,n,t)}}),Toe=Ev({prefix:"\0",name:"identity",encode:t=>_oe(t),decode:t=>boe(t)}),Noe=Object.freeze(Object.defineProperty({__proto__:null,identity:Toe},Symbol.toStringTag,{value:"Module"})),Poe=Kn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),koe=Object.freeze(Object.defineProperty({__proto__:null,base2:Poe},Symbol.toStringTag,{value:"Module"})),Ooe=Kn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Roe=Object.freeze(Object.defineProperty({__proto__:null,base8:Ooe},Symbol.toStringTag,{value:"Module"})),$oe=lm({prefix:"9",name:"base10",alphabet:"0123456789"}),Doe=Object.freeze(Object.defineProperty({__proto__:null,base10:$oe},Symbol.toStringTag,{value:"Module"})),joe=Kn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Uoe=Kn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Loe=Object.freeze(Object.defineProperty({__proto__:null,base16:joe,base16upper:Uoe},Symbol.toStringTag,{value:"Module"})),Moe=Kn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Boe=Kn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Foe=Kn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),zoe=Kn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Woe=Kn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),qoe=Kn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Hoe=Kn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Voe=Kn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Goe=Kn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Koe=Object.freeze(Object.defineProperty({__proto__:null,base32:Moe,base32hex:Woe,base32hexpad:Hoe,base32hexpadupper:Voe,base32hexupper:qoe,base32pad:Foe,base32padupper:zoe,base32upper:Boe,base32z:Goe},Symbol.toStringTag,{value:"Module"})),Yoe=lm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Joe=lm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Qoe=Object.freeze(Object.defineProperty({__proto__:null,base36:Yoe,base36upper:Joe},Symbol.toStringTag,{value:"Module"})),Zoe=lm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Xoe=lm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),eae=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Zoe,base58flickr:Xoe},Symbol.toStringTag,{value:"Module"})),tae=Kn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),nae=Kn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),rae=Kn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),sae=Kn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),iae=Object.freeze(Object.defineProperty({__proto__:null,base64:tae,base64pad:nae,base64url:rae,base64urlpad:sae},Symbol.toStringTag,{value:"Module"})),r4=Array.from(""),oae=r4.reduce((t,e,n)=>(t[n]=e,t),[]),aae=r4.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function cae(t){return t.reduce((e,n)=>(e+=oae[n],e),"")}function lae(t){const e=[];for(const n of t){const r=aae[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const uae=Ev({prefix:"",name:"base256emoji",encode:cae,decode:lae}),dae=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:uae},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const uP={...Noe,...koe,...Roe,...Doe,...Loe,...Koe,...Qoe,...eae,...iae,...dae};function s4(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const dP=s4("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),U1=s4("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=t4(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),i4={utf8:dP,"utf-8":dP,hex:uP.base16,latin1:U1,ascii:U1,binary:U1,...uP};function Us(t,e="utf8"){const n=i4[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?UA(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Zr(t,e="utf8"){const n=i4[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const hae={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},fae="Input must be an string, Buffer or Uint8Array";function pae(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(fae);return e}function gae(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function dy(t){return(4294967296+t).toString(16).substring(1)}function mae(t,e,n){let r=`
`+t+" = ";for(let s=0;s<e.length;s+=2){if(n===32)r+=dy(e[s]).toUpperCase(),r+=" ",r+=dy(e[s+1]).toUpperCase();else if(n===64)r+=dy(e[s+1]).toUpperCase(),r+=dy(e[s]).toUpperCase();else throw new Error("Invalid size "+n);s%6===4?r+=`
`+new Array(t.length+4).join(" "):s<e.length-2&&(r+=" ")}console.log(r)}function yae(t,e,n){let r=new Date().getTime();const s=new Uint8Array(e);for(let o=0;o<e;o++)s[o]=o%256;const i=new Date().getTime();console.log("Generated random input in "+(i-r)+"ms"),r=i;for(let o=0;o<n;o++){const a=t(s),c=new Date().getTime(),l=c-r;r=c,console.log("Hashed in "+l+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}var o4={normalizeInput:pae,toHex:gae,debugPrint:mae,testSpeed:yae};const nw=o4;function hy(t,e,n){const r=t[e]+t[n];let s=t[e+1]+t[n+1];r>=4294967296&&s++,t[e]=r,t[e+1]=s}function hP(t,e,n,r){let s=t[e]+n;n<0&&(s+=4294967296);let i=t[e+1]+r;s>=4294967296&&i++,t[e]=s,t[e+1]=i}function a4(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function fa(t,e,n,r,s,i){const o=Of[s],a=Of[s+1],c=Of[i],l=Of[i+1];hy(Be,t,e),hP(Be,t,o,a);let u=Be[r]^Be[t],d=Be[r+1]^Be[t+1];Be[r]=d,Be[r+1]=u,hy(Be,n,r),u=Be[e]^Be[n],d=Be[e+1]^Be[n+1],Be[e]=u>>>24^d<<8,Be[e+1]=d>>>24^u<<8,hy(Be,t,e),hP(Be,t,c,l),u=Be[r]^Be[t],d=Be[r+1]^Be[t+1],Be[r]=u>>>16^d<<16,Be[r+1]=d>>>16^u<<16,hy(Be,n,r),u=Be[e]^Be[n],d=Be[e+1]^Be[n+1],Be[e]=d>>>31^u<<1,Be[e+1]=u>>>31^d<<1}const c4=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),wae=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],er=new Uint8Array(wae.map(function(t){return t*2})),Be=new Uint32Array(32),Of=new Uint32Array(32);function l4(t,e){let n=0;for(n=0;n<16;n++)Be[n]=t.h[n],Be[n+16]=c4[n];for(Be[24]=Be[24]^t.t,Be[25]=Be[25]^t.t/4294967296,e&&(Be[28]=~Be[28],Be[29]=~Be[29]),n=0;n<32;n++)Of[n]=a4(t.b,4*n);for(n=0;n<12;n++)fa(0,8,16,24,er[n*16+0],er[n*16+1]),fa(2,10,18,26,er[n*16+2],er[n*16+3]),fa(4,12,20,28,er[n*16+4],er[n*16+5]),fa(6,14,22,30,er[n*16+6],er[n*16+7]),fa(0,10,20,30,er[n*16+8],er[n*16+9]),fa(2,12,22,24,er[n*16+10],er[n*16+11]),fa(4,14,16,26,er[n*16+12],er[n*16+13]),fa(6,8,18,28,er[n*16+14],er[n*16+15]);for(n=0;n<16;n++)t.h[n]=t.h[n]^Be[n]^Be[n+16]}const pa=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function u4(t,e,n,r){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&r.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const s={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};pa.fill(0),pa[0]=t,e&&(pa[1]=e.length),pa[2]=1,pa[3]=1,n&&pa.set(n,32),r&&pa.set(r,48);for(let i=0;i<16;i++)s.h[i]=c4[i]^a4(pa,i*4);return e&&(LA(s,e),s.c=128),s}function LA(t,e){for(let n=0;n<e.length;n++)t.c===128&&(t.t+=t.c,l4(t,!1),t.c=0),t.b[t.c++]=e[n]}function d4(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;l4(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3);return e}function h4(t,e,n,r,s){n=n||64,t=nw.normalizeInput(t),r&&(r=nw.normalizeInput(r)),s&&(s=nw.normalizeInput(s));const i=u4(n,e,r,s);return LA(i,t),d4(i)}function vae(t,e,n,r,s){const i=h4(t,e,n,r,s);return nw.toHex(i)}var bae={blake2b:h4,blake2bHex:vae,blake2bInit:u4,blake2bUpdate:LA,blake2bFinal:d4};const f4=o4;function _ae(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function ga(t,e,n,r,s,i){ct[t]=ct[t]+ct[e]+s,ct[r]=fy(ct[r]^ct[t],16),ct[n]=ct[n]+ct[r],ct[e]=fy(ct[e]^ct[n],12),ct[t]=ct[t]+ct[e]+i,ct[r]=fy(ct[r]^ct[t],8),ct[n]=ct[n]+ct[r],ct[e]=fy(ct[e]^ct[n],7)}function fy(t,e){return t>>>e^t<<32-e}const p4=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tr=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),ct=new Uint32Array(16),Dn=new Uint32Array(16);function g4(t,e){let n=0;for(n=0;n<8;n++)ct[n]=t.h[n],ct[n+8]=p4[n];for(ct[12]^=t.t,ct[13]^=t.t/4294967296,e&&(ct[14]=~ct[14]),n=0;n<16;n++)Dn[n]=_ae(t.b,4*n);for(n=0;n<10;n++)ga(0,4,8,12,Dn[tr[n*16+0]],Dn[tr[n*16+1]]),ga(1,5,9,13,Dn[tr[n*16+2]],Dn[tr[n*16+3]]),ga(2,6,10,14,Dn[tr[n*16+4]],Dn[tr[n*16+5]]),ga(3,7,11,15,Dn[tr[n*16+6]],Dn[tr[n*16+7]]),ga(0,5,10,15,Dn[tr[n*16+8]],Dn[tr[n*16+9]]),ga(1,6,11,12,Dn[tr[n*16+10]],Dn[tr[n*16+11]]),ga(2,7,8,13,Dn[tr[n*16+12]],Dn[tr[n*16+13]]),ga(3,4,9,14,Dn[tr[n*16+14]],Dn[tr[n*16+15]]);for(n=0;n<8;n++)t.h[n]^=ct[n]^ct[n+8]}function m4(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=e?e.length:0;if(e&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(p4),b:new Uint8Array(64),c:0,t:0,outlen:t};return r.h[0]^=16842752^n<<8^t,n>0&&(MA(r,e),r.c=64),r}function MA(t,e){for(let n=0;n<e.length;n++)t.c===64&&(t.t+=t.c,g4(t,!1),t.c=0),t.b[t.c++]=e[n]}function y4(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;g4(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3)&255;return e}function w4(t,e,n){n=n||32,t=f4.normalizeInput(t);const r=m4(n,e);return MA(r,t),y4(r)}function Eae(t,e,n){const r=w4(t,e,n);return f4.toHex(r)}var Cae={blake2s:w4,blake2sHex:Eae,blake2sInit:m4,blake2sUpdate:MA,blake2sFinal:y4};const cf=bae,lf=Cae;var xae={blake2b:cf.blake2b,blake2bHex:cf.blake2bHex,blake2bInit:cf.blake2bInit,blake2bUpdate:cf.blake2bUpdate,blake2bFinal:cf.blake2bFinal,blake2s:lf.blake2s,blake2sHex:lf.blake2sHex,blake2sInit:lf.blake2sInit,blake2sUpdate:lf.blake2sUpdate,blake2sFinal:lf.blake2sFinal},Sae={};const Aae=":";function Td(t){const[e,n]=t.split(Aae);return{namespace:e,reference:n}}function v4(t,e){return t.includes(":")?[t]:e.chains||[]}var Iae=Object.defineProperty,Tae=Object.defineProperties,Nae=Object.getOwnPropertyDescriptors,fP=Object.getOwnPropertySymbols,Pae=Object.prototype.hasOwnProperty,kae=Object.prototype.propertyIsEnumerable,pP=(t,e,n)=>e in t?Iae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gP=(t,e)=>{for(var n in e||(e={}))Pae.call(e,n)&&pP(t,n,e[n]);if(fP)for(var n of fP(e))kae.call(e,n)&&pP(t,n,e[n]);return t},Oae=(t,e)=>Tae(t,Nae(e));const Rae="ReactNative",ds={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},$ae="js";function s0(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Mc(){return!Zl()&&!!RA()&&navigator.product===Rae}function Dae(){return Mc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function jae(){return Mc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Nh(){return!s0()&&!!RA()&&!!Zl()}function um(){return Mc()?ds.reactNative:s0()?ds.node:Nh()?ds.browser:ds.unknown}function mP(){var t;try{return Mc()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Uae(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const s=e[r];s!==void 0&&n.set(r,s)}return n.toString()}function Lae(t){var e,n;const r=b4();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),Oae(gP(gP({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),t||r}}function b4(){return L6()||{name:"",description:"",url:"",icons:[""]}}function Mae(){if(um()===ds.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=Wse();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function Bae(){var t;const e=um();return e===ds.browser?[e,((t=U6())==null?void 0:t.host)||"unknown"].join(":"):e}function _4(t,e,n){const r=Mae(),s=Bae();return[[t,e].join("-"),[$ae,n].join("-"),r,s].join("/")}function Fae({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=_4(t,e,r),d={auth:s,ua:u,projectId:i,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},h=Uae(l[1]||"",d);return l[0]+"?"+h}function gl(t,e){return t.filter(n=>e.includes(n)).length===t.length}function LC(t){return Object.fromEntries(t.entries())}function MC(t){return new Map(Object.entries(t))}function nl(t=oe.FIVE_MINUTES,e){const n=oe.toMiliseconds(t||oe.FIVE_MINUTES);let r,s,i,o;return{resolve:a=>{i&&r&&(clearTimeout(i),r(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,s=c})}}function tc(t,e,n){return new Promise(async(r,s)=>{const i=setTimeout(()=>s(new Error(n)),e);try{const o=await t;r(o)}catch(o){s(o)}clearTimeout(i)})}function E4(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function zae(t){return E4("topic",t)}function Wae(t){return E4("id",t)}function C4(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function pn(t,e){return oe.fromMiliseconds(Date.now()+oe.toMiliseconds(t))}function Pa(t){return Date.now()>=oe.toMiliseconds(t)}function ht(t,e){return`${t}${e?`:${e}`:""}`}function Zi(t=[],e=[]){return[...new Set([...t,...e])]}async function qae({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,i=s==null?void 0:s.href;if(typeof i!="string")return;const o=Hae(i,t,e),a=um();if(a===ds.browser){if(!((r=Zl())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Vae(o)}else a===ds.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(s){console.error(s)}}function Hae(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${Jae(r,!0)}`}else s=`${s}/wc?${r}`;return s}function Vae(t){let e="_self";Yae()?e="_top":(Kae()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function Gae(t,e){let n="";try{if(Nh()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function yP(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function wP(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function BA(){return typeof process<"u"&&Sae.IS_VITEST==="true"}function Kae(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Yae(){try{return window.self!==window.top}catch{return!1}}function Jae(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function x4(t){return Buffer.from(t,"base64").toString("utf-8")}function Qae(t){return new Promise(e=>setTimeout(e,t))}const py=BigInt(2**32-1),vP=BigInt(32);function S4(t,e=!1){return e?{h:Number(t&py),l:Number(t>>vP&py)}:{h:Number(t>>vP&py)|0,l:Number(t&py)|0}}function A4(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=S4(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const bP=(t,e,n)=>t>>>n,_P=(t,e,n)=>t<<32-n|e>>>n,ka=(t,e,n)=>t>>>n|e<<32-n,Oa=(t,e,n)=>t<<32-n|e>>>n,Rf=(t,e,n)=>t<<64-n|e>>>n-32,$f=(t,e,n)=>t>>>n-32|e<<64-n,Zae=(t,e)=>e,Xae=(t,e)=>t,ece=(t,e,n)=>t<<n|e>>>32-n,tce=(t,e,n)=>e<<n|t>>>32-n,nce=(t,e,n)=>e<<n-32|t>>>64-n,rce=(t,e,n)=>t<<n-32|e>>>64-n;function ni(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const FA=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),zA=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,sce=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),ice=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,oce=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),ace=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,Ou=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function WA(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Go(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Fs(t,...e){if(!WA(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function qA(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Go(t.outputLen),Go(t.blockLen)}function Pc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function HA(t,e){Fs(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function fg(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function zs(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function L1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ki(t,e){return t<<32-e|t>>>e}const I4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function T4(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const wo=I4?t=>t:t=>T4(t);function cce(t){for(let e=0;e<t.length;e++)t[e]=T4(t[e]);return t}const Ra=I4?t=>t:cce,N4=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",lce=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function pg(t){if(Fs(t),N4)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=lce[t[n]];return e}const po={_0:48,_9:57,A:65,F:70,a:97,f:102};function EP(t){if(t>=po._0&&t<=po._9)return t-po._0;if(t>=po.A&&t<=po.F)return t-(po.A-10);if(t>=po.a&&t<=po.f)return t-(po.a-10)}function VA(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(N4)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=EP(t.charCodeAt(i)),a=EP(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function uce(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function yi(t){return typeof t=="string"&&(t=uce(t)),Fs(t),t}function ml(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Fs(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let Cv=class{};function dm(t){const e=r=>t().update(yi(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function dce(t){const e=(r,s)=>t(s).update(yi(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Ph(t=32){if(Ou&&typeof Ou.getRandomValues=="function")return Ou.getRandomValues(new Uint8Array(t));if(Ou&&typeof Ou.randomBytes=="function")return Uint8Array.from(Ou.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const hce=BigInt(0),uf=BigInt(1),fce=BigInt(2),pce=BigInt(7),gce=BigInt(256),mce=BigInt(113),P4=[],k4=[],O4=[];for(let t=0,e=uf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],P4.push(2*(5*r+n)),k4.push((t+1)*(t+2)/2%64);let s=hce;for(let i=0;i<7;i++)e=(e<<uf^(e>>pce)*mce)%gce,e&fce&&(s^=uf<<(uf<<BigInt(i))-uf);O4.push(s)}const R4=A4(O4,!0),yce=R4[0],wce=R4[1],CP=(t,e,n)=>n>32?nce(t,e,n):ece(t,e,n),xP=(t,e,n)=>n>32?rce(t,e,n):tce(t,e,n);function vce(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=CP(l,u,1)^n[a],h=xP(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=k4[o],c=CP(s,i,a),l=xP(s,i,a),u=P4[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=yce[r],t[1]^=wce[r]}zs(n)}let bce=class $4 extends Cv{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,Go(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=fg(this.state)}clone(){return this._cloneInto()}keccak(){Ra(this.state32),vce(this.state32,this.rounds),Ra(this.state32),this.posOut=0,this.pos=0}update(e){Pc(this),e=yi(e),Fs(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Pc(this,!1),Fs(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Go(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(HA(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,zs(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new $4(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const _ce=(t,e,n)=>dm(()=>new bce(e,t,n)),Ece=_ce(1,136,256/8);function Cce(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function xce(t,e,n){return t&e^~t&n}function Sce(t,e,n){return t&e^t&n^e&n}let D4=class extends Cv{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=L1(this.buffer)}update(e){Pc(this),e=yi(e),Fs(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=L1(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Pc(this),HA(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,zs(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Cce(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=L1(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const ma=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),nr=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),rr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Ace=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ya=new Uint32Array(64);let Ice=class extends D4{constructor(e=32){super(64,e,8,!1),this.A=ma[0]|0,this.B=ma[1]|0,this.C=ma[2]|0,this.D=ma[3]|0,this.E=ma[4]|0,this.F=ma[5]|0,this.G=ma[6]|0,this.H=ma[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)ya[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=ya[d-15],f=ya[d-2],p=ki(h,7)^ki(h,18)^h>>>3,g=ki(f,17)^ki(f,19)^f>>>10;ya[d]=g+ya[d-7]+p+ya[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=ki(a,6)^ki(a,11)^ki(a,25),f=u+h+xce(a,c,l)+Ace[d]+ya[d]|0,p=(ki(r,2)^ki(r,13)^ki(r,22))+Sce(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){zs(ya)}destroy(){this.set(0,0,0,0,0,0,0,0),zs(this.buffer)}};const j4=A4(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Tce=j4[0],Nce=j4[1],wa=new Uint32Array(80),va=new Uint32Array(80);let GA=class extends D4{constructor(e=64){super(128,e,16,!1),this.Ah=rr[0]|0,this.Al=rr[1]|0,this.Bh=rr[2]|0,this.Bl=rr[3]|0,this.Ch=rr[4]|0,this.Cl=rr[5]|0,this.Dh=rr[6]|0,this.Dl=rr[7]|0,this.Eh=rr[8]|0,this.El=rr[9]|0,this.Fh=rr[10]|0,this.Fl=rr[11]|0,this.Gh=rr[12]|0,this.Gl=rr[13]|0,this.Hh=rr[14]|0,this.Hl=rr[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:g,Hl:y}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let v=0;v<16;v++,n+=4)wa[v]=e.getUint32(n),va[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const E=wa[v-15]|0,_=va[v-15]|0,x=ka(E,_,1)^ka(E,_,8)^bP(E,_,7),S=Oa(E,_,1)^Oa(E,_,8)^_P(E,_,7),T=wa[v-2]|0,C=va[v-2]|0,O=ka(T,C,19)^Rf(T,C,61)^bP(T,C,6),R=Oa(T,C,19)^$f(T,C,61)^_P(T,C,6),B=sce(S,R,va[v-7],va[v-16]),z=ice(B,x,O,wa[v-7],wa[v-16]);wa[v]=z|0,va[v]=B|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:g,Gl:y,Hh:w,Hl:b}=this;for(let v=0;v<80;v++){const E=ka(d,h,14)^ka(d,h,18)^Rf(d,h,41),_=Oa(d,h,14)^Oa(d,h,18)^$f(d,h,41),x=d&f^~d&g,S=h&p^~h&y,T=oce(b,_,S,Nce[v],va[v]),C=ace(T,w,E,x,Tce[v],wa[v]),O=T|0,R=ka(r,s,28)^Rf(r,s,34)^Rf(r,s,39),B=Oa(r,s,28)^$f(r,s,34)^$f(r,s,39),z=r&i^r&a^i&a,M=s&o^s&c^o&c;w=g|0,b=y|0,g=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=ni(l|0,u|0,C|0,O|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const I=FA(O,B,M);r=zA(I,C,R,z),s=I|0}({h:r,l:s}=ni(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=ni(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=ni(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=ni(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=ni(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=ni(this.Fh|0,this.Fl|0,f|0,p|0),{h:g,l:y}=ni(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:b}=ni(this.Hh|0,this.Hl|0,w|0,b|0),this.set(r,s,i,o,a,c,l,u,d,h,f,p,g,y,w,b)}roundClean(){zs(wa,va)}destroy(){zs(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Pce=class extends GA{constructor(){super(48),this.Ah=nr[0]|0,this.Al=nr[1]|0,this.Bh=nr[2]|0,this.Bl=nr[3]|0,this.Ch=nr[4]|0,this.Cl=nr[5]|0,this.Dh=nr[6]|0,this.Dl=nr[7]|0,this.Eh=nr[8]|0,this.El=nr[9]|0,this.Fh=nr[10]|0,this.Fl=nr[11]|0,this.Gh=nr[12]|0,this.Gl=nr[13]|0,this.Hh=nr[14]|0,this.Hl=nr[15]|0}};const sr=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let kce=class extends GA{constructor(){super(32),this.Ah=sr[0]|0,this.Al=sr[1]|0,this.Bh=sr[2]|0,this.Bl=sr[3]|0,this.Ch=sr[4]|0,this.Cl=sr[5]|0,this.Dh=sr[6]|0,this.Dl=sr[7]|0,this.Eh=sr[8]|0,this.El=sr[9]|0,this.Fh=sr[10]|0,this.Fl=sr[11]|0,this.Gh=sr[12]|0,this.Gl=sr[13]|0,this.Hh=sr[14]|0,this.Hl=sr[15]|0}};const xv=dm(()=>new Ice),Oce=dm(()=>new GA),Rce=dm(()=>new Pce),$ce=dm(()=>new kce),Dce=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),fn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),he=new Uint32Array(32);function ba(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=he[2*t],l=he[2*t+1],u=he[2*e],d=he[2*e+1],h=he[2*n],f=he[2*n+1],p=he[2*r],g=he[2*r+1],y=FA(c,u,o);l=zA(y,l,d,a),c=y|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:Zae(g,p),Dl:Xae(g)},{h:f,l:h}=ni(f,h,g,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:ka(d,u,24),Bl:Oa(d,u,24)},he[2*t]=c,he[2*t+1]=l,he[2*e]=u,he[2*e+1]=d,he[2*n]=h,he[2*n+1]=f,he[2*r]=p,he[2*r+1]=g}function _a(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=he[2*t],l=he[2*t+1],u=he[2*e],d=he[2*e+1],h=he[2*n],f=he[2*n+1],p=he[2*r],g=he[2*r+1],y=FA(c,u,o);l=zA(y,l,d,a),c=y|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:ka(g,p,16),Dl:Oa(g,p,16)},{h:f,l:h}=ni(f,h,g,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:Rf(d,u,63),Bl:$f(d,u,63)},he[2*t]=c,he[2*t+1]=l,he[2*e]=u,he[2*e+1]=d,he[2*n]=h,he[2*n+1]=f,he[2*r]=p,he[2*r+1]=g}function jce(t,e={},n,r,s){if(Go(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:i,salt:o,personalization:a}=e;if(i!==void 0&&(i.length<1||i.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}class Uce extends Cv{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Go(e),Go(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=fg(this.buffer)}update(e){Pc(this),e=yi(e),Fs(e);const{blockLen:n,buffer:r,buffer32:s}=this,i=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<i;){this.pos===n&&(Ra(s),this.compress(s,0,!1),Ra(s),this.pos=0);const l=Math.min(n-this.pos,i-c),u=o+c;if(l===n&&!(u%4)&&c+l<i){const d=new Uint32Array(a,u,Math.floor((i-c)/4));Ra(d);for(let h=0;c+n<i;h+=s.length,c+=n)this.length+=n,this.compress(d,h,!1);Ra(d);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){Pc(this),HA(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,zs(this.buffer.subarray(n)),Ra(r),this.compress(r,0,!0),Ra(r);const s=fg(e);this.get().forEach((i,o)=>s[o]=wo(i))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=i,e.finished=s,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class Lce extends Uce{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=fn[0]|0,this.v0h=fn[1]|0,this.v1l=fn[2]|0,this.v1h=fn[3]|0,this.v2l=fn[4]|0,this.v2h=fn[5]|0,this.v3l=fn[6]|0,this.v3h=fn[7]|0,this.v4l=fn[8]|0,this.v4h=fn[9]|0,this.v5l=fn[10]|0,this.v5h=fn[11]|0,this.v6l=fn[12]|0,this.v6h=fn[13]|0,this.v7l=fn[14]|0,this.v7h=fn[15]|0,jce(n,e,64,16,16);let{key:r,personalization:s,salt:i}=e,o=0;if(r!==void 0&&(r=yi(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=yi(i);const a=fg(i);this.v4l^=wo(a[0]),this.v4h^=wo(a[1]),this.v5l^=wo(a[2]),this.v5h^=wo(a[3])}if(s!==void 0){s=yi(s);const a=fg(s);this.v6l^=wo(a[0]),this.v6h^=wo(a[1]),this.v7l^=wo(a[2]),this.v7h^=wo(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:s,v2l:i,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:h,v6l:f,v6h:p,v7l:g,v7h:y}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=h|0,this.v6l=f|0,this.v6h=p|0,this.v7l=g|0,this.v7h=y|0}compress(e,n,r){this.get().forEach((c,l)=>he[l]=c),he.set(fn,16);let{h:s,l:i}=S4(BigInt(this.length));he[24]=fn[8]^i,he[25]=fn[9]^s,r&&(he[28]=~he[28],he[29]=~he[29]);let o=0;const a=Dce;for(let c=0;c<12;c++)ba(0,4,8,12,e,n+2*a[o++]),_a(0,4,8,12,e,n+2*a[o++]),ba(1,5,9,13,e,n+2*a[o++]),_a(1,5,9,13,e,n+2*a[o++]),ba(2,6,10,14,e,n+2*a[o++]),_a(2,6,10,14,e,n+2*a[o++]),ba(3,7,11,15,e,n+2*a[o++]),_a(3,7,11,15,e,n+2*a[o++]),ba(0,5,10,15,e,n+2*a[o++]),_a(0,5,10,15,e,n+2*a[o++]),ba(1,6,11,12,e,n+2*a[o++]),_a(1,6,11,12,e,n+2*a[o++]),ba(2,7,8,13,e,n+2*a[o++]),_a(2,7,8,13,e,n+2*a[o++]),ba(3,4,9,14,e,n+2*a[o++]),_a(3,4,9,14,e,n+2*a[o++]);this.v0l^=he[0]^he[16],this.v0h^=he[1]^he[17],this.v1l^=he[2]^he[18],this.v1h^=he[3]^he[19],this.v2l^=he[4]^he[20],this.v2h^=he[5]^he[21],this.v3l^=he[6]^he[22],this.v3h^=he[7]^he[23],this.v4l^=he[8]^he[24],this.v4h^=he[9]^he[25],this.v5l^=he[10]^he[26],this.v5h^=he[11]^he[27],this.v6l^=he[12]^he[28],this.v6h^=he[13]^he[29],this.v7l^=he[14]^he[30],this.v7h^=he[15]^he[31],zs(he)}destroy(){this.destroyed=!0,zs(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Mce=dce(t=>new Lce(t)),Bce="https://rpc.walletconnect.org/v1";function U4(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(Ece(n)).toString("hex")}async function Fce(t,e,n,r,s,i){switch(n.t){case"eip191":return await zce(t,e,n.s);case"eip1271":return await Wce(t,e,n.s,r,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function zce(t,e,n){return(await Cie({hash:U4(e),signature:n})).toLowerCase()===t.toLowerCase()}async function Wce(t,e,n,r,s,i){const o=Td(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:U4(e)).substring(2),h=a+d+c+u+l,f=await fetch(`${i||Bce}/?chainId=${r}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:qce(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:p}=await f.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function qce(){return Date.now()+Math.floor(Math.random()*1e3)}function Hce(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(t,"base64").slice(1,65);return Th.encode(i)}function Vce(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const s=Mce(r,{dkLen:32});return Th.encode(s)}function SP(t){const e=new Uint8Array(xv(Gce(t)));return Th.encode(e)}function Gce(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function AP(t){const e=Buffer.from(t,"base64"),n=aoe(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=Zie(n),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(r)]),o=$ce(i);return goe.encode(o).replace(/=+$/,"")}function M1(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function Kce(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(M1(e.length)),s.push(e),s.push(Buffer.from([18])),s.push(M1(n.length)),s.push(n),s.push(Buffer.from([26])),s.push(M1(r.length)),s.push(r);const i=Buffer.concat(s),o=xv(i);return Buffer.from(o).toString("hex").toUpperCase()}var Yce=Object.defineProperty,Jce=Object.defineProperties,Qce=Object.getOwnPropertyDescriptors,IP=Object.getOwnPropertySymbols,Zce=Object.prototype.hasOwnProperty,Xce=Object.prototype.propertyIsEnumerable,TP=(t,e,n)=>e in t?Yce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ele=(t,e)=>{for(var n in e||(e={}))Zce.call(e,n)&&TP(t,n,e[n]);if(IP)for(var n of IP(e))Xce.call(e,n)&&TP(t,n,e[n]);return t},tle=(t,e)=>Jce(t,Qce(e));const nle="did:pkh:",KA=t=>t==null?void 0:t.split(":"),rle=t=>{const e=t&&KA(t);if(e)return t.includes(nle)?e[3]:e[1]},BC=t=>{const e=t&&KA(t);if(e)return e[2]+":"+e[3]},i0=t=>{const e=t&&KA(t);if(e)return e.pop()};async function NP(t){const{cacao:e,projectId:n}=t,{s:r,p:s}=e,i=L4(s,s.iss),o=i0(s.iss);return await Fce(o,i,r,BC(s.iss),n)}const L4=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=i0(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${rle(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,p=rw(t.resources);if(p){const g=gg(p);s=hle(s,g)}return[n,r,"",s,"",i,o,a,c,l,u,d,h,f].filter(g=>g!=null).join(`
`)};function sle(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function ile(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function eu(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const i=r[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function ole(t,e,n,r={}){return n==null||n.sort((s,i)=>s.localeCompare(i)),{att:{[t]:ale(e,n,r)}}}function ale(t,e,n={}){e=e==null?void 0:e.sort((s,i)=>s.localeCompare(i));const r=e.map(s=>({[`${t}/${s}`]:[n]}));return Object.assign({},...r)}function M4(t){return eu(t),`urn:recap:${sle(t).replace(/=/g,"")}`}function gg(t){const e=ile(t.replace("urn:recap:",""));return eu(e),e}function cle(t,e,n){const r=ole(t,e,n);return M4(r)}function lle(t){return t&&t.includes("urn:recap:")}function ule(t,e){const n=gg(t),r=gg(e),s=dle(n,r);return M4(s)}function dle(t,e){eu(t),eu(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),r={att:{}};return n.forEach(s=>{var i,o;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[s]=tle(ele({},r.att[s]),{[a]:((c=t.att[s])==null?void 0:c[a])||((l=e.att[s])==null?void 0:l[a])})})}),r}function hle(t="",e){eu(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let s=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(s++,`(${s}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const i=r.join(" "),o=`${n}${i}`;return`${t?t+" ":""}${o}`}function PP(t){var e;const n=gg(t);eu(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function kP(t){const e=gg(t);eu(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function rw(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return lle(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function B4(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function FC(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function B1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Wr(t,...e){if(!B4(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function OP(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function fle(t,e){Wr(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function wc(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ih(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function ple(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const gle=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function mle(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function zC(t){if(typeof t=="string")t=mle(t);else if(B4(t))t=WC(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function yle(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function wle(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const vle=(t,e)=>{function n(r,...s){if(Wr(r),!gle)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?Wr(l):Wr(l,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&Wr(s[1]);const o=e(r,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Wr(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Wr(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(Wr(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function RP(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!_le(e))throw new Error("invalid output, must be aligned");return e}function $P(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function ble(t,e,n){FC(n);const r=new Uint8Array(16),s=ple(r);return $P(s,0,BigInt(e),n),$P(s,8,BigInt(t),n),r}function _le(t){return t.byteOffset%4===0}function WC(t){return Uint8Array.from(t)}const F4=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Ele=F4("expand 16-byte k"),Cle=F4("expand 32-byte k"),xle=wc(Ele),Sle=wc(Cle);function ot(t,e){return t<<e|t>>>32-e}function qC(t){return t.byteOffset%4===0}const gy=64,Ale=16,z4=2**32-1,DP=new Uint32Array;function Ile(t,e,n,r,s,i,o,a){const c=s.length,l=new Uint8Array(gy),u=wc(l),d=qC(s)&&qC(i),h=d?wc(s):DP,f=d?wc(i):DP;for(let p=0;p<c;o++){if(t(e,n,r,u,o,a),o>=z4)throw new Error("arx: counter overflow");const g=Math.min(gy,c-p);if(d&&g===gy){const y=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let w=0,b;w<Ale;w++)b=y+w,f[b]=h[b]^u[w];p+=gy;continue}for(let y=0,w;y<g;y++)w=p+y,i[w]=s[w]^l[y];p+=g}}function Tle(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:o}=yle({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return B1(s),B1(o),FC(i),FC(n),(a,c,l,u,d=0)=>{Wr(a),Wr(c),Wr(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),Wr(u),B1(d),d<0||d>=z4)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let p=a.length,g,y;if(p===32)f.push(g=WC(a)),y=Sle;else if(p===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),y=xle,f.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);qC(c)||f.push(c=WC(c));const w=wc(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,w,wc(c.subarray(0,16)),w),c=c.subarray(16)}const b=16-s;if(b!==c.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const E=new Uint8Array(12);E.set(c,i?0:12-c.length),c=E,f.push(c)}const v=wc(c);return Ile(t,y,w,v,l,u,d,o),ih(...f),u}}const jn=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class Nle{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=zC(e),Wr(e,32);const n=jn(e,0),r=jn(e,2),s=jn(e,4),i=jn(e,6),o=jn(e,8),a=jn(e,10),c=jn(e,12),l=jn(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=jn(e,16+2*u)}process(e,n,r=!1){const s=r?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],p=o[7],g=o[8],y=o[9],w=jn(e,n+0),b=jn(e,n+2),v=jn(e,n+4),E=jn(e,n+6),_=jn(e,n+8),x=jn(e,n+10),S=jn(e,n+12),T=jn(e,n+14);let C=i[0]+(w&8191),O=i[1]+((w>>>13|b<<3)&8191),R=i[2]+((b>>>10|v<<6)&8191),B=i[3]+((v>>>7|E<<9)&8191),z=i[4]+((E>>>4|_<<12)&8191),M=i[5]+(_>>>1&8191),I=i[6]+((_>>>14|x<<2)&8191),A=i[7]+((x>>>11|S<<5)&8191),j=i[8]+((S>>>8|T<<8)&8191),P=i[9]+(T>>>5|s),k=0,U=k+C*a+O*(5*y)+R*(5*g)+B*(5*p)+z*(5*f);k=U>>>13,U&=8191,U+=M*(5*h)+I*(5*d)+A*(5*u)+j*(5*l)+P*(5*c),k+=U>>>13,U&=8191;let F=k+C*c+O*a+R*(5*y)+B*(5*g)+z*(5*p);k=F>>>13,F&=8191,F+=M*(5*f)+I*(5*h)+A*(5*d)+j*(5*u)+P*(5*l),k+=F>>>13,F&=8191;let V=k+C*l+O*c+R*a+B*(5*y)+z*(5*g);k=V>>>13,V&=8191,V+=M*(5*p)+I*(5*f)+A*(5*h)+j*(5*d)+P*(5*u),k+=V>>>13,V&=8191;let J=k+C*u+O*l+R*c+B*a+z*(5*y);k=J>>>13,J&=8191,J+=M*(5*g)+I*(5*p)+A*(5*f)+j*(5*h)+P*(5*d),k+=J>>>13,J&=8191;let K=k+C*d+O*u+R*l+B*c+z*a;k=K>>>13,K&=8191,K+=M*(5*y)+I*(5*g)+A*(5*p)+j*(5*f)+P*(5*h),k+=K>>>13,K&=8191;let Z=k+C*h+O*d+R*u+B*l+z*c;k=Z>>>13,Z&=8191,Z+=M*a+I*(5*y)+A*(5*g)+j*(5*p)+P*(5*f),k+=Z>>>13,Z&=8191;let se=k+C*f+O*h+R*d+B*u+z*l;k=se>>>13,se&=8191,se+=M*c+I*a+A*(5*y)+j*(5*g)+P*(5*p),k+=se>>>13,se&=8191;let Ie=k+C*p+O*f+R*h+B*d+z*u;k=Ie>>>13,Ie&=8191,Ie+=M*l+I*c+A*a+j*(5*y)+P*(5*g),k+=Ie>>>13,Ie&=8191;let je=k+C*g+O*p+R*f+B*h+z*d;k=je>>>13,je&=8191,je+=M*u+I*l+A*c+j*a+P*(5*y),k+=je>>>13,je&=8191;let Re=k+C*y+O*g+R*p+B*f+z*h;k=Re>>>13,Re&=8191,Re+=M*d+I*u+A*l+j*c+P*a,k+=Re>>>13,Re&=8191,k=(k<<2)+k|0,k=k+U|0,U=k&8191,k=k>>>13,F+=k,i[0]=U,i[1]=F,i[2]=V,i[3]=J,i[4]=K,i[5]=Z,i[6]=se,i[7]=Ie,i[8]=je,i[9]=Re}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=s,s=e[a]>>>13,e[a]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+s,s=r[a]>>>13,r[a]&=8191;r[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)r[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;ih(r)}update(e){OP(this),e=zC(e),Wr(e);const{buffer:n,blockLen:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o===r){for(;r<=s-i;i+=r)this.process(e,i);continue}n.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){ih(this.h,this.r,this.buffer,this.pad)}digestInto(e){OP(this),fle(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=r[o]>>>0,e[i++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function Ple(t){const e=(r,s)=>t(s).update(zC(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const kle=Ple(t=>new Nle(t));function Ole(t,e,n,r,s,i=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],p=e[4],g=e[5],y=e[6],w=e[7],b=s,v=n[0],E=n[1],_=n[2],x=o,S=a,T=c,C=l,O=u,R=d,B=h,z=f,M=p,I=g,A=y,j=w,P=b,k=v,U=E,F=_;for(let J=0;J<i;J+=2)x=x+O|0,P=ot(P^x,16),M=M+P|0,O=ot(O^M,12),x=x+O|0,P=ot(P^x,8),M=M+P|0,O=ot(O^M,7),S=S+R|0,k=ot(k^S,16),I=I+k|0,R=ot(R^I,12),S=S+R|0,k=ot(k^S,8),I=I+k|0,R=ot(R^I,7),T=T+B|0,U=ot(U^T,16),A=A+U|0,B=ot(B^A,12),T=T+B|0,U=ot(U^T,8),A=A+U|0,B=ot(B^A,7),C=C+z|0,F=ot(F^C,16),j=j+F|0,z=ot(z^j,12),C=C+z|0,F=ot(F^C,8),j=j+F|0,z=ot(z^j,7),x=x+R|0,F=ot(F^x,16),A=A+F|0,R=ot(R^A,12),x=x+R|0,F=ot(F^x,8),A=A+F|0,R=ot(R^A,7),S=S+B|0,P=ot(P^S,16),j=j+P|0,B=ot(B^j,12),S=S+B|0,P=ot(P^S,8),j=j+P|0,B=ot(B^j,7),T=T+z|0,k=ot(k^T,16),M=M+k|0,z=ot(z^M,12),T=T+z|0,k=ot(k^T,8),M=M+k|0,z=ot(z^M,7),C=C+O|0,U=ot(U^C,16),I=I+U|0,O=ot(O^I,12),C=C+O|0,U=ot(U^C,8),I=I+U|0,O=ot(O^I,7);let V=0;r[V++]=o+x|0,r[V++]=a+S|0,r[V++]=c+T|0,r[V++]=l+C|0,r[V++]=u+O|0,r[V++]=d+R|0,r[V++]=h+B|0,r[V++]=f+z|0,r[V++]=p+M|0,r[V++]=g+I|0,r[V++]=y+A|0,r[V++]=w+j|0,r[V++]=b+P|0,r[V++]=v+k|0,r[V++]=E+U|0,r[V++]=_+F|0}const Rle=Tle(Ole,{counterRight:!1,counterLength:4,allowShortKeys:!1}),$le=new Uint8Array(16),jP=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update($le.subarray(n))},Dle=new Uint8Array(32);function UP(t,e,n,r,s){const i=t(e,n,Dle),o=kle.create(i);s&&jP(o,s),jP(o,r);const a=ble(r.length,s?s.length:0,!0);o.update(a);const c=o.digest();return ih(i,a),c}const jle=t=>(e,n,r)=>({encrypt(s,i){const o=s.length;i=RP(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);t(e,n,a,a,1);const c=UP(t,e,n,a,r);return i.set(c,o),ih(c),i},decrypt(s,i){i=RP(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=UP(t,e,n,o,r);if(!wle(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,n,i,i,1),ih(c),i}}),W4=vle({blockSize:64,nonceLength:12,tagLength:16},jle(Rle));let q4=class extends Cv{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,qA(e);const r=yi(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),zs(i)}update(e){return Pc(this),this.iHash.update(e),this}digestInto(e){Pc(this),Fs(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Sv=(t,e,n)=>new q4(t,e).update(n).digest();Sv.create=(t,e)=>new q4(t,e);function Ule(t,e,n){return qA(t),n===void 0&&(n=new Uint8Array(t.outputLen)),Sv(t,yi(n),yi(e))}const F1=Uint8Array.from([0]),LP=Uint8Array.of();function Lle(t,e,n,r=32){qA(t),Go(r);const s=t.outputLen;if(r>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/s);n===void 0&&(n=LP);const o=new Uint8Array(i*s),a=Sv.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<i;u++)F1[0]=u+1,c.update(u===0?LP:l).update(n).update(F1).digestInto(l),o.set(l,s*u),a._cloneInto(c);return a.destroy(),c.destroy(),zs(l,F1),o.slice(0,r)}const Mle=(t,e,n,r,s)=>Lle(t,Ule(t,e,n),r,s),Av=xv,YA=BigInt(0),HC=BigInt(1);function o0(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function my(t){const e=t.toString(16);return e.length&1?"0"+e:e}function H4(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?YA:BigInt("0x"+t)}function Iv(t){return H4(pg(t))}function a0(t){return Fs(t),H4(pg(Uint8Array.from(t).reverse()))}function JA(t,e){return VA(t.toString(16).padStart(e*2,"0"))}function QA(t,e){return JA(t,e).reverse()}function zr(t,e,n){let r;if(typeof e=="string")try{r=VA(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(WA(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}const z1=t=>typeof t=="bigint"&&YA<=t;function Ble(t,e,n){return z1(t)&&z1(e)&&z1(n)&&e<=t&&t<n}function VC(t,e,n,r){if(!Ble(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Fle(t){let e;for(e=0;t>YA;t>>=HC,e+=1);return e}const Tv=t=>(HC<<BigInt(t))-HC;function zle(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),s=h=>Uint8Array.of(h);let i=r(t),o=r(t),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},l=(...h)=>n(o,i,...h),u=(h=r(0))=>{o=l(s(0),h),i=l(),h.length!==0&&(o=l(s(1),h),i=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){i=l();const p=i.slice();f.push(p),h+=i.length}return ml(...f)};return(h,f)=>{c(),u(h);let p;for(;!(p=f(d()));)u();return c(),p}}function Nv(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,o){const a=t[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function MP(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const Gr=BigInt(0),br=BigInt(1),yl=BigInt(2),Wle=BigInt(3),V4=BigInt(4),G4=BigInt(5),K4=BigInt(8);function Rs(t,e){const n=t%e;return n>=Gr?n:e+n}function Xs(t,e,n){let r=t;for(;e-- >Gr;)r*=r,r%=n;return r}function BP(t,e){if(t===Gr)throw new Error("invert: expected non-zero number");if(e<=Gr)throw new Error("invert: expected positive modulus, got "+e);let n=Rs(t,e),r=e,s=Gr,i=br;for(;n!==Gr;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==br)throw new Error("invert: does not exist");return Rs(s,e)}function Y4(t,e){const n=(t.ORDER+br)/V4,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function qle(t,e){const n=(t.ORDER-G4)/K4,r=t.mul(e,yl),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,yl),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function Hle(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-br,n=0;for(;e%yl===Gr;)e/=yl,n++;let r=yl;const s=kh(t);for(;FP(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Y4;let i=s.pow(r,e);const o=(e+br)/yl;return function(a,c){if(a.is0(c))return c;if(FP(a,c)!==1)throw new Error("Cannot find square root");let l=n,u=a.mul(a.ONE,i),d=a.pow(c,e),h=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let f=1,p=a.sqr(d);for(;!a.eql(p,a.ONE);)if(f++,p=a.sqr(p),f===l)throw new Error("Cannot find square root");const g=br<<BigInt(l-f-1),y=a.pow(u,g);l=f,u=a.sqr(y),d=a.mul(d,u),h=a.mul(h,y)}return h}}function Vle(t){return t%V4===Wle?Y4:t%K4===G4?qle:Hle(t)}const Gle=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Kle(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Gle.reduce((r,s)=>(r[s]="function",r),e);return Nv(t,n),t}function Yle(t,e,n){if(n<Gr)throw new Error("invalid exponent, negatives unsupported");if(n===Gr)return t.ONE;if(n===br)return e;let r=t.ONE,s=e;for(;n>Gr;)n&br&&(r=t.mul(r,s)),s=t.sqr(s),n>>=br;return r}function J4(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),i),r}function FP(t,e){const n=(t.ORDER-br)/yl,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function Jle(t,e){e!==void 0&&Go(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function kh(t,e,n=!1,r={}){if(t<=Gr)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(s=u.BITS),u.sqrt&&(i=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(s=e),r.sqrt&&(i=r.sqrt);const{nBitLength:o,nByteLength:a}=Jle(t,s);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:a,MASK:Tv(o),ZERO:Gr,ONE:br,create:u=>Rs(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Gr<=u&&u<t},is0:u=>u===Gr,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&br)===br,neg:u=>Rs(-u,t),eql:(u,d)=>u===d,sqr:u=>Rs(u*u,t),add:(u,d)=>Rs(u+d,t),sub:(u,d)=>Rs(u-d,t),mul:(u,d)=>Rs(u*d,t),pow:(u,d)=>Yle(l,u,d),div:(u,d)=>Rs(u*BP(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>BP(u,t),sqrt:i||(u=>(c||(c=Vle(t)),c(l,u))),toBytes:u=>n?QA(u,a):JA(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?a0(u):Iv(u)},invertBatch:u=>J4(l,u),cmov:(u,d,h)=>h?d:u});return Object.freeze(l)}function Q4(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Z4(t){const e=Q4(t);return e+Math.ceil(e/2)}function Qle(t,e,n=!1){const r=t.length,s=Q4(e),i=Z4(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?a0(t):Iv(t),a=Rs(o,e-br)+br;return n?QA(a,s):JA(a,s)}const oh=BigInt(0),wl=BigInt(1);function tp(t,e){const n=e.negate();return t?n:e}function Zle(t,e,n){const r=i=>i.pz,s=J4(t.Fp,n.map(r));return n.map((i,o)=>i.toAffine(s[o])).map(t.fromAffine)}function X4(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function W1(t,e){X4(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=Tv(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function zP(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),c=t>>o;a>r&&(a-=i,c+=wl);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function Xle(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function eue(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const q1=new WeakMap,ej=new WeakMap;function H1(t){return ej.get(t)||1}function WP(t){if(t!==oh)throw new Error("invalid wNAF")}function tue(t,e){return{constTimeNegate:tp,hasPrecomputes(n){return H1(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>oh;)r&wl&&(s=s.add(i)),i=i.double(),r>>=wl;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=W1(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=W1(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:p}=zP(s,c,a);s=l,d?o=o.add(tp(f,r[p])):i=i.add(tp(h,r[u]))}return WP(s),{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=W1(n,e);for(let a=0;a<o.windows&&s!==oh;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=zP(s,a,o);if(s=c,!u){const h=r[l];i=i.add(d?h.negate():h)}}return WP(s),i},getPrecomputes(n,r,s){let i=q1.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(i=s(i)),q1.set(r,i))),i},wNAFCached(n,r,s){const i=H1(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=H1(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){X4(r,e),ej.set(n,r),q1.delete(n)}}}function nue(t,e,n,r){let s=e,i=t.ZERO,o=t.ZERO;for(;n>oh||r>oh;)n&wl&&(i=i.add(s)),r&wl&&(o=o.add(s)),s=s.double(),n>>=wl,r>>=wl;return{p1:i,p2:o}}function rue(t,e,n,r){Xle(n,t),eue(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=Fle(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=Tv(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let g=0;g<i;g++){const y=r[g],w=Number(y>>BigInt(f)&l);u[w]=u[w].add(n[g])}let p=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),p=p.add(y);if(h=h.add(p),f!==0)for(let g=0;g<c;g++)h=h.double()}return h}function qP(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Kle(e),e}else return kh(t)}function sue(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>oh))throw new Error(`CURVE.${o} must be positive bigint`)}const r=qP(e.p,n.Fp),s=qP(e.n,n.Fn),i=["Gx","Gy","a","b"];for(const o of i)if(!r.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const df=BigInt(0),Ru=BigInt(1),yy=BigInt(2);function iue(t){return Nv(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function oue(t){const e=iue(t),{P:n,type:r,adjustScalarBytes:s,powPminus2:i,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||Ph,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),h=BigInt(a?121665:39081),f=a?yy**BigInt(254):yy**BigInt(447),p=a?BigInt(8)*yy**BigInt(251)-Ru:BigInt(4)*yy**BigInt(445)-Ru,g=f+p+Ru,y=C=>Rs(C,n),w=b(d);function b(C){return QA(y(C),u)}function v(C){const O=zr("u coordinate",C,u);return a&&(O[31]&=127),y(a0(O))}function E(C){return a0(s(zr("scalar",C,u)))}function _(C,O){const R=T(v(O),E(C));if(R===df)throw new Error("invalid private or public key received");return b(R)}function x(C){return _(C,w)}function S(C,O,R){const B=y(C*(O-R));return O=y(O-B),R=y(R+B),{x_2:O,x_3:R}}function T(C,O){VC("u",C,df,n),VC("scalar",O,f,g);const R=O,B=C;let z=Ru,M=df,I=C,A=Ru,j=df;for(let k=BigInt(l-1);k>=df;k--){const U=R>>k&Ru;j^=U,{x_2:z,x_3:I}=S(j,z,I),{x_2:M,x_3:A}=S(j,M,A),j=U;const F=z+M,V=y(F*F),J=z-M,K=y(J*J),Z=V-K,se=I+A,Ie=I-A,je=y(Ie*F),Re=y(se*J),Ge=je+Re,Lt=je-Re;I=y(Ge*Ge),A=y(B*y(Lt*Lt)),z=y(V*K),M=y(Z*(V+y(h*Z)))}({x_2:z,x_3:I}=S(j,z,I)),{x_2:M,x_3:A}=S(j,M,A);const P=i(M);return y(z*P)}return{scalarMult:_,scalarMultBase:x,getSharedSecret:(C,O)=>_(C,O),getPublicKey:C=>x(C),utils:{randomPrivateKey:()=>c(u)},GuBytes:w.slice()}}BigInt(0);const aue=BigInt(1),HP=BigInt(2),cue=BigInt(3),lue=BigInt(5);BigInt(8);const tj={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function uue(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=tj.p,o=t*t%i*t%i,a=Xs(o,HP,i)*o%i,c=Xs(a,aue,i)*t%i,l=Xs(c,lue,i)*c%i,u=Xs(l,e,i)*l%i,d=Xs(u,n,i)*u%i,h=Xs(d,r,i)*d%i,f=Xs(h,s,i)*h%i,p=Xs(f,s,i)*h%i,g=Xs(p,e,i)*l%i;return{pow_p_5_8:Xs(g,HP,i)*t%i,b2:o}}function due(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const GC=(()=>{const t=tj.p;return oue({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=uue(e);return Rs(Xs(n,cue,t)*r,t)},adjustScalarBytes:due})})();function VP(t){t.lowS!==void 0&&o0("lowS",t.lowS),t.prehash!==void 0&&o0("prehash",t.prehash)}class hue extends Error{constructor(e=""){super(e)}}const So={Err:hue,_tlv:{encode:(t,e)=>{const{Err:n}=So;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=my(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?my(s.length/2|128):"";return my(t)+i+s+e},decode(t,e){const{Err:n}=So;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=So;if(t<np)throw new e("integer: negative integers are not allowed");let n=my(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=So;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Iv(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=So,s=zr("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=So,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},np=BigInt(0),rp=BigInt(1),fue=BigInt(2),wy=BigInt(3),pue=BigInt(4);function gue(t,e,n){function r(s){const i=t.sqr(s),o=t.mul(i,s);return t.add(t.add(o,t.mul(s,e)),n)}return r}function nj(t,e,n){const{BYTES:r}=t;function s(i){let o;if(typeof i=="bigint")o=i;else{let a=zr("private key",i);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(a,c.length-a.length),a=c}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof i}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return s}function mue(t,e={}){const{Fp:n,Fn:r}=sue("weierstrass",t,e),{h:s,n:i}=t;Nv(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(T,C,O){const{x:R,y:B}=C.toAffine(),z=n.toBytes(R);if(o0("isCompressed",O),O){a();const M=!n.isOdd(B);return ml(rj(M),z)}else return ml(Uint8Array.of(4),z,n.toBytes(B))}function l(T){Fs(T);const C=n.BYTES,O=C+1,R=2*C+1,B=T.length,z=T[0],M=T.subarray(1);if(B===O&&(z===2||z===3)){const I=n.fromBytes(M);if(!n.isValid(I))throw new Error("bad point: is not on curve, wrong x");const A=h(I);let j;try{j=n.sqrt(A)}catch(k){const U=k instanceof Error?": "+k.message:"";throw new Error("bad point: is not on curve, sqrt error"+U)}a();const P=n.isOdd(j);return(z&1)===1!==P&&(j=n.neg(j)),{x:I,y:j}}else if(B===R&&z===4){const I=n.fromBytes(M.subarray(C*0,C*1)),A=n.fromBytes(M.subarray(C*1,C*2));if(!f(I,A))throw new Error("bad point: is not on curve");return{x:I,y:A}}else throw new Error(`bad point: got length ${B}, expected compressed=${O} or uncompressed=${R}`)}const u=e.toBytes||c,d=e.fromBytes||l,h=gue(n,t.a,t.b);function f(T,C){const O=n.sqr(C),R=h(T);return n.eql(O,R)}if(!f(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const p=n.mul(n.pow(t.a,wy),pue),g=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(p,g)))throw new Error("bad curve params: a or b");function y(T,C,O=!1){if(!n.isValid(C)||O&&n.is0(C))throw new Error(`bad point coordinate ${T}`);return C}function w(T){if(!(T instanceof _))throw new Error("ProjectivePoint expected")}const b=MP((T,C)=>{const{px:O,py:R,pz:B}=T;if(n.eql(B,n.ONE))return{x:O,y:R};const z=T.is0();C==null&&(C=z?n.ONE:n.inv(B));const M=n.mul(O,C),I=n.mul(R,C),A=n.mul(B,C);if(z)return{x:n.ZERO,y:n.ZERO};if(!n.eql(A,n.ONE))throw new Error("invZ was invalid");return{x:M,y:I}}),v=MP(T=>{if(T.is0()){if(e.allowInfinityPoint&&!n.is0(T.py))return;throw new Error("bad point: ZERO")}const{x:C,y:O}=T.toAffine();if(!n.isValid(C)||!n.isValid(O))throw new Error("bad point: x or y not field elements");if(!f(C,O))throw new Error("bad point: equation left != right");if(!T.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function E(T,C,O,R,B){return O=new _(n.mul(O.px,T),O.py,O.pz),C=tp(R,C),O=tp(B,O),C.add(O)}class _{constructor(C,O,R){this.px=y("x",C),this.py=y("y",O,!0),this.pz=y("z",R),Object.freeze(this)}static fromAffine(C){const{x:O,y:R}=C||{};if(!C||!n.isValid(O)||!n.isValid(R))throw new Error("invalid affine point");if(C instanceof _)throw new Error("projective point not allowed");return n.is0(O)&&n.is0(R)?_.ZERO:new _(O,R,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){return Zle(_,"pz",C)}static fromBytes(C){return Fs(C),_.fromHex(C)}static fromHex(C){const O=_.fromAffine(d(zr("pointHex",C)));return O.assertValidity(),O}static fromPrivateKey(C){const O=nj(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return _.BASE.multiply(O(C))}static msm(C,O){return rue(_,r,C,O)}precompute(C=8,O=!0){return S.setWindowSize(this,C),O||this.multiply(wy),this}_setWindowSize(C){this.precompute(C)}assertValidity(){v(this)}hasEvenY(){const{y:C}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(C)}equals(C){w(C);const{px:O,py:R,pz:B}=this,{px:z,py:M,pz:I}=C,A=n.eql(n.mul(O,I),n.mul(z,B)),j=n.eql(n.mul(R,I),n.mul(M,B));return A&&j}negate(){return new _(this.px,n.neg(this.py),this.pz)}double(){const{a:C,b:O}=t,R=n.mul(O,wy),{px:B,py:z,pz:M}=this;let I=n.ZERO,A=n.ZERO,j=n.ZERO,P=n.mul(B,B),k=n.mul(z,z),U=n.mul(M,M),F=n.mul(B,z);return F=n.add(F,F),j=n.mul(B,M),j=n.add(j,j),I=n.mul(C,j),A=n.mul(R,U),A=n.add(I,A),I=n.sub(k,A),A=n.add(k,A),A=n.mul(I,A),I=n.mul(F,I),j=n.mul(R,j),U=n.mul(C,U),F=n.sub(P,U),F=n.mul(C,F),F=n.add(F,j),j=n.add(P,P),P=n.add(j,P),P=n.add(P,U),P=n.mul(P,F),A=n.add(A,P),U=n.mul(z,M),U=n.add(U,U),P=n.mul(U,F),I=n.sub(I,P),j=n.mul(U,k),j=n.add(j,j),j=n.add(j,j),new _(I,A,j)}add(C){w(C);const{px:O,py:R,pz:B}=this,{px:z,py:M,pz:I}=C;let A=n.ZERO,j=n.ZERO,P=n.ZERO;const k=t.a,U=n.mul(t.b,wy);let F=n.mul(O,z),V=n.mul(R,M),J=n.mul(B,I),K=n.add(O,R),Z=n.add(z,M);K=n.mul(K,Z),Z=n.add(F,V),K=n.sub(K,Z),Z=n.add(O,B);let se=n.add(z,I);return Z=n.mul(Z,se),se=n.add(F,J),Z=n.sub(Z,se),se=n.add(R,B),A=n.add(M,I),se=n.mul(se,A),A=n.add(V,J),se=n.sub(se,A),P=n.mul(k,Z),A=n.mul(U,J),P=n.add(A,P),A=n.sub(V,P),P=n.add(V,P),j=n.mul(A,P),V=n.add(F,F),V=n.add(V,F),J=n.mul(k,J),Z=n.mul(U,Z),V=n.add(V,J),J=n.sub(F,J),J=n.mul(k,J),Z=n.add(Z,J),F=n.mul(V,Z),j=n.add(j,F),F=n.mul(se,Z),A=n.mul(K,A),A=n.sub(A,F),F=n.mul(K,V),P=n.mul(se,P),P=n.add(P,F),new _(A,j,P)}subtract(C){return this.add(C.negate())}is0(){return this.equals(_.ZERO)}multiply(C){const{endo:O}=e;if(!r.isValidNot0(C))throw new Error("invalid scalar: out of range");let R,B;const z=M=>S.wNAFCached(this,M,_.normalizeZ);if(O){const{k1neg:M,k1:I,k2neg:A,k2:j}=O.splitScalar(C),{p:P,f:k}=z(I),{p:U,f:F}=z(j);B=k.add(F),R=E(O.beta,P,U,M,A)}else{const{p:M,f:I}=z(C);R=M,B=I}return _.normalizeZ([R,B])[0]}multiplyUnsafe(C){const{endo:O}=e,R=this;if(!r.isValid(C))throw new Error("invalid scalar: out of range");if(C===np||R.is0())return _.ZERO;if(C===rp)return R;if(S.hasPrecomputes(this))return this.multiply(C);if(O){const{k1neg:B,k1:z,k2neg:M,k2:I}=O.splitScalar(C),{p1:A,p2:j}=nue(_,R,z,I);return E(O.beta,A,j,B,M)}else return S.wNAFCachedUnsafe(R,C)}multiplyAndAddUnsafe(C,O,R){const B=this.multiplyUnsafe(O).add(C.multiplyUnsafe(R));return B.is0()?void 0:B}toAffine(C){return b(this,C)}isTorsionFree(){const{isTorsionFree:C}=e;return s===rp?!0:C?C(_,this):S.wNAFCachedUnsafe(this,i).is0()}clearCofactor(){const{clearCofactor:C}=e;return s===rp?this:C?C(_,this):this.multiplyUnsafe(s)}toBytes(C=!0){return o0("isCompressed",C),this.assertValidity(),u(_,this,C)}toRawBytes(C=!0){return this.toBytes(C)}toHex(C=!0){return pg(this.toBytes(C))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}_.BASE=new _(t.Gx,t.Gy,n.ONE),_.ZERO=new _(n.ZERO,n.ONE,n.ZERO),_.Fp=n,_.Fn=r;const x=r.BITS,S=tue(_,e.endo?Math.ceil(x/2):x);return _}function rj(t){return Uint8Array.of(t?2:3)}function yue(t,e,n={}){Nv(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||Ph,s=e.hmac||((R,...B)=>Sv(e.hash,R,ml(...B))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:c}=o;function l(R){const B=a>>rp;return R>B}function u(R){return l(R)?o.neg(R):R}function d(R,B){if(!o.isValidNot0(B))throw new Error(`invalid signature ${R}: out of range 1..CURVE.n`)}class h{constructor(B,z,M){d("r",B),d("s",z),this.r=B,this.s=z,M!=null&&(this.recovery=M),Object.freeze(this)}static fromCompact(B){const z=o.BYTES,M=zr("compactSignature",B,z*2);return new h(o.fromBytes(M.subarray(0,z)),o.fromBytes(M.subarray(z,z*2)))}static fromDER(B){const{r:z,s:M}=So.toSig(zr("DER",B));return new h(z,M)}assertValidity(){}addRecoveryBit(B){return new h(this.r,this.s,B)}recoverPublicKey(B){const z=i.ORDER,{r:M,s:I,recovery:A}=this;if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");if(a*fue<z&&A>1)throw new Error("recovery id is ambiguous for h>1 curve");const j=A===2||A===3?M+a:M;if(!i.isValid(j))throw new Error("recovery id 2 or 3 invalid");const P=i.toBytes(j),k=t.fromHex(ml(rj((A&1)===0),P)),U=o.inv(j),F=v(zr("msgHash",B)),V=o.create(-F*U),J=o.create(I*U),K=t.BASE.multiplyUnsafe(V).add(k.multiplyUnsafe(J));if(K.is0())throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,o.neg(this.s),this.recovery):this}toBytes(B){if(B==="compact")return ml(o.toBytes(this.r),o.toBytes(this.s));if(B==="der")return VA(So.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return pg(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return pg(this.toBytes("compact"))}}const f=nj(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),p={isValidPrivateKey(R){try{return f(R),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const R=a;return Qle(r(Z4(R)),R)},precompute(R=8,B=t.BASE){return B.precompute(R,!1)}};function g(R,B=!0){return t.fromPrivateKey(R).toBytes(B)}function y(R){if(typeof R=="bigint")return!1;if(R instanceof t)return!0;const B=zr("key",R).length,z=i.BYTES,M=z+1,I=2*z+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===M))return B===M||B===I}function w(R,B,z=!0){if(y(R)===!0)throw new Error("first arg must be private key");if(y(B)===!1)throw new Error("second arg must be public key");return t.fromHex(B).multiply(f(R)).toBytes(z)}const b=e.bits2int||function(R){if(R.length>8192)throw new Error("input is too large");const B=Iv(R),z=R.length*8-c;return z>0?B>>BigInt(z):B},v=e.bits2int_modN||function(R){return o.create(b(R))},E=Tv(c);function _(R){return VC("num < 2^"+c,R,np,E),o.toBytes(R)}function x(R,B,z=S){if(["recovered","canonical"].some(K=>K in z))throw new Error("sign() legacy options not supported");const{hash:M}=e;let{lowS:I,prehash:A,extraEntropy:j}=z;I==null&&(I=!0),R=zr("msgHash",R),VP(z),A&&(R=zr("prehashed msgHash",M(R)));const P=v(R),k=f(B),U=[_(k),_(P)];if(j!=null&&j!==!1){const K=j===!0?r(i.BYTES):j;U.push(zr("extraEntropy",K))}const F=ml(...U),V=P;function J(K){const Z=b(K);if(!o.isValidNot0(Z))return;const se=o.inv(Z),Ie=t.BASE.multiply(Z).toAffine(),je=o.create(Ie.x);if(je===np)return;const Re=o.create(se*o.create(V+je*k));if(Re===np)return;let Ge=(Ie.x===je?0:2)|Number(Ie.y&rp),Lt=Re;return I&&l(Re)&&(Lt=u(Re),Ge^=1),new h(je,Lt,Ge)}return{seed:F,k2sig:J}}const S={lowS:e.lowS,prehash:!1},T={lowS:e.lowS,prehash:!1};function C(R,B,z=S){const{seed:M,k2sig:I}=x(R,B,z);return zle(e.hash.outputLen,o.BYTES,s)(M,I)}t.BASE.precompute(8);function O(R,B,z,M=T){const I=R;B=zr("msgHash",B),z=zr("publicKey",z),VP(M);const{lowS:A,prehash:j,format:P}=M;if("strict"in M)throw new Error("options.strict was renamed to lowS");if(P!==void 0&&!["compact","der","js"].includes(P))throw new Error('format must be "compact", "der" or "js"');const k=typeof I=="string"||WA(I),U=!k&&!P&&typeof I=="object"&&I!==null&&typeof I.r=="bigint"&&typeof I.s=="bigint";if(!k&&!U)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let F,V;try{if(U)if(P===void 0||P==="js")F=new h(I.r,I.s);else throw new Error("invalid format");if(k){try{P!=="compact"&&(F=h.fromDER(I))}catch(Ge){if(!(Ge instanceof So.Err))throw Ge}!F&&P!=="der"&&(F=h.fromCompact(I))}V=t.fromHex(z)}catch{return!1}if(!F||A&&F.hasHighS())return!1;j&&(B=e.hash(B));const{r:J,s:K}=F,Z=v(B),se=o.inv(K),Ie=o.create(Z*se),je=o.create(J*se),Re=t.BASE.multiplyUnsafe(Ie).add(V.multiplyUnsafe(je));return Re.is0()?!1:o.create(Re.x)===J}return Object.freeze({getPublicKey:g,getSharedSecret:w,sign:C,verify:O,utils:p,Point:t,Signature:h})}function wue(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=kh(e.n,t.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function vue(t){const{CURVE:e,curveOpts:n}=wue(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function bue(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function _ue(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=vue(t),s=mue(e,n),i=yue(s,r,n);return bue(t,i)}function KC(t,e){const n=r=>_ue({...t,hash:r});return{...n(e),create:n}}const sj={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},ij={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},oj={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Eue=kh(sj.p),Cue=kh(ij.p),xue=kh(oj.p),Sue=KC({...sj,Fp:Eue,lowS:!1},xv);KC({...ij,Fp:Cue,lowS:!1},Rce),KC({...oj,Fp:xue,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Oce);const Aue=Sue,aj="base10",_r="base16",fi="base64pad",Ua="base64url",hm="utf8",cj=0,Do=1,fm=2,Iue=0,GP=1,sp=12,ZA=32;function Tue(){const t=GC.utils.randomPrivateKey(),e=GC.getPublicKey(t);return{privateKey:Zr(t,_r),publicKey:Zr(e,_r)}}function YC(){const t=Ph(ZA);return Zr(t,_r)}function Nue(t,e){const n=GC.getSharedSecret(Us(t,_r),Us(e,_r)),r=Mle(Av,n,void 0,void 0,ZA);return Zr(r,_r)}function sw(t){const e=Av(Us(t,_r));return Zr(e,_r)}function Wi(t){const e=Av(Us(t,hm));return Zr(e,_r)}function lj(t){return Us(`${t}`,aj)}function tu(t){return Number(Zr(t,aj))}function uj(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function dj(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function Pue(t){const e=lj(typeof t.type<"u"?t.type:cj);if(tu(e)===Do&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?Us(t.senderPublicKey,_r):void 0,r=typeof t.iv<"u"?Us(t.iv,_r):Ph(sp),s=Us(t.symKey,_r),i=W4(s,r).encrypt(Us(t.message,hm)),o=hj({type:e,sealed:i,iv:r,senderPublicKey:n});return t.encoding===Ua?uj(o):o}function kue(t){const e=Us(t.symKey,_r),{sealed:n,iv:r}=mg({encoded:t.encoded,encoding:t.encoding}),s=W4(e,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return Zr(s,hm)}function Oue(t,e){const n=lj(fm),r=Ph(sp),s=Us(t,hm),i=hj({type:n,sealed:s,iv:r});return e===Ua?uj(i):i}function Rue(t,e){const{sealed:n}=mg({encoded:t,encoding:e});return Zr(n,hm)}function hj(t){if(tu(t.type)===fm)return Zr(ep([t.type,t.sealed]),fi);if(tu(t.type)===Do){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Zr(ep([t.type,t.senderPublicKey,t.iv,t.sealed]),fi)}return Zr(ep([t.type,t.iv,t.sealed]),fi)}function mg(t){const e=(t.encoding||fi)===Ua?dj(t.encoded):t.encoded,n=Us(e,fi),r=n.slice(Iue,GP),s=GP;if(tu(r)===Do){const c=s+ZA,l=c+sp,u=n.slice(s,c),d=n.slice(c,l),h=n.slice(l);return{type:r,sealed:h,iv:d,senderPublicKey:u}}if(tu(r)===fm){const c=n.slice(s),l=Ph(sp);return{type:r,sealed:c,iv:l}}const i=s+sp,o=n.slice(s,i),a=n.slice(i);return{type:r,sealed:a,iv:o}}function $ue(t,e){const n=mg({encoded:t,encoding:e==null?void 0:e.encoding});return fj({type:tu(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Zr(n.senderPublicKey,_r):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function fj(t){const e=(t==null?void 0:t.type)||cj;if(e===Do){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function KP(t){return t.type===Do&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function YP(t){return t.type===fm}function Due(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return ep([new Uint8Array([4]),e,n])}function jue(t,e){const[n,r,s]=t.split("."),i=Buffer.from(dj(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32),a=i.slice(32,64),c=`${n}.${r}`,l=Av(c),u=Due(e);if(!Aue.verify(ep([o,a]),l,u))throw new Error("Invalid signature");return kC(t).payload}const Uue="irn";function c0(t){return(t==null?void 0:t.relay)||{protocol:Uue}}function Df(t){const e=hae[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function Lue(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(r)){const i=s.replace(r,""),o=t[s];n[i]=o}}),n}function JP(t){if(!t.includes("wc:")){const l=x4(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),s=t.substring(e+1,n).split("@"),i=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(i),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:Mue(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:Lue(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Mue(t){return t.startsWith("//")?t.substring(2):t}function Bue(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(s=>{const i=s,o=n+e+i;t[i]&&(r[o]=t[i])}),r}function QP(t){const e=new URLSearchParams,n=Bue(t.relay);Object.keys(n).sort().forEach(s=>{e.set(s,n[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function vy(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var Fue=Object.defineProperty,zue=Object.defineProperties,Wue=Object.getOwnPropertyDescriptors,ZP=Object.getOwnPropertySymbols,que=Object.prototype.hasOwnProperty,Hue=Object.prototype.propertyIsEnumerable,XP=(t,e,n)=>e in t?Fue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vue=(t,e)=>{for(var n in e||(e={}))que.call(e,n)&&XP(t,n,e[n]);if(ZP)for(var n of ZP(e))Hue.call(e,n)&&XP(t,n,e[n]);return t},Gue=(t,e)=>zue(t,Wue(e));function Oh(t){const e=[];return t.forEach(n=>{const[r,s]=n.split(":");e.push(`${r}:${s}`)}),e}function Kue(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Oh(n.accounts))}),e}function Yue(t,e){const n=[];return Object.values(t).forEach(r=>{Oh(r.accounts).includes(e)&&n.push(...r.methods)}),n}function Jue(t,e){const n=[];return Object.values(t).forEach(r=>{Oh(r.accounts).includes(e)&&n.push(...r.events)}),n}function Pv(t){return t.includes(":")}function md(t){return Pv(t)?t.split(":")[0]:t}function ek(t){var e,n,r;const s={};if(!vc(t))return s;for(const[i,o]of Object.entries(t)){const a=Pv(i)?[i]:o.chains,c=o.methods||[],l=o.events||[],u=md(i);s[u]=Gue(Vue({},s[u]),{chains:Zi(a,(e=s[u])==null?void 0:e.chains),methods:Zi(c,(n=s[u])==null?void 0:n.methods),events:Zi(l,(r=s[u])==null?void 0:r.events)})}return s}function Que(t){const e={};return t==null||t.forEach(n=>{var r;const[s,i]=n.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(n),(r=e[s].chains)==null||r.push(`${s}:${i}`)}),e}function tk(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=Que(e);for(const[r,s]of Object.entries(n))s.methods?s.methods=Zi(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return n}function Zue(t,e){var n,r,s,i,o,a;const c=ek(t),l=ek(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:Zi((n=c[h])==null?void 0:n.chains,(r=l[h])==null?void 0:r.chains),methods:Zi((s=c[h])==null?void 0:s.methods,(i=l[h])==null?void 0:i.methods),events:Zi((o=c[h])==null?void 0:o.events,(a=l[h])==null?void 0:a.events)};return u}const Xue={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},ede={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ae(t,e){const{message:n,code:r}=ede[t];return{message:e?`${n} ${e}`:n,code:r}}function Mt(t,e){const{message:n,code:r}=Xue[t];return{message:e?`${n} ${e}`:n,code:r}}function jo(t,e){return!!Array.isArray(t)}function vc(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Fn(t){return typeof t>"u"}function un(t,e){return e&&Fn(t)?!0:typeof t=="string"&&!!t.trim().length}function XA(t,e){return e&&Fn(t)?!0:typeof t=="number"&&!isNaN(t)}function tde(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),s=Object.keys(n);let i=!0;return gl(s,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=Oh(a),d=n[o];(!gl(v4(o,d),u)||!gl(d.methods,c)||!gl(d.events,l))&&(i=!1)}),i):!1}function l0(t){return un(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function nde(t){if(un(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&l0(n)}}return!1}function rde(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(un(t,!1)){if(e(t))return!0;const n=x4(t);return e(n)}}catch{}return!1}function sde(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function ide(t){return t==null?void 0:t.topic}function ode(t,e){let n=null;return un(t==null?void 0:t.publicKey,!1)||(n=ae("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function nk(t){let e=!0;return jo(t)?t.length&&(e=t.every(n=>un(n,!1))):e=!1,e}function ade(t,e,n){let r=null;return jo(e)&&e.length?e.forEach(s=>{r||l0(s)||(r=Mt("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):l0(t)||(r=Mt("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function cde(t,e,n){let r=null;return Object.entries(t).forEach(([s,i])=>{if(r)return;const o=ade(s,v4(s,i),`${e} ${n}`);o&&(r=o)}),r}function lde(t,e){let n=null;return jo(t)?t.forEach(r=>{n||nde(r)||(n=Mt("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Mt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function ude(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=lde(r==null?void 0:r.accounts,`${e} namespace`);s&&(n=s)}),n}function dde(t,e){let n=null;return nk(t==null?void 0:t.methods)?nk(t==null?void 0:t.events)||(n=Mt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Mt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function pj(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=dde(r,`${e}, namespace`);s&&(n=s)}),n}function hde(t,e,n){let r=null;if(t&&vc(t)){const s=pj(t,e);s&&(r=s);const i=cde(t,e,n);i&&(r=i)}else r=ae("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function V1(t,e){let n=null;if(t&&vc(t)){const r=pj(t,e);r&&(n=r);const s=ude(t,e);s&&(n=s)}else n=ae("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function gj(t){return un(t.protocol,!0)}function fde(t,e){let n=!1;return t?t&&jo(t)&&t.length&&t.forEach(r=>{n=gj(r)}):n=!0,n}function pde(t){return typeof t=="number"}function Ur(t){return typeof t<"u"&&typeof t!==null}function gde(t){return!(!t||typeof t!="object"||!t.code||!XA(t.code,!1)||!t.message||!un(t.message,!1))}function mde(t){return!(Fn(t)||!un(t.method,!1))}function yde(t){return!(Fn(t)||Fn(t.result)&&Fn(t.error)||!XA(t.id,!1)||!un(t.jsonrpc,!1))}function wde(t){return!(Fn(t)||!un(t.name,!1))}function rk(t,e){return!(!l0(e)||!Kue(t).includes(e))}function vde(t,e,n){return un(n,!1)?Yue(t,e).includes(n):!1}function bde(t,e,n){return un(n,!1)?Jue(t,e).includes(n):!1}function sk(t,e,n){let r=null;const s=_de(t),i=Ede(e),o=Object.keys(s),a=Object.keys(i),c=ik(Object.keys(t)),l=ik(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=ae("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),gl(o,a)||(r=ae("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const h=Oh(e[d].accounts);h.includes(d)||(r=ae("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{r||(gl(s[d].methods,i[d].methods)?gl(s[d].events,i[d].events)||(r=ae("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=ae("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function _de(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(s=>{e[s]={methods:t[n].methods,events:t[n].events}})}),e}function ik(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Ede(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=Oh(t[n].accounts);r==null||r.forEach(s=>{e[s]={accounts:t[n].accounts.filter(i=>i.includes(`${s}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function Cde(t,e){return XA(t,!1)&&t<=e.max&&t>=e.min}function ok(){const t=um();return new Promise(e=>{switch(t){case ds.browser:e(xde());break;case ds.reactNative:e(Sde());break;case ds.node:e(Ade());break;default:e(!0)}})}function xde(){return Nh()&&(navigator==null?void 0:navigator.onLine)}async function Sde(){if(Mc()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function Ade(){return!0}function Ide(t){switch(um()){case ds.browser:Tde(t);break;case ds.reactNative:Nde(t);break}}function Tde(t){!Mc()&&Nh()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function Nde(t){Mc()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function Pde(){var t;return Nh()&&Zl()?((t=Zl())==null?void 0:t.visibilityState)==="visible":!0}const G1={};class hf{static get(e){return G1[e]}static set(e,n){G1[e]=n}static delete(e){delete G1[e]}}function kde(t){const e=Th.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function Ode({publicKey:t,signature:e,payload:n}){var r;const s=JC(n.method),i=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=Dde(n.address),a=n.era==="00"?new Uint8Array([0]):JC(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${$de(n.tip)}`),d=Ude(u),h=new Uint8Array([0,...t,o,...e,...a,...l,...d,...s]),f=jde(h.length+1);return new Uint8Array([...f,i,...h])}function Rde(t){const e=JC(t),n=xae.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function JC(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function $de(t){return t.startsWith("0x")?t.slice(2):t}function Dde(t){const e=Th.decode(t)[0];return e===42?0:e===60?2:1}function jde(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function Ude(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function Lde(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=kde(t.transaction.address),r=Ode({publicKey:n,signature:e,payload:t.transaction}),s=Buffer.from(r).toString("hex");return Rde(s)}const Mde="PARSE_ERROR",Bde="INVALID_REQUEST",Fde="METHOD_NOT_FOUND",zde="INVALID_PARAMS",mj="INTERNAL_ERROR",eI="SERVER_ERROR",Wde=[-32700,-32600,-32601,-32602,-32603],ip={[Mde]:{code:-32700,message:"Parse error"},[Bde]:{code:-32600,message:"Invalid Request"},[Fde]:{code:-32601,message:"Method not found"},[zde]:{code:-32602,message:"Invalid params"},[mj]:{code:-32603,message:"Internal error"},[eI]:{code:-32e3,message:"Server error"}},yj=eI;function qde(t){return Wde.includes(t)}function ak(t){return Object.keys(ip).includes(t)?ip[t]:ip[yj]}function Hde(t){const e=Object.values(ip).find(n=>n.code===t);return e||ip[yj]}function wj(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var vj={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var QC=function(t,e){return QC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},QC(t,e)};function Vde(t,e){QC(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ZC=function(){return ZC=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ZC.apply(this,arguments)};function Gde(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Kde(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function Yde(t,e){return function(n,r){e(n,r,t)}}function Jde(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Qde(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Zde(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Xde(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function ehe(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function XC(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bj(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function the(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(bj(arguments[e]));return t}function nhe(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function yg(t){return this instanceof yg?(this.v=t,this):new yg(t)}function rhe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(f){return new Promise(function(p,g){i.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(i[0][3],p)}}function c(h){h.value instanceof yg?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function she(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:yg(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function ihe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof XC=="function"?XC(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function ohe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function ahe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function che(t){return t&&t.__esModule?t:{default:t}}function lhe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function uhe(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const dhe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return ZC},__asyncDelegator:she,__asyncGenerator:rhe,__asyncValues:ihe,__await:yg,__awaiter:Qde,__classPrivateFieldGet:lhe,__classPrivateFieldSet:uhe,__createBinding:Xde,__decorate:Kde,__exportStar:ehe,__extends:Vde,__generator:Zde,__importDefault:che,__importStar:ahe,__makeTemplateObject:ohe,__metadata:Jde,__param:Yde,__read:bj,__rest:Gde,__spread:the,__spreadArrays:nhe,__values:XC},Symbol.toStringTag,{value:"Module"})),hhe=C0(dhe);var go={},ck;function fhe(){if(ck)return go;ck=1,Object.defineProperty(go,"__esModule",{value:!0}),go.isBrowserCryptoAvailable=go.getSubtleCrypto=go.getBrowerCrypto=void 0;function t(){return(Xt==null?void 0:Xt.crypto)||(Xt==null?void 0:Xt.msCrypto)||{}}go.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}go.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return go.isBrowserCryptoAvailable=n,go}var mo={},lk;function phe(){if(lk)return mo;lk=1,Object.defineProperty(mo,"__esModule",{value:!0}),mo.isBrowser=mo.isNode=mo.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}mo.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}mo.isNode=e;function n(){return!t()&&!e()}return mo.isBrowser=n,mo}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=hhe;e.__exportStar(fhe(),t),e.__exportStar(phe(),t)})(vj);function ji(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function vl(t=6){return BigInt(ji(t))}function nc(t,e,n){return{id:n||ji(),jsonrpc:"2.0",method:t,params:e}}function kv(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Ov(t,e,n){return{id:t,jsonrpc:"2.0",error:ghe(e)}}function ghe(t,e){return typeof t>"u"?ak(mj):(typeof t=="string"&&(t=Object.assign(Object.assign({},ak(eI)),{message:t})),qde(t.code)&&(t=Hde(t.code)),t)}let mhe=class{},yhe=class extends mhe{constructor(){super()}},whe=class extends yhe{constructor(e){super()}};const vhe="^https?:",bhe="^wss?:";function _he(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function _j(t,e){const n=_he(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function uk(t){return _j(t,vhe)}function dk(t){return _j(t,bhe)}function Ehe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function Ej(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function tI(t){return Ej(t)&&"method"in t}function Rv(t){return Ej(t)&&(Ui(t)||Os(t))}function Ui(t){return"result"in t}function Os(t){return"error"in t}let Hs=class extends whe{constructor(e){super(e),this.events=new qs.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(nc(e.method,e.params||[],e.id||vl().toString()),n)}async requestStrict(e,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{Os(i)?s(i.error):r(i.result)});try{await this.connection.send(e,n)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Rv(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const Che=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),xhe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",hk=t=>t.split("?")[0],fk=10,She=Che();let Ahe=class{constructor(e){if(this.url=e,this.events=new qs.EventEmitter,this.registering=!1,!dk(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Vo(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!dk(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const s=vj.isReactNative()?void 0:{rejectUnauthorized:!Ehe(e)},i=new She(e,[],s);xhe()?i.onerror=o=>{const a=o;r(this.emitError(a.error))}:i.on("error",o=>{r(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),n(i)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Ql(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=Ov(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return wj(e,hk(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>fk&&this.events.setMaxListeners(fk)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${hk(this.url)}`));return this.events.emit("register_error",n),n}};var Ihe={};const Cj="wc",xj=2,ex="core",to=`${Cj}@2:${ex}:`,The={logger:"error"},Nhe={database:":memory:"},Phe="crypto",pk="client_ed25519_seed",khe=oe.ONE_DAY,Ohe="keychain",Rhe="0.3",$he="messages",Dhe="0.3",gk=oe.SIX_HOURS,jhe="publisher",Sj="irn",Uhe="error",Aj="wss://relay.walletconnect.org",Lhe="relayer",In={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Mhe="_subscription",As={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Bhe=.1,tx="2.21.3",Dt={link_mode:"link_mode",relay:"relay"},iw={inbound:"inbound",outbound:"outbound"},Fhe="0.3",zhe="WALLETCONNECT_CLIENT_ID",mk="WALLETCONNECT_LINK_MODE_APPS",is={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Whe="subscription",qhe="0.3",Hhe="pairing",Vhe="0.3",ff={wc_pairingDelete:{req:{ttl:oe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:oe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:oe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:oe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:oe.ONE_DAY,prompt:!1,tag:0},res:{ttl:oe.ONE_DAY,prompt:!1,tag:0}}},ol={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ys={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Ghe="history",Khe="0.3",Yhe="expirer",Ps={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Jhe="0.3",Qhe="verify-api",Zhe="https://verify.walletconnect.com",Ij="https://verify.walletconnect.org",op=Ij,Xhe=`${op}/v3`,efe=[Zhe,Ij],tfe="echo",nfe="https://echo.walletconnect.com",$i={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},vo={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Js={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Yc={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Jc={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},pf={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},rfe=.1,sfe="event-client",ife=86400,ofe="https://pulse.walletconnect.org/batch";function afe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,w=0,b=p.length;w!==b&&p[w]===0;)w++,g++;for(var v=(b-w)*u+1>>>0,E=new Uint8Array(v);w!==b;){for(var _=p[w],x=0,S=v-1;(_!==0||x<y)&&S!==-1;S--,x++)_+=256*E[S]>>>0,E[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");y=x,w++}for(var T=v-y;T!==v&&E[T]===0;)T++;for(var C=c.repeat(g);T<v;++T)C+=t.charAt(E[T]);return C}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,w=0;p[g]===c;)y++,g++;for(var b=(p.length-g)*l+1>>>0,v=new Uint8Array(b);p[g];){var E=n[p.charCodeAt(g)];if(E===255)return;for(var _=0,x=b-1;(E!==0||_<w)&&x!==-1;x--,_++)E+=a*v[x]>>>0,v[x]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=_,g++}if(p[g]!==" "){for(var S=b-w;S!==b&&v[S]===0;)S++;for(var T=new Uint8Array(y+(b-S)),C=y;S!==b;)T[C++]=v[S++];return T}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var cfe=afe,lfe=cfe;const Tj=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},ufe=t=>new TextEncoder().encode(t),dfe=t=>new TextDecoder().decode(t);class hfe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class ffe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Nj(this,e)}}class pfe{constructor(e){this.decoders=e}or(e){return Nj(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Nj=(t,e)=>new pfe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class gfe{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new hfe(e,n,r),this.decoder=new ffe(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const $v=({name:t,prefix:e,encode:n,decode:r})=>new gfe(t,e,n,r),pm=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=lfe(n,e);return $v({prefix:t,name:e,encode:r,decode:i=>Tj(s(i))})},mfe=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},yfe=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Yn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>$v({prefix:e,name:t,encode(s){return yfe(s,r,n)},decode(s){return mfe(s,r,n,t)}}),wfe=$v({prefix:"\0",name:"identity",encode:t=>dfe(t),decode:t=>ufe(t)});var vfe=Object.freeze({__proto__:null,identity:wfe});const bfe=Yn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var _fe=Object.freeze({__proto__:null,base2:bfe});const Efe=Yn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Cfe=Object.freeze({__proto__:null,base8:Efe});const xfe=pm({prefix:"9",name:"base10",alphabet:"0123456789"});var Sfe=Object.freeze({__proto__:null,base10:xfe});const Afe=Yn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ife=Yn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Tfe=Object.freeze({__proto__:null,base16:Afe,base16upper:Ife});const Nfe=Yn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Pfe=Yn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),kfe=Yn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ofe=Yn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Rfe=Yn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),$fe=Yn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Dfe=Yn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),jfe=Yn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ufe=Yn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Lfe=Object.freeze({__proto__:null,base32:Nfe,base32upper:Pfe,base32pad:kfe,base32padupper:Ofe,base32hex:Rfe,base32hexupper:$fe,base32hexpad:Dfe,base32hexpadupper:jfe,base32z:Ufe});const Mfe=pm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Bfe=pm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Ffe=Object.freeze({__proto__:null,base36:Mfe,base36upper:Bfe});const zfe=pm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Wfe=pm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var qfe=Object.freeze({__proto__:null,base58btc:zfe,base58flickr:Wfe});const Hfe=Yn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Vfe=Yn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Gfe=Yn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Kfe=Yn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Yfe=Object.freeze({__proto__:null,base64:Hfe,base64pad:Vfe,base64url:Gfe,base64urlpad:Kfe});const Pj=Array.from(""),Jfe=Pj.reduce((t,e,n)=>(t[n]=e,t),[]),Qfe=Pj.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Zfe(t){return t.reduce((e,n)=>(e+=Jfe[n],e),"")}function Xfe(t){const e=[];for(const n of t){const r=Qfe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const epe=$v({prefix:"",name:"base256emoji",encode:Zfe,decode:Xfe});var tpe=Object.freeze({__proto__:null,base256emoji:epe}),npe=kj,yk=128,rpe=-128,spe=Math.pow(2,31);function kj(t,e,n){e=e||[],n=n||0;for(var r=n;t>=spe;)e[n++]=t&255|yk,t/=128;for(;t&rpe;)e[n++]=t&255|yk,t>>>=7;return e[n]=t|0,kj.bytes=n-r+1,e}var ipe=nx,ope=128,wk=127;function nx(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw nx.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&wk)<<s:(o&wk)*Math.pow(2,s),s+=7}while(o>=ope);return nx.bytes=i-r,n}var ape=Math.pow(2,7),cpe=Math.pow(2,14),lpe=Math.pow(2,21),upe=Math.pow(2,28),dpe=Math.pow(2,35),hpe=Math.pow(2,42),fpe=Math.pow(2,49),ppe=Math.pow(2,56),gpe=Math.pow(2,63),mpe=function(t){return t<ape?1:t<cpe?2:t<lpe?3:t<upe?4:t<dpe?5:t<hpe?6:t<fpe?7:t<ppe?8:t<gpe?9:10},ype={encode:npe,decode:ipe,encodingLength:mpe},Oj=ype;const vk=(t,e,n=0)=>(Oj.encode(t,e,n),e),bk=t=>Oj.encodingLength(t),rx=(t,e)=>{const n=e.byteLength,r=bk(t),s=r+bk(n),i=new Uint8Array(s+n);return vk(t,i,0),vk(n,i,r),i.set(e,s),new wpe(t,n,e,i)};class wpe{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}}const Rj=({name:t,code:e,encode:n})=>new vpe(t,e,n);class vpe{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?rx(this.code,n):n.then(r=>rx(this.code,r))}else throw Error("Unknown type, must be binary type")}}const $j=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),bpe=Rj({name:"sha2-256",code:18,encode:$j("SHA-256")}),_pe=Rj({name:"sha2-512",code:19,encode:$j("SHA-512")});var Epe=Object.freeze({__proto__:null,sha256:bpe,sha512:_pe});const Dj=0,Cpe="identity",jj=Tj,xpe=t=>rx(Dj,jj(t)),Spe={code:Dj,name:Cpe,encode:jj,digest:xpe};var Ape=Object.freeze({__proto__:null,identity:Spe});new TextEncoder,new TextDecoder;const _k={...vfe,..._fe,...Cfe,...Sfe,...Tfe,...Lfe,...Ffe,...qfe,...Yfe,...tpe};({...Epe,...Ape});function Uj(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Ipe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Uj(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Lj(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const Ek=Lj("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),K1=Lj("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Ipe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Tpe={utf8:Ek,"utf-8":Ek,hex:_k.base16,latin1:K1,ascii:K1,binary:K1,..._k};function Npe(t,e="utf8"){const n=Tpe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Uj(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var Ppe=Object.defineProperty,kpe=(t,e,n)=>e in t?Ppe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Oi=(t,e,n)=>kpe(t,typeof e!="symbol"?e+"":e,n);class Ope{constructor(e,n){this.core=e,this.logger=n,Oi(this,"keychain",new Map),Oi(this,"name",Ohe),Oi(this,"version",Rhe),Oi(this,"initialized",!1),Oi(this,"storagePrefix",to),Oi(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Oi(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Oi(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),Oi(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:i}=ae("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(i)}return s}),Oi(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=dr(n,this.name)}get context(){return es(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,LC(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?MC(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Rpe=Object.defineProperty,$pe=(t,e,n)=>e in t?Rpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Un=(t,e,n)=>$pe(t,typeof e!="symbol"?e+"":e,n);class Dpe{constructor(e,n,r){this.core=e,this.logger=n,Un(this,"name",Phe),Un(this,"keychain"),Un(this,"randomSessionIdentifier",YC()),Un(this,"initialized",!1),Un(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Un(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),Un(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),i=tP(s);return j6(i.publicKey)}),Un(this,"generateKeyPair",()=>{this.isInitialized();const s=Tue();return this.setPrivateKey(s.publicKey,s.privateKey)}),Un(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=tP(i),a=this.randomSessionIdentifier;return await $se(a,s,khe,o)}),Un(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=Nue(a,i);return this.setSymKey(c,o)}),Un(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||sw(s);return await this.keychain.set(o,s),o}),Un(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),Un(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),Un(this,"encode",async(s,i,o)=>{this.isInitialized();const a=fj(o),c=Vo(i);if(YP(a))return Oue(c,o==null?void 0:o.encoding);if(KP(a)){const h=a.senderPublicKey,f=a.receiverPublicKey;s=await this.generateSharedKey(h,f)}const l=this.getSymKey(s),{type:u,senderPublicKey:d}=a;return Pue({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),Un(this,"decode",async(s,i,o)=>{this.isInitialized();const a=$ue(i,o);if(YP(a)){const c=Rue(i,o==null?void 0:o.encoding);return Ql(c)}if(KP(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=kue({symKey:c,encoded:i,encoding:o==null?void 0:o.encoding});return Ql(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Un(this,"getPayloadType",(s,i=fi)=>{const o=mg({encoded:s,encoding:i});return tu(o.type)}),Un(this,"getPayloadSenderPublicKey",(s,i=fi)=>{const o=mg({encoded:s,encoding:i});return o.senderPublicKey?Zr(o.senderPublicKey,_r):void 0}),this.core=e,this.logger=dr(n,this.name),this.keychain=r||new Ope(this.core,this.logger)}get context(){return es(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(pk)}catch{e=YC(),await this.keychain.set(pk,e)}return Npe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var jpe=Object.defineProperty,Upe=Object.defineProperties,Lpe=Object.getOwnPropertyDescriptors,Ck=Object.getOwnPropertySymbols,Mpe=Object.prototype.hasOwnProperty,Bpe=Object.prototype.propertyIsEnumerable,sx=(t,e,n)=>e in t?jpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fpe=(t,e)=>{for(var n in e||(e={}))Mpe.call(e,n)&&sx(t,n,e[n]);if(Ck)for(var n of Ck(e))Bpe.call(e,n)&&sx(t,n,e[n]);return t},zpe=(t,e)=>Upe(t,Lpe(e)),ns=(t,e,n)=>sx(t,typeof e!="symbol"?e+"":e,n);class Wpe extends Ote{constructor(e,n){super(e,n),this.logger=e,this.core=n,ns(this,"messages",new Map),ns(this,"messagesWithoutClientAck",new Map),ns(this,"name",$he),ns(this,"version",Dhe),ns(this,"initialized",!1),ns(this,"storagePrefix",to),ns(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),ns(this,"set",async(r,s,i)=>{this.isInitialized();const o=Wi(s);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(r,a),i===iw.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,zpe(Fpe({},c),{[o]:s}))}return await this.persist(),o}),ns(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),ns(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const i of r){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),ns(this,"has",(r,s)=>{this.isInitialized();const i=this.get(r),o=Wi(s);return typeof i[o]<"u"}),ns(this,"ack",async(r,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(r);if(typeof i>"u")return;const o=Wi(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,i),await this.persist()}),ns(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=dr(e,this.name),this.core=n}get context(){return es(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,LC(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,LC(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?MC(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?MC(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var qpe=Object.defineProperty,Hpe=Object.defineProperties,Vpe=Object.getOwnPropertyDescriptors,xk=Object.getOwnPropertySymbols,Gpe=Object.prototype.hasOwnProperty,Kpe=Object.prototype.propertyIsEnumerable,ix=(t,e,n)=>e in t?qpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,by=(t,e)=>{for(var n in e||(e={}))Gpe.call(e,n)&&ix(t,n,e[n]);if(xk)for(var n of xk(e))Kpe.call(e,n)&&ix(t,n,e[n]);return t},Y1=(t,e)=>Hpe(t,Vpe(e)),Qs=(t,e,n)=>ix(t,typeof e!="symbol"?e+"":e,n);class Ype extends Rte{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Qs(this,"events",new qs.EventEmitter),Qs(this,"name",jhe),Qs(this,"queue",new Map),Qs(this,"publishTimeout",oe.toMiliseconds(oe.ONE_MINUTE)),Qs(this,"initialPublishTimeout",oe.toMiliseconds(oe.ONE_SECOND*15)),Qs(this,"needsTransportRestart",!1),Qs(this,"publish",async(r,s,i)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:i}});const a=(i==null?void 0:i.ttl)||gk,c=c0(i),l=(i==null?void 0:i.prompt)||!1,u=(i==null?void 0:i.tag)||0,d=(i==null?void 0:i.id)||vl().toString(),h={topic:r,message:s,opts:{ttl:a,relay:c,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}},f=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{const p=new Promise(async g=>{const y=({id:b})=>{h.opts.id===b&&(this.removeRequestFromQueue(b),this.relayer.events.removeListener(In.publish,y),g(h))};this.relayer.events.on(In.publish,y);const w=tc(new Promise((b,v)=>{this.rpcPublish({topic:r,message:s,ttl:a,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}).then(b).catch(E=>{this.logger.warn(E,E==null?void 0:E.message),v(E)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await w,this.events.removeListener(In.publish,y)}catch(b){this.queue.set(d,Y1(by({},h),{attempt:1})),this.logger.warn(b,b==null?void 0:b.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:r,message:s,opts:i}}),await tc(p,this.publishTimeout,f)}catch(p){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(p),(o=i==null?void 0:i.internal)!=null&&o.throwOnFailedPublish)throw p}finally{this.queue.delete(d)}}),Qs(this,"on",(r,s)=>{this.events.on(r,s)}),Qs(this,"once",(r,s)=>{this.events.once(r,s)}),Qs(this,"off",(r,s)=>{this.events.off(r,s)}),Qs(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=e,this.logger=dr(n,this.name),this.registerEventListeners()}get context(){return es(this.logger)}async rpcPublish(e){var n,r,s,i;const{topic:o,message:a,ttl:c=gk,prompt:l,tag:u,id:d,attestation:h,tvf:f}=e,p={method:Df(c0().protocol).publish,params:by({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:h},f),id:d};Fn((n=p.params)==null?void 0:n.prompt)&&((r=p.params)==null||delete r.prompt),Fn((s=p.params)==null?void 0:s.tag)&&((i=p.params)==null||delete i.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:p});const g=await this.relayer.request(p);return this.relayer.events.emit(In.publish,e),this.logger.debug("Successfully Published Payload"),g}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,Y1(by({},e),{attempt:r}));const{topic:s,message:i,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(Y1(by({},e),{topic:s,message:i,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(gu.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(In.connection_stalled);return}this.checkQueue()}),this.relayer.on(In.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var Jpe=Object.defineProperty,Qpe=(t,e,n)=>e in t?Jpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$u=(t,e,n)=>Qpe(t,typeof e!="symbol"?e+"":e,n);class Zpe{constructor(){$u(this,"map",new Map),$u(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),$u(this,"get",e=>this.map.get(e)||[]),$u(this,"exists",(e,n)=>this.get(e).includes(n)),$u(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const s=r.filter(i=>i!==n);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),$u(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Xpe=Object.defineProperty,ege=Object.defineProperties,tge=Object.getOwnPropertyDescriptors,Sk=Object.getOwnPropertySymbols,nge=Object.prototype.hasOwnProperty,rge=Object.prototype.propertyIsEnumerable,ox=(t,e,n)=>e in t?Xpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gf=(t,e)=>{for(var n in e||(e={}))nge.call(e,n)&&ox(t,n,e[n]);if(Sk)for(var n of Sk(e))rge.call(e,n)&&ox(t,n,e[n]);return t},J1=(t,e)=>ege(t,tge(e)),St=(t,e,n)=>ox(t,typeof e!="symbol"?e+"":e,n);class sge extends jte{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,St(this,"subscriptions",new Map),St(this,"topicMap",new Zpe),St(this,"events",new qs.EventEmitter),St(this,"name",Whe),St(this,"version",qhe),St(this,"pending",new Map),St(this,"cached",[]),St(this,"initialized",!1),St(this,"storagePrefix",to),St(this,"subscribeTimeout",oe.toMiliseconds(oe.ONE_MINUTE)),St(this,"initialSubscribeTimeout",oe.toMiliseconds(oe.ONE_SECOND*15)),St(this,"clientId"),St(this,"batchSubscribeTopicsLimit",500),St(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),St(this,"subscribe",async(r,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const i=c0(s),o={topic:r,relay:i,transportType:s==null?void 0:s.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,i,s);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),a}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}}),St(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),St(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),St(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(i=>i.topic===r))})),St(this,"on",(r,s)=>{this.events.on(r,s)}),St(this,"once",(r,s)=>{this.events.once(r,s)}),St(this,"off",(r,s)=>{this.events.off(r,s)}),St(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),St(this,"start",async()=>{await this.onConnect()}),St(this,"stop",async()=>{await this.onDisconnect()}),St(this,"restart",async()=>{await this.restore(),await this.onRestart()}),St(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),St(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(gu.pulse,async()=>{await this.checkPending()}),this.events.on(is.created,async r=>{const s=is.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(is.deleted,async r=>{const s=is.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=e,this.logger=dr(n,this.name),this.clientId=""}get context(){return es(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async s=>await this.unsubscribeById(e,s,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const s=c0(r);await this.restartToComplete({topic:e,id:n,relay:s}),await this.rpcUnsubscribe(e,n,s);const i=Mt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,n,r){var s;(!r||(r==null?void 0:r.transportType)===Dt.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const i={method:Df(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const o=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===Dt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(u=>this.logger.warn(u))},oe.toMiliseconds(oe.ONE_SECOND)),a;const c=new Promise(async u=>{const d=h=>{h.topic===e&&(this.events.removeListener(is.created,d),u(h.id))};this.events.on(is.created,d);try{const h=await tc(new Promise((f,p)=>{this.relayer.request(i).catch(g=>{this.logger.warn(g,g==null?void 0:g.message),p(g)}).then(f)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(is.created,d),u(h)}catch{}}),l=await tc(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(In.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:Df(n.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await tc(new Promise(s=>{this.relayer.request(r).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(In.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:Df(n.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await tc(new Promise((i,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(In.connection_stalled)}return s}rpcUnsubscribe(e,n,r){const s={method:Df(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,n){this.setSubscription(e,J1(gf({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,gf({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,gf({},n)),this.topicMap.set(n.topic,e),this.events.emit(is.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(is.deleted,J1(gf({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(is.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(is.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>J1(gf({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await Qae(oe.toMiliseconds(oe.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Wi(e+await this.getClientId())}}var ige=Object.defineProperty,Ak=Object.getOwnPropertySymbols,oge=Object.prototype.hasOwnProperty,age=Object.prototype.propertyIsEnumerable,ax=(t,e,n)=>e in t?ige(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ik=(t,e)=>{for(var n in e||(e={}))oge.call(e,n)&&ax(t,n,e[n]);if(Ak)for(var n of Ak(e))age.call(e,n)&&ax(t,n,e[n]);return t},at=(t,e,n)=>ax(t,typeof e!="symbol"?e+"":e,n);class cge extends $te{constructor(e){super(e),at(this,"protocol","wc"),at(this,"version",2),at(this,"core"),at(this,"logger"),at(this,"events",new qs.EventEmitter),at(this,"provider"),at(this,"messages"),at(this,"subscriber"),at(this,"publisher"),at(this,"name",Lhe),at(this,"transportExplicitlyClosed",!1),at(this,"initialized",!1),at(this,"connectionAttemptInProgress",!1),at(this,"relayUrl"),at(this,"projectId"),at(this,"packageName"),at(this,"bundleId"),at(this,"hasExperiencedNetworkDisruption",!1),at(this,"pingTimeout"),at(this,"heartBeatTimeout",oe.toMiliseconds(oe.THIRTY_SECONDS+oe.FIVE_SECONDS)),at(this,"reconnectTimeout"),at(this,"connectPromise"),at(this,"reconnectInProgress",!1),at(this,"requestsInFlight",[]),at(this,"connectTimeout",oe.toMiliseconds(oe.ONE_SECOND*15)),at(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const i=n.id||vl().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${i}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${i}`),o}}),at(this,"resetPingTimeout",()=>{s0()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||i.call(s)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),at(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),at(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(In.connect)}),at(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),at(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(In.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),at(this,"registerProviderListeners",()=>{this.provider.on(As.payload,this.onPayloadHandler),this.provider.on(As.connect,this.onConnectHandler),this.provider.on(As.disconnect,this.onDisconnectHandler),this.provider.on(As.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?dr(e.logger,this.name):om(Ch({level:e.logger||Uhe})),this.messages=new Wpe(this.logger,e.core),this.subscriber=new sge(this,this.logger),this.publisher=new Ype(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||Aj,this.projectId=e.projectId,Dae()?this.packageName=mP():jae()&&(this.bundleId=mP()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return es(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Dt.relay},iw.outbound)}async subscribe(e,n){var r,s,i;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;let a=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(is.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(is.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,Ik({internal:{throwOnFailedPublish:o}},n)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await tc(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await ok())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const s=pn(oe.FIVE_MINUTES),i={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,i)}this.events.emit(In.message,e),await this.recordMessageEvent(e,iw.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(As.disconnect,i),await tc(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(As.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(As.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(As.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,oe.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,s,i;if(s0())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Hs(new Ahe(Fae({sdkVersion:tx,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:s}=e;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),tI(e)){if(!e.method.endsWith(Mhe))return;const n=e.params,{topic:r,message:s,publishedAt:i,attestation:o}=n.data,a={topic:r,message:s,publishedAt:i,transportType:Dt.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Ik({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Rv(e)&&this.events.emit(In.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,iw.inbound),this.events.emit(In.message,e))}async acknowledgePayload(e){const n=kv(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(As.payload,this.onPayloadHandler),this.provider.off(As.connect,this.onConnectHandler),this.provider.off(As.disconnect,this.onDisconnectHandler),this.provider.off(As.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await ok();Ide(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(gu.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&Pde())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(In.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},oe.toMiliseconds(Bhe)))))}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function lge(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function Tk(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Nk(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const uge="[object RegExp]",dge="[object String]",hge="[object Number]",fge="[object Boolean]",Pk="[object Arguments]",pge="[object Symbol]",gge="[object Date]",mge="[object Map]",yge="[object Set]",wge="[object Array]",vge="[object Function]",bge="[object ArrayBuffer]",Q1="[object Object]",_ge="[object Error]",Ege="[object DataView]",Cge="[object Uint8Array]",xge="[object Uint8ClampedArray]",Sge="[object Uint16Array]",Age="[object Uint32Array]",Ige="[object BigUint64Array]",Tge="[object Int8Array]",Nge="[object Int16Array]",Pge="[object Int32Array]",kge="[object BigInt64Array]",Oge="[object Float32Array]",Rge="[object Float64Array]";function $ge(){}function kk(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function Dge(t,e,n){return jf(t,e,void 0,void 0,void 0,void 0,n)}function jf(t,e,n,r,s,i,o){const a=o(t,e,n,r,s,i);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return ap(t,e,i,o)}return ap(t,e,i,o)}function ap(t,e,n,r){if(Object.is(t,e))return!0;let s=Nk(t),i=Nk(e);if(s===Pk&&(s=Q1),i===Pk&&(i=Q1),s!==i)return!1;switch(s){case dge:return t.toString()===e.toString();case hge:{const c=t.valueOf(),l=e.valueOf();return lge(c,l)}case fge:case gge:case pge:return Object.is(t.valueOf(),e.valueOf());case uge:return t.source===e.source&&t.flags===e.flags;case vge:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(s){case mge:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!jf(l,e.get(c),c,t,e,n,r))return!1;return!0}case yge:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(f=>jf(d,f,void 0,t,e,n,r));if(h===-1)return!1;l.splice(h,1)}return!0}case wge:case Cge:case xge:case Sge:case Age:case Ige:case Tge:case Nge:case Pge:case kge:case Oge:case Rge:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!jf(t[c],e[c],c,t,e,n,r))return!1;return!0}case bge:return t.byteLength!==e.byteLength?!1:ap(new Uint8Array(t),new Uint8Array(e),n,r);case Ege:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:ap(new Uint8Array(t),new Uint8Array(e),n,r);case _ge:return t.name===e.name&&t.message===e.message;case Q1:{if(!(ap(t.constructor,e.constructor,n,r)||kk(t)&&kk(e)))return!1;const c=[...Object.keys(t),...Tk(t)],l=[...Object.keys(e),...Tk(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const f=e[d];if(!jf(h,f,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function jge(t,e){return Dge(t,e,$ge)}var Uge=Object.defineProperty,Ok=Object.getOwnPropertySymbols,Lge=Object.prototype.hasOwnProperty,Mge=Object.prototype.propertyIsEnumerable,cx=(t,e,n)=>e in t?Uge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rk=(t,e)=>{for(var n in e||(e={}))Lge.call(e,n)&&cx(t,n,e[n]);if(Ok)for(var n of Ok(e))Mge.call(e,n)&&cx(t,n,e[n]);return t},Or=(t,e,n)=>cx(t,typeof e!="symbol"?e+"":e,n);class wu extends Dte{constructor(e,n,r,s=to,i=void 0){super(e,n,r,s),this.core=e,this.logger=n,this.name=r,Or(this,"map",new Map),Or(this,"version",Fhe),Or(this,"cached",[]),Or(this,"initialized",!1),Or(this,"getKey"),Or(this,"storagePrefix",to),Or(this,"recentlyDeleted",[]),Or(this,"recentlyDeletedLimit",200),Or(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Fn(o)?this.map.set(this.getKey(o),o):sde(o)?this.map.set(o.id,o):ide(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Or(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Or(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Or(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>jge(a[c],o[c]))):this.values)),Or(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=Rk(Rk({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Or(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=dr(n,this.name),this.storagePrefix=s,this.getKey=i}get context(){return es(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:s}=ae("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:r}=ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Bge=Object.defineProperty,Fge=(t,e,n)=>e in t?Bge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ze=(t,e,n)=>Fge(t,typeof e!="symbol"?e+"":e,n);class zge{constructor(e,n){this.core=e,this.logger=n,Ze(this,"name",Hhe),Ze(this,"version",Vhe),Ze(this,"events",new CA),Ze(this,"pairings"),Ze(this,"initialized",!1),Ze(this,"storagePrefix",to),Ze(this,"ignoredPayloadTypes",[Do]),Ze(this,"registeredMethods",[]),Ze(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Ze(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Ze(this,"create",async r=>{this.isInitialized();const s=YC(),i=await this.core.crypto.setSymKey(s),o=pn(oe.FIVE_MINUTES),a={protocol:Sj},c={topic:i,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=QP({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(ol.create,c),this.core.expirer.set(i,o),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:r==null?void 0:r.transportType}),{topic:i,uri:l}}),Ze(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[$i.pairing_started]}});this.isValidPair(r,s);const{topic:i,symKey:o,relay:a,expiryTimestamp:c,methods:l}=JP(r.uri);s.props.properties.topic=i,s.addTrace($i.pairing_uri_validation_success),s.addTrace($i.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace($i.existing_pairing),u.active)throw s.setError(vo.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace($i.pairing_not_expired)}const d=c||pn(oe.FIVE_MINUTES),h={topic:i,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(i,d),await this.pairings.set(i,h),s.addTrace($i.store_new_pairing),r.activatePairing&&await this.activate({topic:i}),this.events.emit(ol.create,h),s.addTrace($i.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace($i.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(vo.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(f){throw s.setError(vo.subscribe_pairing_topic_failure),f}return s.addTrace($i.subscribe_pairing_topic_success),h}),Ze(this,"activate",async({topic:r})=>{this.isInitialized();const s=pn(oe.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),Ze(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=nl();this.events.once(ht("pairing_ping",i),({error:l})=>{l?c(l):a()}),await o()}}),Ze(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),Ze(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),Ze(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Ze(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Mt("USER_DISCONNECTED")),await this.deletePairing(s))}),Ze(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(s);return QP({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:o,methods:a})}),Ze(this,"sendRequest",async(r,s,i)=>{const o=nc(s,i),a=await this.core.crypto.encode(r,o),c=ff[s].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),Ze(this,"sendResult",async(r,s,i)=>{const o=kv(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=ff[c].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),Ze(this,"sendError",async(r,s,i)=>{const o=Ov(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=ff[c]?ff[c].res:ff.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),Ze(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Mt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),Ze(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>Pa(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),Ze(this,"onRelayEventRequest",async r=>{const{topic:s,payload:i}=r;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),Ze(this,"onRelayEventResponse",async r=>{const{topic:s,payload:i}=r,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),Ze(this,"onPairingPingRequest",async(r,s)=>{const{id:i}=s;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.events.emit(ol.ping,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),Ze(this,"onPairingPingResponse",(r,s)=>{const{id:i}=s;setTimeout(()=>{Ui(s)?this.events.emit(ht("pairing_ping",i),{}):Os(s)&&this.events.emit(ht("pairing_ping",i),{error:s.error})},500)}),Ze(this,"onPairingDeleteRequest",async(r,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(ol.delete,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),Ze(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=Mt("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,r,a),this.logger.error(a)}catch(a){await this.sendError(i,r,a),this.logger.error(a)}}),Ze(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Mt("WC_METHOD_UNSUPPORTED",r))}),Ze(this,"isValidPair",(r,s)=>{var i;if(!Ur(r)){const{message:a}=ae("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(vo.malformed_pairing_uri),new Error(a)}if(!rde(r.uri)){const{message:a}=ae("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(vo.malformed_pairing_uri),new Error(a)}const o=JP(r==null?void 0:r.uri);if(!((i=o==null?void 0:o.relay)!=null&&i.protocol)){const{message:a}=ae("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(vo.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=ae("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(vo.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&oe.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){s.setError(vo.pairing_expired);const{message:a}=ae("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Ze(this,"isValidPing",async r=>{if(!Ur(r)){const{message:i}=ae("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),Ze(this,"isValidDisconnect",async r=>{if(!Ur(r)){const{message:i}=ae("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),Ze(this,"isValidPairingTopic",async r=>{if(!un(r,!1)){const{message:s}=ae("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=ae("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(Pa(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=ae("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=e,this.logger=dr(n,this.name),this.pairings=new wu(this.core,this.logger,this.name,this.storagePrefix)}get context(){return es(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(In.message,async e=>{const{topic:n,message:r,transportType:s}=e;if(this.pairings.keys.includes(n)&&s!==Dt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const i=await this.core.crypto.decode(n,r);tI(i)?(this.core.history.set(n,i),await this.onRelayEventRequest({topic:n,payload:i})):Rv(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id)),await this.core.relayer.messages.ack(n,r)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(Ps.expired,async e=>{const{topic:n}=C4(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(ol.expire,{topic:n}))})}}var Wge=Object.defineProperty,qge=(t,e,n)=>e in t?Wge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ln=(t,e,n)=>qge(t,typeof e!="symbol"?e+"":e,n);class Hge extends kte{constructor(e,n){super(e,n),this.core=e,this.logger=n,Ln(this,"records",new Map),Ln(this,"events",new qs.EventEmitter),Ln(this,"name",Ghe),Ln(this,"version",Khe),Ln(this,"cached",[]),Ln(this,"initialized",!1),Ln(this,"storagePrefix",to),Ln(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ln(this,"set",(r,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:i,expiry:pn(oe.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Ys.created,o)}),Ln(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=Os(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(Ys.updated,s))}),Ln(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),Ln(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===r){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(Ys.deleted,i)}}),this.persist()}),Ln(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),Ln(this,"on",(r,s)=>{this.events.on(r,s)}),Ln(this,"once",(r,s)=>{this.events.once(r,s)}),Ln(this,"off",(r,s)=>{this.events.off(r,s)}),Ln(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=dr(n,this.name)}get context(){return es(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:nc(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ys.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ys.created,e=>{const n=Ys.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ys.updated,e=>{const n=Ys.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ys.deleted,e=>{const n=Ys.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(gu.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{oe.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Ys.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Vge=Object.defineProperty,Gge=(t,e,n)=>e in t?Vge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ir=(t,e,n)=>Gge(t,typeof e!="symbol"?e+"":e,n);class Kge extends Ute{constructor(e,n){super(e,n),this.core=e,this.logger=n,ir(this,"expirations",new Map),ir(this,"events",new qs.EventEmitter),ir(this,"name",Yhe),ir(this,"version",Jhe),ir(this,"cached",[]),ir(this,"initialized",!1),ir(this,"storagePrefix",to),ir(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ir(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),ir(this,"set",(r,s)=>{this.isInitialized();const i=this.formatTarget(r),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(Ps.created,{target:i,expiration:o})}),ir(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),ir(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Ps.deleted,{target:s,expiration:i})}}),ir(this,"on",(r,s)=>{this.events.on(r,s)}),ir(this,"once",(r,s)=>{this.events.once(r,s)}),ir(this,"off",(r,s)=>{this.events.off(r,s)}),ir(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=dr(n,this.name)}get context(){return es(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return zae(e);if(typeof e=="number")return Wae(e);const{message:n}=ae("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Ps.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;oe.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Ps.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(gu.pulse,()=>this.checkExpirations()),this.events.on(Ps.created,e=>{const n=Ps.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Ps.expired,e=>{const n=Ps.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Ps.deleted,e=>{const n=Ps.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Yge=Object.defineProperty,Jge=(t,e,n)=>e in t?Yge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cn=(t,e,n)=>Jge(t,typeof e!="symbol"?e+"":e,n);class Qge extends Lte{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,cn(this,"name",Qhe),cn(this,"abortController"),cn(this,"isDevEnv"),cn(this,"verifyUrlV3",Xhe),cn(this,"storagePrefix",to),cn(this,"version",xj),cn(this,"publicKey"),cn(this,"fetchPromise"),cn(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&oe.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),cn(this,"register",async s=>{if(!Nh()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{const l=Zl(),u=this.startAbortTimer(oe.ONE_SECOND*5),d=await new Promise((h,f)=>{const p=()=>{window.removeEventListener("message",y),l.body.removeChild(g),f("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",p,{signal:this.abortController.signal});const y=w=>{if(w.data&&typeof w.data=="string")try{const b=JSON.parse(w.data);if(b.type==="verify_attestation"){if(kC(b.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",y),h(b.attestation===null?"":b.attestation)}}catch(b){this.logger.warn(b)}};l.body.appendChild(g),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),cn(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(kC(i).payload.id!==a)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(o,c)}),cn(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(oe.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),cn(this,"getVerifyUrl",s=>{let i=s||op;return efe.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${op}`),i=op),i}),cn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(oe.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),cn(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),cn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),cn(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),cn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),cn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),cn(this,"validateAttestation",(s,i)=>{const o=jue(s,i.publicKey),a={hasExpired:oe.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=dr(n,this.name),this.abortController=new AbortController,this.isDevEnv=BA(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return es(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),oe.toMiliseconds(e))}}var Zge=Object.defineProperty,Xge=(t,e,n)=>e in t?Zge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$k=(t,e,n)=>Xge(t,typeof e!="symbol"?e+"":e,n);class eme extends Mte{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,$k(this,"context",tfe),$k(this,"registerDeviceToken",async r=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=r,c=`${nfe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=dr(n,this.context)}}var tme=Object.defineProperty,Dk=Object.getOwnPropertySymbols,nme=Object.prototype.hasOwnProperty,rme=Object.prototype.propertyIsEnumerable,lx=(t,e,n)=>e in t?tme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mf=(t,e)=>{for(var n in e||(e={}))nme.call(e,n)&&lx(t,n,e[n]);if(Dk)for(var n of Dk(e))rme.call(e,n)&&lx(t,n,e[n]);return t},En=(t,e,n)=>lx(t,typeof e!="symbol"?e+"":e,n);class sme extends Bte{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,En(this,"context",sfe),En(this,"storagePrefix",to),En(this,"storageVersion",rfe),En(this,"events",new Map),En(this,"shouldPersist",!1),En(this,"init",async()=>{if(!BA())try{const s={eventId:wP(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:_4(this.core.relayer.protocol,this.core.relayer.version,tx)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),En(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:a,trace:c}}=s,l=wP(),u=this.core.projectId||"",d=Date.now(),h=mf({eventId:l,timestamp:d,props:{event:i,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),En(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return mf(mf({},a),this.setMethods(a.eventId))}),En(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),En(this,"setEventListeners",()=>{this.core.heartbeat.on(gu.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{oe.fromMiliseconds(Date.now())-oe.fromMiliseconds(s.timestamp)>ife&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),En(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),En(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),En(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),En(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),En(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,mf(mf({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),En(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),En(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${ofe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${tx}${i}`,{method:"POST",body:JSON.stringify(s)})}),En(this,"getAppDomain",()=>b4().url),this.logger=dr(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var ime=Object.defineProperty,jk=Object.getOwnPropertySymbols,ome=Object.prototype.hasOwnProperty,ame=Object.prototype.propertyIsEnumerable,ux=(t,e,n)=>e in t?ime(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Uk=(t,e)=>{for(var n in e||(e={}))ome.call(e,n)&&ux(t,n,e[n]);if(jk)for(var n of jk(e))ame.call(e,n)&&ux(t,n,e[n]);return t},It=(t,e,n)=>ux(t,typeof e!="symbol"?e+"":e,n);let cme=class Mj extends Ite{constructor(e){var n;super(e),It(this,"protocol",Cj),It(this,"version",xj),It(this,"name",ex),It(this,"relayUrl"),It(this,"projectId"),It(this,"customStoragePrefix"),It(this,"events",new qs.EventEmitter),It(this,"logger"),It(this,"heartbeat"),It(this,"relayer"),It(this,"crypto"),It(this,"storage"),It(this,"history"),It(this,"expirer"),It(this,"pairing"),It(this,"verify"),It(this,"echoClient"),It(this,"linkModeSupportedApps"),It(this,"eventClient"),It(this,"initialized",!1),It(this,"logChunkController"),It(this,"on",(a,c)=>this.events.on(a,c)),It(this,"once",(a,c)=>this.events.once(a,c)),It(this,"off",(a,c)=>this.events.off(a,c)),It(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),It(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:Dt.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Aj,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=Ch({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:The.logger,name:ex}),{logger:i,chunkLoggerController:o}=SA({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=dr(i,this.name),this.heartbeat=new gee,this.crypto=new Dpe(this,this.logger,e==null?void 0:e.keychain),this.history=new Hge(this,this.logger),this.expirer=new Kge(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Qee(Uk(Uk({},Nhe),e==null?void 0:e.storageOptions)),this.relayer=new cge({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new zge(this,this.logger),this.verify=new Qge(this,this.logger,this.storage),this.echoClient=new eme(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new sme(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new Mj(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(zhe,r),n}get context(){return es(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(mk,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(mk)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Ihe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const lme=cme,Bj="wc",Fj=2,zj="client",nI=`${Bj}@${Fj}:${zj}:`,Z1={name:zj,logger:"error"},Lk="WALLETCONNECT_DEEPLINK_CHOICE",ume="proposal",Mk="Proposal expired",dme="session",Du=oe.SEVEN_DAYS,hme="engine",Cn={wc_sessionPropose:{req:{ttl:oe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:oe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:oe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:oe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:oe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:oe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:oe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:oe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:oe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:oe.ONE_DAY,prompt:!1,tag:1114},res:{ttl:oe.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:oe.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:oe.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1119}}},X1={min:oe.FIVE_MINUTES,max:oe.SEVEN_DAYS},Ri={idle:"IDLE",active:"ACTIVE"},fme={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},pme="request",gme=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],mme="wc",yme="auth",wme="authKeys",vme="pairingTopics",bme="requests",Dv=`${mme}@${1.5}:${yme}:`,ow=`${Dv}:PUB_KEY`;var _me=Object.defineProperty,Eme=Object.defineProperties,Cme=Object.getOwnPropertyDescriptors,Bk=Object.getOwnPropertySymbols,xme=Object.prototype.hasOwnProperty,Sme=Object.prototype.propertyIsEnumerable,dx=(t,e,n)=>e in t?_me(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rt=(t,e)=>{for(var n in e||(e={}))xme.call(e,n)&&dx(t,n,e[n]);if(Bk)for(var n of Bk(e))Sme.call(e,n)&&dx(t,n,e[n]);return t},Rr=(t,e)=>Eme(t,Cme(e)),te=(t,e,n)=>dx(t,typeof e!="symbol"?e+"":e,n);class Ame extends qte{constructor(e){super(e),te(this,"name",hme),te(this,"events",new CA),te(this,"initialized",!1),te(this,"requestQueue",{state:Ri.idle,queue:[]}),te(this,"sessionRequestQueue",{state:Ri.idle,queue:[]}),te(this,"requestQueueDelay",oe.ONE_SECOND),te(this,"expectedPairingMethodMap",new Map),te(this,"recentlyDeletedMap",new Map),te(this,"recentlyDeletedLimit",200),te(this,"relayMessageCache",[]),te(this,"pendingSessions",new Map),te(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Cn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},oe.toMiliseconds(this.requestQueueDelay)))}),te(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Rr(Rt({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=Zue(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=s,d,h=!1;try{if(u){const x=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=x.active}}catch(x){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),x}if(!u||!h){const{topic:x,uri:S}=await this.client.core.pairing.create();u=x,d=S}if(!u){const{message:x}=ae("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(x)}const f=await this.client.core.crypto.generateKeyPair(),p=Cn.wc_sessionPropose.req.ttl||oe.FIVE_MINUTES,g=pn(p),y=Rr(Rt(Rt({requiredNamespaces:i,optionalNamespaces:o,relays:l??[{protocol:Sj}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:ji()}),w=ht("session_connect",y.id),{reject:b,resolve:v,done:E}=nl(p,Mk),_=({id:x})=>{x===y.id&&(this.client.events.off("proposal_expire",_),this.pendingSessions.delete(y.id),this.events.emit(w,{error:{message:Mk,code:0}}))};return this.client.events.on("proposal_expire",_),this.events.once(w,({error:x,session:S})=>{this.client.events.off("proposal_expire",_),x?b(x):S&&v(S)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:y,throwOnFailedPublish:!0,clientRpcId:y.id}),await this.setProposal(y.id,y),{uri:d,approval:E}}),te(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),te(this,"approve",async n=>{var r,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[Js.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(C){throw o.setError(Yc.no_internet_connection),C}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(C){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(Yc.proposal_not_found),C}try{await this.isValidApprove(n)}catch(C){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Yc.session_approve_namespace_validation_failure),C}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=n,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:g,requiredNamespaces:y,optionalNamespaces:w}=f;let b=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:p});b||(b=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:Js.session_approve_started,properties:{topic:p,trace:[Js.session_approve_started,Js.session_namespaces_validation_success]}}));const v=await this.client.core.crypto.generateKeyPair(),E=g.publicKey,_=await this.client.core.crypto.generateSharedKey(v,E),x=Rt(Rt(Rt({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:v,metadata:this.client.metadata},expiry:pn(Du)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),S=Dt.relay;b.addTrace(Js.subscribing_session_topic);try{await this.client.core.relayer.subscribe(_,{transportType:S})}catch(C){throw b.setError(Yc.subscribe_session_topic_failure),C}b.addTrace(Js.subscribe_session_topic_success);const T=Rr(Rt({},x),{topic:_,requiredNamespaces:y,optionalNamespaces:w,pairingTopic:p,acknowledged:!1,self:x.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:v,transportType:Dt.relay});await this.client.session.set(_,T),b.addTrace(Js.store_session);try{b.addTrace(Js.publishing_session_settle),await this.sendRequest({topic:_,method:"wc_sessionSettle",params:x,throwOnFailedPublish:!0}).catch(C=>{throw b==null||b.setError(Yc.session_settle_publish_failure),C}),b.addTrace(Js.session_settle_publish_success),b.addTrace(Js.publishing_session_approve),await this.sendResult({id:a,topic:p,result:{relay:{protocol:c??"irn"},responderPublicKey:v},throwOnFailedPublish:!0}).catch(C=>{throw b==null||b.setError(Yc.session_approve_publish_failure),C}),b.addTrace(Js.session_approve_publish_success)}catch(C){throw this.client.logger.error(C),this.client.session.delete(_,Mt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(_),C}return this.client.core.eventClient.deleteEvent({eventId:b.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(_,pn(Du)),{topic:_,acknowledged:()=>Promise.resolve(this.client.session.get(_))}}),te(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:s}=n;let i;try{i=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}i&&await this.sendError({id:r,topic:i,error:s,rpcOpts:Cn.wc_sessionPropose.reject}),await this.deleteProposal(r)}),te(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:s}=n,{done:i,resolve:o,reject:a}=nl(),c=ji(),l=vl().toString(),u=this.client.session.get(r).namespaces;return this.events.once(ht("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:i}}),te(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,s=ji(),{done:i,resolve:o,reject:a}=nl();return this.events.once(ht("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,pn(Du)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:i}}),te(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:r,request:s,topic:i,expiry:o=Cn.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(i);(a==null?void 0:a.transportType)===Dt.relay&&await this.confirmOnlineStateOrThrow();const c=ji(),l=vl().toString(),{done:u,resolve:d,reject:h}=nl(o,"Request expired. Please try again.");this.events.once(ht("session_request",c),({error:y,result:w})=>{y?h(y):d(w)});const f="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:f,params:{request:Rr(Rt({},s),{expiryTimestamp:pn(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),await u();const g={request:Rr(Rt({},s),{expiryTimestamp:pn(o)}),chainId:r};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:f,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(w=>h(w)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),y()}),new Promise(async y=>{var w;if(!((w=a.sessionConfig)!=null&&w.disableDeepLink)){const b=await Gae(this.client.core.storage,Lk);await qae({id:c,topic:i,wcDeepLink:b})}y()}),u()]).then(y=>y[2])}),te(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:i}=s,o=this.client.session.get(r);o.transportType===Dt.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Ui(s)?await this.sendResult({id:i,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:a}):Os(s)&&await this.sendError({id:i,topic:r,error:s.error,appLink:a}),this.cleanupAfterResponse(n)}),te(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=ji(),i=vl().toString(),{done:o,resolve:a,reject:c}=nl();this.events.once(ht("session_ping",s),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),te(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:i}=n,o=vl().toString(),a=ji();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),te(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Mt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=ae("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),te(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>tde(r,n)))),te(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),te(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const i=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?Dt.link_mode:Dt.relay;o===Dt.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:p,methods:g=[],expiry:y}=n,w=[...n.resources||[]],{topic:b,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:b,uri:v}});const E=await this.client.core.crypto.generateKeyPair(),_=sw(E);if(await Promise.all([this.client.auth.authKeys.set(ow,{responseTopic:_,publicKey:E}),this.client.auth.pairingTopics.set(_,{topic:_,pairingTopic:b})]),await this.client.core.relayer.subscribe(_,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${b}`),g.length>0){const{namespace:k}=Td(a[0]);let U=cle(k,"request",g);rw(w)&&(U=ule(U,w.pop())),w.push(U)}const x=y&&y>Cn.wc_sessionAuthenticate.req.ttl?y:Cn.wc_sessionAuthenticate.req.ttl,S={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:p,resources:w},requester:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:pn(x)},T={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},C={requiredNamespaces:{},optionalNamespaces:T,relays:[{protocol:"irn"}],pairingTopic:b,proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:pn(Cn.wc_sessionPropose.req.ttl),id:ji()},{done:O,resolve:R,reject:B}=nl(x,"Request expired"),z=ji(),M=ht("session_connect",C.id),I=ht("session_request",z),A=async({error:k,session:U})=>{this.events.off(I,j),k?B(k):U&&R({session:U})},j=async k=>{var U,F,V;if(await this.deletePendingAuthRequest(z,{message:"fulfilled",code:0}),k.error){const Re=Mt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return k.error.code===Re.code?void 0:(this.events.off(M,A),B(k.error.message))}await this.deleteProposal(C.id),this.events.off(M,A);const{cacaos:J,responder:K}=k.result,Z=[],se=[];for(const Re of J){await NP({cacao:Re,projectId:this.client.core.projectId})||(this.client.logger.error(Re,"Signature verification failed"),B(Mt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Ge}=Re,Lt=rw(Ge.resources),Ai=[BC(Ge.iss)],Ye=i0(Ge.iss);if(Lt){const Ke=PP(Lt),Kt=kP(Lt);Z.push(...Ke),Ai.push(...Kt)}for(const Ke of Ai)se.push(`${Ke}:${Ye}`)}const Ie=await this.client.core.crypto.generateSharedKey(E,K.publicKey);let je;Z.length>0&&(je={topic:Ie,acknowledged:!0,self:{publicKey:E,metadata:this.client.metadata},peer:K,controller:K.publicKey,expiry:pn(Du),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:b,namespaces:tk([...new Set(Z)],[...new Set(se)]),transportType:o},await this.client.core.relayer.subscribe(Ie,{transportType:o}),await this.client.session.set(Ie,je),b&&await this.client.core.pairing.updateMetadata({topic:b,metadata:K.metadata}),je=this.client.session.get(Ie)),(U=this.client.metadata.redirect)!=null&&U.linkMode&&(F=K.metadata.redirect)!=null&&F.linkMode&&(V=K.metadata.redirect)!=null&&V.universal&&r&&(this.client.core.addLinkModeSupportedApp(K.metadata.redirect.universal),this.client.session.update(Ie,{transportType:Dt.link_mode})),R({auths:J,session:je})};this.events.once(M,A),this.events.once(I,j);let P;try{if(i){const k=nc("wc_sessionAuthenticate",S,z);this.client.core.history.set(b,k);const U=await this.client.core.crypto.encode("",k,{type:fm,encoding:Ua});P=vy(r,b,U)}else await Promise.all([this.sendRequest({topic:b,method:"wc_sessionAuthenticate",params:S,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:z}),this.sendRequest({topic:b,method:"wc_sessionPropose",params:C,expiry:Cn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:C.id})])}catch(k){throw this.events.off(M,A),this.events.off(I,j),k}return await this.setProposal(C.id,C),await this.setAuthRequest(z,{request:Rr(Rt({},S),{verifyContext:{}}),pairingTopic:b,transportType:o}),{uri:P??v,response:O}}),te(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Jc.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw i.setError(pf.no_internet_connection),y}const o=this.getPendingAuthRequest(r);if(!o)throw i.setError(pf.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||Dt.relay;a===Dt.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=sw(c),d={type:Do,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const y of s){if(!await NP({cacao:y,projectId:this.client.core.projectId})){i.setError(pf.invalid_cacao);const _=Mt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:_,encodeOpts:d}),new Error(_.message)}i.addTrace(Jc.cacaos_verified);const{p:w}=y,b=rw(w.resources),v=[BC(w.iss)],E=i0(w.iss);if(b){const _=PP(b),x=kP(b);h.push(..._),v.push(...x)}for(const _ of v)f.push(`${_}:${E}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(Jc.create_authenticated_session_topic);let g;if((h==null?void 0:h.length)>0){g={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:pn(Du),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:tk([...new Set(h)],[...new Set(f)]),transportType:a},i.addTrace(Jc.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(y){throw i.setError(pf.subscribe_authenticated_session_topic_failure),y}i.addTrace(Jc.subscribe_authenticated_session_topic_success),await this.client.session.set(p,g),i.addTrace(Jc.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(Jc.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(y){throw i.setError(pf.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:g}}),te(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,i=this.getPendingAuthRequest(r);if(!i)throw new Error(`Could not find pending auth request with id ${r}`);i.transportType===Dt.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=sw(o),l={type:Do,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:s,encodeOpts:l,rpcOpts:Cn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),te(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return L4(r,s)}),te(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),te(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&i.topic&&i.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),te(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,Mt("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(Lk).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,Mt("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Ri.idle),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),te(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(Yc.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Mt("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),te(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==n),s&&(this.sessionRequestQueue.state=Ri.idle,this.client.events.emit("session_request_expire",{id:n}))}),te(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),te(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),te(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,pn(Cn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),te(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:i,transportType:o=Dt.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),te(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:i,verifyContext:o}=n,a=i.request.expiryTimestamp||pn(Cn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:s,params:i,verifyContext:o})}),te(this,"sendRequest",async n=>{const{topic:r,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d}=n,h=nc(s,i,c);let f;const p=!!u;try{const w=p?Ua:fi;f=await this.client.core.crypto.encode(r,h,{encoding:w})}catch(w){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),w}let g;if(gme.includes(s)){const w=Wi(JSON.stringify(h)),b=Wi(f);g=await this.client.core.verify.register({id:b,decryptedId:w})}const y=Cn[s].req;if(y.attestation=g,o&&(y.ttl=o),a&&(y.id=a),this.client.core.history.set(r,h),p){const w=vy(u,r,f);await global.Linking.openURL(w,this.client.name)}else{const w=Cn[s].req;o&&(w.ttl=o),a&&(w.id=a),w.tvf=Rr(Rt({},d),{correlationId:h.id}),l?(w.internal=Rr(Rt({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,f,w)):this.client.core.relayer.publish(r,f,w).catch(b=>this.client.logger.error(b))}return h.id}),te(this,"sendResult",async n=>{const{id:r,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=kv(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=d?Ua:fi;u=await this.client.core.crypto.encode(s,l,Rr(Rt({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),p}let h,f;try{h=await this.client.core.history.get(s,r);const p=h.request;try{f=this.getTVFParams(r,p.params,i)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g==null?void 0:g.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),p}if(d){const p=vy(c,s,u);await global.Linking.openURL(p,this.client.name)}else{const p=h.request.method,g=Cn[p].res;g.tvf=Rr(Rt({},f),{correlationId:r}),o?(g.internal=Rr(Rt({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,g)):this.client.core.relayer.publish(s,u,g).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(l)}),te(this,"sendError",async n=>{const{id:r,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=Ov(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const f=d?Ua:fi;u=await this.client.core.crypto.encode(s,l,Rr(Rt({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),f}let h;try{h=await this.client.core.history.get(s,r)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),f}if(d){const f=vy(c,s,u);await global.Linking.openURL(f,this.client.name)}else{const f=h.request.method,p=a||Cn[f].res;this.client.core.relayer.publish(s,u,p)}await this.client.core.history.resolve(l)}),te(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let i=!1;Pa(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{Pa(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),te(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),te(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),te(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Ri.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Ri.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Ri.idle}),te(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:i,transportType:o,encryptedId:a}=n,c=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),te(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:i}=n,o=(await this.client.core.history.get(r,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),te(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=ae("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),te(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,i=this.expectedPairingMethodMap.get(r);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),te(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:i,encryptedId:o}=n,{params:a,id:c}=s;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(vo.proposal_listener_not_found)),this.isValidConnect(Rt({},s.params));const u=a.expiryTimestamp||pn(Cn.wc_sessionPropose.req.ttl),d=Rt({id:c,pairingTopic:r,expiryTimestamp:u,attestation:i,encryptedId:o},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:i,hash:Wi(JSON.stringify(s)),encryptedId:o,metadata:d.proposer.metadata});l==null||l.addTrace($i.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:Cn.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),te(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:i}=r;if(Ui(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(i,{sessionTopic:u,pairingTopic:n,proposalId:i,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(Os(r)){await this.deleteProposal(i);const o=ht("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),te(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:i}=r;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=r.params,f=[...this.pendingSessions.values()].find(y=>y.sessionTopic===n);if(!f)return this.client.logger.error(`Pending session not found for topic ${n}`);const p=this.client.proposal.get(f.proposalId),g=Rr(Rt(Rt(Rt({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:Dt.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(ht("session_connect",f.proposalId),{session:g}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),te(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;Ui(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(ht("session_approve",s),{})):Os(r)&&(await this.client.session.delete(n,Mt("USER_DISCONNECTED")),this.events.emit(ht("session_approve",s),{error:r.error}))}),te(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:i}=r;try{const o=`${n}_session_update`,a=hf.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:n,error:Mt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Rt({topic:n},s));try{hf.set(o,i),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:n,result:!0})}catch(c){throw hf.delete(o),c}this.client.events.emit("session_update",{id:i,topic:n,params:s})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),te(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),te(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,i=ht("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Ui(r)?this.events.emit(ht("session_update",s),{}):Os(r)&&this.events.emit(ht("session_update",s),{error:r.error})}),te(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,pn(Du)),await this.sendResult({id:s,topic:n,result:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),te(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,i=ht("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Ui(r)?this.events.emit(ht("session_extend",s),{}):Os(r)&&this.events.emit(ht("session_extend",s),{error:r.error})}),te(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),te(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,i=ht("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);Ui(r)?this.events.emit(ht("session_ping",s),{}):Os(r)&&this.events.emit(ht("session_ping",s),{error:r.error})},500)}),te(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(In.publish,async()=>{i(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Mt("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),te(this,"onSessionRequest",async n=>{var r,s,i;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:h}=a;try{await this.isValidRequest(Rt({topic:o},h));const f=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:Wi(JSON.stringify(nc("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),g={id:d,topic:o,params:h,verifyContext:p};await this.setPendingSessionRequest(g),u===Dt.link_mode&&(r=f.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=f.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:o,error:f}),this.client.logger.error(f)}}),te(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,i=ht("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Ui(r)?this.events.emit(ht("session_request",s),{result:r.result}):Os(r)&&this.events.emit(ht("session_request",s),{error:r.error})}),te(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:i}=r;try{const o=`${n}_session_event_${i.event.name}`,a=hf.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(Rt({topic:n},i)),this.client.events.emit("session_event",{id:s,topic:n,params:i}),hf.set(o,s)}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),te(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),Ui(r)?this.events.emit(ht("session_request",s),{result:r.result}):Os(r)&&this.events.emit(ht("session_request",s),{error:r.error})}),te(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:i,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=i.params,h=await this.getVerifyContext({attestationId:o,hash:Wi(JSON.stringify(i)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(i.id,{request:f,pairingTopic:s,transportType:c}),c===Dt.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=i.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(i.params.requester.metadata,c),f={type:Do,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:f,rpcOpts:Cn.wc_sessionAuthenticate.autoReject,appLink:h})}}),te(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),te(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Ri.idle,this.processSessionRequestQueue()},oe.toMiliseconds(this.requestQueueDelay))}),te(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===n&&i.request.method==="wc_sessionRequest").forEach(i=>{const o=i.request.id,a=ht("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(ht("session_request",i.request.id),{error:r})})}),te(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Ri.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Ri.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),te(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),te(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:nc("wc_sessionPropose",Rr(Rt({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),te(this,"isValidConnect",async n=>{if(!Ur(n)){const{message:l}=ae("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:c}=n;if(Fn(r)||await this.isValidPairingTopic(r),!fde(c)){const{message:l}=ae("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!Fn(s)&&vc(s)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,"requiredNamespaces")}if(!Fn(i)&&vc(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),Fn(o)||this.validateSessionProps(o,"sessionProperties"),!Fn(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(u=>l.includes(u)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),te(this,"validateNamespaces",(n,r)=>{const s=hde(n,"connect()",r);if(s)throw new Error(s.message)}),te(this,"isValidApprove",async n=>{if(!Ur(n))throw new Error(ae("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=V1(s,"approve()");if(l)throw new Error(l.message);const u=sk(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!un(i,!0)){const{message:d}=ae("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(d)}if(Fn(o)||this.validateSessionProps(o,"sessionProperties"),!Fn(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(s));if(!Object.keys(a).every(h=>d.has(h)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),te(this,"isValidReject",async n=>{if(!Ur(n)){const{message:i}=ae("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(i)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!gde(s)){const{message:i}=ae("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),te(this,"isValidSessionSettleRequest",n=>{if(!Ur(n)){const{message:l}=ae("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:s,namespaces:i,expiry:o}=n;if(!gj(r)){const{message:l}=ae("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=ode(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=V1(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Pa(o)){const{message:l}=ae("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),te(this,"isValidUpdate",async n=>{if(!Ur(n)){const{message:c}=ae("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const i=this.client.session.get(r),o=V1(s,"update()");if(o)throw new Error(o.message);const a=sk(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),te(this,"isValidExtend",async n=>{if(!Ur(n)){const{message:s}=ae("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),te(this,"isValidRequest",async n=>{if(!Ur(n)){const{message:c}=ae("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:s,chainId:i,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!rk(a,i)){const{message:c}=ae("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!mde(s)){const{message:c}=ae("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!vde(a,i,s.method)){const{message:c}=ae("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(o&&!Cde(o,X1)){const{message:c}=ae("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${X1.min} and ${X1.max}`);throw new Error(c)}}),te(this,"isValidRespond",async n=>{var r;if(!Ur(n)){const{message:o}=ae("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:s,response:i}=n;try{await this.isValidSessionTopic(s)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!yde(i)){const{message:o}=ae("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(o)}}),te(this,"isValidPing",async n=>{if(!Ur(n)){const{message:s}=ae("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),te(this,"isValidEmit",async n=>{if(!Ur(n)){const{message:a}=ae("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:s,chainId:i}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!rk(o,i)){const{message:a}=ae("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!wde(s)){const{message:a}=ae("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!bde(o,i,s.name)){const{message:a}=ae("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),te(this,"isValidDisconnect",async n=>{if(!Ur(n)){const{message:s}=ae("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),te(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:i,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!un(s,!1))throw new Error("uri is required parameter");if(!un(i,!1))throw new Error("domain is required parameter");if(!un(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>Td(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Td(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),te(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:i,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||op,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Dt.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),te(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,i)=>{if(s==null){const{message:o}=ae("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[i]}`);throw new Error(o)}})}),te(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),te(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),te(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=ae("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),te(this,"isLinkModeEnabled",(n,r)=>{var s,i,o,a,c,l,u,d,h;return!n||r!==Dt.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==""&&((h=n==null?void 0:n.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),te(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n==null?void 0:n.redirect)==null?void 0:s.universal:void 0}),te(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=yP(n,"topic")||"",s=decodeURIComponent(yP(n,"wc_ev")||""),i=this.client.session.keys.includes(r);i&&this.client.session.update(r,{transportType:Dt.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:i})}),te(this,"registerLinkModeListeners",async()=>{var n;if(BA()||Mc()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),te(this,"getTVFParams",(n,r,s)=>{var i,o,a;if(!((i=r.request)!=null&&i.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,s);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),te(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),te(this,"extractTxHashesFromResult",(n,r)=>{var s;try{if(!r)return[];const i=n.method,o=fme[i];if(i==="sui_signTransaction")return[Vce(r.transactionBytes)];if(i==="near_signTransaction")return[SP(r)];if(i==="near_signTransactions")return r.map(c=>SP(c));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=r.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[Lde({transaction:n.params.transactionPayload,signature:r.signature})];if(i==="algo_signTxn")return jo(r)?r.map(c=>AP(c)):[AP(r)];if(i==="cosmos_signDirect")return[Kce(r)];if(typeof r=="string")return[r];const a=r[o.key];if(jo(a))return i==="solana_signAllTransactions"?a.map(c=>Hce(c)):a;if(typeof a=="string")return[a]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,s]of Object.entries(n))for(const i of s)try{await this.onProviderMessageEvent({topic:r,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${i}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(In.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:s,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(ow)?this.client.auth.authKeys.get(ow):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:i===Dt.link_mode?Ua:fi});tI(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:s,transportType:i,encryptedId:Wi(r)})):Rv(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:i}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:i}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Ps.expired,async e=>{const{topic:n,id:r}=C4(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,ae("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,ae("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(ol.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(ol.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!un(e,!1)){const{message:n}=ae("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=ae("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Pa(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=ae("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!un(e,!1)){const{message:n}=ae("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=ae("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Pa(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=ae("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=ae("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(un(e,!1)){const{message:n}=ae("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=ae("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!pde(e)){const{message:n}=ae("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=ae("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Pa(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=ae("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class Ime extends wu{constructor(e,n){super(e,n,ume,nI),this.core=e,this.logger=n}}let Tme=class extends wu{constructor(e,n){super(e,n,dme,nI),this.core=e,this.logger=n}};class Nme extends wu{constructor(e,n){super(e,n,pme,nI,r=>r.id),this.core=e,this.logger=n}}class Pme extends wu{constructor(e,n){super(e,n,wme,Dv,()=>ow),this.core=e,this.logger=n}}class kme extends wu{constructor(e,n){super(e,n,vme,Dv),this.core=e,this.logger=n}}class Ome extends wu{constructor(e,n){super(e,n,bme,Dv,r=>r.id),this.core=e,this.logger=n}}var Rme=Object.defineProperty,$me=(t,e,n)=>e in t?Rme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,e_=(t,e,n)=>$me(t,typeof e!="symbol"?e+"":e,n);class Dme{constructor(e,n){this.core=e,this.logger=n,e_(this,"authKeys"),e_(this,"pairingTopics"),e_(this,"requests"),this.authKeys=new Pme(this.core,this.logger),this.pairingTopics=new kme(this.core,this.logger),this.requests=new Ome(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var jme=Object.defineProperty,Ume=(t,e,n)=>e in t?jme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xe=(t,e,n)=>Ume(t,typeof e!="symbol"?e+"":e,n);let Lme=class Wj extends Wte{constructor(e){super(e),Xe(this,"protocol",Bj),Xe(this,"version",Fj),Xe(this,"name",Z1.name),Xe(this,"metadata"),Xe(this,"core"),Xe(this,"logger"),Xe(this,"events",new qs.EventEmitter),Xe(this,"engine"),Xe(this,"session"),Xe(this,"proposal"),Xe(this,"pendingRequest"),Xe(this,"auth"),Xe(this,"signConfig"),Xe(this,"on",(r,s)=>this.events.on(r,s)),Xe(this,"once",(r,s)=>this.events.once(r,s)),Xe(this,"off",(r,s)=>this.events.off(r,s)),Xe(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),Xe(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),Xe(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),Xe(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(i){throw this.logger.error(i.message),i}}),Xe(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),Xe(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||Z1.name,this.metadata=Lae(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:om(Ch({level:(e==null?void 0:e.logger)||Z1.logger}));this.core=(e==null?void 0:e.core)||new lme(e),this.logger=dr(n,this.name),this.session=new Tme(this.core,this.logger),this.proposal=new Ime(this.core,this.logger),this.pendingRequest=new Nme(this.core,this.logger),this.engine=new Ame(this),this.auth=new Dme(this.core,this.logger)}static async init(e){const n=new Wj(e);return await n.initialize(),n}get context(){return es(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},oe.toMiliseconds(oe.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var hx={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Xt<"u"&&Xt,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof Xt<"u"&&Xt||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(I){return I&&DataView.prototype.isPrototypeOf(I)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(I){return I&&u.indexOf(Object.prototype.toString.call(I))>-1};function h(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(I)||I==="")throw new TypeError('Invalid character in header field name: "'+I+'"');return I.toLowerCase()}function f(I){return typeof I!="string"&&(I=String(I)),I}function p(I){var A={next:function(){var j=I.shift();return{done:j===void 0,value:j}}};return c.iterable&&(A[Symbol.iterator]=function(){return A}),A}function g(I){this.map={},I instanceof g?I.forEach(function(A,j){this.append(j,A)},this):Array.isArray(I)?I.forEach(function(A){if(A.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+A.length);this.append(A[0],A[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(A){this.append(A,I[A])},this)}g.prototype.append=function(I,A){I=h(I),A=f(A);var j=this.map[I];this.map[I]=j?j+", "+A:A},g.prototype.delete=function(I){delete this.map[h(I)]},g.prototype.get=function(I){return I=h(I),this.has(I)?this.map[I]:null},g.prototype.has=function(I){return this.map.hasOwnProperty(h(I))},g.prototype.set=function(I,A){this.map[h(I)]=f(A)},g.prototype.forEach=function(I,A){for(var j in this.map)this.map.hasOwnProperty(j)&&I.call(A,this.map[j],j,this)},g.prototype.keys=function(){var I=[];return this.forEach(function(A,j){I.push(j)}),p(I)},g.prototype.values=function(){var I=[];return this.forEach(function(A){I.push(A)}),p(I)},g.prototype.entries=function(){var I=[];return this.forEach(function(A,j){I.push([j,A])}),p(I)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(I){if(!I._noBody){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}}function w(I){return new Promise(function(A,j){I.onload=function(){A(I.result)},I.onerror=function(){j(I.error)}})}function b(I){var A=new FileReader,j=w(A);return A.readAsArrayBuffer(I),j}function v(I){var A=new FileReader,j=w(A),P=/charset=([A-Za-z0-9_-]+)/.exec(I.type),k=P?P[1]:"utf-8";return A.readAsText(I,k),j}function E(I){for(var A=new Uint8Array(I),j=new Array(A.length),P=0;P<A.length;P++)j[P]=String.fromCharCode(A[P]);return j.join("")}function _(I){if(I.slice)return I.slice(0);var A=new Uint8Array(I.byteLength);return A.set(new Uint8Array(I)),A.buffer}function x(){return this.bodyUsed=!1,this._initBody=function(I){this.bodyUsed=this.bodyUsed,this._bodyInit=I,I?typeof I=="string"?this._bodyText=I:c.blob&&Blob.prototype.isPrototypeOf(I)?this._bodyBlob=I:c.formData&&FormData.prototype.isPrototypeOf(I)?this._bodyFormData=I:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)?this._bodyText=I.toString():c.arrayBuffer&&c.blob&&l(I)?(this._bodyArrayBuffer=_(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(I)||d(I))?this._bodyArrayBuffer=_(I):this._bodyText=I=Object.prototype.toString.call(I):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var I=y(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var I=y(this);return I||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var I=y(this);if(I)return I;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(O)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function T(I){var A=I.toUpperCase();return S.indexOf(A)>-1?A:I}function C(I,A){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');A=A||{};var j=A.body;if(I instanceof C){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,A.headers||(this.headers=new g(I.headers)),this.method=I.method,this.mode=I.mode,this.signal=I.signal,!j&&I._bodyInit!=null&&(j=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new g(A.headers)),this.method=T(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal||function(){if("AbortController"in a){var U=new AbortController;return U.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&j)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(j),(this.method==="GET"||this.method==="HEAD")&&(A.cache==="no-store"||A.cache==="no-cache")){var P=/([?&])_=[^&]*/;if(P.test(this.url))this.url=this.url.replace(P,"$1_="+new Date().getTime());else{var k=/\?/;this.url+=(k.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function O(I){var A=new FormData;return I.trim().split("&").forEach(function(j){if(j){var P=j.split("="),k=P.shift().replace(/\+/g," "),U=P.join("=").replace(/\+/g," ");A.append(decodeURIComponent(k),decodeURIComponent(U))}}),A}function R(I){var A=new g,j=I.replace(/\r?\n[\t ]+/g," ");return j.split("\r").map(function(P){return P.indexOf(`
`)===0?P.substr(1,P.length):P}).forEach(function(P){var k=P.split(":"),U=k.shift().trim();if(U){var F=k.join(":").trim();try{A.append(U,F)}catch(V){console.warn("Response "+V.message)}}}),A}x.call(C.prototype);function B(I,A){if(!(this instanceof B))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=A.statusText===void 0?"":""+A.statusText,this.headers=new g(A.headers),this.url=A.url||"",this._initBody(I)}x.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},B.error=function(){var I=new B(null,{status:200,statusText:""});return I.ok=!1,I.status=0,I.type="error",I};var z=[301,302,303,307,308];B.redirect=function(I,A){if(z.indexOf(A)===-1)throw new RangeError("Invalid status code");return new B(null,{status:A,headers:{location:I}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(A,j){this.message=A,this.name=j;var P=Error(A);this.stack=P.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function M(I,A){return new Promise(function(j,P){var k=new C(I,A);if(k.signal&&k.signal.aborted)return P(new o.DOMException("Aborted","AbortError"));var U=new XMLHttpRequest;function F(){U.abort()}U.onload=function(){var K={statusText:U.statusText,headers:R(U.getAllResponseHeaders()||"")};k.url.indexOf("file://")===0&&(U.status<200||U.status>599)?K.status=200:K.status=U.status,K.url="responseURL"in U?U.responseURL:K.headers.get("X-Request-URL");var Z="response"in U?U.response:U.responseText;setTimeout(function(){j(new B(Z,K))},0)},U.onerror=function(){setTimeout(function(){P(new TypeError("Network request failed"))},0)},U.ontimeout=function(){setTimeout(function(){P(new TypeError("Network request timed out"))},0)},U.onabort=function(){setTimeout(function(){P(new o.DOMException("Aborted","AbortError"))},0)};function V(K){try{return K===""&&a.location.href?a.location.href:K}catch{return K}}if(U.open(k.method,V(k.url),!0),k.credentials==="include"?U.withCredentials=!0:k.credentials==="omit"&&(U.withCredentials=!1),"responseType"in U&&(c.blob?U.responseType="blob":c.arrayBuffer&&(U.responseType="arraybuffer")),A&&typeof A.headers=="object"&&!(A.headers instanceof g||a.Headers&&A.headers instanceof a.Headers)){var J=[];Object.getOwnPropertyNames(A.headers).forEach(function(K){J.push(h(K)),U.setRequestHeader(K,f(A.headers[K]))}),k.headers.forEach(function(K,Z){J.indexOf(Z)===-1&&U.setRequestHeader(Z,K)})}else k.headers.forEach(function(K,Z){U.setRequestHeader(Z,K)});k.signal&&(k.signal.addEventListener("abort",F),U.onreadystatechange=function(){U.readyState===4&&k.signal.removeEventListener("abort",F)}),U.send(typeof k._bodyInit>"u"?null:k._bodyInit)})}return M.polyfill=!0,a.fetch||(a.fetch=M,a.Headers=g,a.Request=C,a.Response=B),o.Headers=g,o.Request=C,o.Response=B,o.fetch=M,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(hx,hx.exports);var Mme=hx.exports;const Fk=ou(Mme);var Bme=Object.defineProperty,Fme=Object.defineProperties,zme=Object.getOwnPropertyDescriptors,zk=Object.getOwnPropertySymbols,Wme=Object.prototype.hasOwnProperty,qme=Object.prototype.propertyIsEnumerable,Wk=(t,e,n)=>e in t?Bme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qk=(t,e)=>{for(var n in e||(e={}))Wme.call(e,n)&&Wk(t,n,e[n]);if(zk)for(var n of zk(e))qme.call(e,n)&&Wk(t,n,e[n]);return t},Hk=(t,e)=>Fme(t,zme(e));const Hme={Accept:"application/json","Content-Type":"application/json"},Vme="POST",Vk={headers:Hme,method:Vme},Gk=10;let Si=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new qs.EventEmitter,this.isAvailable=!1,this.registering=!1,!uk(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Vo(e),r=await(await Fk(this.url,Hk(qk({},Vk),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!uk(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Vo({id:1,jsonrpc:"2.0",method:"test",params:[]});await Fk(e,Hk(qk({},Vk),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Ql(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=Ov(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return wj(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Gk&&this.events.setMaxListeners(Gk)}};const Kk="error",Gme="wss://relay.walletconnect.org",Kme="wc",Yme="universal_provider",_y=`${Kme}@2:${Yme}:`,qj="https://rpc.walletconnect.org/v1/",Xu="generic",Jme=`${qj}bundler`,Vs={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function rI(t){return t==null||typeof t!="object"&&typeof t!="function"}function Hj(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Vj(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Qme="[object RegExp]",Gj="[object String]",Kj="[object Number]",Yj="[object Boolean]",Jj="[object Arguments]",Zme="[object Symbol]",Xme="[object Date]",eye="[object Map]",tye="[object Set]",nye="[object Array]",rye="[object ArrayBuffer]",sye="[object Object]",iye="[object DataView]",oye="[object Uint8Array]",aye="[object Uint8ClampedArray]",cye="[object Uint16Array]",lye="[object Uint32Array]",uye="[object Int8Array]",dye="[object Int16Array]",hye="[object Int32Array]",fye="[object Float32Array]",pye="[object Float64Array]";function sI(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gye(t,e){return yd(t,void 0,t,new Map,e)}function yd(t,e,n,r=new Map,s=void 0){const i=s==null?void 0:s(t,e,n,r);if(i!=null)return i;if(rI(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=yd(t[a],a,n,r,s);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,yd(c,a,n,r,s));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(yd(a,void 0,n,r,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(sI(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=yd(t[a],a,n,r,s);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),al(o,t,n,r,s),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),al(o,t,n,r,s),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),al(o,t,n,r,s),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,al(o,t,n,r,s),o}if(typeof t=="object"&&mye(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),al(o,t,n,r,s),o}return t}function al(t,e,n=t,r,s){const i=[...Object.keys(e),...Hj(e)];for(let o=0;o<i.length;o++){const a=i[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=yd(e[a],a,n,r,s))}}function mye(t){switch(Vj(t)){case Jj:case nye:case rye:case iye:case Yj:case Xme:case fye:case pye:case uye:case dye:case hye:case eye:case Kj:case sye:case Qme:case tye:case Gj:case Zme:case oye:case aye:case cye:case lye:return!0;default:return!1}}function yye(t,e){return gye(t,(n,r,s,i)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case Kj:case Gj:case Yj:{const o=new t.constructor(t==null?void 0:t.valueOf());return al(o,t),o}case Jj:{const o={};return al(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function Yk(t){return yye(t)}function Jk(t){return t!==null&&typeof t=="object"&&Vj(t)==="[object Arguments]"}function Qk(t){return typeof t=="object"&&t!==null}function wye(){}function vye(t){return sI(t)}function bye(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function _ye(t){if(rI(t))return t;if(Array.isArray(t)||sI(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function Eye(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let s=t;for(let i=0;i<n.length;i++){const o=n[i];s=fx(s,o,r,new Map)}return s}function fx(t,e,n,r){if(rI(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return _ye(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let i=0;i<e.length;i++)e[i]=e[i]??void 0}const s=[...Object.keys(e),...Hj(e)];for(let i=0;i<s.length;i++){const o=s[i];let a=e[o],c=t[o];if(Jk(a)&&(a={...a}),Jk(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=Yk(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const f=d[h];u[f]=c[f]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||Qk(c)&&Qk(a)?t[o]=fx(c,a,n,r):c==null&&bye(a)?t[o]=fx({},a,n,r):c==null&&vye(a)?t[o]=Yk(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function Cye(t,...e){return Eye(t,...e,wye)}var xye=Object.defineProperty,Sye=Object.defineProperties,Aye=Object.getOwnPropertyDescriptors,Zk=Object.getOwnPropertySymbols,Iye=Object.prototype.hasOwnProperty,Tye=Object.prototype.propertyIsEnumerable,Xk=(t,e,n)=>e in t?xye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ey=(t,e)=>{for(var n in e||(e={}))Iye.call(e,n)&&Xk(t,n,e[n]);if(Zk)for(var n of Zk(e))Tye.call(e,n)&&Xk(t,n,e[n]);return t},Nye=(t,e)=>Sye(t,Aye(e));function ys(t,e,n){var r;const s=Td(t);return((r=e.rpcMap)==null?void 0:r[s.reference])||`${qj}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function vu(t){return t.includes(":")?t.split(":")[1]:t}function Qj(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Pye(t,e){const n=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!n.length)return[];const r=[];return n.forEach(s=>{const i=e.namespaces[s].accounts;r.push(...i)}),r}function Cy(t={},e={}){const n=eO(t),r=eO(e);return Cye(n,r)}function eO(t){var e,n,r,s,i;const o={};if(!vc(t))return o;for(const[a,c]of Object.entries(t)){const l=Pv(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},f=md(a);o[f]=Nye(Ey(Ey({},o[f]),c),{chains:Zi(l,(e=o[f])==null?void 0:e.chains),methods:Zi(u,(n=o[f])==null?void 0:n.methods),events:Zi(d,(r=o[f])==null?void 0:r.events)}),(vc(h)||vc(((s=o[f])==null?void 0:s.rpcMap)||{}))&&(o[f].rpcMap=Ey(Ey({},h),(i=o[f])==null?void 0:i.rpcMap))}return o}function tO(t){return t.includes(":")?t.split(":")[2]:t}function nO(t){const e={};for(const[n,r]of Object.entries(t)){const s=r.methods||[],i=r.events||[],o=r.accounts||[],a=Pv(n)?[n]:r.chains?r.chains:Qj(r.accounts);e[n]={chains:a,methods:s,events:i,accounts:o}}return e}function t_(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const Zj={},ut=t=>Zj[t],n_=(t,e)=>{Zj[t]=e};var kye=Object.defineProperty,Oye=(t,e,n)=>e in t?kye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ju=(t,e,n)=>Oye(t,typeof e!="symbol"?e+"":e,n);class Rye{constructor(e){ju(this,"name","polkadot"),ju(this,"client"),ju(this,"httpProviders"),ju(this,"events"),ju(this,"namespace"),ju(this,"chainId"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Vs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=vu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ys(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Hs(new Si(r,ut("disableProviderPing")))}}var $ye=Object.defineProperty,Dye=Object.defineProperties,jye=Object.getOwnPropertyDescriptors,rO=Object.getOwnPropertySymbols,Uye=Object.prototype.hasOwnProperty,Lye=Object.prototype.propertyIsEnumerable,px=(t,e,n)=>e in t?$ye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sO=(t,e)=>{for(var n in e||(e={}))Uye.call(e,n)&&px(t,n,e[n]);if(rO)for(var n of rO(e))Lye.call(e,n)&&px(t,n,e[n]);return t},iO=(t,e)=>Dye(t,jye(e)),Uu=(t,e,n)=>px(t,typeof e!="symbol"?e+"":e,n);class Mye{constructor(e){Uu(this,"name","eip155"),Uu(this,"client"),Uu(this,"chainId"),Uu(this,"namespace"),Uu(this,"httpProviders"),Uu(this,"events"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Vs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||ys(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Hs(new Si(r,ut("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(vu(n));e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let s=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,s,i,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((i=(s=e.request)==null?void 0:s.params)==null?void 0:i[1])||[],l=`${a}${c.join(",")}`;if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),d=((o=u==null?void 0:u.sessionProperties)==null?void 0:o.capabilities)||{};if(d!=null&&d[l])return d==null?void 0:d[l];const h=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:iO(sO({},u.sessionProperties||{}),{capabilities:iO(sO({},d||{}),{[l]:h})})})}catch(f){console.warn("Failed to update session with capabilities",f)}return h}async getCallStatus(e){var n,r;const s=this.client.session.get(e.topic),i=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(i){const a=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const s=new URL(e),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(nc("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,n){return`${Jme}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var Bye=Object.defineProperty,Fye=(t,e,n)=>e in t?Bye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lu=(t,e,n)=>Fye(t,typeof e!="symbol"?e+"":e,n);class zye{constructor(e){Lu(this,"name","solana"),Lu(this,"client"),Lu(this,"httpProviders"),Lu(this,"events"),Lu(this,"namespace"),Lu(this,"chainId"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Vs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=vu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ys(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Hs(new Si(r,ut("disableProviderPing")))}}var Wye=Object.defineProperty,qye=(t,e,n)=>e in t?Wye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mu=(t,e,n)=>qye(t,typeof e!="symbol"?e+"":e,n);class Hye{constructor(e){Mu(this,"name","cosmos"),Mu(this,"client"),Mu(this,"httpProviders"),Mu(this,"events"),Mu(this,"namespace"),Mu(this,"chainId"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Vs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=vu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ys(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Hs(new Si(r,ut("disableProviderPing")))}}var Vye=Object.defineProperty,Gye=(t,e,n)=>e in t?Vye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bu=(t,e,n)=>Gye(t,typeof e!="symbol"?e+"":e,n);class Kye{constructor(e){Bu(this,"name","algorand"),Bu(this,"client"),Bu(this,"httpProviders"),Bu(this,"events"),Bu(this,"namespace"),Bu(this,"chainId"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||ys(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Vs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ys(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Hs(new Si(r,ut("disableProviderPing")))}}var Yye=Object.defineProperty,Jye=(t,e,n)=>e in t?Yye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fu=(t,e,n)=>Jye(t,typeof e!="symbol"?e+"":e,n);class Qye{constructor(e){Fu(this,"name","cip34"),Fu(this,"client"),Fu(this,"httpProviders"),Fu(this,"events"),Fu(this,"namespace"),Fu(this,"chainId"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Vs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),s=vu(n);e[s]=this.createHttpProvider(s,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Hs(new Si(r,ut("disableProviderPing")))}}var Zye=Object.defineProperty,Xye=(t,e,n)=>e in t?Zye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zu=(t,e,n)=>Xye(t,typeof e!="symbol"?e+"":e,n);class ewe{constructor(e){zu(this,"name","elrond"),zu(this,"client"),zu(this,"httpProviders"),zu(this,"events"),zu(this,"namespace"),zu(this,"chainId"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Vs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=vu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ys(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Hs(new Si(r,ut("disableProviderPing")))}}var twe=Object.defineProperty,nwe=(t,e,n)=>e in t?twe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wu=(t,e,n)=>nwe(t,typeof e!="symbol"?e+"":e,n);class rwe{constructor(e){Wu(this,"name","multiversx"),Wu(this,"client"),Wu(this,"httpProviders"),Wu(this,"events"),Wu(this,"namespace"),Wu(this,"chainId"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Vs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=vu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ys(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Hs(new Si(r,ut("disableProviderPing")))}}var swe=Object.defineProperty,iwe=(t,e,n)=>e in t?swe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qu=(t,e,n)=>iwe(t,typeof e!="symbol"?e+"":e,n);class owe{constructor(e){qu(this,"name","near"),qu(this,"client"),qu(this,"httpProviders"),qu(this,"events"),qu(this,"namespace"),qu(this,"chainId"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||ys(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Vs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ys(e,this.namespace);return typeof r>"u"?void 0:new Hs(new Si(r,ut("disableProviderPing")))}}var awe=Object.defineProperty,cwe=(t,e,n)=>e in t?awe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hu=(t,e,n)=>cwe(t,typeof e!="symbol"?e+"":e,n);class lwe{constructor(e){Hu(this,"name","tezos"),Hu(this,"client"),Hu(this,"httpProviders"),Hu(this,"events"),Hu(this,"namespace"),Hu(this,"chainId"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||ys(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Vs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ys(e,this.namespace);return typeof r>"u"?void 0:new Hs(new Si(r))}}var uwe=Object.defineProperty,dwe=(t,e,n)=>e in t?uwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vu=(t,e,n)=>dwe(t,typeof e!="symbol"?e+"":e,n);class hwe{constructor(e){Vu(this,"name",Xu),Vu(this,"client"),Vu(this,"httpProviders"),Vu(this,"events"),Vu(this,"namespace"),Vu(this,"chainId"),this.namespace=e.namespace,this.events=ut("events"),this.client=ut("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Vs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(s=>{const i=Td(s);r[`${i.namespace}:${i.reference}`]=this.createHttpProvider(s)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ys(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Hs(new Si(r,ut("disableProviderPing")))}}var fwe=Object.defineProperty,pwe=Object.defineProperties,gwe=Object.getOwnPropertyDescriptors,oO=Object.getOwnPropertySymbols,mwe=Object.prototype.hasOwnProperty,ywe=Object.prototype.propertyIsEnumerable,gx=(t,e,n)=>e in t?fwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xy=(t,e)=>{for(var n in e||(e={}))mwe.call(e,n)&&gx(t,n,e[n]);if(oO)for(var n of oO(e))ywe.call(e,n)&&gx(t,n,e[n]);return t},r_=(t,e)=>pwe(t,gwe(e)),Is=(t,e,n)=>gx(t,typeof e!="symbol"?e+"":e,n);let wwe=class Xj{constructor(e){Is(this,"client"),Is(this,"namespaces"),Is(this,"optionalNamespaces"),Is(this,"sessionProperties"),Is(this,"scopedProperties"),Is(this,"events",new CA),Is(this,"rpcProviders",{}),Is(this,"session"),Is(this,"providerOpts"),Is(this,"logger"),Is(this,"uri"),Is(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:om(Ch({level:(e==null?void 0:e.logger)||Kk})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new Xj(e);return await n.initialize(),n}async request(e,n,r){const[s,i]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:xy({},e),chainId:`${s}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,s){const i=new Date().getTime();this.request(e,r,s).then(o=>n(null,kv(i,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Mt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await s();if(this.session=i.session,this.session){const o=nO(this.session.namespaces);this.namespaces=Cy(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const i=nO(s.namespaces);return this.namespaces=Cy(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,s]=this.validateChain(e),i=this.getProvider(r);i.name===Xu?i.setDefaultChain(`${r}:${s}`,n):i.setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(jo(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await Lme.init({core:this.providerOpts.core,logger:this.providerOpts.logger||Kk,relayUrl:this.providerOpts.relayUrl||Gme,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>md(n)))];n_("client",this.client),n_("events",this.events),n_("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=Pye(n,this.session),s=Qj(r),i=Cy(this.namespaces,this.optionalNamespaces),o=r_(xy({},i[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new Mye({namespace:o});break;case"algorand":this.rpcProviders[n]=new Kye({namespace:o});break;case"solana":this.rpcProviders[n]=new zye({namespace:o});break;case"cosmos":this.rpcProviders[n]=new Hye({namespace:o});break;case"polkadot":this.rpcProviders[n]=new Rye({namespace:o});break;case"cip34":this.rpcProviders[n]=new Qye({namespace:o});break;case"elrond":this.rpcProviders[n]=new ewe({namespace:o});break;case"multiversx":this.rpcProviders[n]=new rwe({namespace:o});break;case"near":this.rpcProviders[n]=new owe({namespace:o});break;case"tezos":this.rpcProviders[n]=new lwe({namespace:o});break;default:this.rpcProviders[Xu]?this.rpcProviders[Xu].updateNamespace(o):this.rpcProviders[Xu]=new hwe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:s}=e;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:i}=r;if(i.name==="accountsChanged"){const o=i.data;o&&jo(o)&&this.events.emit("accountsChanged",o.map(tO))}else if(i.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=md(o),l=t_(o)!==t_(a)?`${c}:${t_(a)}`:o;this.onChainChanged(l)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,s;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:i}=n,o=(s=this.client)==null?void 0:s.session.get(e);this.session=r_(xy({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",r_(xy({},Mt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Vs.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Xu]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:s,scopedProperties:i}=e;this.optionalNamespaces=Cy(n,r),this.sessionProperties=s,this.scopedProperties=i}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>md(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=md(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(e);if(!s)return;this.updateNamespaceChain(r,s),this.events.emit("chainChanged",s);const i=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:i,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var s,i;try{if(n===r)return;const o=(i=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:i.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(tO);if(!jo(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${_y}/${e}${s}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${_y}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${_y}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(_y)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const cp={getSIWX(){return ne.state.siwx},async initializeIfEnabled(){var i;const t=ne.state.siwx,e=$.getActiveCaipAddress();if(!(t&&e))return;const[n,r,s]=e.split(":");if($.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,s)).length)return;await ft.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),yt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((i=we._getClient())==null?void 0:i.disconnect().catch(console.error)),Pe.reset("Connect"),hi.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=ne.state.siwx,e=Ce.getPlainAddress($.getActiveCaipAddress()),n=$.getActiveCaipNetwork(),r=we._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),i=s.toString();ue.getConnectorId(n.chainNamespace)===X.CONNECTOR_ID.AUTH&&Pe.pushTransactionStack({});const a=await r.signMessage(i);await t.addSession({data:s,message:i,signature:a}),$.setLastConnectedSIWECaipNetwork(n),ft.close(),yt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const i=this.getSIWXEventProperties();(!ft.state.open||Pe.state.view==="ApproveTransaction")&&await ft.open({view:"SIWXSignMessage"}),i.isSmartAccount?hi.showError("This application might not support Smart Accounts"):hi.showError("Signature declined"),yt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:i}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();if((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e)){const r=$.getLastConnectedSIWECaipNetwork();r?$.switchActiveNetwork(r):await we.disconnect()}else ft.close();Pe.reset("Connect"),yt.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const t=this.getSIWX(),e=$.getAllRequestedCaipNetworks(),n=[];return await Promise.all(e.map(async r=>{const s=await(t==null?void 0:t.getSessions(r.caipNetworkId,Ce.getPlainAddress($.getActiveCaipAddress())||""));s&&n.push(...s)})),n},async getSessions(){const t=ne.state.siwx,e=Ce.getPlainAddress($.getActiveCaipAddress()),n=$.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=Pe.state.view==="ApproveTransaction",r=Pe.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var a,c,l;const r=cp.getSIWX(),s=new Set(e.map(u=>u.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const i=await r.createMessage({chainId:((a=$.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:i.nonce,domain:i.domain,uri:i.uri,exp:i.expirationTime,iat:i.issuedAt,nbf:i.notBefore,requestId:i.requestId,version:i.version,resources:i.resources,statement:i.statement,chainId:i.chainId,methods:n,chains:[i.chainId,...e.filter(u=>u!==i.chainId)]});if(hi.showLoading("Authenticating...",{autoClose:!1}),ce.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(s)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const u=o.auths.map(d=>{const h=t.client.formatAuthMessage({request:d.p,iss:d.p.iss});return{data:{...d.p,accountAddress:d.p.iss.split(":").slice(-1).join(""),chainId:d.p.iss.split(":").slice(2,4).join(":"),uri:d.p.aud,version:d.p.version||i.version,expirationTime:d.p.exp,issuedAt:d.p.iat,notBefore:d.p.nbf},message:h,signature:d.s.s,cacao:d}});try{await r.setSessions(u),yt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:cp.getSIWXEventProperties()})}catch(d){throw console.error("SIWX:universalProviderAuth - failed to set sessions",d),yt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:cp.getSIWXEventProperties()}),await t.disconnect().catch(console.error),d}finally{hi.hide()}}return!0},getSIWXEventProperties(){var e,n;const t=$.state.activeChain;return{network:((e=$.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((n=ce.state.preferredAccountTypes)==null?void 0:n[t])===kn.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},jt={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},rc={ConnectorExplorerIds:{[X.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[X.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[X.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[X.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[X.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[jt.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[jt.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[jt.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[jt.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[jt.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[jt.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[jt.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[jt.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[jt.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[jt.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[jt.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[X.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[X.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[X.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[X.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[X.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[X.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[X.CONNECTOR_ID.INJECTED]:"Browser Wallet",[X.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[X.CONNECTOR_ID.COINBASE]:"Coinbase",[X.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[X.CONNECTOR_ID.LEDGER]:"Ledger",[X.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[X.CONNECTOR_ID.INJECTED]:"INJECTED",[X.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[X.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[X.CONNECTOR_ID.AUTH]:"AUTH"}},wg={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${jt.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())},getActiveNamespaceConnectedToAuth(){const t=$.state.activeChain;return X.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>ue.getConnectorId(e)===X.CONNECTOR_ID.AUTH&&e===t)}},vwe=new AbortController,zt={EmbeddedWalletAbortController:vwe,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${bwe()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"},SERVER_ERROR_APP_CONFIGURATION:{shortMessage:"Server Error",longMessage:t=>`Failed to get App Configuration ${t||""}`},RATE_LIMITED_APP_CONFIGURATION:{shortMessage:"Rate Limited",longMessage:"Rate limited when trying to get the App Configuration"}}};function bwe(){return typeof window<"u"}const _we={createLogger(t,e="error"){const n=Ch({level:e}),{logger:r}=SA({opts:n});return r.error=(...s)=>{for(const i of s)if(i instanceof Error){t(i,...s);return}t(void 0,...s)},r}},Ewe="rpc.walletconnect.org";function aO(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const s_=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Vi={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===Ewe}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:X.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${X.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var s,i,o;const r=(o=(i=(s=t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null?void 0:o[0];return s_.includes(e)?aO(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var h,f,p,g,y;const s=this.getChainNamespace(t),i=this.getCaipNetworkId(t),o=(h=t.rpcUrls.default.http)==null?void 0:h[0],a=this.getDefaultRpcUrl(t,i,n),c=((g=(p=(f=t==null?void 0:t.rpcUrls)==null?void 0:f.chainDefault)==null?void 0:p.http)==null?void 0:g[0])||o,l=((y=r==null?void 0:r[i])==null?void 0:y.map(w=>w.url))||[],u=[...l,a],d=[...l];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:s,caipNetworkId:i,assets:{imageId:rc.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(s=>Vi.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var s,i,o;const r=[];return n==null||n.forEach(a=>{r.push(Hm(a.url,a.config))}),s_.includes(t.caipNetworkId)&&r.push(Hm(aO(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(i=(s=t==null?void 0:t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null||o.forEach(a=>{r.push(Hm(a))}),aT(r)},extendWagmiTransports(t,e,n){if(s_.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return aT([n,Hm(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:X.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=le.getActiveCaipNetworkId(),n=$.getAllRequestedCaipNetworks(),r=Array.from(((c=$.state.chains)==null?void 0:c.keys())||[]),s=e==null?void 0:e.split(":")[0],i=s?r.includes(s):!1,o=n==null?void 0:n.find(l=>l.caipNetworkId===e);return i&&!o&&e?this.getUnsupportedNetwork(e):o||t||(n==null?void 0:n[0])}},u0={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},$r=kt({providers:{...u0},providerIds:{...u0}}),Et={state:$r,subscribeKey(t,e){return Vn($r,t,e)},subscribe(t){return Hn($r,()=>{t($r)})},subscribeProviders(t){return Hn($r.providers,()=>t($r.providers))},setProvider(t,e){e&&($r.providers[t]=Yl(e))},getProvider(t){return $r.providers[t]},setProviderId(t,e){e&&($r.providerIds[t]=e)},getProviderId(t){if(t)return $r.providerIds[t]},reset(){$r.providers={...u0},$r.providerIds={...u0}},resetChain(t){$r.providers[t]=void 0,$r.providerIds[t]=void 0}},cO={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},Mn={set(t,e){ls.isClient&&localStorage.setItem(`${be.STORAGE_KEY}${t}`,e)},get(t){return ls.isClient?localStorage.getItem(`${be.STORAGE_KEY}${t}`):null},delete(t,e){ls.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${be.STORAGE_KEY}${t}`))}},Sy=30*1e3,ls={checkIfAllowedToTriggerEmail(){const t=Mn.get(be.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Sy){const n=Math.ceil((Sy-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=Mn.get(be.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Sy)return Math.ceil((Sy-e)/1e3)}return 0},checkIfRequestExists(t){return kn.NOT_SAFE_RPC_METHODS.includes(t.method)||kn.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(cO.transactionHash))||(t==null?void 0:t.match(cO.signedMessage)))?be.RPC_RESPONSE_TYPE_TX:be.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return kn.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var lt;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(lt||(lt={}));var mx;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(mx||(mx={}));const pe=lt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),La=t=>{switch(typeof t){case"undefined":return pe.undefined;case"string":return pe.string;case"number":return isNaN(t)?pe.nan:pe.number;case"boolean":return pe.boolean;case"function":return pe.function;case"bigint":return pe.bigint;case"symbol":return pe.symbol;case"object":return Array.isArray(t)?pe.array:t===null?pe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?pe.promise:typeof Map<"u"&&t instanceof Map?pe.map:typeof Set<"u"&&t instanceof Set?pe.set:typeof Date<"u"&&t instanceof Date?pe.date:pe.object;default:return pe.unknown}},ie=lt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Cwe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class wi extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,lt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}wi.create=t=>new wi(t);const vg=(t,e)=>{let n;switch(t.code){case ie.invalid_type:t.received===pe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ie.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,lt.jsonStringifyReplacer)}`;break;case ie.unrecognized_keys:n=`Unrecognized key(s) in object: ${lt.joinValues(t.keys,", ")}`;break;case ie.invalid_union:n="Invalid input";break;case ie.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${lt.joinValues(t.options)}`;break;case ie.invalid_enum_value:n=`Invalid enum value. Expected ${lt.joinValues(t.options)}, received '${t.received}'`;break;case ie.invalid_arguments:n="Invalid function arguments";break;case ie.invalid_return_type:n="Invalid function return type";break;case ie.invalid_date:n="Invalid date";break;case ie.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:lt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ie.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ie.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ie.custom:n="Invalid input";break;case ie.invalid_intersection_types:n="Intersection results could not be merged";break;case ie.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ie.not_finite:n="Number must be finite";break;default:n=e.defaultError,lt.assertNever(t)}return{message:n}};let eU=vg;function xwe(t){eU=t}function d0(){return eU}const h0=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},Swe=[];function ve(t,e){const n=h0({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,d0(),vg].filter(r=>!!r)});t.common.issues.push(n)}class ur{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Ue;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return ur.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ue;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Ue=Object.freeze({status:"aborted"}),tU=t=>({status:"dirty",value:t}),Cr=t=>({status:"valid",value:t}),yx=t=>t.status==="aborted",wx=t=>t.status==="dirty",bg=t=>t.status==="valid",f0=t=>typeof Promise<"u"&&t instanceof Promise;var Ae;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ae||(Ae={}));class no{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const lO=(t,e)=>{if(bg(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new wi(t.common.issues);return this._error=n,this._error}}};function We(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:s}}class Ve{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return La(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:La(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ur,ctx:{common:e.parent.common,data:e.data,parsedType:La(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(f0(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:La(e)},i=this._parseSync({data:e,path:s.path,parent:s});return lO(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:La(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(f0(s)?s:Promise.resolve(s));return lO(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:ie.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Ei({schema:this,typeName:Oe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Uo.create(this,this._def)}nullable(){return su.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vi.create(this,this._def)}promise(){return ch.create(this,this._def)}or(e){return xg.create([this,e],this._def)}and(e){return Sg.create(this,e,this._def)}transform(e){return new Ei({...We(this._def),schema:this,typeName:Oe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Pg({...We(this._def),innerType:this,defaultValue:n,typeName:Oe.ZodDefault})}brand(){return new rU({typeName:Oe.ZodBranded,type:this,...We(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new y0({...We(this._def),innerType:this,catchValue:n,typeName:Oe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return gm.create(this,e)}readonly(){return v0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Awe=/^c[^\s-]{8,}$/i,Iwe=/^[a-z][a-z0-9]*$/,Twe=/^[0-9A-HJKMNP-TV-Z]{26}$/,Nwe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Pwe=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,kwe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let i_;const Owe=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Rwe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,$we=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Dwe(t,e){return!!((e==="v4"||!e)&&Owe.test(t)||(e==="v6"||!e)&&Rwe.test(t))}class pi extends Ve{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==pe.string){const i=this._getOrReturnCtx(e);return ve(i,{code:ie.invalid_type,expected:pe.string,received:i.parsedType}),Ue}const r=new ur;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ve(s,{code:ie.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ve(s,{code:ie.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?ve(s,{code:ie.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&ve(s,{code:ie.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Pwe.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"email",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")i_||(i_=new RegExp(kwe,"u")),i_.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"emoji",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Nwe.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"uuid",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Awe.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"cuid",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Iwe.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"cuid2",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Twe.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"ulid",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ve(s,{validation:"url",code:ie.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"regex",code:ie.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ve(s,{code:ie.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ve(s,{code:ie.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ve(s,{code:ie.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?$we(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{code:ie.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?Dwe(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"ip",code:ie.invalid_string,message:i.message}),r.dirty()):lt.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:ie.invalid_string,...Ae.errToObj(r)})}_addCheck(e){return new pi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ae.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ae.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ae.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ae.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ae.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ae.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ae.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ae.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...Ae.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ae.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ae.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ae.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ae.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ae.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ae.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ae.errToObj(n)})}nonempty(e){return this.min(1,Ae.errToObj(e))}trim(){return new pi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new pi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new pi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}pi.create=t=>{var e;return new pi({checks:[],typeName:Oe.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...We(t)})};function jwe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class kc extends Ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==pe.number){const i=this._getOrReturnCtx(e);return ve(i,{code:ie.invalid_type,expected:pe.number,received:i.parsedType}),Ue}let r;const s=new ur;for(const i of this._def.checks)i.kind==="int"?lt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ve(r,{code:ie.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:ie.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:ie.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?jwe(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ve(r,{code:ie.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ve(r,{code:ie.not_finite,message:i.message}),s.dirty()):lt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ae.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ae.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ae.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ae.toString(n))}setLimit(e,n,r,s){return new kc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ae.toString(s)}]})}_addCheck(e){return new kc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ae.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ae.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ae.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ae.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ae.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ae.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&lt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}kc.create=t=>new kc({checks:[],typeName:Oe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...We(t)});class Oc extends Ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==pe.bigint){const i=this._getOrReturnCtx(e);return ve(i,{code:ie.invalid_type,expected:pe.bigint,received:i.parsedType}),Ue}let r;const s=new ur;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:ie.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:ie.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:ie.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):lt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ae.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ae.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ae.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ae.toString(n))}setLimit(e,n,r,s){return new Oc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ae.toString(s)}]})}_addCheck(e){return new Oc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ae.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ae.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Oc.create=t=>{var e;return new Oc({checks:[],typeName:Oe.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...We(t)})};class _g extends Ve{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==pe.boolean){const r=this._getOrReturnCtx(e);return ve(r,{code:ie.invalid_type,expected:pe.boolean,received:r.parsedType}),Ue}return Cr(e.data)}}_g.create=t=>new _g({typeName:Oe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...We(t)});class nu extends Ve{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==pe.date){const i=this._getOrReturnCtx(e);return ve(i,{code:ie.invalid_type,expected:pe.date,received:i.parsedType}),Ue}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ve(i,{code:ie.invalid_date}),Ue}const r=new ur;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ve(s,{code:ie.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ve(s,{code:ie.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):lt.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new nu({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ae.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ae.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}nu.create=t=>new nu({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Oe.ZodDate,...We(t)});class p0 extends Ve{_parse(e){if(this._getType(e)!==pe.symbol){const r=this._getOrReturnCtx(e);return ve(r,{code:ie.invalid_type,expected:pe.symbol,received:r.parsedType}),Ue}return Cr(e.data)}}p0.create=t=>new p0({typeName:Oe.ZodSymbol,...We(t)});class Eg extends Ve{_parse(e){if(this._getType(e)!==pe.undefined){const r=this._getOrReturnCtx(e);return ve(r,{code:ie.invalid_type,expected:pe.undefined,received:r.parsedType}),Ue}return Cr(e.data)}}Eg.create=t=>new Eg({typeName:Oe.ZodUndefined,...We(t)});class Cg extends Ve{_parse(e){if(this._getType(e)!==pe.null){const r=this._getOrReturnCtx(e);return ve(r,{code:ie.invalid_type,expected:pe.null,received:r.parsedType}),Ue}return Cr(e.data)}}Cg.create=t=>new Cg({typeName:Oe.ZodNull,...We(t)});class ah extends Ve{constructor(){super(...arguments),this._any=!0}_parse(e){return Cr(e.data)}}ah.create=t=>new ah({typeName:Oe.ZodAny,...We(t)});class Rl extends Ve{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Cr(e.data)}}Rl.create=t=>new Rl({typeName:Oe.ZodUnknown,...We(t)});class Ko extends Ve{_parse(e){const n=this._getOrReturnCtx(e);return ve(n,{code:ie.invalid_type,expected:pe.never,received:n.parsedType}),Ue}}Ko.create=t=>new Ko({typeName:Oe.ZodNever,...We(t)});class g0 extends Ve{_parse(e){if(this._getType(e)!==pe.undefined){const r=this._getOrReturnCtx(e);return ve(r,{code:ie.invalid_type,expected:pe.void,received:r.parsedType}),Ue}return Cr(e.data)}}g0.create=t=>new g0({typeName:Oe.ZodVoid,...We(t)});class vi extends Ve{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==pe.array)return ve(n,{code:ie.invalid_type,expected:pe.array,received:n.parsedType}),Ue;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(ve(n,{code:o?ie.too_big:ie.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ve(n,{code:ie.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ve(n,{code:ie.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new no(n,o,n.path,a)))).then(o=>ur.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new no(n,o,n.path,a)));return ur.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new vi({...this._def,minLength:{value:e,message:Ae.toString(n)}})}max(e,n){return new vi({...this._def,maxLength:{value:e,message:Ae.toString(n)}})}length(e,n){return new vi({...this._def,exactLength:{value:e,message:Ae.toString(n)}})}nonempty(e){return this.min(1,e)}}vi.create=(t,e)=>new vi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Oe.ZodArray,...We(e)});function ed(t){if(t instanceof Wt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Uo.create(ed(r))}return new Wt({...t._def,shape:()=>e})}else return t instanceof vi?new vi({...t._def,type:ed(t.element)}):t instanceof Uo?Uo.create(ed(t.unwrap())):t instanceof su?su.create(ed(t.unwrap())):t instanceof ro?ro.create(t.items.map(e=>ed(e))):t}class Wt extends Ve{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=lt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==pe.object){const l=this._getOrReturnCtx(e);return ve(l,{code:ie.invalid_type,expected:pe.object,received:l.parsedType}),Ue}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ko&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=i[l],d=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new no(s,d,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof Ko){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")a.length>0&&(ve(s,{code:ie.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const d=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new no(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key;l.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>ur.mergeObjectSync(r,l)):ur.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Ae.errToObj,new Wt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Ae.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Wt({...this._def,unknownKeys:"strip"})}passthrough(){return new Wt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Wt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Wt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Oe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Wt({...this._def,catchall:e})}pick(e){const n={};return lt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Wt({...this._def,shape:()=>n})}omit(e){const n={};return lt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Wt({...this._def,shape:()=>n})}deepPartial(){return ed(this)}partial(e){const n={};return lt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Wt({...this._def,shape:()=>n})}required(e){const n={};return lt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Uo;)i=i._def.innerType;n[r]=i}}),new Wt({...this._def,shape:()=>n})}keyof(){return nU(lt.objectKeys(this.shape))}}Wt.create=(t,e)=>new Wt({shape:()=>t,unknownKeys:"strip",catchall:Ko.create(),typeName:Oe.ZodObject,...We(e)});Wt.strictCreate=(t,e)=>new Wt({shape:()=>t,unknownKeys:"strict",catchall:Ko.create(),typeName:Oe.ZodObject,...We(e)});Wt.lazycreate=(t,e)=>new Wt({shape:t,unknownKeys:"strip",catchall:Ko.create(),typeName:Oe.ZodObject,...We(e)});class xg extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new wi(a.ctx.common.issues));return ve(n,{code:ie.invalid_union,unionErrors:o}),Ue}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new wi(c));return ve(n,{code:ie.invalid_union,unionErrors:a}),Ue}}get options(){return this._def.options}}xg.create=(t,e)=>new xg({options:t,typeName:Oe.ZodUnion,...We(e)});const aw=t=>t instanceof Ig?aw(t.schema):t instanceof Ei?aw(t.innerType()):t instanceof Tg?[t.value]:t instanceof Rc?t.options:t instanceof Ng?Object.keys(t.enum):t instanceof Pg?aw(t._def.innerType):t instanceof Eg?[void 0]:t instanceof Cg?[null]:null;class jv extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==pe.object)return ve(n,{code:ie.invalid_type,expected:pe.object,received:n.parsedType}),Ue;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(ve(n,{code:ie.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ue)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=aw(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new jv({typeName:Oe.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...We(r)})}}function vx(t,e){const n=La(t),r=La(e);if(t===e)return{valid:!0,data:t};if(n===pe.object&&r===pe.object){const s=lt.objectKeys(e),i=lt.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=vx(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===pe.array&&r===pe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=vx(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===pe.date&&r===pe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Sg extends Ve{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(yx(i)||yx(o))return Ue;const a=vx(i.value,o.value);return a.valid?((wx(i)||wx(o))&&n.dirty(),{status:n.value,value:a.data}):(ve(r,{code:ie.invalid_intersection_types}),Ue)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Sg.create=(t,e,n)=>new Sg({left:t,right:e,typeName:Oe.ZodIntersection,...We(n)});class ro extends Ve{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.array)return ve(r,{code:ie.invalid_type,expected:pe.array,received:r.parsedType}),Ue;if(r.data.length<this._def.items.length)return ve(r,{code:ie.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ue;!this._def.rest&&r.data.length>this._def.items.length&&(ve(r,{code:ie.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new no(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>ur.mergeArray(n,o)):ur.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ro({...this._def,rest:e})}}ro.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ro({items:t,typeName:Oe.ZodTuple,rest:null,...We(e)})};class Ag extends Ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.object)return ve(r,{code:ie.invalid_type,expected:pe.object,received:r.parsedType}),Ue;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new no(r,a,r.path,a)),value:o._parse(new no(r,r.data[a],r.path,a))});return r.common.async?ur.mergeObjectAsync(n,s):ur.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ve?new Ag({keyType:e,valueType:n,typeName:Oe.ZodRecord,...We(r)}):new Ag({keyType:pi.create(),valueType:e,typeName:Oe.ZodRecord,...We(n)})}}class m0 extends Ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.map)return ve(r,{code:ie.invalid_type,expected:pe.map,received:r.parsedType}),Ue;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:s._parse(new no(r,a,r.path,[l,"key"])),value:i._parse(new no(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Ue;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Ue;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}m0.create=(t,e,n)=>new m0({valueType:e,keyType:t,typeName:Oe.ZodMap,...We(n)});class ru extends Ve{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.set)return ve(r,{code:ie.invalid_type,expected:pe.set,received:r.parsedType}),Ue;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ve(r,{code:ie.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ve(r,{code:ie.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return Ue;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>i._parse(new no(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new ru({...this._def,minSize:{value:e,message:Ae.toString(n)}})}max(e,n){return new ru({...this._def,maxSize:{value:e,message:Ae.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ru.create=(t,e)=>new ru({valueType:t,minSize:null,maxSize:null,typeName:Oe.ZodSet,...We(e)});class Nd extends Ve{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==pe.function)return ve(n,{code:ie.invalid_type,expected:pe.function,received:n.parsedType}),Ue;function r(a,c){return h0({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,d0(),vg].filter(l=>!!l),issueData:{code:ie.invalid_arguments,argumentsError:c}})}function s(a,c){return h0({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,d0(),vg].filter(l=>!!l),issueData:{code:ie.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof ch){const a=this;return Cr(async function(...c){const l=new wi([]),u=await a._def.args.parseAsync(c,i).catch(f=>{throw l.addIssue(r(c,f)),l}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(f=>{throw l.addIssue(s(d,f)),l})})}else{const a=this;return Cr(function(...c){const l=a._def.args.safeParse(c,i);if(!l.success)throw new wi([r(c,l.error)]);const u=Reflect.apply(o,this,l.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new wi([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Nd({...this._def,args:ro.create(e).rest(Rl.create())})}returns(e){return new Nd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Nd({args:e||ro.create([]).rest(Rl.create()),returns:n||Rl.create(),typeName:Oe.ZodFunction,...We(r)})}}class Ig extends Ve{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Ig.create=(t,e)=>new Ig({getter:t,typeName:Oe.ZodLazy,...We(e)});class Tg extends Ve{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ve(n,{received:n.data,code:ie.invalid_literal,expected:this._def.value}),Ue}return{status:"valid",value:e.data}}get value(){return this._def.value}}Tg.create=(t,e)=>new Tg({value:t,typeName:Oe.ZodLiteral,...We(e)});function nU(t,e){return new Rc({values:t,typeName:Oe.ZodEnum,...We(e)})}class Rc extends Ve{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ve(n,{expected:lt.joinValues(r),received:n.parsedType,code:ie.invalid_type}),Ue}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return ve(n,{received:n.data,code:ie.invalid_enum_value,options:r}),Ue}return Cr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return Rc.create(e)}exclude(e){return Rc.create(this.options.filter(n=>!e.includes(n)))}}Rc.create=nU;class Ng extends Ve{_parse(e){const n=lt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==pe.string&&r.parsedType!==pe.number){const s=lt.objectValues(n);return ve(r,{expected:lt.joinValues(s),received:r.parsedType,code:ie.invalid_type}),Ue}if(n.indexOf(e.data)===-1){const s=lt.objectValues(n);return ve(r,{received:r.data,code:ie.invalid_enum_value,options:s}),Ue}return Cr(e.data)}get enum(){return this._def.values}}Ng.create=(t,e)=>new Ng({values:t,typeName:Oe.ZodNativeEnum,...We(e)});class ch extends Ve{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==pe.promise&&n.common.async===!1)return ve(n,{code:ie.invalid_type,expected:pe.promise,received:n.parsedType}),Ue;const r=n.parsedType===pe.promise?n.data:Promise.resolve(n.data);return Cr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ch.create=(t,e)=>new ch({type:t,typeName:Oe.ZodPromise,...We(e)});class Ei extends Ve{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Oe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{ve(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ue:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Ue:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!bg(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>bg(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);lt.assertNever(s)}}Ei.create=(t,e,n)=>new Ei({schema:t,typeName:Oe.ZodEffects,effect:e,...We(n)});Ei.createWithPreprocess=(t,e,n)=>new Ei({schema:e,effect:{type:"preprocess",transform:t},typeName:Oe.ZodEffects,...We(n)});class Uo extends Ve{_parse(e){return this._getType(e)===pe.undefined?Cr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Uo.create=(t,e)=>new Uo({innerType:t,typeName:Oe.ZodOptional,...We(e)});class su extends Ve{_parse(e){return this._getType(e)===pe.null?Cr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}su.create=(t,e)=>new su({innerType:t,typeName:Oe.ZodNullable,...We(e)});class Pg extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===pe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Pg.create=(t,e)=>new Pg({innerType:t,typeName:Oe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...We(e)});class y0 extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return f0(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new wi(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new wi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}y0.create=(t,e)=>new y0({innerType:t,typeName:Oe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...We(e)});class w0 extends Ve{_parse(e){if(this._getType(e)!==pe.nan){const r=this._getOrReturnCtx(e);return ve(r,{code:ie.invalid_type,expected:pe.nan,received:r.parsedType}),Ue}return{status:"valid",value:e.data}}}w0.create=t=>new w0({typeName:Oe.ZodNaN,...We(t)});const Uwe=Symbol("zod_brand");class rU extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class gm extends Ve{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ue:i.status==="dirty"?(n.dirty(),tU(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ue:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new gm({in:e,out:n,typeName:Oe.ZodPipeline})}}class v0 extends Ve{_parse(e){const n=this._def.innerType._parse(e);return bg(n)&&(n.value=Object.freeze(n.value)),n}}v0.create=(t,e)=>new v0({innerType:t,typeName:Oe.ZodReadonly,...We(e)});const sU=(t,e={},n)=>t?ah.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...l,fatal:c})}}):ah.create(),Lwe={object:Wt.lazycreate};var Oe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Oe||(Oe={}));const Mwe=(t,e={message:`Input not instance of ${t.name}`})=>sU(n=>n instanceof t,e),iU=pi.create,oU=kc.create,Bwe=w0.create,Fwe=Oc.create,aU=_g.create,zwe=nu.create,Wwe=p0.create,qwe=Eg.create,Hwe=Cg.create,Vwe=ah.create,Gwe=Rl.create,Kwe=Ko.create,Ywe=g0.create,Jwe=vi.create,Qwe=Wt.create,Zwe=Wt.strictCreate,Xwe=xg.create,e0e=jv.create,t0e=Sg.create,n0e=ro.create,r0e=Ag.create,s0e=m0.create,i0e=ru.create,o0e=Nd.create,a0e=Ig.create,c0e=Tg.create,l0e=Rc.create,u0e=Ng.create,d0e=ch.create,uO=Ei.create,h0e=Uo.create,f0e=su.create,p0e=Ei.createWithPreprocess,g0e=gm.create,m0e=()=>iU().optional(),y0e=()=>oU().optional(),w0e=()=>aU().optional(),v0e={string:t=>pi.create({...t,coerce:!0}),number:t=>kc.create({...t,coerce:!0}),boolean:t=>_g.create({...t,coerce:!0}),bigint:t=>Oc.create({...t,coerce:!0}),date:t=>nu.create({...t,coerce:!0})},b0e=Ue;var N=Object.freeze({__proto__:null,defaultErrorMap:vg,setErrorMap:xwe,getErrorMap:d0,makeIssue:h0,EMPTY_PATH:Swe,addIssueToContext:ve,ParseStatus:ur,INVALID:Ue,DIRTY:tU,OK:Cr,isAborted:yx,isDirty:wx,isValid:bg,isAsync:f0,get util(){return lt},get objectUtil(){return mx},ZodParsedType:pe,getParsedType:La,ZodType:Ve,ZodString:pi,ZodNumber:kc,ZodBigInt:Oc,ZodBoolean:_g,ZodDate:nu,ZodSymbol:p0,ZodUndefined:Eg,ZodNull:Cg,ZodAny:ah,ZodUnknown:Rl,ZodNever:Ko,ZodVoid:g0,ZodArray:vi,ZodObject:Wt,ZodUnion:xg,ZodDiscriminatedUnion:jv,ZodIntersection:Sg,ZodTuple:ro,ZodRecord:Ag,ZodMap:m0,ZodSet:ru,ZodFunction:Nd,ZodLazy:Ig,ZodLiteral:Tg,ZodEnum:Rc,ZodNativeEnum:Ng,ZodPromise:ch,ZodEffects:Ei,ZodTransformer:Ei,ZodOptional:Uo,ZodNullable:su,ZodDefault:Pg,ZodCatch:y0,ZodNaN:w0,BRAND:Uwe,ZodBranded:rU,ZodPipeline:gm,ZodReadonly:v0,custom:sU,Schema:Ve,ZodSchema:Ve,late:Lwe,get ZodFirstPartyTypeKind(){return Oe},coerce:v0e,any:Vwe,array:Jwe,bigint:Fwe,boolean:aU,date:zwe,discriminatedUnion:e0e,effect:uO,enum:l0e,function:o0e,instanceof:Mwe,intersection:t0e,lazy:a0e,literal:c0e,map:s0e,nan:Bwe,nativeEnum:u0e,never:Kwe,null:Hwe,nullable:f0e,number:oU,object:Qwe,oboolean:w0e,onumber:y0e,optional:h0e,ostring:m0e,pipeline:g0e,preprocess:p0e,promise:d0e,record:r0e,set:i0e,strictObject:Zwe,string:iU,symbol:Wwe,transformer:uO,tuple:n0e,undefined:qwe,union:Xwe,unknown:Gwe,void:Ywe,NEVER:b0e,ZodIssueCode:ie,quotelessJson:Cwe,ZodError:wi});const Jt=N.object({message:N.string()});function me(t){return N.literal(be[t])}N.object({accessList:N.array(N.string()),blockHash:N.string().nullable(),blockNumber:N.string().nullable(),chainId:N.string().or(N.number()),from:N.string(),gas:N.string(),hash:N.string(),input:N.string().nullable(),maxFeePerGas:N.string(),maxPriorityFeePerGas:N.string(),nonce:N.string(),r:N.string(),s:N.string(),to:N.string(),transactionIndex:N.string().nullable(),type:N.string(),v:N.string(),value:N.string()});const _0e=N.object({chainId:N.string().or(N.number())}),E0e=N.object({email:N.string().email()}),C0e=N.object({otp:N.string()}),x0e=N.object({uri:N.string(),preferredAccountType:N.optional(N.string()),chainId:N.optional(N.string().or(N.number()))}),S0e=N.object({chainId:N.optional(N.string().or(N.number())),preferredAccountType:N.optional(N.string()),socialUri:N.optional(N.string())}),A0e=N.object({provider:N.enum(["google","github","apple","facebook","x","discord"])}),I0e=N.object({email:N.string().email()}),T0e=N.object({otp:N.string()}),N0e=N.object({otp:N.string()}),P0e=N.object({themeMode:N.optional(N.enum(["light","dark"])),themeVariables:N.optional(N.record(N.string(),N.string().or(N.number()))),w3mThemeVariables:N.optional(N.record(N.string(),N.string()))}),k0e=N.object({metadata:N.object({name:N.string(),description:N.string(),url:N.string(),icons:N.array(N.string())}).optional(),sdkVersion:N.string().optional(),sdkType:N.string().optional(),projectId:N.string()}),O0e=N.object({type:N.string()}),R0e=N.object({action:N.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),$0e=N.object({url:N.string()}),D0e=N.object({userName:N.string()}),j0e=N.object({email:N.string().optional().nullable(),address:N.string(),chainId:N.string().or(N.number()),accounts:N.array(N.object({address:N.string(),type:N.enum([kn.ACCOUNT_TYPES.EOA,kn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:N.string().optional().nullable(),preferredAccountType:N.optional(N.string())}),U0e=N.object({action:N.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),L0e=N.object({email:N.string().email().optional().nullable(),address:N.string(),chainId:N.string().or(N.number()),smartAccountDeployed:N.optional(N.boolean()),accounts:N.array(N.object({address:N.string(),type:N.enum([kn.ACCOUNT_TYPES.EOA,kn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:N.optional(N.string())}),M0e=N.object({uri:N.string()}),B0e=N.object({isConnected:N.boolean()}),F0e=N.object({chainId:N.string().or(N.number())}),z0e=N.object({chainId:N.string().or(N.number())}),W0e=N.object({newEmail:N.string().email()}),q0e=N.object({smartAccountEnabledNetworks:N.array(N.number())});N.object({address:N.string(),isDeployed:N.boolean()});const H0e=N.object({version:N.string().optional()}),V0e=N.object({type:N.string(),address:N.string()}),G0e=N.any(),K0e=N.object({method:N.literal("eth_accounts")}),Y0e=N.object({method:N.literal("eth_blockNumber")}),J0e=N.object({method:N.literal("eth_call"),params:N.array(N.any())}),Q0e=N.object({method:N.literal("eth_chainId")}),Z0e=N.object({method:N.literal("eth_estimateGas"),params:N.array(N.any())}),X0e=N.object({method:N.literal("eth_feeHistory"),params:N.array(N.any())}),eve=N.object({method:N.literal("eth_gasPrice")}),tve=N.object({method:N.literal("eth_getAccount"),params:N.array(N.any())}),nve=N.object({method:N.literal("eth_getBalance"),params:N.array(N.any())}),rve=N.object({method:N.literal("eth_getBlockByHash"),params:N.array(N.any())}),sve=N.object({method:N.literal("eth_getBlockByNumber"),params:N.array(N.any())}),ive=N.object({method:N.literal("eth_getBlockReceipts"),params:N.array(N.any())}),ove=N.object({method:N.literal("eth_getBlockTransactionCountByHash"),params:N.array(N.any())}),ave=N.object({method:N.literal("eth_getBlockTransactionCountByNumber"),params:N.array(N.any())}),cve=N.object({method:N.literal("eth_getCode"),params:N.array(N.any())}),lve=N.object({method:N.literal("eth_getFilterChanges"),params:N.array(N.any())}),uve=N.object({method:N.literal("eth_getFilterLogs"),params:N.array(N.any())}),dve=N.object({method:N.literal("eth_getLogs"),params:N.array(N.any())}),hve=N.object({method:N.literal("eth_getProof"),params:N.array(N.any())}),fve=N.object({method:N.literal("eth_getStorageAt"),params:N.array(N.any())}),pve=N.object({method:N.literal("eth_getTransactionByBlockHashAndIndex"),params:N.array(N.any())}),gve=N.object({method:N.literal("eth_getTransactionByBlockNumberAndIndex"),params:N.array(N.any())}),mve=N.object({method:N.literal("eth_getTransactionByHash"),params:N.array(N.any())}),yve=N.object({method:N.literal("eth_getTransactionCount"),params:N.array(N.any())}),wve=N.object({method:N.literal("eth_getTransactionReceipt"),params:N.array(N.any())}),vve=N.object({method:N.literal("eth_getUncleCountByBlockHash"),params:N.array(N.any())}),bve=N.object({method:N.literal("eth_getUncleCountByBlockNumber"),params:N.array(N.any())}),_ve=N.object({method:N.literal("eth_maxPriorityFeePerGas")}),Eve=N.object({method:N.literal("eth_newBlockFilter")}),Cve=N.object({method:N.literal("eth_newFilter"),params:N.array(N.any())}),xve=N.object({method:N.literal("eth_newPendingTransactionFilter")}),Sve=N.object({method:N.literal("eth_sendRawTransaction"),params:N.array(N.any())}),Ave=N.object({method:N.literal("eth_syncing"),params:N.array(N.any())}),Ive=N.object({method:N.literal("eth_uninstallFilter"),params:N.array(N.any())}),dO=N.object({method:N.literal("personal_sign"),params:N.array(N.any())}),Tve=N.object({method:N.literal("eth_signTypedData_v4"),params:N.array(N.any())}),Nve=N.object({method:N.literal("eth_sendTransaction"),params:N.array(N.any())}),Pve=N.object({method:N.literal("solana_signMessage"),params:N.object({message:N.string(),pubkey:N.string()})}),kve=N.object({method:N.literal("solana_signTransaction"),params:N.object({transaction:N.string()})}),Ove=N.object({method:N.literal("solana_signAllTransactions"),params:N.object({transactions:N.array(N.string())})}),Rve=N.object({method:N.literal("solana_signAndSendTransaction"),params:N.object({transaction:N.string(),options:N.object({skipPreflight:N.boolean().optional(),preflightCommitment:N.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:N.number().optional(),minContextSlot:N.number().optional()}).optional()})}),$ve=N.object({method:N.literal("wallet_sendCalls"),params:N.array(N.object({chainId:N.string().or(N.number()).optional(),from:N.string().optional(),version:N.string().optional(),capabilities:N.any().optional(),calls:N.array(N.object({to:N.string().startsWith("0x"),data:N.string().startsWith("0x").optional(),value:N.string().optional()}))}))}),Dve=N.object({method:N.literal("wallet_getCallsStatus"),params:N.array(N.string())}),jve=N.object({method:N.literal("wallet_getCapabilities")}),Uve=N.object({method:N.literal("wallet_grantPermissions"),params:N.array(N.any())}),Lve=N.object({method:N.literal("wallet_revokePermissions"),params:N.any()}),Mve=N.object({method:N.literal("wallet_getAssets"),params:N.any()}),hO=N.object({token:N.string()}),ye=N.object({id:N.string().optional()}),yf={appEvent:ye.extend({type:me("APP_SWITCH_NETWORK"),payload:_0e}).or(ye.extend({type:me("APP_CONNECT_EMAIL"),payload:E0e})).or(ye.extend({type:me("APP_CONNECT_DEVICE")})).or(ye.extend({type:me("APP_CONNECT_OTP"),payload:C0e})).or(ye.extend({type:me("APP_CONNECT_SOCIAL"),payload:x0e})).or(ye.extend({type:me("APP_GET_FARCASTER_URI")})).or(ye.extend({type:me("APP_CONNECT_FARCASTER")})).or(ye.extend({type:me("APP_GET_USER"),payload:N.optional(S0e)})).or(ye.extend({type:me("APP_GET_SOCIAL_REDIRECT_URI"),payload:A0e})).or(ye.extend({type:me("APP_SIGN_OUT")})).or(ye.extend({type:me("APP_IS_CONNECTED"),payload:N.optional(hO)})).or(ye.extend({type:me("APP_GET_CHAIN_ID")})).or(ye.extend({type:me("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(ye.extend({type:me("APP_INIT_SMART_ACCOUNT")})).or(ye.extend({type:me("APP_SET_PREFERRED_ACCOUNT"),payload:O0e})).or(ye.extend({type:me("APP_RPC_REQUEST"),payload:dO.or(Mve).or(K0e).or(Y0e).or(J0e).or(Q0e).or(Z0e).or(X0e).or(eve).or(tve).or(nve).or(rve).or(sve).or(ive).or(ove).or(ave).or(cve).or(lve).or(uve).or(dve).or(hve).or(fve).or(pve).or(gve).or(mve).or(yve).or(wve).or(vve).or(bve).or(_ve).or(Eve).or(Cve).or(xve).or(Sve).or(Ave).or(Ive).or(dO).or(Tve).or(Nve).or(Pve).or(kve).or(Ove).or(Rve).or(Dve).or($ve).or(jve).or(Uve).or(Lve)})).or(ye.extend({type:me("APP_UPDATE_EMAIL"),payload:I0e})).or(ye.extend({type:me("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:T0e})).or(ye.extend({type:me("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:N0e})).or(ye.extend({type:me("APP_SYNC_THEME"),payload:P0e})).or(ye.extend({type:me("APP_SYNC_DAPP_DATA"),payload:k0e})).or(ye.extend({type:me("APP_RELOAD")})),frameEvent:ye.extend({type:me("FRAME_SWITCH_NETWORK_ERROR"),payload:Jt}).or(ye.extend({type:me("FRAME_SWITCH_NETWORK_SUCCESS"),payload:z0e})).or(ye.extend({type:me("FRAME_CONNECT_EMAIL_SUCCESS"),payload:R0e})).or(ye.extend({type:me("FRAME_CONNECT_EMAIL_ERROR"),payload:Jt})).or(ye.extend({type:me("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:$0e})).or(ye.extend({type:me("FRAME_GET_FARCASTER_URI_ERROR"),payload:Jt})).or(ye.extend({type:me("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:D0e})).or(ye.extend({type:me("FRAME_CONNECT_FARCASTER_ERROR"),payload:Jt})).or(ye.extend({type:me("FRAME_CONNECT_OTP_ERROR"),payload:Jt})).or(ye.extend({type:me("FRAME_CONNECT_OTP_SUCCESS")})).or(ye.extend({type:me("FRAME_CONNECT_DEVICE_ERROR"),payload:Jt})).or(ye.extend({type:me("FRAME_CONNECT_DEVICE_SUCCESS")})).or(ye.extend({type:me("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:j0e})).or(ye.extend({type:me("FRAME_CONNECT_SOCIAL_ERROR"),payload:Jt})).or(ye.extend({type:me("FRAME_GET_USER_ERROR"),payload:Jt})).or(ye.extend({type:me("FRAME_GET_USER_SUCCESS"),payload:L0e})).or(ye.extend({type:me("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Jt})).or(ye.extend({type:me("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:M0e})).or(ye.extend({type:me("FRAME_SIGN_OUT_ERROR"),payload:Jt})).or(ye.extend({type:me("FRAME_SIGN_OUT_SUCCESS")})).or(ye.extend({type:me("FRAME_IS_CONNECTED_ERROR"),payload:Jt})).or(ye.extend({type:me("FRAME_IS_CONNECTED_SUCCESS"),payload:B0e})).or(ye.extend({type:me("FRAME_GET_CHAIN_ID_ERROR"),payload:Jt})).or(ye.extend({type:me("FRAME_GET_CHAIN_ID_SUCCESS"),payload:F0e})).or(ye.extend({type:me("FRAME_RPC_REQUEST_ERROR"),payload:Jt})).or(ye.extend({type:me("FRAME_RPC_REQUEST_SUCCESS"),payload:G0e})).or(ye.extend({type:me("FRAME_SESSION_UPDATE"),payload:hO})).or(ye.extend({type:me("FRAME_UPDATE_EMAIL_ERROR"),payload:Jt})).or(ye.extend({type:me("FRAME_UPDATE_EMAIL_SUCCESS"),payload:U0e})).or(ye.extend({type:me("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Jt})).or(ye.extend({type:me("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(ye.extend({type:me("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Jt})).or(ye.extend({type:me("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:W0e})).or(ye.extend({type:me("FRAME_SYNC_THEME_ERROR"),payload:Jt})).or(ye.extend({type:me("FRAME_SYNC_THEME_SUCCESS")})).or(ye.extend({type:me("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Jt})).or(ye.extend({type:me("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(ye.extend({type:me("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:q0e})).or(ye.extend({type:me("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Jt})).or(ye.extend({type:me("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Jt})).or(ye.extend({type:me("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:V0e})).or(ye.extend({type:me("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Jt})).or(ye.extend({type:me("FRAME_READY"),payload:H0e})).or(ye.extend({type:me("FRAME_RELOAD_ERROR"),payload:Jt})).or(ye.extend({type:me("FRAME_RELOAD_SUCCESS")}))};function o_(t,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(t))}class Bve{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0}){if(this.iframe=null,this.iframeIsReady=!1,this.rpcUrl=X.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const i=document.getElementById("w3m-iframe");this.iframe&&!i&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(i,o,a)=>{function c({data:l}){if(!o_(be.FRAME_EVENT_KEY,l))return;const u=yf.frameEvent.parse(l);u.id===i&&(o(u),window.removeEventListener("message",c))}ls.isClient&&(window.addEventListener("message",c),a.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:i=>{ls.isClient&&window.addEventListener("message",({data:o})=>{if(!o_(be.FRAME_EVENT_KEY,o))return;const a=yf.frameEvent.parse(o);i(a)})},onAppEvent:i=>{ls.isClient&&window.addEventListener("message",({data:o})=>{if(!o_(be.APP_EVENT_KEY,o))return;const a=yf.appEvent.parse(o);i(a)})},postAppEvent:i=>{var o;if(ls.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");yf.appEvent.parse(i),this.iframe.contentWindow.postMessage(i,"*")}},postFrameEvent:i=>{if(ls.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");yf.frameEvent.parse(i),parent.postMessage(i,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),n&&(this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),ls.isClient)){const i=document.createElement("iframe");i.id="w3m-iframe",i.src=`${gX}?projectId=${e}&chainId=${r}&version=${yX}&enableLogger=${s}`,i.name="w3m-secure-iframe",i.style.position="fixed",i.style.zIndex="999999",i.style.display="none",i.style.border="none",i.style.animationDelay="0s, 50ms",i.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",i.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=i,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var a;o.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,(a=this.frameLoadPromiseResolver)==null||a.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class Fve{constructor(e){var i;const n=Ch({level:mX}),{logger:r,chunkLoggerController:s}=SA({opts:n});this.logger=dr(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&((i=this.chunkLoggerController)!=null&&i.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class zve{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:s,abortController:i}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new Fve(e)),this.abortController=i,this.w3mFrame=new Bve({projectId:e,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===be.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!Mn.get(be.EMAIL_LOGIN_USED_KEY)}getEmail(){return Mn.get(be.EMAIL)}getUsername(){return Mn.get(be.SOCIAL_USERNAME)}async reload(){var e;try{await this.appEvent({type:be.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{ls.checkIfAllowedToTriggerEmail(),await this.init();const r=await this.appEvent({type:be.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:be.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:be.APP_CONNECT_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:be.APP_IS_CONNECTED});return n!=null&&n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:be.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return await this.init(),this.appEvent({type:be.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var n;try{const r=await this.appEvent({type:be.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:be.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var n;try{const r=await this.appEvent({type:be.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var n;try{return this.appEvent({type:be.APP_SYNC_THEME,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var n;try{return this.appEvent({type:be.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:be.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:be.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var n,r;if(e!=null&&e.socialUri)try{await this.init();const s=await this.appEvent({type:be.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId}});return s.userName&&this.setSocialLoginSuccess(s.userName),this.setLoginSuccess(s.email),this.setLastUsedChainId(s.chainId),this.user=s,s}catch(s){throw(n=this.w3mLogger)==null||n.logger.error({error:s},"Error connecting social"),s}else try{const s=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.getUser({chainId:s,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting"),s}}async getUser(e){var n;try{await this.init();const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:be.APP_GET_USER,payload:{...e,chainId:r}});return this.user=s,s}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async connectSocial(e){var n;try{await this.init();const r=await this.appEvent({type:be.APP_CONNECT_SOCIAL,payload:{uri:e}});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting social"),r}}async getFarcasterUri(){var e;try{return await this.init(),await this.appEvent({type:be.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:be.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork(e){var n;try{const r=await this.appEvent({type:be.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{return this.deleteAuthLoginCache(),await new Promise(async r=>{const s=setTimeout(()=>{r()},3e3);await this.appEvent({type:be.APP_SIGN_OUT}),clearTimeout(s),r()})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var n,r,s,i;try{if(kn.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(n=this.rpcRequestHandler)==null||n.call(this,e);const o=await this.appEvent({type:be.APP_RPC_REQUEST,payload:e});return(r=this.rpcSuccessHandler)==null||r.call(this,o,e),o}catch(o){throw(s=this.rpcErrorHandler)==null||s.call(this,o,e),(i=this.w3mLogger)==null||i.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===be.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===be.FRAME_IS_CONNECTED_ERROR&&e(),n.type===be.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===be.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===be.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===be.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===be.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:kn.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===be.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(n.payload.smartAccountEnabledNetworks):n.type===be.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:n,method:r})=>{kn.SAFE_RPC_METHODS.includes(r)||n.abort()}),this.openRpcRequests=[]}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){let n,r;function s(c){return c.replace("@w3m-app/","")}const i=[be.APP_SYNC_DAPP_DATA,be.APP_SYNC_THEME,be.APP_SET_PREFERRED_ACCOUNT],o=s(e.type);return!this.w3mFrame.iframeIsReady&&!i.includes(e.type)&&(r=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[be.APP_CONNECT_EMAIL,be.APP_CONNECT_DEVICE,be.APP_CONNECT_OTP,be.APP_CONNECT_SOCIAL,be.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(o)&&(n=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,l)=>{var f,p,g;const u=Math.random().toString(36).substring(7);(g=(f=this.w3mLogger)==null?void 0:(p=f.logger).info)==null||g.call(p,{event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:u});const d=new AbortController;if(o==="RPC_REQUEST"){const y=e;this.openRpcRequests=[...this.openRpcRequests,{...y.payload,abortController:d}]}d.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?l(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});function h(y,w){var b,v,E;y.id===u&&((v=w==null?void 0:(b=w.logger).info)==null||v.call(b,{framEvent:y,id:u},"Received frame response"),y.type===`@w3m-frame/${o}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in y&&c(y.payload),c(void 0)):y.type===`@w3m-frame/${o}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in y&&l(new Error(((E=y.payload)==null?void 0:E.message)||"An error occurred")),l(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(u,y=>h(y,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){Mn.set(be.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){Mn.set(be.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&Mn.set(be.EMAIL,e),Mn.set(be.EMAIL_LOGIN_USED_KEY,"true"),Mn.delete(be.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){Mn.delete(be.EMAIL_LOGIN_USED_KEY),Mn.delete(be.EMAIL),Mn.delete(be.LAST_USED_CHAIN_KEY),Mn.delete(be.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&Mn.set(be.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=Mn.get(be.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){Mn.set(be.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class $l{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i}){return $l.instance||($l.instance=new zve({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i})),$l.instance}}var fO={};const Wve={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof fO<"u"?fO.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},bx={filterOutDuplicatesByRDNS(t){const e=ne.state.enableEIP6963?ue.state.connectors:[],n=le.getRecentWallets(),r=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),s=n.map(a=>a.rdns).filter(Boolean),i=r.concat(s);if(i.includes("io.metamask.mobile")&&Ce.isMobile()){const a=i.indexOf("io.metamask.mobile");i[a]="io.metamask"}return t.filter(a=>!i.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=ue.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=le.getRecentWallets(),r=e.map(a=>a.explorerId),s=n.map(a=>a.id),i=r.concat(s);return t.filter(a=>!i.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=ue.state,{featuredWalletIds:n}=ne.state,r=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>{var c;return(c=a.info)!=null&&c.rdns&&(o[a.info.rdns]=!0),o},{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n!=null&&n.length){const l=n.indexOf(o.id),u=n.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){var c;const n=(t==null?void 0:t.connectMethodsOrder)||((c=ne.state.features)==null?void 0:c.connectMethodsOrder),r=e||ue.state.connectors;if(n)return n;const{injected:s,announced:i}=cw.getConnectorsByType(r,xe.state.recommended,xe.state.featured),o=s.filter(cw.showConnector),a=i.filter(cw.showConnector);return o.length||a.length?["wallet","email","social"]:Wve.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&xe.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&xe.state.excludedWallets.some(r=>wg.isLowerCaseMatch(r.name,t.name));return e||n}},cw={getConnectorsByType(t,e,n){const{customWallets:r}=ne.state,s=le.getRecentWallets(),i=bx.filterOutDuplicateWallets(e),o=bx.filterOutDuplicateWallets(n),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),l=t.filter(d=>d.type==="INJECTED"),u=t.filter(d=>d.type==="EXTERNAL");return{custom:r,recent:s,external:u,multiChain:a,announced:c,injected:l,recommended:i,featured:o}},showConnector(t){var s;const e=(s=t.info)==null?void 0:s.rdns,n=!!e&&xe.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),r=!!t.name&&xe.state.excludedWallets.some(i=>wg.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!Ce.isMobile()||Ce.isMobile()&&!e&&!we.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from($.state.chains.values()).some(n=>ue.getConnectorId(n.namespace)===X.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:s,injected:i,multiChain:o,external:a,overriddenConnectors:c=(l=>(l=ne.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const u=cw.getIsConnectedWithWC(),f=[{type:"walletConnect",isEnabled:ne.state.enableWalletConnect&&!u},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...i,...s,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(w=>w.isEnabled),p=new Set(f.map(w=>w.type)),g=c.filter(w=>p.has(w)).map(w=>({type:w,isEnabled:!0})),y=f.filter(({type:w})=>!g.some(({type:v})=>v===w));return Array.from(new Set([...g,...y].map(({type:w})=>w)))},getAuthName({email:t,socialUsername:e,socialProvider:n}){return e?n&&n==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){var e,n;try{if(t.name==="Browser Wallet"&&!Ce.isMobile())return{accounts:[],chainId:void 0};if(t.id===X.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[r,s]=await Promise.all([(e=t.provider)==null?void 0:e.request({method:"eth_accounts"}),(n=t.provider)==null?void 0:n.request({method:"eth_chainId"}).then(i=>Number(i))]);return{accounts:r,chainId:s}}catch(r){return console.warn(`Failed to fetch provider data for ${t.name}`,r),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const lw=globalThis,iI=lw.ShadowRoot&&(lw.ShadyCSS===void 0||lw.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,oI=Symbol(),pO=new WeakMap;let cU=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==oI)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(iI&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=pO.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&pO.set(n,e))}return e}toString(){return this.cssText}};const Ts=t=>new cU(typeof t=="string"?t:t+"",void 0,oI),Pd=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,s,i)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1],t[0]);return new cU(n,t,oI)},qve=(t,e)=>{if(iI)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),s=lw.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,t.appendChild(r)}},gO=iI?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return Ts(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Hve,defineProperty:Vve,getOwnPropertyDescriptor:Gve,getOwnPropertyNames:Kve,getOwnPropertySymbols:Yve,getPrototypeOf:Jve}=Object,bc=globalThis,mO=bc.trustedTypes,Qve=mO?mO.emptyScript:"",a_=bc.reactiveElementPolyfillSupport,lp=(t,e)=>t,_x={toAttribute(t,e){switch(e){case Boolean:t=t?Qve:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},lU=(t,e)=>!Hve(t,e),yO={attribute:!0,type:String,converter:_x,reflect:!1,useDefault:!1,hasChanged:lU};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),bc.litPropertyMetadata??(bc.litPropertyMetadata=new WeakMap);let td=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=yO){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,n);s!==void 0&&Vve(this.prototype,e,s)}}static getPropertyDescriptor(e,n,r){const{get:s,set:i}=Gve(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:s,set(o){const a=s==null?void 0:s.call(this);i==null||i.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??yO}static _$Ei(){if(this.hasOwnProperty(lp("elementProperties")))return;const e=Jve(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(lp("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(lp("properties"))){const n=this.properties,r=[...Kve(n),...Yve(n)];for(const s of r)this.createProperty(s,n[s])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)n.unshift(gO(s))}else e!==void 0&&n.push(gO(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return qve(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var i;const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const o=(((i=r.converter)==null?void 0:i.toAttribute)!==void 0?r.converter:_x).toAttribute(n,r.type);this._$Em=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,n){var i,o;const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const a=r.getPropertyOptions(s),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((i=a.converter)==null?void 0:i.fromAttribute)!==void 0?a.converter:_x;this._$Em=s,this[s]=c.fromAttribute(n,a.type)??((o=this._$Ej)==null?void 0:o.get(s))??null,this._$Em=null}}requestUpdate(e,n,r){var s;if(e!==void 0){const i=this.constructor,o=this[e];if(r??(r=i.getPropertyOptions(e)),!((r.hasChanged??lU)(o,n)||r.useDefault&&r.reflect&&o===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(i._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:s,wrapped:i},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??n??this[e]),i!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),s===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[i,o]of this._$Ep)this[i]=o;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[i,o]of s){const{wrapped:a}=o,c=this[i];a!==!0||this._$AL.has(i)||c===void 0||this.C(i,void 0,o,c)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(s=>{var i;return(i=s.hostUpdate)==null?void 0:i.call(s)}),this.update(n)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};td.elementStyles=[],td.shadowRootOptions={mode:"open"},td[lp("elementProperties")]=new Map,td[lp("finalized")]=new Map,a_==null||a_({ReactiveElement:td}),(bc.reactiveElementVersions??(bc.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const up=globalThis,b0=up.trustedTypes,wO=b0?b0.createPolicy("lit-html",{createHTML:t=>t}):void 0,uU="$lit$",Ma=`lit$${Math.random().toFixed(9).slice(2)}$`,dU="?"+Ma,Zve=`<${dU}>`,iu=document,kg=()=>iu.createComment(""),Og=t=>t===null||typeof t!="object"&&typeof t!="function",aI=Array.isArray,Xve=t=>aI(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",c_=`[ 	
\f\r]`,wf=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,vO=/-->/g,bO=/>/g,Qc=RegExp(`>|${c_}(?:([^\\s"'>=/]+)(${c_}*=${c_}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),_O=/'/g,EO=/"/g,hU=/^(?:script|style|textarea|title)$/i,fU=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),yxe=fU(1),wxe=fU(2),lh=Symbol.for("lit-noChange"),Tn=Symbol.for("lit-nothing"),CO=new WeakMap,bl=iu.createTreeWalker(iu,129);function pU(t,e){if(!aI(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return wO!==void 0?wO.createHTML(e):e}const ebe=(t,e)=>{const n=t.length-1,r=[];let s,i=e===2?"<svg>":e===3?"<math>":"",o=wf;for(let a=0;a<n;a++){const c=t[a];let l,u,d=-1,h=0;for(;h<c.length&&(o.lastIndex=h,u=o.exec(c),u!==null);)h=o.lastIndex,o===wf?u[1]==="!--"?o=vO:u[1]!==void 0?o=bO:u[2]!==void 0?(hU.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=Qc):u[3]!==void 0&&(o=Qc):o===Qc?u[0]===">"?(o=s??wf,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?Qc:u[3]==='"'?EO:_O):o===EO||o===_O?o=Qc:o===vO||o===bO?o=wf:(o=Qc,s=void 0);const f=o===Qc&&t[a+1].startsWith("/>")?" ":"";i+=o===wf?c+Zve:d>=0?(r.push(l),c.slice(0,d)+uU+c.slice(d)+Ma+f):c+Ma+(d===-2?a:f)}return[pU(t,i+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class Rg{constructor({strings:e,_$litType$:n},r){let s;this.parts=[];let i=0,o=0;const a=e.length-1,c=this.parts,[l,u]=ebe(e,n);if(this.el=Rg.createElement(l,r),bl.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=bl.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(uU)){const h=u[o++],f=s.getAttribute(d).split(Ma),p=/([.?@])?(.*)/.exec(h);c.push({type:1,index:i,name:p[2],strings:f,ctor:p[1]==="."?nbe:p[1]==="?"?rbe:p[1]==="@"?sbe:Uv}),s.removeAttribute(d)}else d.startsWith(Ma)&&(c.push({type:6,index:i}),s.removeAttribute(d));if(hU.test(s.tagName)){const d=s.textContent.split(Ma),h=d.length-1;if(h>0){s.textContent=b0?b0.emptyScript:"";for(let f=0;f<h;f++)s.append(d[f],kg()),bl.nextNode(),c.push({type:2,index:++i});s.append(d[h],kg())}}}else if(s.nodeType===8)if(s.data===dU)c.push({type:2,index:i});else{let d=-1;for(;(d=s.data.indexOf(Ma,d+1))!==-1;)c.push({type:7,index:i}),d+=Ma.length-1}i++}}static createElement(e,n){const r=iu.createElement("template");return r.innerHTML=e,r}}function uh(t,e,n=t,r){var o,a;if(e===lh)return e;let s=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const i=Og(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==i&&((a=s==null?void 0:s._$AO)==null||a.call(s,!1),i===void 0?s=void 0:(s=new i(t),s._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=s:n._$Cl=s),s!==void 0&&(e=uh(t,s._$AS(t,e.values),s,r)),e}class tbe{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,s=((e==null?void 0:e.creationScope)??iu).importNode(n,!0);bl.currentNode=s;let i=bl.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new mm(i,i.nextSibling,this,e):c.type===1?l=new c.ctor(i,c.name,c.strings,this,e):c.type===6&&(l=new ibe(i,this,e)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(i=bl.nextNode(),o++)}return bl.currentNode=iu,s}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class mm{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,s){this.type=2,this._$AH=Tn,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=uh(this,e,n),Og(e)?e===Tn||e==null||e===""?(this._$AH!==Tn&&this._$AR(),this._$AH=Tn):e!==this._$AH&&e!==lh&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Xve(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Tn&&Og(this._$AH)?this._$AA.nextSibling.data=e:this.T(iu.createTextNode(e)),this._$AH=e}$(e){var i;const{values:n,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=Rg.createElement(pU(r.h,r.h[0]),this.options)),r);if(((i=this._$AH)==null?void 0:i._$AD)===s)this._$AH.p(n);else{const o=new tbe(s,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let n=CO.get(e.strings);return n===void 0&&CO.set(e.strings,n=new Rg(e)),n}k(e){aI(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const i of e)s===n.length?n.push(r=new mm(this.O(kg()),this.O(kg()),this,this.options)):r=n[s],r._$AI(i),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e&&e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class Uv{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,s,i){this.type=1,this._$AH=Tn,this._$AN=void 0,this.element=e,this.name=n,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Tn}_$AI(e,n=this,r,s){const i=this.strings;let o=!1;if(i===void 0)e=uh(this,e,n,0),o=!Og(e)||e!==this._$AH&&e!==lh,o&&(this._$AH=e);else{const a=e;let c,l;for(e=i[0],c=0;c<i.length-1;c++)l=uh(this,a[r+c],n,c),l===lh&&(l=this._$AH[c]),o||(o=!Og(l)||l!==this._$AH[c]),l===Tn?e=Tn:e!==Tn&&(e+=(l??"")+i[c+1]),this._$AH[c]=l}o&&!s&&this.j(e)}j(e){e===Tn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class nbe extends Uv{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Tn?void 0:e}}class rbe extends Uv{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Tn)}}class sbe extends Uv{constructor(e,n,r,s,i){super(e,n,r,s,i),this.type=5}_$AI(e,n=this){if((e=uh(this,e,n,0)??Tn)===lh)return;const r=this._$AH,s=e===Tn&&r!==Tn||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,i=e!==Tn&&(r===Tn||s);s&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class ibe{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){uh(this,e)}}const l_=up.litHtmlPolyfillSupport;l_==null||l_(Rg,mm),(up.litHtmlVersions??(up.litHtmlVersions=[])).push("3.3.0");const obe=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let s=r._$litPart$;if(s===void 0){const i=(n==null?void 0:n.renderBefore)??null;r._$litPart$=s=new mm(e.insertBefore(kg(),i),i,void 0,n??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Dl=globalThis;class uw extends td{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=obe(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return lh}}var dR;uw._$litElement$=!0,uw.finalized=!0,(dR=Dl.litElementHydrateSupport)==null||dR.call(Dl,{LitElement:uw});const u_=Dl.litElementPolyfillSupport;u_==null||u_({LitElement:uw});(Dl.litElementVersions??(Dl.litElementVersions=[])).push("4.2.0");let dp,_c,Ec;function vxe(t,e){dp=document.createElement("style"),_c=document.createElement("style"),Ec=document.createElement("style"),dp.textContent=kd(t).core.cssText,_c.textContent=kd(t).dark.cssText,Ec.textContent=kd(t).light.cssText,document.head.appendChild(dp),document.head.appendChild(_c),document.head.appendChild(Ec),gU(e)}function gU(t){_c&&Ec&&(t==="light"?(_c.removeAttribute("media"),Ec.media="enabled"):(Ec.removeAttribute("media"),_c.media="enabled"))}function abe(t){dp&&_c&&Ec&&(dp.textContent=kd(t).core.cssText,_c.textContent=kd(t).dark.cssText,Ec.textContent=kd(t).light.cssText)}function kd(t){return{core:Pd`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${Ts(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${Ts((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${Ts((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${Ts((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${Ts((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Pd`
      :root {
        --w3m-color-mix: ${Ts((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${Ts(Oo(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${Ts(Oo(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Pd`
      :root {
        --w3m-color-mix: ${Ts((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${Ts(Oo(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${Ts(Oo(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const bxe=Pd`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,_xe=Pd`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,Exe=Pd`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,Uf={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]},mU=oW({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}});function ym(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const xO=ym({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),SO=ym({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});ym({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});ym({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});ym({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const cbe={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},hp={getMethodsByChainNamespace(t){return cbe[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>r.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>r.add(s)),e.events&&Object.keys(e.events).forEach(s=>r.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[i]=s.split(":");i&&r.add(i)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,i])=>{n[s]&&(n[s].methods=i)}),e.chains&&Object.entries(e.chains).forEach(([s,i])=>{n[s]&&(n[s].chains=i)}),e.events&&Object.entries(e.events).forEach(([s,i])=>{n[s]&&(n[s].events=i)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([i,o])=>{const[a,c]=i.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),s.has(a)||(n[a].rpcMap={},s.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,s)=>{const{id:i,chainNamespace:o,rpcUrls:a}=s,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${i}`,u=r[o];switch(u.chains.push(l),l){case xO.caipNetworkId:u.chains.push(xO.deprecatedCaipNetworkId);break;case SO.caipNetworkId:u.chains.push(SO.deprecatedCaipNetworkId);break}return u!=null&&u.rpcMap&&c&&(u.rpcMap[i]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await Zf.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(s=>{const[i,o]=s.split(":");return`${i}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const i=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(i,"u").test(t))return!0}else try{if(new URL(r).origin===t)return!0}catch{if(r===t)return!0}return!1}};class cI{constructor({provider:e,namespace:n}){this.id=X.CONNECTOR_ID.WALLET_CONNECT,this.name=rc.ConnectorNamesMap[X.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=rc.ConnectorImageIds[X.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=$.getCaipNetworks.bind($),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=ne.state.universalProviderConfigOverride,s=hp.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return cp.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:lbe})}}const lbe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class yU{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>$.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:X.CONNECTOR_ID.AUTH,type:"AUTH",name:X.CONNECTOR_NAMES.AUTH,provider:e,imageId:rc.ConnectorImageIds[X.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){ce.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(s=>s(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var i;const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const o=s,a=(i=ce.state.preferredAccountTypes)==null?void 0:i[n.chainNamespace];await o.switchNetwork(n.caipNetworkId);const c=await o.getUser({chainId:n.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof cI);if(!e)throw new Error("WalletConnectConnector not found");return e}}class ube extends yU{setUniversalProvider(e){this.addConnector(new cI({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var s,i,o,a;const n=this.provider,r=((a=(o=(i=(s=n==null?void 0:n.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:r.map(c=>Ce.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var i,o,a,c,l;if(!(e.caipNetwork&&mt.BALANCE_SUPPORTED_CHAINS.includes((i=e.caipNetwork)==null?void 0:i.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(ce.state.balanceLoading&&e.chainId===((c=$.state.activeCaipNetwork)==null?void 0:c.id))return{balance:ce.state.balance||"0.00",symbol:ce.state.balanceSymbol||""};const s=(await ce.fetchTokenBalance()).find(u=>{var d,h;return u.chainId===`${(d=e.caipNetwork)==null?void 0:d.chainNamespace}:${e.chainId}`&&u.symbol===((h=e.caipNetwork)==null?void 0:h.nativeCurrency.symbol)});return{balance:(s==null?void 0:s.quantity.numeric)||"0.00",symbol:(s==null?void 0:s.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:n,message:r,address:s}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return((o=$.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===X.CHAIN.SOLANA?i=(await n.request({method:"solana_signMessage",params:{message:Th.encode(new TextEncoder().encode(r)),pubkey:s}},(a=$.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:i=await n.request({method:"personal_sign",params:[r,s]},(c=$.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,i,o,a,c,l;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===X.CHAIN.EVM)try{await((s=r.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:zl(n.id)}]}))}catch(u){if(u.code===Uf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===Uf.ERROR_INVALID_CHAIN_ID||u.code===Uf.ERROR_CODE_DEFAULT||((o=(i=u==null?void 0:u.data)==null?void 0:i.originalError)==null?void 0:o.code)===Uf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=r.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:zl(n.id),rpcUrls:[(a=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:a.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(c=n.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}const dbe=["email","socials","swaps","onramp","activity","reownBranding"],Ay={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?mt.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?mt.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?mt.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?mt.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?mt.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?mt.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?mt.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?mt.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?mt.DEFAULT_REMOTE_FEATURES.reownBranding:!!t}},hbe={localSettingsOverridden:new Set,getApiConfig(t,e){return e==null?void 0:e.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=Ay[e],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(r)}},processFeature(t,e,n,r,s){const i=Ay[t],o=e[i.localFeatureName];if(s&&!i.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(i.apiFeatureName,n);return(a==null?void 0:a.config)===null?this.processFallbackFeature(t,o):a!=null&&a.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return Ay[t].processApi(e)},processFallbackFeature(t,e){return Ay[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let r=null,s=!1;try{r=await xe.fetchProjectConfig(),s=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const i=s&&!e?mt.DEFAULT_REMOTE_FEATURES:mt.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of dbe){const a=this.processFeature(o,n,r,s,e);Object.assign(i,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),mt.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;ln.open({shortMessage:"Local configuration ignored",longMessage:`[Reown Config Notice] ${o}`},"warning")}return i}};class fbe{constructor(e){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var s,i,o,a;if(n){const c=(i=(s=$.getNetworkData(n))==null?void 0:s.requestedCaipNetworks)==null?void 0:i.find(d=>d.id===r);if(c)return c;const l=(o=$.getNetworkData(n))==null?void 0:o.caipNetwork;return l||((a=$.getRequestedCaipNetworks(n).filter(d=>d.chainNamespace===n))==null?void 0:a[0])}return $.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>$.getCaipNetworks(n),this.getActiveChainNamespace=()=>$.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{$.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>$.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>$.state.activeChain===n||!n?$.state.activeCaipAddress:$.getAccountProp("caipAddress",n),this.setClientId=n=>{Ne.setClientId(n)},this.getProvider=n=>Et.getProvider(n),this.getProviderType=n=>Et.getProviderId(n),this.getPreferredAccountType=n=>{var r;return(r=ce.state.preferredAccountTypes)==null?void 0:r[n]},this.setCaipAddress=(n,r)=>{ce.setCaipAddress(n,r),n&&ne.state.enableEmbedded&&this.close()},this.setBalance=(n,r,s)=>{ce.setBalance(n,r,s)},this.setProfileName=(n,r)=>{ce.setProfileName(n,r)},this.setProfileImage=(n,r)=>{ce.setProfileImage(n,r)},this.setUser=(n,r)=>{ce.setUser(n,r)},this.resetAccount=n=>{ce.resetAccount(n)},this.setCaipNetwork=n=>{$.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{$.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{ce.setAllAccounts(n,r),ne.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,r)=>{ce.setStatus(n,r),ue.isConnected()?le.setConnectionStatus("connected"):le.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>$.getAccountProp("address",n),this.setConnectors=n=>{const r=[...ue.state.allConnectors,...n];ue.setConnectors(r)},this.setConnections=(n,r)=>{we.setConnections(n,r)},this.fetchIdentity=n=>Ne.fetchIdentity(n),this.getReownName=n=>Zf.getNamesForAddress(n),this.getConnectors=()=>ue.getConnectors(),this.getConnectorImage=n=>W8.getConnectorImage(n),this.getConnections=n=>cg.getConnectionsData(n).connections,this.getRecentConnections=n=>cg.getConnectionsData(n).recentConnections,this.switchConnection=n=>we.switchConnection(n),this.deleteConnection=n=>le.deleteAddressFromConnection(n),this.setConnectedWalletInfo=(n,r)=>{const s=Et.getProviderId(r),i=n?{...n,type:s}:void 0;ce.setConnectedWalletInfo(i,r)},this.getIsConnectedState=()=>!!$.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{ce.addAddressLabel(n,r,s)},this.removeAddressLabel=(n,r)=>{ce.removeAddressLabel(n,r)},this.getAddress=n=>$.state.activeChain===n||!n?ce.state.address:$.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>$.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{$.resetNetwork(n)},this.addConnector=n=>{ue.addConnector(n)},this.resetWcConnection=()=>{we.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{ce.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{ce.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{$.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{ce.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{ne.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(i=>i.namespace).filter(i=>!!i);if(r!=null&&r.length)return[...new Set(r)];const s=n==null?void 0:n.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(e){var n,r,s;this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),await this.syncExistingConnection(),this.remoteFeatures=await hbe.fetchRemoteFeatures(e),ne.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&bC.setOnrampProviders(this.remoteFeatures.onramp),((n=ne.state.remoteFeatures)!=null&&n.email||Array.isArray((r=ne.state.remoteFeatures)==null?void 0:r.socials)&&((s=ne.state.remoteFeatures)==null?void 0:s.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){try{const e=await xe.fetchAllowedOrigins();if(!e||!Ce.isClient()){ln.open(zt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}const n=window.location.origin;hp.isOriginAllowed(n,e,Uf.DEFAULT_ALLOWED_ANCESTORS)||ln.open(zt.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}catch(e){if(!(e instanceof Error)){ln.open(zt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}switch(e.message){case"RATE_LIMITED":ln.open(zt.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=e.cause instanceof Error?e.cause:e;ln.open({shortMessage:zt.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.shortMessage,longMessage:zt.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.longMessage(n.message)},"error");break}default:ln.open(zt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}}}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,yt.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(s=>s.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Fr.setThemeMode(e.themeMode),e.themeVariables&&Fr.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");$.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&$.setActiveCaipNetwork(n)}initializeConnectionController(e){we.initialize(e.adapters??[]),we.setWcBasic(e.basic??!1)}initializeConnectorController(){ue.initialize(this.chainNamespaces)}initializeProjectSettings(e){ne.setProjectId(e.projectId),ne.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var o;ne.setDebug(e.debug!==!1),ne.setEnableWalletConnect(e.enableWalletConnect!==!1),ne.setEnableWalletGuide(e.enableWalletGuide!==!1),ne.setEnableWallets(e.enableWallets!==!1),ne.setEIP6963Enabled(e.enableEIP6963!==!1),ne.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),ne.setEnableAuthLogger(e.enableAuthLogger!==!1),ne.setCustomRpcUrls(e.customRpcUrls),ne.setEnableEmbedded(e.enableEmbedded),ne.setAllWallets(e.allWallets),ne.setIncludeWalletIds(e.includeWalletIds),ne.setExcludeWalletIds(e.excludeWalletIds),ne.setFeaturedWalletIds(e.featuredWalletIds),ne.setTokens(e.tokens),ne.setTermsConditionsUrl(e.termsConditionsUrl),ne.setPrivacyPolicyUrl(e.privacyPolicyUrl),ne.setCustomWallets(e.customWallets),ne.setFeatures(e.features),ne.setAllowUnsupportedChain(e.allowUnsupportedChain),ne.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),ne.setPreferUniversalLinks(e.experimental_preferUniversalLinks),ne.setDefaultAccountTypes(e.defaultAccountTypes);const n=le.getPreferredAccountTypes()||{},r={...ne.state.defaultAccountTypes,...n};ce.setPreferredAccountTypes(r);const s=this.getDefaultMetaData();if(!e.metadata&&s&&(e.metadata=s),ne.setMetadata(e.metadata),ne.setDisableAppend(e.disableAppend),ne.setEnableEmbedded(e.enableEmbedded),ne.setSIWX(e.siwx),!e.projectId){ln.open(zt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((o=e.adapters)==null?void 0:o.find(a=>a.namespace===X.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");ne.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,s;return Ce.isClient()?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=Vi.getUnsupportedNetwork(`${n}:${e}`);$.setActiveCaipNetwork(r)}}getDefaultNetwork(){return Vi.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return Vi.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return Vi.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(s=>{var i;return s.id===((i=e.defaultNetwork)==null?void 0:i.id)});return n?Vi.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e){try{const n=this.getAdapter(e),r=Et.getProvider(e),s=Et.getProviderId(e),{caipAddress:i}=$.getAccountData(e)||{};this.setLoading(!0,e),i&&(n!=null&&n.disconnect)&&await n.disconnect({provider:r,providerType:s}),le.removeConnectedNamespace(e),Et.resetChain(e),this.setUser(void 0,e),this.setStatus("disconnected",e),this.setConnectedWalletInfo(void 0,e),ue.removeConnectorId(e),$.resetAccount(e),$.resetNetwork(e),this.setLoading(!1,e)}catch(n){throw this.setLoading(!1,e),new Error(`Failed to disconnect chain ${e}: ${n.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var i;const e=$.state.activeChain,n=this.getAdapter(e),r=(i=this.getCaipNetwork(e))==null?void 0:i.id;if(!n)throw new Error("Adapter not found");const s=await n.connectWalletConnect(r);this.close(),this.setClientId((s==null?void 0:s.clientId)||null),le.setConnectedNamespaces([...$.state.chains.keys()]),this.chainNamespaces.forEach(o=>{ue.setConnectorId(jt.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:s,chain:i,caipNetwork:o,socialUri:a})=>{var g,y,w,b,v,E;const c=$.state.activeChain,l=i||c,u=this.getAdapter(l);if(i&&i!==c&&!o){const _=this.getCaipNetworks().find(x=>x.chainNamespace===i);_&&this.setCaipNetwork(_)}if(!u)throw new Error("Adapter not found");const d=this.getCaipNetwork(l),h=await u.connect({id:e,info:n,type:r,provider:s,socialUri:a,chainId:(o==null?void 0:o.id)||(d==null?void 0:d.id),rpcUrl:((w=(y=(g=o==null?void 0:o.rpcUrls)==null?void 0:g.default)==null?void 0:y.http)==null?void 0:w[0])||((E=(v=(b=d==null?void 0:d.rpcUrls)==null?void 0:b.default)==null?void 0:v.http)==null?void 0:E[0])});if(!h)return;le.addConnectedNamespace(l),this.syncProvider({...h,chainNamespace:l});const f=ce.state.allAccounts,{accounts:p}=(f==null?void 0:f.length)>0?{accounts:[...f]}:await u.getAccounts({namespace:l,id:e});this.setAllAccounts(p,l),this.setStatus("connected",l),this.syncConnectedWalletInfo(l)},reconnectExternal:async({id:e,info:n,type:r,provider:s})=>{var a;const i=$.state.activeChain,o=this.getAdapter(i);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:r,provider:s,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),le.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnect:async({chainNamespace:e}={})=>{const n=EX(e);try{const r=await Promise.allSettled(n.map(async([i])=>this.disconnectNamespace(i)));dt.resetSend(),we.resetWcConnection(),await cp.clearSessions(),ue.setFilterByNamespace(void 0);const s=r.filter(i=>i.status==="rejected");if(s.length>0)throw new Error(s.map(i=>i.reason.message).join(", "));le.deleteConnectedSocialProvider(),yt.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:e||"all"}})}catch(r){throw new Error(`Failed to disconnect chains: ${r.message}`)}},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter($.state.activeChain),r=await(n==null?void 0:n.signMessage({message:e,address:ce.state.address,provider:Et.getProvider($.state.activeChain)}));return(r==null?void 0:r.signature)||""},sendTransaction:async e=>{const n=e.chainNamespace;if(mt.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter($.state.activeChain),s=Et.getProvider(n),i=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:s}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===X.CHAIN.EVM){const n=this.getAdapter($.state.activeChain),r=Et.getProvider($.state.activeChain),s=this.getCaipNetwork();if(!s)throw new Error("CaipNetwork is undefined");const i=await(n==null?void 0:n.estimateGas({...e,provider:r,caipNetwork:s}));return(i==null?void 0:i.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;return await this.syncIdentity({address:ce.state.address,chainId:Number((e=this.getCaipNetwork())==null?void 0:e.id),chainNamespace:$.state.activeChain}),ce.state.profileImage||!1},getEnsAddress:async e=>await hp.resolveReownName(e),writeContract:async e=>{const n=this.getAdapter($.state.activeChain),r=this.getCaipNetwork(),s=this.getCaipAddress(),i=Et.getProvider($.state.activeChain);if(!r||!s)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(n==null?void 0:n.writeContract({...e,caipNetwork:r,provider:i,caipAddress:s}));return o==null?void 0:o.hash},parseUnits:(e,n)=>{const r=this.getAdapter($.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter($.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter($.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter($.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter($.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter($.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!ce.state.address||this.updateNativeBalance(ce.state.address,n==null?void 0:n.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},we.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,s,i,o;if(Et.getProviderId($.state.activeChain)===jt.CONNECTOR_TYPE_WALLET_CONNECT){const a=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(i=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:i.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=Et.getProvider(n),i=Et.getProviderId(n);if(e.chainNamespace===$.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:s,providerType:i}))}else if(this.setCaipNetwork(e),i===jt.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(i=>{const{chainId:o,chainNamespace:a}=as.parseCaipAddress(i);return`${a}:${o}`});return Array.from(new Set([...r,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var i;const s=e==null?void 0:e.find(o=>o.namespace===r);return s?(s.construct({namespace:r,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),n[r]=s):n[r]=new ube({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),await((n=this.chainAdapters)==null?void 0:n[e].syncConnectors(this.options,this)),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=le.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(le.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:s,chainId:i})=>{const o=this.getCaipNetworks().find(l=>l.id===i||l.caipNetworkId===i),a=$.state.activeChain===e,c=$.getAccountProp("address",e);if(o){const l=a&&s?s:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(i)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("connections",s=>{this.setConnections(s,e)}),n.on("pendingTransactions",()=>{const s=ce.state.address,i=$.state.activeCaipNetwork;!s||!(i!=null&&i.id)||this.updateNativeBalance(s,i.id,i.chainNamespace)}),n.on("accountChanged",({address:s,chainId:i})=>{var a,c;const o=$.state.activeChain===e;o&&i?this.syncAccount({address:s,chainId:i,chainNamespace:e}):o&&((a=$.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:s,chainId:(c=$.state.activeCaipNetwork)==null?void 0:c.id,chainNamespace:e}):this.syncAccountInfo(s,i,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){var n,r,s;await this.getUniversalProvider(),this.universalProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null||s.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{e===X.CHAIN.EVM&&Ce.isSafeApp()&&ue.setConnectorId(X.CONNECTOR_ID.SAFE,e);const n=ue.getConnectorId(e);switch(this.setStatus("connecting",e),n){case X.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case X.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var a,c,l;const n=this.getAdapter(e),r=ue.getConnectorId(e),s=this.getCaipNetwork(e),o=ue.getConnectors(e).find(u=>u.id===r);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(s!=null&&s.id))throw new Error("CaipNetwork not found");const u=await(n==null?void 0:n.syncConnection({namespace:e,id:o.id,chainId:s.id,rpcUrl:(l=(c=(a=s==null?void 0:s.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:l[0]}));if(u){const d=await(n==null?void 0:n.getAccounts({namespace:e,id:o.id}));d&&d.accounts.length>0?this.setAllAccounts(d.accounts,e):this.setAllAccounts([Ce.createAccount(e,u.address,"eoa")],e),this.syncProvider({...u,chainNamespace:e}),await this.syncAccount({...u,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){var r,s;const e=Object.keys(((s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)||{}),n=this.chainNamespaces.map(async i=>{var u,d,h,f,p;const o=this.getAdapter(i),a=((f=(h=(d=(u=this.universalProvider)==null?void 0:u.session)==null?void 0:d.namespaces)==null?void 0:h[i])==null?void 0:f.accounts)||[],c=(p=$.state.activeCaipNetwork)==null?void 0:p.id,l=a.find(g=>{const{chainId:y}=as.parseCaipAddress(g);return y===(c==null?void 0:c.toString())})||a[0];if(l){const g=as.validateCaipAddress(l),{chainId:y,address:w}=as.parseCaipAddress(g);if(Et.setProviderId(i,jt.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&$.state.activeCaipNetwork&&(o==null?void 0:o.namespace)!==X.CHAIN.EVM){const b=o==null?void 0:o.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:$.state.activeCaipNetwork});Et.setProvider(i,b)}else Et.setProvider(i,this.universalProvider);ue.setConnectorId(X.CONNECTOR_ID.WALLET_CONNECT,i),le.addConnectedNamespace(i),this.syncWalletConnectAccounts(i),await this.syncAccount({address:w,chainId:y,chainNamespace:i})}else e.includes(i)&&this.setStatus("disconnected",i);this.syncConnectedWalletInfo(i),await $.setApprovedCaipNetworksData(i)});await Promise.all(n)}syncWalletConnectAccounts(e){var r,s,i,o,a;const n=(a=(o=(i=(s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const{address:l}=as.parseCaipAddress(c);return l}).filter((c,l,u)=>u.indexOf(c)===l);n&&this.setAllAccounts(n.map(c=>Ce.createAccount(e,c,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:s}){Et.setProviderId(s,e),Et.setProvider(s,n),ue.setConnectorId(r,s)}async syncAllAccounts(e){const n=ue.getConnectorId(e);if(!n)return;const r=this.getAdapter(e),s=await(r==null?void 0:r.getAccounts({namespace:e,id:n}));s&&s.accounts.length>0&&this.setAllAccounts(s.accounts,e)}async syncAccount(e){var d,h;const n=e.chainNamespace===$.state.activeChain,r=$.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:i,chainNamespace:o}=e,{chainId:a}=le.getActiveNetworkProps(),c=i||a,l=((d=$.state.activeCaipNetwork)==null?void 0:d.name)===X.UNSUPPORTED_NETWORK_NAME,u=$.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let f=this.getCaipNetworks().find(y=>y.id.toString()===c.toString()),p=this.getCaipNetworks().find(y=>y.chainNamespace===o);if(!u&&!f&&!p){const y=this.getApprovedCaipNetworkIds()||[],w=y.find(v=>{var E;return((E=as.parseCaipNetworkId(v))==null?void 0:E.chainId)===c.toString()}),b=y.find(v=>{var E;return((E=as.parseCaipNetworkId(v))==null?void 0:E.chainNamespace)===o});f=this.getCaipNetworks().find(v=>v.caipNetworkId===w),p=this.getCaipNetworks().find(v=>v.caipNetworkId===b||"deprecatedCaipNetworkId"in v&&v.deprecatedCaipNetworkId===b)}const g=f||p;(g==null?void 0:g.chainNamespace)===$.state.activeChain?ne.state.enableNetworkSwitch&&!ne.state.allowUnsupportedChain&&((h=$.state.activeCaipNetwork)==null?void 0:h.name)===X.UNSUPPORTED_NETWORK_NAME?$.showUnsupportedChainUI():this.setCaipNetwork(g):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),wg.isLowerCaseMatch(s,ce.state.address)||this.syncAccountInfo(s,g==null?void 0:g.id,o),n?await this.syncBalance({address:s,chainId:g==null?void 0:g.id,chainNamespace:o}):await this.syncBalance({address:s,chainId:r==null?void 0:r.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const s=this.getCaipAddress(r),i=n||(s==null?void 0:s.split(":")[1]);if(!i)return;const o=`${r}:${i}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:i,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var s;const n=ue.getConnectorId(e),r=Et.getProviderId(e);if(r===jt.CONNECTOR_TYPE_ANNOUNCED||r===jt.CONNECTOR_TYPE_INJECTED){if(n){const i=this.getConnectors().find(o=>o.id===n);if(i){const{info:o,name:a,imageUrl:c}=i,l=c||this.getConnectorImage(i);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(r===jt.CONNECTOR_TYPE_WALLET_CONNECT){const i=Et.getProvider(e);i!=null&&i.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:(s=i.session.peer.metadata.icons)==null?void 0:s[0]},e)}else if(n&&n===X.CONNECTOR_ID.COINBASE){const i=this.getConnectors().find(o=>o.id===X.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(i)},e)}}async syncBalance(e){!ag.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var s;return r.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,r){const s=this.getAdapter(r),i=$.getCaipNetworkByNamespace(r,n);if(s){const o=await s.getBalance({address:e,chainId:n,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){var r,s,i,o,a,c,l,u,d,h;const e=_we.createLogger((f,...p)=>{f&&this.handleAlertError(f),console.error(...p)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(s=this.options)!=null&&s.metadata?(i=this.options)==null?void 0:i.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(u=this.options)!=null&&u.metadata?(d=this.options)==null?void 0:d.metadata.icons:[""]},logger:e};ne.setManualWCControl(!!((h=this.options)!=null&&h.manualWCControl)),this.universalProvider=this.options.universalProvider??await wwe.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{we.setUri(e)}),this.universalProvider.on("connect",we.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),we.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(s=>s.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(hp.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&Ce.isCaipAddress(r[0])&&this.syncAccount(as.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&Ce.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){yt.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(zt.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,s]=n??[],{message:i,alertErrorKey:o}=s??{};if(r&&i&&!this.reportedAlertErrors[r]){const a=zt.ALERT_ERRORS[o];a&&(ln.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var s;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&we.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return ft.open({...e,data:{swap:e.arguments}})}return ft.open(e)}async close(){await this.injectModalUi(),ft.close()}setLoading(e,n){ft.setLoading(e,n)}async disconnect(e){await we.disconnect({namespace:e})}getSIWX(){return ne.state.siwx}getError(){return""}getChainId(){var e;return(e=$.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){ln.open(zt.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await $.switchActiveNetwork(n)}getWalletProvider(){return $.state.activeChain?Et.state.providers[$.state.activeChain]:null}getWalletProviderType(){return Et.getProviderId($.state.activeChain)}subscribeProviders(e){return Et.subscribeProviders(e)}getThemeMode(){return Fr.state.themeMode}getThemeVariables(){return Fr.state.themeVariables}setThemeMode(e){Fr.setThemeMode(e),gU(Fr.state.themeMode)}setTermsConditionsUrl(e){ne.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){ne.setPrivacyPolicyUrl(e)}setThemeVariables(e){Fr.setThemeVariables(e),abe(Fr.state.themeVariables)}subscribeTheme(e){return Fr.subscribe(e)}subscribeConnections(e){return we.subscribe(e)}getWalletInfo(e){return e?$.getAccountProp("connectedWalletInfo",e):ce.state.connectedWalletInfo}getAccount(e){var o;const n=ue.getAuthConnector(e),r=$.getAccountData(e),s=$.state.activeChain,i=le.getConnectedConnectorId(e||s);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:Ce.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n&&i===X.CONNECTOR_ID.AUTH?{user:r.user?{...r.user,username:le.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:(o=r.preferredAccountTypes)==null?void 0:o[e||s],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const s=this.getAccount(n);s&&e(s)};n?$.subscribeChainProp("accountState",r,n):$.subscribe(r),ue.subscribe(r)}subscribeNetwork(e){return $.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e,n){return n?ce.subscribeKey("connectedWalletInfo",e,n):ce.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){ce.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){$.subscribeKey("activeCaipNetwork",e)}getState(){return Ji.state}subscribeState(e){return Ji.subscribe(e)}showErrorMessage(e){hi.showError(e)}showSuccessMessage(e){hi.showSuccess(e)}getEvent(){return{...yt.state}}subscribeEvents(e){return yt.subscribe(e)}replace(e){Pe.replace(e)}redirect(e){Pe.push(e)}popTransactionStack(e){Pe.popTransactionStack(e)}isOpen(){return ft.state.open}isTransactionStackEmpty(){return Pe.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){ne.setFeatures(e)}updateRemoteFeatures(e){ne.setRemoteFeatures(e)}updateOptions(e){const r={...ne.state||{},...e};ne.setOptions(r)}setConnectMethodsOrder(e){ne.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){ne.setWalletFeaturesOrder(e)}setCollapseWallets(e){ne.setCollapseWallets(e)}setSocialsOrder(e){ne.setSocialsOrder(e)}getConnectMethodsOrder(){return bx.getConnectOrderMethod(ne.state.features,ue.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||$.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&$.removeNetwork(e,n)}}let AO=!1;class pbe extends fbe{setupAuthConnectorListeners(e){e.onRpcRequest(n=>{ls.checkIfRequestExists(n)?ls.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(kn.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(kn.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((n,r)=>{const s=ls.checkIfRequestIsSafe(r),i=ce.state.address,o=$.state.activeCaipNetwork;s||(i&&(o!=null&&o.id)&&this.updateNativeBalance(i,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const n=$.state.activeChain;ue.getConnectorId(n)===X.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(n=>{var l,u;const r=$.state.activeChain,s=r===X.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`,i=ne.state.defaultAccountTypes[r],o=(l=ce.state.preferredAccountTypes)==null?void 0:l[r],a=n.preferredAccountType||o||i;wg.isLowerCaseMatch(n.address,ce.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:r}),this.setCaipAddress(s,r),this.setUser({...ce.state.user||{},...n},r),this.setSmartAccountDeployed(!!n.smartAccountDeployed,r),this.setPreferredAccountType(a,r);const c=(u=n.accounts)==null?void 0:u.map(d=>Ce.createAccount(r,d.address,d.type||o||i));this.setAllAccounts(c||[Ce.createAccount(r,n.address,n.preferredAccountType||a)],r),this.setLoading(!1,r)}),e.onSocialConnected(({userName:n})=>{this.setUser({...ce.state.user||{},username:n},$.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,$.state.activeChain)}),e.onSetPreferredAccount(({address:n,type:r})=>{n&&this.setPreferredAccountType(r,$.state.activeChain)})}async syncAuthConnector(e,n){var d,h,f,p;const r=X.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n),s=n===$.state.activeChain;if(!r)return;this.setLoading(!0,n);const i=e.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const o=e.getEmail(),a=e.getUsername();this.setUser({...((d=ce.state)==null?void 0:d.user)||{},username:a,email:o},n),this.setupAuthConnectorListeners(e);const{isConnected:c}=await e.isConnected(),l=Fr.getSnapshot(),u=ne.getSnapshot();await Promise.all([e.syncDappData({metadata:u.metadata,sdkVersion:u.sdkVersion,projectId:u.projectId,sdkType:u.sdkType}),e.syncTheme({themeMode:l.themeMode,themeVariables:l.themeVariables,w3mThemeVariables:Oo(l.themeVariables,l.themeMode)})]),await e.getSmartAccountEnabledNetworks(),n&&r&&s&&(c&&((h=this.connectionControllerClient)!=null&&h.connectExternal)?(await((p=this.connectionControllerClient)==null?void 0:p.connectExternal({id:X.CONNECTOR_ID.AUTH,info:{name:X.CONNECTOR_ID.AUTH},type:jt.CONNECTOR_TYPE_AUTH,provider:e,chainId:(f=$.state.activeCaipNetwork)==null?void 0:f.id,chain:n})),this.setStatus("connected",n)):ue.getConnectorId(n)===X.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),le.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n;try{if(!Ce.isTelegram())return;const r=le.getTelegramSocialProvider();if(!r||!Ce.isClient())return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;ce.setSocialProvider(r,e),await((n=this.authProvider)==null?void 0:n.init());const o=ue.getAuthConnector();r&&o&&(this.setLoading(!0,e),await we.connectExternal({id:o.id,type:o.type,socialUri:i},o.chain),le.setConnectedSocialProvider(r),le.removeTelegramSocialProvider(),yt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){var l,u,d,h;if(!X.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=(l=this.remoteFeatures)==null?void 0:l.email,s=Array.isArray((u=this.remoteFeatures)==null?void 0:u.socials)&&this.remoteFeatures.socials.length>0,i=r||s,a=wg.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&((d=this.options)!=null&&d.projectId)&&i&&(this.authProvider=$l.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(h=this.getCaipNetwork(a))==null?void 0:h.caipNetworkId,abortController:zt.EmbeddedWalletAbortController,onTimeout:f=>{f==="iframe_load_failed"?ln.open(zt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):f==="iframe_request_timeout"?ln.open(zt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):f==="unverified_domain"&&ln.open(zt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}}),Ji.subscribeOpen(f=>{var p;!f&&this.isTransactionStackEmpty()&&((p=this.authProvider)==null||p.rejectRpcRequests())}));const c=e===$.state.activeChain;this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,r,s;this.createAuthProvider(e),this.authProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setAuthProvider)==null||s.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&xe.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var o,a;if(!e)return;const n=$.state.activeChain,r=e.chainNamespace,s=this.getAddressByChainNamespace(r);if(r===n&&s){const c=this.getAdapter(r),l=Et.getProvider(r),u=Et.getProviderId(r);await(c==null?void 0:c.switchNetwork({caipNetwork:e,provider:l,providerType:u})),this.setCaipNetwork(e)}else{const l=Et.getProviderId(n)===jt.CONNECTOR_TYPE_AUTH,u=Et.getProviderId(r),d=u===jt.CONNECTOR_TYPE_AUTH,h=X.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((l&&u===void 0||d)&&h)try{if($.state.activeChain=e.chainNamespace,s){const f=this.getAdapter(r);await(f==null?void 0:f.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else await((a=(o=this.connectionControllerClient)==null?void 0:o.connectExternal)==null?void 0:a.call(o,{id:X.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:jt.CONNECTOR_TYPE_AUTH,caipNetwork:e}));this.setCaipNetwork(e)}catch{const p=this.getAdapter(r);await(p==null?void 0:p.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else u===jt.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:r}))}}async initialize(e){var n;await super.initialize(e),(n=this.chainNamespaces)==null||n.forEach(r=>{this.createAuthProviderForAdapter(r)}),await this.injectModalUi(),Ji.set({initialized:!0})}async syncIdentity({address:e,chainId:n,chainNamespace:r}){var o;const s=`${r}:${n}`,i=(o=this.caipNetworks)==null?void 0:o.find(a=>a.caipNetworkId===s);if(r!==X.CHAIN.EVM||i!=null&&i.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:a,avatar:c}=await this.fetchIdentity({address:e,caipNetworkId:s});this.setProfileName(a,r),this.setProfileImage(c,r)}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=Et.getProviderId(e);if(n===jt.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const s=le.getConnectedSocialProvider()??"email",i=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:i,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(Ce.isClient()&&!AO)try{const e={...mt.DEFAULT_FEATURES,...this.options.features},n=this.remoteFeatures;if(await this.loadModalComponents(e,n),Ce.isClient()&&!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!ne.state.disableAppend&&!ne.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}AO=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,n){if(!Ce.isClient())return;const r=[];(n.email||n.socials&&n.socials.length>0)&&r.push(tn(()=>import("./embedded-wallet-CZzHl1h6.js"),__vite__mapDeps([3,4,5,6,7,8,9,10,11,12,13,14]))),n.email&&r.push(tn(()=>import("./email-CHfUURHd.js"),__vite__mapDeps([15,4,14,8,13,7,12,16,9]))),n.socials&&r.push(tn(()=>import("./socials-DX7hc6HE.js"),__vite__mapDeps([17,4,18,7,19,20,13,21,12,8,14,22,6,23]))),n.swaps&&n.swaps.length>0&&r.push(tn(()=>import("./swaps-D_szBoFv.js"),__vite__mapDeps([24,4,12,8,25,26,27,6,13,23,9,7]))),e.send&&r.push(tn(()=>import("./send-ihW6QShy.js"),__vite__mapDeps([28,4,12,8,13,7,19,14,27,6,9,29,30]))),e.receive&&r.push(tn(()=>import("./receive-nuDrZrPa.js"),__vite__mapDeps([31,4,32,6,22]))),n.onramp&&n.onramp.length>0&&r.push(tn(()=>import("./onramp-Ckb9fcYJ.js"),__vite__mapDeps([33,4,34,23,13,6,8,35,18,7,19,36,14,12,21,9]))),n.activity&&r.push(tn(()=>import("./transactions-C1FYeikF.js"),__vite__mapDeps([37,4,38,34,23,13,14,6]))),e.pay&&r.push(tn(()=>import("./index-Dk7z6NWz.js"),__vite__mapDeps([39,4,12,8,40,6,13,10,35,30,21]))),await Promise.all([...r,tn(()=>import("./index-CkpL4TJp.js"),__vite__mapDeps([41,4,6,8,29,13,42,26,10,35,12,11,40,38,34,23,14,25,30,7,9,16,18,19,20,5,21,32,22,36])),tn(()=>import("./w3m-modal-BrtH99Wt.js"),__vite__mapDeps([43,4,10,6,13,11,8,26,42]))])}}let xa;function gbe(t){t&&(xa=t)}function Lv(){if(!xa)throw new Error('Please call "createAppKit" before using "useAppKit" hook');async function t(n){await(xa==null?void 0:xa.open(n))}async function e(){await(xa==null?void 0:xa.close())}return{open:t,close:e}}const mbe="1.7.10";let Iy;function ybe(t){return Iy||(Iy=new pbe({...t,sdkVersion:Ce.generateSdkVersion(t.adapters??[],"react",mbe)}),gbe(Iy)),Iy}const wbe=xi({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"720px",height:"600px",minWidth:"480px",minHeight:"360px",top:"calc(50vh - 300px)",left:"calc(50vw - 360px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto",zIndex:100},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",height:"calc(100% - 30px)",overflow:"auto"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},gridItem:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",borderRadius:"4px",cursor:"pointer"},detailContent:{padding:"20px",color:"#000"},detailImage:{width:"100%",height:"auto",marginBottom:"20px",border:"1px solid #ccc"},detailTraits:{listStyleType:"none",paddingLeft:"0","& li":{marginBottom:"5px"}},collectionSelector:{display:"flex",gap:"10px",padding:"10px",borderBottom:"2px inset #fff"},collectionButton:{padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer","&.active":{borderStyle:"inset",backgroundColor:"#e0e0e0"}}}),IO=[{slug:"pixelawbs",name:"Pixelawbs",api:"scatter"},{slug:"lawbsters",name:"Lawbsters",api:"opensea",chain:"ethereum"},{slug:"lawbstarz",name:"Lawbstarz",api:"scatter"},{slug:"a-lawbster-halloween",name:"Halloween",api:"opensea",chain:"base"},{slug:"lawbstation",name:"Lawbstation",api:"opensea-solana",chain:"solana"},{slug:"lawbnexus",name:"Nexus",api:"opensea-solana",chain:"solana"}],vbe=({isOpen:t,onClose:e,onMinimize:n,walletAddress:r})=>{const s=wbe({isOpen:t}),{open:i}=Lv(),o=D.useRef(null),[a,c]=D.useState([]),[l,u]=D.useState(!0),[d,h]=D.useState(null),[f,p]=D.useState("all"),[g,y]=D.useState(1),[w,b]=D.useState(1),[v,E]=D.useState(0),[_,x]=D.useState(null),[S,T]=D.useState(IO[0]),[C,O]=D.useState(!1),[R,B]=D.useState(null),z=D.useCallback(async()=>{var k,U;try{if((k=window.solana)!=null&&k.isPhantom){const F=await window.solana.connect();B(F.publicKey.toString());return}if((U=window.solflare)!=null&&U.isSolflare){const F=await window.solflare.connect();B(F.publicKey.toString());return}i()}catch(F){console.error("Failed to connect Solana wallet:",F),alert("Failed to connect Solana wallet. Please make sure Phantom or Solflare is installed.")}O(!1)},[i]);D.useEffect(()=>{var k,U;(k=window.solana)!=null&&k.publicKey?B(window.solana.publicKey.toString()):(U=window.solflare)!=null&&U.publicKey&&B(window.solflare.publicKey.toString())},[]),D.useEffect(()=>{t&&(async()=>{var U;u(!0),h(null);try{let F,V=f==="owned"&&r||void 0;if(S.api==="opensea-solana"){if(f==="owned"&&!R){O(!0),u(!1);return}V=R||void 0,F=await M8(S.slug,50),console.log("Fetched Solana NFTs from collection:",F.data.length),f==="owned"&&R&&(console.log("Filtering for owner:",R),console.log("Sample NFT owner data:",(U=F.data[0])==null?void 0:U.owners),console.log("All NFTs owner data:",F.data.map(K=>({name:K.name,owners:K.owners,owner_of:K.owner_of}))),F.data.some(K=>K.owners&&K.owners.length>0)?(F.data=F.data.filter(K=>{const Z=K.owners.some(se=>se.owner_of&&se.owner_of.toLowerCase()===R.toLowerCase());return Z&&console.log("Found owned NFT:",K.name),Z}),console.log("NFTs after filtering:",F.data.length)):(console.log("No owner data available from OpenSea for Solana collection"),h("Owner data not available for this Solana collection. Showing all NFTs.")))}else S.api==="opensea"?F=await bA(S.slug,50,V):F=await vA(S.slug,g,50,V);c(F.data),b(F.totalPages),E(F.totalCount)}catch(F){F instanceof Error?h(F.message):h("An unknown error occurred."),c([])}finally{u(!1)}})()},[t,g,f,r,S,R]),D.useEffect(()=>{C&&z()},[C,z]);const M=k=>new Date(k).toLocaleDateString(),I=k=>S.api==="opensea-solana"&&(!k.owners||k.owners.length===0)?"Owner data unavailable":k.owners.length>0?`${k.owners[0].owner_of.substring(0,6)}...`:"N/A",A=()=>{n&&n()},j=async k=>{if(S.api==="opensea"&&S.chain)try{const U=await L8(S.chain,k.address,k.token_id.toString()),F={...k,attributes:JSON.stringify(U.traits||[])};x(F)}catch(U){console.error("Failed to fetch full NFT details",U),x(k)}else x(k)},P=k=>{T(k),y(1)};return t?m.jsxs(m.Fragment,{children:[m.jsx(nm,{nodeRef:o,handle:`.${s.header}`,children:m.jsxs("div",{ref:o,className:s.popup,children:[m.jsxs("div",{className:s.header,children:[m.jsx("span",{children:"LAWB NFT GALLERY"}),m.jsxs("div",{className:s.titleBarButtons,children:[m.jsx("button",{className:s.titleBarButton,onClick:A,title:"Minimize",children:"_"}),m.jsx("button",{className:s.titleBarButton,onClick:e,title:"Close",children:""})]})]}),m.jsx("div",{className:s.collectionSelector,children:IO.map(k=>m.jsx("button",{className:`${s.collectionButton} ${S.slug===k.slug?"active":""}`,onClick:()=>P(k),children:k.name},k.slug))}),m.jsxs("div",{className:s.content,children:[m.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[m.jsx("button",{onClick:()=>p("all"),style:{background:f==="all"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:f==="all"?"white":"black"},children:"All NFTs"}),m.jsx("button",{onClick:()=>p("recent"),disabled:!r,style:{background:f==="recent"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:r?"pointer":"not-allowed",color:f==="recent"?"white":"black",opacity:r?1:.6},children:"Recently Minted"}),m.jsx("button",{onClick:()=>p("owned"),disabled:!r&&!R,style:{background:f==="owned"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:r||R?"pointer":"not-allowed",color:f==="owned"?"white":"black",opacity:r||R?1:.6},children:"My NFTs"}),S.api==="opensea-solana"&&m.jsx("button",{onClick:()=>{z()},style:{background:R?"#4CAF50":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:R?"white":"black",marginLeft:"auto"},children:R?`Solana: ${R.slice(0,4)}...${R.slice(-4)}`:"Connect Solana"})]}),S.api==="opensea-solana"&&!R&&m.jsx("div",{style:{backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",padding:"10px",marginBottom:"10px",color:"#856404"},children:"Connect your Solana wallet (Phantom or Solflare) to view your NFTs from this collection."}),d&&m.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:d}),l?m.jsx("div",{children:"Loading NFTs..."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{marginBottom:"10px",fontSize:"14px"},children:[f==="all"&&`Showing all NFTs (${v} total)`,f==="recent"&&`Recently minted NFTs by ${S.api==="opensea-solana"?(R==null?void 0:R.slice(0,6))+"..."+(R==null?void 0:R.slice(-4)):(r==null?void 0:r.slice(0,6))+"..."+(r==null?void 0:r.slice(-4))}`,f==="owned"&&`NFTs owned by ${S.api==="opensea-solana"?(R==null?void 0:R.slice(0,6))+"..."+(R==null?void 0:R.slice(-4)):(r==null?void 0:r.slice(0,6))+"..."+(r==null?void 0:r.slice(-4))}`]}),a.length===0?m.jsx("div",{children:"No NFTs found."}):m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:a.map(k=>m.jsxs("div",{style:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",borderRadius:"4px",cursor:"pointer"},onClick:()=>{j(k)},children:[m.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${k.image_url})`,backgroundSize:"cover",backgroundPosition:"center",marginBottom:"10px",border:"1px solid #ccc"}}),m.jsx("div",{style:{fontSize:"12px",marginBottom:"5px",color:"#000"},children:m.jsxs("strong",{children:["#",k.token_id]})}),m.jsxs("div",{style:{fontSize:"11px",marginBottom:"5px",color:"#000"},children:["Owner: ",I(k)]}),m.jsxs("div",{style:{fontSize:"11px",color:"#666"},children:["Minted: ",M(k.created_at)]})]},k.id))}),f!=="recent"&&w>1&&m.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginTop:"20px"},children:[m.jsx("button",{onClick:()=>y(k=>Math.max(1,k-1)),disabled:g===1,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"5px 10px",cursor:g===1?"not-allowed":"pointer"},children:"Previous"}),m.jsxs("span",{style:{padding:"5px 10px"},children:["Page ",g," of ",w]}),m.jsx("button",{onClick:()=>y(k=>Math.min(w,k+1)),disabled:g===w,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"5px 10px",cursor:g===w?"not-allowed":"pointer"},children:"Next"})]})]})]})]})}),_&&m.jsx(NZ,{nft:_,onClose:()=>x(null)})]}):null},bbe=xi({container:{display:"flex",flexDirection:"column",gap:4,padding:4,background:"#c0c0c0",border:"2px outset #fff",borderRadius:8,maxWidth:500,width:"100%",fontFamily:"monospace",fontSize:11},header:{textAlign:"center",marginBottom:2},subtitle:{color:"#000",fontSize:"10px",textAlign:"center",marginBottom:2,lineHeight:1.1},content:{display:"flex",flexDirection:"column",gap:2},section:{display:"flex",flexDirection:"column",gap:1},sectionTitle:{fontWeight:"bold",color:"#000",fontSize:11,borderBottom:"1px solid #888",paddingBottom:0},row:{display:"flex",alignItems:"center",gap:3,flexWrap:"wrap"},label:{minWidth:55,color:"#000",fontWeight:"bold",fontSize:10},input:{flex:1,minWidth:70,padding:"2px 3px",border:"2px inset #fff",background:"#fff",fontSize:10,fontFamily:"monospace",color:"#000"},button:{padding:"3px 8px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:10,fontWeight:"bold",color:"#000","&:hover":{background:"#d0d0d0"},"&:active":{border:"2px inset #fff"}},effectButton:{padding:"2px 5px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:9,fontWeight:"bold",color:"#000","&:hover":{background:"#d0d0d0"},"&:active":{border:"2px inset #fff"}},memeArea:{display:"flex",justifyContent:"center",position:"relative",marginTop:1},canvas:{border:"2px inset #fff",background:"#333",maxWidth:"100%",height:"auto"},dropdown:{position:"relative"},dropdownContent:{position:"absolute",top:"100%",left:0,background:"#fff",border:"2px outset #fff",borderRadius:4,zIndex:10,minWidth:100,maxHeight:100,overflowY:"auto"},dropdownItem:{padding:"3px 5px",cursor:"pointer",fontSize:9,borderBottom:"1px solid #eee","&:hover":{background:"#f0f0f0"}},actions:{display:"flex",gap:3,justifyContent:"center",marginTop:1}}),_be=[{id:"lawbsters",name:"Lawbsters",api:"opensea",slug:"lawbsters",chain:"ethereum"},{id:"lawbstarz",name:"Lawbstarz",api:"opensea",slug:"lawbstarz",chain:"ethereum"},{id:"pixelawbs",name:"Pixelawbsters",api:"scatter",slug:"pixelawbs"},{id:"halloween",name:"Halloween Lawbsters",api:"opensea",slug:"a-lawbster-halloween",chain:"base"},{id:"lawbstation",name:"Lawbstation",api:"opensea-solana",slug:"lawbstation",chain:"solana"},{id:"nexus",name:"Nexus",api:"opensea-solana",slug:"lawbnexus",chain:"solana"}];function wU(){const t=bbe(),e=D.useRef(null),[n,r]=D.useState(null),[s,i]=D.useState(""),[o,a]=D.useState(""),[c,l]=D.useState(36),[u,d]=D.useState(36),[h,f]=D.useState(!1),[p,g]=D.useState(!1),[y,w]=D.useState(!1),[b,v]=D.useState(!1),[E,_]=D.useState(!1),x=D.useCallback(()=>{const M=P=>{const k=e.current;if(!k)return;P.textAlign="center";const U=(F,V)=>{const J=F.split(" "),K=[];let Z="";for(let se=0;se<J.length;se++){const Ie=Z?Z+" "+J[se]:J[se];P.measureText(Ie).width<=V?Z=Ie:(Z&&K.push(Z),Z=J[se])}return Z&&K.push(Z),K};if(s){P.font=`bold ${c}px Impact`;const F=k.width*.9;(function(){return P.font=`bold ${c}px Impact`,U(s,F)})().forEach((J,K)=>{const Z=c+10+K*c*1.2;P.strokeStyle="#000",P.lineWidth=4,P.strokeText(J,k.width/2,Z),P.fillStyle="#fff",P.fillText(J,k.width/2,Z)})}if(o){P.font=`bold ${u}px Impact`;const F=k.width*.9,V=function(){return P.font=`bold ${u}px Impact`,U(o,F)}(),J=12;V.forEach((K,Z)=>{const se=k.height-J-(V.length-1-Z)*u*1.2;P.strokeStyle="#000",P.lineWidth=4,P.strokeText(K,k.width/2,se),P.fillStyle="#fff",P.fillText(K,k.width/2,se)})}},I=P=>{try{h&&S(P),p&&T(P),y&&C(P)}catch{console.warn("Effects could not be applied due to CORS restrictions. Try uploading your own image instead."),f(!1),g(!1),w(!1)}},A=e.current;if(!A)return;const j=A.getContext("2d");if(j)if(j.clearRect(0,0,A.width,A.height),n){console.log("Loading image:",n);const P=new Image;P.crossOrigin="anonymous",P.onload=()=>{console.log("Image loaded successfully:",P.width,"x",P.height);const k=e.current;if(!k||k!==A)return;const U=k.getContext("2d");if(!U)return;U.clearRect(0,0,k.width,k.height);const F=Math.min(k.width/P.width,k.height/P.height),V=(k.width-P.width*F)/2,J=(k.height-P.height*F)/2;console.log("Drawing image at:",V,J,"with scale:",F),U.drawImage(P,V,J,P.width*F,P.height*F),M(U),I(k)},P.onerror=k=>{console.error("Failed to load image:",n,k);const U=e.current;if(!U||U!==A)return;const F=U.getContext("2d");F&&(F.clearRect(0,0,U.width,U.height),F.fillStyle="#333",F.fillRect(0,0,U.width,U.height),M(F),I(U))},P.src=n}else j.fillStyle="#333",j.fillRect(0,0,A.width,A.height),M(j),I(A)},[n,s,c,o,u,h,p,y]),S=M=>{const I=M.getContext("2d");if(!I)return;const A=I.getImageData(0,0,M.width,M.height),j=A.data;for(let P=0;P<j.length;P+=4){const k=j[P],U=j[P+1],F=j[P+2],V=(k+U+F)/3,J=1.8;j[P]=Math.min(255,V+(k-V)*J),j[P+1]=Math.min(255,V+(U-V)*J*.7),j[P+2]=Math.min(255,V+(F-V)*J*.4);const K=1.3;j[P]=Math.min(255,Math.max(0,j[P]*K)),j[P+1]=Math.min(255,Math.max(0,j[P+1]*K)),j[P+2]=Math.min(255,Math.max(0,j[P+2]*K))}I.putImageData(A,0,0)},T=M=>{const I=M.getContext("2d");if(!I)return;const A=4,P=I.getImageData(0,0,M.width,M.height).data,k=new Uint8ClampedArray(P);for(let U=0;U<M.height;U+=A)for(let F=0;F<M.width;F+=A){const V=(U*M.width+F)*4,J=P[V],K=P[V+1],Z=P[V+2],se=P[V+3];for(let Ie=0;Ie<A&&U+Ie<M.height;Ie++)for(let je=0;je<A&&F+je<M.width;je++){const Re=((U+Ie)*M.width+(F+je))*4;k[Re]=J,k[Re+1]=K,k[Re+2]=Z,k[Re+3]=se}}I.putImageData(new ImageData(k,M.width,M.height),0,0)},C=M=>{const I=M.getContext("2d");if(!I)return;const A=I.getImageData(0,0,M.width,M.height),j=A.data;for(let P=0;P<j.length;P+=4){const k=(Math.random()-.5)*50;j[P]=Math.max(0,Math.min(255,j[P]+k)),j[P+1]=Math.max(0,Math.min(255,j[P+1]+k)),j[P+2]=Math.max(0,Math.min(255,j[P+2]+k))}I.putImageData(A,0,0)};D.useEffect(()=>{x()},[x]);const O=M=>{var A;const I=(A=M.target.files)==null?void 0:A[0];I&&r(URL.createObjectURL(I))},R=()=>{r(null),i(""),a(""),l(36),d(36),f(!1),g(!1),w(!1)},B=()=>{const M=e.current;if(!M)return;const I=document.createElement("a");I.download="meme.png",I.href=M.toDataURL("image/png"),document.body.appendChild(I),I.click(),document.body.removeChild(I)},z=async M=>{_(!0),v(!1);try{console.log("Fetching NFTs for collection:",M);let I;if(M.api==="opensea"){console.log("Using OpenSea API for:",M.slug);const A=await bA(M.slug,50);I=A.data,console.log("OpenSea response:",A)}else if(M.api==="opensea-solana"){console.log("Using OpenSea Solana API for:",M.slug);const A=await M8(M.slug,50);I=A.data,console.log("OpenSea Solana response:",A)}else{console.log("Using Scatter API for:",M.slug);const A=await vA(M.slug,1,50);I=A.data,console.log("Scatter response:",A)}if(I&&I.length>0){const A=I[Math.floor(Math.random()*I.length)],j=A.image||A.image_url||A.image_url_shrunk;console.log("Selected NFT:",A),console.log("Image URL:",j),r(j)}else console.log("No NFTs found in collection"),alert("No NFTs found in this collection.")}catch(I){console.error("Error fetching NFTs:",I),alert("Failed to fetch NFT images. Check console for details.")}finally{_(!1)}};return m.jsxs("div",{className:t.container,children:[m.jsxs("div",{className:t.header,children:[m.jsx("h2",{style:{color:"#00ffff",textShadow:"1px 1px 0 #000",marginBottom:8,fontSize:"16px"},children:"Lawb Meme Maker"}),m.jsxs("p",{className:t.subtitle,children:["find memes or upload your own on"," ",m.jsx("a",{href:"https://memedepot.com/d/lawb",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Meme Depot"})]})]}),m.jsxs("div",{className:t.content,children:[m.jsxs("div",{className:t.section,children:[m.jsx("div",{className:t.sectionTitle,children:"Collections"}),m.jsxs("div",{className:t.row,children:[m.jsxs("div",{className:t.dropdown,children:[m.jsx("button",{className:t.button,onClick:()=>v(M=>!M),children:"Collections"}),b&&m.jsx("div",{className:t.dropdownContent,children:_be.map(M=>m.jsx("div",{className:t.dropdownItem,onClick:()=>{z(M)},children:M.name},M.id))})]}),m.jsxs("label",{className:t.button,style:{marginBottom:0},children:["Upload Image",m.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:O})]}),E&&m.jsx("span",{style:{color:"#00ffff",marginLeft:8,fontSize:"12px"},children:"Loading NFT..."})]})]}),m.jsxs("div",{className:t.section,children:[m.jsx("div",{className:t.sectionTitle,children:"Text"}),m.jsxs("div",{className:t.row,children:[m.jsx("span",{className:t.label,children:"Top Text:"}),m.jsx("input",{className:t.input,type:"text",value:s,onChange:M=>i(M.target.value),placeholder:"Enter top text..."}),m.jsx("span",{className:t.label,children:"Size:"}),m.jsx("input",{className:t.input,type:"number",min:10,max:100,value:c,onChange:M=>l(Number(M.target.value)),style:{width:60,textAlign:"center"}})]}),m.jsxs("div",{className:t.row,children:[m.jsx("span",{className:t.label,children:"Bottom Text:"}),m.jsx("input",{className:t.input,type:"text",value:o,onChange:M=>a(M.target.value),placeholder:"Enter bottom text..."}),m.jsx("span",{className:t.label,children:"Size:"}),m.jsx("input",{className:t.input,type:"number",min:10,max:100,value:u,onChange:M=>d(Number(M.target.value)),style:{width:60,textAlign:"center"}})]})]}),m.jsxs("div",{className:t.section,children:[m.jsx("div",{className:t.sectionTitle,children:"Effects"}),m.jsxs("div",{className:t.row,children:[m.jsx("button",{className:t.effectButton,style:{background:h?"#00ffff":void 0},onClick:()=>f(M=>!M),children:"Deep Fry"}),m.jsx("button",{className:t.effectButton,style:{background:p?"#00ffff":void 0},onClick:()=>g(M=>!M),children:"Pixelate"}),m.jsx("button",{className:t.effectButton,style:{background:y?"#00ffff":void 0},onClick:()=>w(M=>!M),children:"Grain"})]})]}),m.jsxs("div",{className:t.actions,children:[m.jsx("button",{className:t.button,onClick:B,children:"Save Image"}),m.jsx("button",{className:t.button,onClick:R,children:"Restart"})]})]}),m.jsx("div",{className:t.memeArea,children:m.jsx("canvas",{ref:e,width:320,height:320,className:t.canvas})})]})}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $g(){return $g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$g.apply(this,arguments)}var sc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(sc||(sc={}));const TO="popstate";function Ebe(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Ex("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:bU(s)}return xbe(e,n,null,t)}function bn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vU(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Cbe(){return Math.random().toString(36).substr(2,8)}function NO(t,e){return{usr:t.state,key:t.key,idx:e}}function Ex(t,e,n,r){return n===void 0&&(n=null),$g({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Rh(e):e,{state:n,key:e&&e.key||r||Cbe()})}function bU(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Rh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function xbe(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=sc.Pop,c=null,l=u();l==null&&(l=0,o.replaceState($g({},o.state,{idx:l}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=sc.Pop;let y=u(),w=y==null?null:y-l;l=y,c&&c({action:a,location:g.location,delta:w})}function h(y,w){a=sc.Push;let b=Ex(g.location,y,w);l=u()+1;let v=NO(b,l),E=g.createHref(b);try{o.pushState(v,"",E)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(E)}i&&c&&c({action:a,location:g.location,delta:1})}function f(y,w){a=sc.Replace;let b=Ex(g.location,y,w);l=u();let v=NO(b,l),E=g.createHref(b);o.replaceState(v,"",E),i&&c&&c({action:a,location:g.location,delta:0})}function p(y){let w=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof y=="string"?y:bU(y);return b=b.replace(/ $/,"%20"),bn(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let g={get action(){return a},get location(){return t(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(TO,d),c=y,()=>{s.removeEventListener(TO,d),c=null}},createHref(y){return e(s,y)},createURL:p,encodeLocation(y){let w=p(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:f,go(y){return o.go(y)}};return g}var PO;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(PO||(PO={}));function Sbe(t,e,n){return n===void 0&&(n="/"),Abe(t,e,n)}function Abe(t,e,n,r){let s=typeof e=="string"?Rh(e):e,i=CU(s.pathname||"/",n);if(i==null)return null;let o=_U(t);Ibe(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let l=Mbe(i);a=jbe(o[c],l)}return a}function _U(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(bn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let l=jl([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(bn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),_U(i.children,e,u,l)),!(i.path==null&&!i.index)&&e.push({path:l,score:$be(l,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of EU(i.path))s(i,o,c)}),e}function EU(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=EU(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function Ibe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Dbe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Tbe=/^:[\w-]+$/,Nbe=3,Pbe=2,kbe=1,Obe=10,Rbe=-2,kO=t=>t==="*";function $be(t,e){let n=t.split("/"),r=n.length;return n.some(kO)&&(r+=Rbe),e&&(r+=Pbe),n.filter(s=>!kO(s)).reduce((s,i)=>s+(Tbe.test(i)?Nbe:i===""?kbe:Obe),r)}function Dbe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function jbe(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],l=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=Ube({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),h=c.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:jl([i,d.pathname]),pathnameBase:Hbe(jl([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=jl([i,d.pathnameBase]))}return o}function Ube(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Lbe(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((l,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let g=a[d]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?l[h]=void 0:l[h]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:o,pattern:t}}function Lbe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),vU(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Mbe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vU(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function CU(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Bbe(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Rh(t):t;return{pathname:n?n.startsWith("/")?n:Fbe(n,e):e,search:Vbe(r),hash:Gbe(s)}}function Fbe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function d_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zbe(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wbe(t,e){let n=zbe(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qbe(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Rh(t):(s=$g({},t),bn(!s.pathname||!s.pathname.includes("?"),d_("?","pathname","search",s)),bn(!s.pathname||!s.pathname.includes("#"),d_("#","pathname","hash",s)),bn(!s.search||!s.search.includes("#"),d_("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let c=Bbe(s,a),l=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}const jl=t=>t.join("/").replace(/\/\/+/g,"/"),Hbe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Vbe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Gbe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Kbe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xU=["post","put","patch","delete"];new Set(xU);const Ybe=["get",...xU];new Set(Ybe);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dg(){return Dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dg.apply(this,arguments)}const lI=D.createContext(null),Jbe=D.createContext(null),Mv=D.createContext(null),Bv=D.createContext(null),$h=D.createContext({outlet:null,matches:[],isDataRoute:!1}),SU=D.createContext(null);function Fv(){return D.useContext(Bv)!=null}function AU(){return Fv()||bn(!1),D.useContext(Bv).location}function IU(t){D.useContext(Mv).static||D.useLayoutEffect(t)}function TU(){let{isDataRoute:t}=D.useContext($h);return t?l1e():Qbe()}function Qbe(){Fv()||bn(!1);let t=D.useContext(lI),{basename:e,future:n,navigator:r}=D.useContext(Mv),{matches:s}=D.useContext($h),{pathname:i}=AU(),o=JSON.stringify(Wbe(s,n.v7_relativeSplatPath)),a=D.useRef(!1);return IU(()=>{a.current=!0}),D.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let d=qbe(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:jl([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function Zbe(t,e){return Xbe(t,e)}function Xbe(t,e,n,r){Fv()||bn(!1);let{navigator:s}=D.useContext(Mv),{matches:i}=D.useContext($h),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let l=AU(),u;if(e){var d;let y=typeof e=="string"?Rh(e):e;c==="/"||(d=y.pathname)!=null&&d.startsWith(c)||bn(!1),u=y}else u=l;let h=u.pathname||"/",f=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=Sbe(t,{pathname:f}),g=s1e(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:jl([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:jl([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&g?D.createElement(Bv.Provider,{value:{location:Dg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:sc.Pop}},g):g}function e1e(){let t=c1e(),e=Kbe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:s},n):null,null)}const t1e=D.createElement(e1e,null);class n1e extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement($h.Provider,{value:this.props.routeContext},D.createElement(SU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function r1e(t){let{routeContext:e,match:n,children:r}=t,s=D.useContext(lI);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement($h.Provider,{value:e},r)}function s1e(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||bn(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){c=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,p=!1,g=null,y=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||t1e,c&&(l<0&&h===0?(u1e("route-fallback"),p=!0,y=null):l===h&&(p=!0,y=d.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,h+1)),b=()=>{let v;return f?v=g:p?v=y:d.route.Component?v=D.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=u,D.createElement(r1e,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?D.createElement(n1e,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}var NU=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(NU||{}),PU=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(PU||{});function i1e(t){let e=D.useContext(lI);return e||bn(!1),e}function o1e(t){let e=D.useContext(Jbe);return e||bn(!1),e}function a1e(t){let e=D.useContext($h);return e||bn(!1),e}function kU(t){let e=a1e(),n=e.matches[e.matches.length-1];return n.route.id||bn(!1),n.route.id}function c1e(){var t;let e=D.useContext(SU),n=o1e(),r=kU();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function l1e(){let{router:t}=i1e(NU.UseNavigateStable),e=kU(PU.UseNavigateStable),n=D.useRef(!1);return IU(()=>{n.current=!0}),D.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Dg({fromRouteId:e},i)))},[t,e])}const OO={};function u1e(t,e,n){OO[t]||(OO[t]=!0)}function d1e(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Cx(t){bn(!1)}function h1e(t){let{basename:e="/",children:n=null,location:r,navigationType:s=sc.Pop,navigator:i,static:o=!1,future:a}=t;Fv()&&bn(!1);let c=e.replace(/^\/*/,"/"),l=D.useMemo(()=>({basename:c,navigator:i,static:o,future:Dg({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=Rh(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,g=D.useMemo(()=>{let y=CU(u,c);return y==null?null:{location:{pathname:y,search:d,hash:h,state:f,key:p},navigationType:s}},[c,u,d,h,f,p,s]);return g==null?null:D.createElement(Mv.Provider,{value:l},D.createElement(Bv.Provider,{children:n,value:g}))}function f1e(t){let{children:e,location:n}=t;return Zbe(xx(e),n)}new Promise(()=>{});function xx(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,s)=>{if(!D.isValidElement(r))return;let i=[...e,s];if(r.type===D.Fragment){n.push.apply(n,xx(r.props.children,i));return}r.type!==Cx&&bn(!1),!r.props.index||!r.props.children||bn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=xx(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const p1e="6";try{window.__reactRouterVersion=p1e}catch{}const g1e="startTransition",RO=FL[g1e];function m1e(t){let{basename:e,children:n,future:r,window:s}=t,i=D.useRef();i.current==null&&(i.current=Ebe({window:s,v5Compat:!0}));let o=i.current,[a,c]=D.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},u=D.useCallback(d=>{l&&RO?RO(()=>c(d)):c(d)},[c,l]);return D.useLayoutEffect(()=>o.listen(u),[o,u]),D.useEffect(()=>d1e(r),[r]),D.createElement(h1e,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var $O;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($O||($O={}));var DO;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(DO||(DO={}));const y1e=xi({body:{margin:0,height:"100vh",width:"100vw",fontFamily:"'MS Sans Serif', Arial, sans-serif",color:"#000",cursor:'url("/assets/lawbpointer.png"), auto'}});function w1e(){const t=y1e(),{open:e}=Lv(),{address:n,isConnected:r}=em(),{isPending:s}=P5(),{disconnect:i}=k5(),{data:o}=O5({address:n}),[a,c]=D.useState("pixelawbs-popup"),[l,u]=D.useState(new Set),[d,h]=D.useState(!1),[f,p]=D.useState(!1),[g,y]=D.useState(!1),[w,b]=D.useState(!1),v=TU(),E=D.useRef(null);D.useEffect(()=>{if(a==="halloween-popup"&&E.current){const A=E.current.querySelector("script[data-tiktok-embed]");A&&A.remove();const j=document.createElement("script");j.src="https://www.tiktok.com/embed.js",j.async=!0,j.setAttribute("data-tiktok-embed","true"),E.current.appendChild(j)}},[a]);const _=(A,j,P)=>{if(A==="url"&&P)window.open(P,"_blank");else if(A==="popup"&&j)c(j),u(k=>{const U=new Set(k);return U.delete(j),U}),document.body.offsetWidth;else if(A==="wallet")r?i():e();else if(A==="mint"){if(!n){alert("Please connect your wallet first!");return}h(!0)}else A==="nft-gallery"?p(!0):A==="meme-generator"?y(!0):A==="chess"&&(r?(b(!0),setTimeout(()=>{b(!1),v("/chess")},1500)):e().then(()=>{const k=()=>{window.ethereum&&window.ethereum.selectedAddress?(b(!0),setTimeout(()=>{b(!1),v("/chess")},1500)):setTimeout(k,200)};k()}))},x=()=>c(null),S=A=>{u(j=>new Set(j).add(A)),c(null)},T=A=>{A==="mint-popup"?h(!0):A==="nft-gallery-popup"?p(!0):A==="meme-generator-popup"?y(!0):c(A),u(j=>{const P=new Set(j);return P.delete(A),P})},C=()=>h(!1),O=()=>p(!1),R=()=>y(!1),B=()=>{h(!1),u(A=>new Set(A).add("mint-popup"))},z=()=>{p(!1),u(A=>new Set(A).add("nft-gallery-popup"))},M=()=>{y(!1),u(A=>new Set(A).add("meme-generator-popup"))},I=m.jsxs("div",{onClick:()=>{r?i():e()},style:{cursor:"pointer",display:"flex",alignItems:"center",color:r?"limegreen":"red",fontWeight:"bold"},children:[m.jsx("span",{style:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:r?"limegreen":"red",marginRight:"8px",border:"1px solid black"}}),s?"Connecting...":r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Disconnected"]});return m.jsxs("div",{className:t.body,children:[w&&m.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#000",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:9999},children:[m.jsx("img",{src:"/images/blueknight.png",alt:"Booting Chess...",style:{width:120,height:120,marginBottom:32}}),m.jsx("div",{style:{color:"#fff",fontSize:28,fontFamily:"monospace",letterSpacing:2},children:"LOADING LAWB CHESS..."})]}),m.jsx(_Z,{onIconClick:_}),m.jsx(CZ,{minimizedWindows:Array.from(l),onRestoreWindow:T,walletButton:I,connectionStatus:{connected:r,address:n,ens:o||void 0}}),m.jsxs(Ns,{id:"chat-popup",isOpen:a==="chat-popup",onClose:x,onMinimize:S,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["join the chat, there is no meme we lawb you ",m.jsx("a",{href:"https://boards.miladychan.org/milady/33793",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"/milady/33793"})]}),m.jsx("img",{src:"/assets/miladychanfaq.png",alt:"Milady Chan FAQ",style:{maxWidth:"100%",marginTop:"10px"}})]}),m.jsxs(Ns,{id:"purity-popup",isOpen:a==="purity-popup",onClose:x,onMinimize:S,children:[m.jsx("p",{style:{marginBottom:"10px"},children:"purify your wallet and cleanse your soul with Purity Finance."}),m.jsx("p",{style:{marginBottom:"10px"},children:"swap any sol token in your wallet directly for $LAWB"}),m.jsx("a",{href:"https://www.purity.finance/lawb",target:"_blank",rel:"noopener noreferrer",style:{cursor:"pointer"},children:"click to Purify"}),m.jsx("img",{src:"/assets/puritylawb.png",alt:"Purity Lawb",style:{maxWidth:"100%",marginTop:"10px"}})]}),m.jsxs(Ns,{id:"lawbstarz-popup",isOpen:a==="lawbstarz-popup",onClose:x,onMinimize:S,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:[" LAWBSTARZ 666x LOBSTERS DRIPPED IN BUTTER  666x PREMIUM PFP COLLECTION  LAWBSTARZ IS A MUSIC NFT  LAWBSTARZ IS AN ",m.jsx("a",{href:"https://allstarz.world",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"ALLSTARZ"})," DERIVATIVE  LAWBSTARZ IS INSPIRED BY ",m.jsx("a",{href:"https://www.remilia.org/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"REMILIA CORP"}),"  LED BY NETWORK SPIRITUALITY  666 ",m.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"CIGAWRETTEPACKS"})," WERE CONSUMED BY ",m.jsx("a",{href:"https://x.com/portionclub69",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"PORTIONCLUB69"})," AND FRIENDS DURING THE CREATION OF LAWBSTARZ v1 "]}),m.jsx("p",{children:"Chain: Ethereum"}),m.jsxs("p",{children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0xd7922cd333da5ab3758c95f774b092a7b13a5449",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/lawbstarz.gif",alt:"Lawbstarz",style:{maxWidth:"100%",marginTop:"10px"}}),m.jsx("img",{src:"/assets/lawbstarzhotelroom.png",alt:"Lawbstarz Hotel Room",style:{maxWidth:"100%",marginTop:"10px"}}),m.jsx("img",{src:"/assets/tile-06-audio-image0-lawbstarz dj set 1.0 copy.png",alt:"Lawbstarz DJ Set",style:{maxWidth:"100%",marginTop:"10px"}})]}),m.jsxs(Ns,{id:"lawbstation-popup",isOpen:a==="lawbstation-popup",onClose:x,onMinimize:S,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["Lawbstations: low poly Lawbsters viewed through various cathode-ray tubes built on ",m.jsx("a",{href:"https://www.miladystation2.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"MiladyStation"})," technology. Inspired by Milady, Allstarz, Rusty Rollers, Cigawrette Packs, SPX6900 and Radbro. Brought to you in part by PortionClub and Mony Corp Group. LawbStations seem nice but a lobster controlled by MiladyStation will never achieve anything without a roadmap."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Solana"}),m.jsx("p",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://magiceden.us/marketplace/lawbstation",target:"_blank",rel:"noopener noreferrer",children:"Collect Lawbstations on Secondary"})}),m.jsx("img",{src:"/assets/lawbstation.GIF",alt:"Lawbstation",style:{width:"100%",marginTop:"10px"}}),m.jsx("video",{controls:!0,src:"/assets/lawbstation.mp4",style:{width:"100%",marginTop:"10px"}})]}),m.jsxs(Ns,{id:"nexus-popup",isOpen:a==="nexus-popup",onClose:x,onMinimize:S,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["1000 Xtra Ultra High Definition Lawbsters, packaged and distributed on Solana. Collect on ",m.jsx("a",{href:"https://magiceden.us/marketplace/lawbnexus",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/nexus.gif",alt:"Nexus",style:{width:"100%",marginBottom:"10px"}}),m.jsx("video",{controls:!0,src:"/assets/nexusminting.mp4",style:{width:"100%"}})]}),m.jsxs(Ns,{id:"lawbsters-popup",isOpen:a==="lawbsters-popup",onClose:x,onMinimize:S,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["420 Lawbsters seem nice but a human controlled by a lobster would never amount to anything without a roadmap. A ",m.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Cigawrette Packs"})," derivative."]}),m.jsx("p",{children:"Chain: Ethereum"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x0ef7ba09c38624b8e9cc4985790a2f5dbfc1dc42",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})," or ",m.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/buy/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"NFTX"})]}),m.jsx("div",{style:{maxWidth:"400px",margin:"0 auto"},children:m.jsx(FK,{id:"1620879129850834944"})}),m.jsx("img",{src:"/assets/lawbsters.gif",alt:"Lawbsters",style:{width:"100%",marginTop:"10px"}})]}),m.jsx(Ns,{id:"pixelawbs-popup",isOpen:a==="pixelawbs-popup",onClose:x,onMinimize:S,children:(()=>{const A=j=>{j.preventDefault(),c(null),h(!0)};return m.jsxs(m.Fragment,{children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",m.jsx("span",{style:{color:"blue",textDecoration:"underline",cursor:"pointer"},onClick:A,children:"COLLECT HERE"})," OR VISIT ",m.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"SCATTER.ART"})]}),m.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none",poster:"/assets/pixelawbsintro.png"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",m.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"PixeladyMaker"})]}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Ethereum"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x2d278e95b2fc67d4b27a276807e24e479d9707f6",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/mint.gif",alt:"Mint",style:{maxWidth:"100%"}})]})})()}),m.jsxs(Ns,{id:"halloween-popup",isOpen:a==="halloween-popup",onClose:x,onMinimize:S,children:[m.jsx("h3",{style:{marginBottom:"10px"},children:"A LAWBSTER HALLOWEEN"}),m.jsx("p",{style:{marginBottom:"10px"},children:"a Lawbster Halloween party seems nice but a a group of what seems to be humans controlled by lobsters just hijacked the Spirit Halloween Superstore."}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Base"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/base/0x8ab6733f8f8702c233f3582ec2a2750d3fc63a97",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/lawbsterhalloween.gif",alt:"Lawbster Halloween",style:{width:"100%",marginBottom:"10px"}}),m.jsx("div",{ref:E,style:{maxWidth:"400px",margin:"0 auto"},children:m.jsx("blockquote",{className:"tiktok-embed",cite:"https://www.tiktok.com/@wables.eth/video/7295660710644682027","data-video-id":"7295660710644682027",style:{maxWidth:"605px",minWidth:"325px"},children:m.jsxs("section",{children:[m.jsx("a",{target:"_blank",rel:"noreferrer",title:"@wables.eth",href:"https://www.tiktok.com/@wables.eth?refer=embed",children:"@wables.eth"})," 420 lawbsters hijacked a spirit halloween superstore  minting rn on @ourzora via @PC69 ",m.jsx("a",{target:"_blank",rel:"noreferrer",title:" original sound - wables.eth",href:"https://www.tiktok.com/music/original-sound-7295660837769857835?refer=embed",children:" original sound - wables.eth"})]})})})]}),m.jsxs(Ns,{id:"lawb-popup",isOpen:a==="lawb-popup",onClose:x,onMinimize:S,children:[m.jsx("h1",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://dexscreener.com/solana/dtxvuypheobwo66afefp9mfgt2e14c6ufexnvxwnvep",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:" $LAWB"})}),m.jsxs("p",{style:{marginBottom:"10px"},children:["$lawb seems nice but a lawbster token on the Solana blockchain will never achieve anything without a roadmap. Token created 03.15.24 on ",m.jsx("a",{href:"https://www.pump.fun/65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"pump.fun"}),"."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"$lawb airdropped to LawbStation holders 03.19.24"}),m.jsx("p",{style:{marginBottom:"10px"},children:"THERE IS NO MEME WE $LAWB YOU"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(sol) ca: 65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(arb) ca: 0x741f8FbF42485E772D97f1955c31a5B8098aC962"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(dmt) ca: 0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["if you wish to bridge your $lawb token from solana to arbitrum to sanko, a wormhole is available via ",m.jsx("a",{href:"https://portalbridge.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"https://portalbridge.com/"})]}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 1. connect solana wallet and select $lawb token (65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 2. connect arbitrum wallet and select $lawb token (0x741f8FbF42485E772D97f1955c31a5B8098aC962)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 3. select token quantity, confirm transactions."}),m.jsxs("p",{style:{marginBottom:"10px"},children:["step 4. now that you have $lawb on arbitrum, visit ",m.jsx("a",{href:"https://sanko.xyz/bridge",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"https://sanko.xyz/bridge"})," and connect your arb wallet."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 5. from arb wallet, select $lawb token."}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 6. connect to sanko chain. if not already selected, select $lawb token on sanko (0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 7. select quantity and confirm transactions."}),m.jsx("img",{src:"/assets/lawbticker.gif",alt:"ticker $lawb",style:{width:"100%",marginBottom:"10px",marginTop:"10px"}}),m.jsx("div",{style:{width:"100%",height:"400px",marginTop:"10px"},children:m.jsx("iframe",{src:"https://dexscreener.com/solana/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep?embed=1&theme=dark&info=0",title:"DexScreener",style:{width:"100%",height:"100%",border:"none"}})})]}),m.jsx(AZ,{isOpen:d,onClose:C,onMinimize:B,walletAddress:n||""}),m.jsx(vbe,{isOpen:f,onClose:O,onMinimize:z,walletAddress:n}),m.jsx(Ns,{id:"meme-generator-popup",isOpen:g,onClose:R,onMinimize:M,children:m.jsx(wU,{})})]})}const v1e=xi({galleryContainer:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#c0c0c0",zIndex:200,display:"flex",flexDirection:"column",fontFamily:"'MS Sans Serif', Arial, sans-serif"},header:{background:"navy",color:"#fff",padding:"8px",display:"flex",alignItems:"center",gap:"10px"},backButton:{background:"#c0c0c0",border:"2px outset #fff",padding:"2px 8px",cursor:"pointer","&:active":{borderStyle:"inset"}},headerTitle:{margin:0,fontSize:"1rem",fontWeight:"bold"},content:{flex:1,overflowY:"auto",padding:"1rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},gridItem:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",cursor:"pointer",textAlign:"center","& img":{width:"100%",height:"auto",marginBottom:"8px"}},detailView:{padding:"1rem","& img":{maxWidth:"100%",marginBottom:"1rem"}},loading:{textAlign:"center",padding:"2rem"},collectionSelector:{display:"flex",gap:"10px",padding:"10px",borderBottom:"2px inset #fff",flexWrap:"wrap"},collectionButton:{padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer","&.active":{borderStyle:"inset",backgroundColor:"#e0e0e0"}}}),jO=[{slug:"pixelawbs",name:"Pixelawbs",api:"scatter"},{slug:"lawbsters",name:"Lawbsters",api:"opensea",chain:"ethereum"},{slug:"lawbstarz",name:"Lawbstarz",api:"scatter"},{slug:"a-lawbster-halloween",name:"Halloween",api:"opensea",chain:"base"},{slug:"lawbstation",name:"Lawbstation",api:"opensea-solana",chain:"solana"},{slug:"lawbnexus",name:"Nexus",api:"opensea-solana",chain:"solana"}],b1e=({onBack:t,walletAddress:e})=>{const n=v1e(),{open:r}=Lv(),[s,i]=D.useState([]),[o,a]=D.useState(!0),[c,l]=D.useState(null),[u,d]=D.useState(jO[0]),[h,f]=D.useState(!1),[p,g]=D.useState(null),[y,w]=D.useState("all"),[b,v]=D.useState(null),E=D.useCallback(async()=>{var T,C;try{if((T=window.solana)!=null&&T.isPhantom){const O=await window.solana.connect();g(O.publicKey.toString());return}if((C=window.solflare)!=null&&C.isSolflare){const O=await window.solflare.connect();g(O.publicKey.toString());return}r()}catch(O){console.error("Failed to connect Solana wallet:",O),alert("Failed to connect Solana wallet. Please make sure Phantom or Solflare is installed.")}f(!1)},[r]);D.useEffect(()=>{var T,C;(T=window.solana)!=null&&T.publicKey?g(window.solana.publicKey.toString()):(C=window.solflare)!=null&&C.publicKey&&g(window.solflare.publicKey.toString())},[]),D.useEffect(()=>{(async()=>{a(!0);try{let C,O=e||void 0;if(u.api==="opensea-solana"){if(!p){f(!0),a(!1);return}O=p,C=await xZ(p,100),console.log("Mobile: Fetched Solana NFTs by owner:",C.data.length)}else u.api==="opensea"?C=await bA(u.slug,100,O):C=await vA(u.slug,1,100,O);y==="owned"&&p&&(console.log("Filtering for owner:",p),C.data.some(B=>B.owners&&B.owners.length>0)?C.data=C.data.filter(B=>B.owners.some(M=>M.owner_of&&M.owner_of.toLowerCase()===p.toLowerCase())):(console.log("No owner data available from OpenSea for Solana collection"),v("Owner data not available for this Solana collection. Showing all NFTs."))),i(C.data)}catch(C){console.error(C)}finally{a(!1)}})()},[e,u,p,y]),D.useEffect(()=>{h&&E()},[h,E]);const _=async T=>{if(a(!0),u.api==="opensea"&&u.chain)try{const C=await L8(u.chain,T.address,T.token_id.toString()),O={...T,attributes:JSON.stringify(C.traits||[])};l(O)}catch(C){console.error("Failed to fetch full NFT details",C),l(T)}else l(T);a(!1)},x=()=>{if(!c)return null;let T=[];try{T=JSON.parse(c.attributes||"[]")}catch(C){console.error("Failed to parse NFT attributes:",C)}return m.jsxs("div",{className:n.detailView,children:[m.jsx("img",{src:c.image,alt:c.name}),m.jsx("h2",{children:c.name}),m.jsx("h4",{children:"Traits:"}),m.jsx("ul",{children:T.map((C,O)=>m.jsxs("li",{children:[m.jsxs("strong",{children:[C.trait_type,":"]})," ",C.value]},O))})]})},S=()=>m.jsxs(m.Fragment,{children:[m.jsx("div",{className:n.collectionSelector,children:jO.map(T=>m.jsx("button",{className:`${n.collectionButton} ${u.slug===T.slug?"active":""}`,onClick:()=>d(T),children:T.name},T.slug))}),m.jsxs("div",{className:n.content,children:[m.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[m.jsx("button",{onClick:()=>w("all"),style:{background:y==="all"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:y==="all"?"white":"black"},children:"All NFTs"}),m.jsx("button",{onClick:()=>w("owned"),disabled:!e&&!p,style:{background:y==="owned"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:e||p?"pointer":"not-allowed",color:y==="owned"?"white":"black",opacity:e||p?1:.6},children:"My NFTs"}),u.api==="opensea-solana"&&m.jsx("button",{onClick:()=>{E()},style:{background:p?"#4CAF50":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:p?"white":"black",marginLeft:"auto"},children:p?`Solana: ${p.slice(0,4)}...${p.slice(-4)}`:"Connect Solana"})]}),b&&m.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:b}),u.api==="opensea-solana"&&!p&&m.jsx("div",{style:{backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",padding:"10px",marginBottom:"10px",color:"#856404"},children:"Connect your Solana wallet (Phantom or Solflare) to view your NFTs from this collection."}),o?m.jsx("div",{className:n.loading,children:"Loading NFTs..."}):m.jsx("div",{className:n.grid,children:s.map(T=>{let C=T.image||T.image_url||T.image_url_shrunk||"/assets/pixelawb.png";return m.jsxs("div",{className:n.gridItem,onClick:()=>void _(T),children:[m.jsx("img",{src:C,alt:T.name,onError:O=>{O.currentTarget.src!==T.image_url&&T.image_url?O.currentTarget.src=T.image_url:O.currentTarget.src!==T.image_url_shrunk&&T.image_url_shrunk?O.currentTarget.src=T.image_url_shrunk:O.currentTarget.src="/assets/pixelawb.png"}}),m.jsx("span",{children:T.name})]},T.id)})})]})]});return m.jsxs("div",{className:n.galleryContainer,children:[m.jsxs("header",{className:n.header,children:[m.jsx("button",{className:n.backButton,onClick:c?()=>l(null):t,children:"Back"}),m.jsx("h2",{className:n.headerTitle,children:c?c.name:"LAWB NFT GALLERY"})]}),m.jsx("div",{className:n.content,children:o?m.jsx("p",{className:n.loading,children:"Loading..."}):c?x():S()})]})},_1e=xi({overlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.5)",zIndex:4e3,display:"flex",alignItems:"center",justifyContent:"center"},popup:{background:"#c0c0c0",border:"2px outset #fff",borderRadius:12,width:"92vw",maxWidth:420,minHeight:240,maxHeight:"90vh",boxShadow:"0 8px 32px rgba(0,0,0,0.4)",display:"flex",flexDirection:"column",alignItems:"stretch",position:"relative",overflow:"hidden"},titleBar:{background:"navy",color:"#fff",fontWeight:"bold",fontFamily:"'MS Sans Serif', Arial, sans-serif",fontSize:16,padding:"8px 12px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"2px inset #fff",userSelect:"none"},closeButton:{width:28,height:28,background:"#c0c0c0",border:"2px outset #fff",borderRadius:4,color:"#000",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",marginLeft:8,boxShadow:"1px 1px 0 #888","&:active":{border:"2px inset #fff",background:"#e0e0e0"}},content:{padding:16,overflowY:"auto",fontFamily:"'MS Sans Serif', Arial, sans-serif",color:"#000",fontSize:15,background:"#fff",flex:1}}),ei=({isOpen:t,onClose:e,title:n,children:r})=>{const s=_1e();return t?m.jsx("div",{className:s.overlay,children:m.jsxs("div",{className:s.popup,children:[m.jsxs("div",{className:s.titleBar,children:[m.jsx("span",{children:n}),m.jsx("button",{className:s.closeButton,onClick:e,title:"Close",children:""})]}),m.jsx("div",{className:s.content,children:r})]})}):null},E1e=({isOpen:t,onClose:e,walletAddress:n})=>{const[r,s]=D.useState([]),[i,o]=D.useState(!1),[a,c]=D.useState(!1),[l,u]=D.useState({}),[d,h]=D.useState(null),{data:f}=R5();D.useEffect(()=>{t&&n&&p()},[t,n]);const p=async()=>{o(!0),h(null);try{const E=await j8(n);s(E);const _={};E.forEach(x=>{_[x.id]=0}),u(_)}catch(E){h(E.message)}finally{o(!1)}},g=(E,_)=>{u(x=>({...x,[E]:Math.max(0,_)}))},y=async()=>{const E=Object.entries(l).filter(([,_])=>_>0).map(([_,x])=>({id:_,quantity:x}));if(E.length===0){h("Please select at least one item to mint");return}if(!f){h("Wallet not connected");return}c(!0),h(null);try{const _=await U8(n,E);if(_.success&&_.mintTransaction){alert("Please confirm the transaction in your wallet.");try{const x=await f.sendTransaction({to:_.mintTransaction.to,value:BigInt(_.mintTransaction.value),data:_.mintTransaction.data});alert(`NFT Minted Successfully: Transaction Hash - ${x}`),e()}catch(x){h("Transaction failed: "+x.message)}}else throw new Error(_.message||"Could not retrieve minting transaction.")}catch(_){h("Minting failed: "+_.message)}finally{c(!1)}},w=(E,_)=>`${parseFloat(E)} ${_}`,b={border:"1px solid #808080",padding:"10px",marginBottom:"10px",backgroundColor:"#f8f8f8",borderRadius:"8px",textAlign:"left"},v={backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000",borderRadius:"8px"};return m.jsxs(ei,{isOpen:t,onClose:e,title:"Mint Pixelawbs",children:[d&&m.jsx("div",{style:v,children:d}),i?m.jsx("div",{children:"Loading eligible invite lists..."}):r.length===0?m.jsx("div",{children:"No eligible invite lists found for your wallet."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{marginBottom:"20px"},children:[m.jsx("h3",{style:{color:"#008080",fontSize:"1rem",margin:0},children:"Available Lists:"}),r.map(E=>m.jsxs("div",{style:b,children:[m.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:E.name}),m.jsxs("div",{style:{fontSize:"12px",marginBottom:"5px"},children:["Price: ",w(E.token_price,E.currency_symbol)]}),m.jsxs("div",{style:{fontSize:"12px",marginBottom:"10px"},children:["Limit: ",E.wallet_limit===4294967295?"Unlimited":E.wallet_limit," per wallet"]}),m.jsx("input",{type:"number",min:0,max:E.wallet_limit===4294967295?void 0:E.wallet_limit,value:l[E.id]||"",onChange:_=>g(E.id,parseInt(_.target.value)||0),style:{width:"60px",fontSize:"1rem",marginRight:"8px"}}),m.jsx("span",{style:{fontSize:"0.95rem"},children:"Qty"})]},E.id))]}),m.jsx("button",{style:{background:"#00ffff",color:"#000",border:"none",borderRadius:"8px",padding:"12px 32px",fontWeight:"bold",fontSize:"1.1rem",marginTop:"1.5rem",cursor:"pointer",boxShadow:"1px 1px 0 #aaa"},onClick:y,disabled:a,children:a?"Minting...":"Mint"})]})]})},C1e=xi({mobileContainer:{minHeight:"100vh",minWidth:"100vw",width:"100vw",height:"100vh",background:"url('/assets/background.gif') no-repeat center center fixed",backgroundSize:"cover",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",color:"#fff",position:"relative",overflow:"hidden"},header:{backgroundColor:"#c00",padding:"0.75rem 0",border:"none",textAlign:"center",marginBottom:"1.5rem"},title:{margin:0,fontSize:"1.1rem",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",color:"#fff",letterSpacing:"1px",textShadow:"1px 1px 0 #000",textTransform:"uppercase"},iconGrid:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1.5rem",marginBottom:"80px"},icon:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",cursor:"pointer",textAlign:"center","& img":{width:"64px",height:"64px"},"& span":{wordBreak:"break-word"}},taskbar:{position:"fixed",left:0,bottom:0,width:"100%",maxWidth:"100vw",height:"56px",background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 1rem",zIndex:1e3,borderTop:"2px solid #00ffff"},menuButton:{background:"#00ffff",color:"#000",fontWeight:"bold",border:"none",borderRadius:"4px",padding:"8px 16px",fontSize:"1rem",cursor:"pointer",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",boxShadow:"2px 2px 0 #000"},walletStatus:{display:"flex",alignItems:"center",color:"#fff",fontWeight:"bold",fontSize:"0.9rem",fontFamily:"'MS Sans Serif', Arial, sans-serif"},statusDot:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:t=>t?"limegreen":"red",marginRight:"6px",border:"1px solid #000"},clock:{color:"#00ffff",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",fontSize:"1rem",fontWeight:"bold",textShadow:"1px 1px 0 #000",marginRight:"24px"},pixelawbsPopupOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.7)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},pixelawbsPopup:{background:"#fff",borderRadius:"12px",width:"90vw",maxWidth:"420px",height:"75vh",maxHeight:"600px",boxShadow:"0 8px 32px rgba(0,0,0,0.4)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1.5rem",position:"relative"},closeButton:{position:"absolute",top:"10px",right:"10px",background:"#00ffff",color:"#000",border:"none",borderRadius:"50%",width:"32px",height:"32px",fontSize:"1.5rem",fontWeight:"bold",cursor:"pointer",boxShadow:"1px 1px 0 #000"},menuOverlay:{position:"fixed",left:0,top:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.4)",zIndex:3e3,display:"flex",alignItems:"flex-end",justifyContent:"center",pointerEvents:"auto"},menuModal:{width:"100vw",background:"#c0c0c0",borderTopLeftRadius:"16px",borderTopRightRadius:"16px",boxShadow:"0 -4px 24px rgba(0,0,0,0.2)",padding:"15px 0 8px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"6px",zIndex:3100,marginBottom:"70px",maxHeight:"calc(70vh - 56px)",overflowY:"auto",position:"absolute",left:0,bottom:"56px"},menuLink:{display:"block",width:"90%",padding:"6px",color:"#000",textDecoration:"none",background:"#e0e0e0",borderRadius:"8px",fontWeight:"bold",fontSize:"1rem",textAlign:"center",marginBottom:"3px",border:"2px outset #fff",boxShadow:"1px 1px 0 #aaa"}}),x1e=[{id:"lawbsters",name:"Lawbsters",image:"/assets/lawbsters.gif",description:"420 Lawbsters. ETH."},{id:"lawbstarz",name:"Lawbstarz",image:"/assets/lawbstarz.gif",description:"666 Lawbstarz. ETH."},{id:"halloween",name:"Halloween",image:"/assets/lawbsterhalloween.gif",description:"Halloween Lawbsters. BASE."},{id:"pixelawbs",name:"Pixelawbs",image:"/assets/pixelawb.png",description:"2222 Pixelawbs. ETH."}],S1e=[{id:"lawbstation",name:"Lawbstation",image:"/assets/lawbstation.GIF",description:"Lawbstation. SOL."},{id:"nexus",name:"Nexus",image:"/assets/nexus.gif",description:"Nexus. SOL."}],A1e=()=>{const t=C1e(),{open:e}=Lv(),{address:n,isConnected:r}=em(),{isPending:s}=P5(),{disconnect:i}=k5(),{data:o}=O5({address:n}),[a,c]=D.useState("main"),[l,u]=D.useState(!1),[d,h]=D.useState(()=>new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),[f,p]=D.useState(!1),[g,y]=D.useState(!1),[w,b]=D.useState(!1),[v,E]=D.useState(!1),[_,x]=D.useState(!1),[S,T]=D.useState(!1),[C,O]=D.useState(!1),[R,B]=D.useState(!1),[z,M]=D.useState(!1),[I,A]=D.useState(!1),[j,P]=D.useState(!1),[k,U]=D.useState(!1),F=[{label:"Mint",icon:"/assets/mint.gif",action:()=>y(!0)},{label:"EVM NFT'S FOLDER",icon:"/assets/evmfolder.png",action:()=>b(!0)},{label:"SOL NFTS FOLDER",icon:"/assets/solfolder.png",action:()=>E(!0)},{label:"$LAWB",icon:"/assets/lawbticker.gif",action:()=>x(!0)},{label:r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Wallet",icon:"/assets/wallet.png",action:()=>{r?i():e()},disabled:s}],V=Z=>{Z.disabled||Z.action()};if(D.useEffect(()=>{const Z=window.setInterval(()=>{h(new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))},1e3);return()=>window.clearInterval(Z)},[]),D.useEffect(()=>{u(!0)},[]),a==="gallery")return m.jsx(b1e,{onBack:()=>c("main"),walletAddress:n||void 0});function J({open:Z,onClose:se,title:Ie,nfts:je}){const Re=Ge=>{switch(Ge){case"lawbsters":T(!0);break;case"lawbstarz":O(!0);break;case"pixelawbs":B(!0);break;case"halloween":M(!0);break;case"lawbstation":A(!0);break;case"nexus":P(!0);break}};return m.jsx(ei,{isOpen:Z,onClose:se,title:Ie,children:m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,width:"100%"},children:je.map(Ge=>m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",background:"#f8f8f8",borderRadius:8,padding:8,cursor:"pointer"},onClick:()=>Re(Ge.id),children:[m.jsx("img",{src:Ge.image,alt:Ge.name,style:{width:80,height:80,objectFit:"contain",marginBottom:8}}),m.jsx("span",{style:{fontWeight:"bold",fontSize:14},children:Ge.name}),m.jsx("span",{style:{fontSize:12,color:"#555",textAlign:"center"},children:Ge.description})]},Ge.id))})})}function K({open:Z,onClose:se}){return Z?m.jsxs(ei,{isOpen:Z,onClose:se,title:"$LAWB",children:[m.jsx("h1",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://dexscreener.com/solana/dtxvuypheobwo66afefp9mfgt2e14c6ufexnvxwnvep",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:" $LAWB"})}),m.jsxs("p",{style:{marginBottom:"10px"},children:["$lawb seems nice but a lawbster token on the Solana blockchain will never achieve anything without a roadmap. Token created 03.15.24 on ",m.jsx("a",{href:"https://www.pump.fun/65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"pump.fun"}),"."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"$lawb airdropped to LawbStation holders 03.19.24"}),m.jsx("p",{style:{marginBottom:"10px"},children:"THERE IS NO MEME WE $LAWB YOU"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(sol) ca: 65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(arb) ca: 0x741f8FbF42485E772D97f1955c31a5B8098aC962"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(dmt) ca: 0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["if you wish to bridge your $lawb token from solana to arbitrum to sanko, a wormhole is available via ",m.jsx("a",{href:"https://portalbridge.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"https://portalbridge.com/"})]}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 1. connect solana wallet and select $lawb token (65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 2. connect arbitrum wallet and select $lawb token (0x741f8FbF42485E772D97f1955c31a5B8098aC962)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 3. select token quantity, confirm transactions."}),m.jsxs("p",{style:{marginBottom:"10px"},children:["step 4. now that you have $lawb on arbitrum, visit ",m.jsx("a",{href:"https://sanko.xyz/bridge",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"https://sanko.xyz/bridge"})," and connect your arb wallet."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 5. from arb wallet, select $lawb token."}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 6. connect to sanko chain. if not already selected, select $lawb token on sanko (0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 7. select quantity and confirm transactions."}),m.jsx("img",{src:"/assets/lawbticker.gif",alt:"ticker $lawb",style:{width:"100%",marginBottom:"10px",marginTop:"10px"}})]}):null}return m.jsxs("div",{className:t.mobileContainer,children:[m.jsx("header",{className:t.header,children:m.jsx("h1",{className:t.title,children:"there is no meme we lawb you"})}),m.jsx("div",{className:t.iconGrid,children:F.map(Z=>m.jsxs("div",{className:t.icon,onClick:()=>V(Z),children:[m.jsx("img",{src:Z.icon,alt:Z.label}),m.jsx("span",{children:Z.label})]},Z.label))}),l&&m.jsxs(ei,{isOpen:l,onClose:()=>u(!1),title:"Pixelawbs",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",m.jsx("span",{style:{color:"#ff0000",textDecoration:"underline",cursor:"pointer"},onClick:()=>{u(!1),y(!0)},children:"COLLECT HERE"})," OR VISIT ",m.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"SCATTER.ART"})]}),m.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none",poster:"/assets/pixelawbsintro.png"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",m.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"PixeladyMaker"})]}),m.jsx("p",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x2d278e95b2fc67d4b27a276807e24e479d9707f6",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})})]}),f&&m.jsx("div",{className:t.menuOverlay,onClick:()=>p(!1),children:m.jsxs("div",{className:t.menuModal,onClick:Z=>Z.stopPropagation(),children:[m.jsx("a",{href:"https://dexscreener.com/solana/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Dexscreener"}),m.jsx("a",{href:"https://x.com/lawbstation",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"LawbStation Twitter"}),m.jsx("a",{href:"https://x.com/lawbnexus",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"LawbNexus Twitter"}),m.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/info/",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"NFTX - Lawbsters"}),m.jsx("a",{href:"https://purity.finance/lawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Purity"}),m.jsx("a",{href:"https://uwu.pro/memoji/ulawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"UwU LAWB"}),m.jsx("a",{href:"https://t.me/lawblawblawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Telegram"}),m.jsx("a",{href:"https://discord.gg/JdkzUHYmMy",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Discord"}),m.jsx("a",{href:"https://store.fun/lawbshop",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Lawb.Shop"}),m.jsx("button",{className:t.menuLink,onClick:()=>{p(!1),U(!0)},style:{border:"none",cursor:"pointer",width:"90%",margin:"0 auto",display:"block"},children:"Meme Generator"})]})}),m.jsx(E1e,{isOpen:g,onClose:()=>y(!1),walletAddress:n||""}),m.jsx(J,{open:w,onClose:()=>b(!1),title:"EVM NFT'S FOLDER",nfts:x1e}),m.jsx(J,{open:v,onClose:()=>E(!1),title:"SOL NFTS FOLDER",nfts:S1e}),m.jsx(K,{open:_,onClose:()=>x(!1)}),m.jsxs(ei,{isOpen:S,onClose:()=>T(!1),title:"Lawbsters",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["420 Lawbsters seem nice but a human controlled by a lobster would never amount to anything without a roadmap. A ",m.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Cigawrette Packs"})," derivative."]}),m.jsx("p",{children:"Chain: Ethereum"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x0ef7ba09c38624b8e9cc4985790a2f5dbfc1dc42",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})," or ",m.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/buy/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"NFTX"})]}),m.jsx("img",{src:"/assets/lawbsters.gif",alt:"Lawbsters",style:{width:"100%",marginTop:"10px"}})]}),m.jsxs(ei,{isOpen:C,onClose:()=>O(!1),title:"Lawbstarz",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:[" LAWBSTARZ 666x LOBSTERS DRIPPED IN BUTTER  666x PREMIUM PFP COLLECTION  LAWBSTARZ IS A MUSIC NFT  LAWBSTARZ IS AN ",m.jsx("a",{href:"https://allstarz.world",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"ALLSTARZ"})," DERIVATIVE  LAWBSTARZ IS INSPIRED BY ",m.jsx("a",{href:"https://www.remilia.org/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"REMILIA CORP"}),"  LED BY NETWORK SPIRITUALITY  666 ",m.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"CIGAWRETTEPACKS"})," WERE CONSUMED BY ",m.jsx("a",{href:"https://x.com/portionclub69",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"PORTIONCLUB69"})," AND FRIENDS DURING THE CREATION OF LAWBSTARZ v1 "]}),m.jsx("p",{children:"Chain: Ethereum"}),m.jsxs("p",{children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0xd7922cd333da5ab3758c95f774b092a7b13a5449",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/lawbstarz.gif",alt:"Lawbstarz",style:{maxWidth:"100%",marginTop:"10px"}}),m.jsx("img",{src:"/assets/lawbstarzhotelroom.png",alt:"Lawbstarz Hotel Room",style:{maxWidth:"100%",marginTop:"10px"}}),m.jsx("img",{src:"/assets/tile-06-audio-image0-lawbstarz dj set 1.0 copy.png",alt:"Lawbstarz DJ Set",style:{maxWidth:"100%",marginTop:"10px"}})]}),m.jsxs(ei,{isOpen:R,onClose:()=>B(!1),title:"Pixelawbs",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",m.jsx("span",{style:{color:"#ff0000",textDecoration:"underline",cursor:"pointer"},onClick:()=>{B(!1),y(!0)},children:"COLLECT HERE"})," OR VISIT ",m.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"SCATTER.ART"})]}),m.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none",poster:"/assets/pixelawbsintro.png"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",m.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"PixeladyMaker"})]})]}),m.jsxs(ei,{isOpen:z,onClose:()=>M(!1),title:"A Lawbster Halloween",children:[m.jsx("h3",{style:{marginBottom:"10px"},children:"A LAWBSTER HALLOWEEN"}),m.jsx("p",{style:{marginBottom:"10px"},children:"a Lawbster Halloween party seems nice but a a group of what seems to be humans controlled by lobsters just hijacked the Spirit Halloween Superstore."}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Base"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/base/0x8ab6733f8f8702c233f3582ec2a2750d3fc63a97",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/lawbsterhalloween.gif",alt:"Lawbster Halloween",style:{width:"100%",marginBottom:"10px"}})]}),m.jsxs(ei,{isOpen:I,onClose:()=>A(!1),title:"Lawbstation",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["Lawbstations: low poly Lawbsters viewed through various cathode-ray tubes built on ",m.jsx("a",{href:"https://www.miladystation2.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"MiladyStation"})," technology. Inspired by Milady, Allstarz, Rusty Rollers, Cigawrette Packs, SPX6900 and Radbro. Brought to you in part by PortionClub and Mony Corp Group. LawbStations seem nice but a lobster controlled by MiladyStation will never achieve anything without a roadmap."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Solana"}),m.jsx("p",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://magiceden.us/marketplace/lawbstation",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Collect Lawbstations on Secondary"})}),m.jsx("img",{src:"/assets/lawbstation.GIF",alt:"Lawbstation",style:{width:"100%",marginTop:"10px"}}),m.jsx("video",{controls:!0,src:"/assets/lawbstation.mp4",style:{width:"100%",marginTop:"10px"}})]}),m.jsxs(ei,{isOpen:j,onClose:()=>P(!1),title:"Nexus",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["1000 Xtra Ultra High Definition Lawbsters, packaged and distributed on Solana. Collect on ",m.jsx("a",{href:"https://magiceden.us/marketplace/lawbnexus",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/nexus.gif",alt:"Nexus",style:{width:"100%",marginBottom:"10px"}}),m.jsx("video",{controls:!0,src:"/assets/nexusminting.mp4",style:{width:"100%"}})]}),m.jsx(ei,{isOpen:k,onClose:()=>U(!1),title:"Meme Generator",children:m.jsx(wU,{})}),m.jsxs("div",{className:t.taskbar,children:[m.jsx("button",{className:t.menuButton,onClick:()=>p(!0),children:"Menu"}),m.jsxs("div",{className:t.walletStatus,children:[m.jsx("span",{style:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:r?"limegreen":"red",marginRight:"6px",border:"1px solid #000",display:"inline-block"}}),r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Disconnected"]}),m.jsx("span",{className:t.clock,children:d})]})]})};function I1e(t){const e=i=>typeof window<"u"?window.matchMedia(i).matches:!1,[n,r]=D.useState(e(t));function s(){r(e(t))}return D.useEffect(()=>{const i=window.matchMedia(t);return s(),i.addEventListener("change",s),()=>{i.removeEventListener("change",s)}},[t]),n}function T1e(t){let e=[],n,r;function s(a){return ag.parseEvmChainId(a)||1}function i(){var a;return n||(n=$l.getInstance({projectId:t.options.projectId,chainId:(a=$.getActiveCaipNetwork())==null?void 0:a.caipNetworkId,enableLogger:t.options.enableAuthLogger,onTimeout:c=>{c==="iframe_load_failed"?ln.open(zt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):c==="iframe_request_timeout"?ln.open(zt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):c==="unverified_domain"&&ln.open(zt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:zt.EmbeddedWalletAbortController})),n}async function o(a={}){var g,y;const c=i();let l=a.chainId;if(a.isReconnecting){const w=ag.parseEvmChainId(c.getLastUsedChainId()||""),b=(g=t.chains)==null?void 0:g[0].id;if(l=w||b,!l)throw new Error("ChainId not found in provider")}const u=(y=ce.state.preferredAccountTypes)==null?void 0:y.eip155,{address:d,chainId:h,accounts:f}=await c.connect({chainId:l,preferredAccountType:u,socialUri:a.socialUri});e=(f==null?void 0:f.map(w=>w.address))||[d];const p=s(h);return{accounts:e,account:d,chainId:p,chain:{id:p,unsuported:!1}}}return a=>({id:X.CONNECTOR_ID.AUTH,name:X.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:X.CHAIN.EVM,async connect(c={}){if(r)return r;r||(r=new Promise(u=>{u(o(c))}));const l=await r;return r=void 0,l},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(a.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){var c;return this.provider||(this.provider=$l.getInstance({projectId:t.options.projectId,chainId:(c=$.getActiveCaipNetwork())==null?void 0:c.caipNetworkId,enableLogger:t.options.enableAuthLogger,abortController:zt.EmbeddedWalletAbortController,onTimeout:l=>{l==="iframe_load_failed"?ln.open(zt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?ln.open(zt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&ln.open(zt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}})),Promise.resolve(this.provider)},async getChainId(){const c=await this.getProvider(),{chainId:l}=await c.getChainId();return s(l)},async isAuthorized(){const l=$.state.activeChain===X.CHAIN.EVM;if(X.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(h=>ue.getConnectorId(h)===X.CONNECTOR_ID.AUTH)&&!l)return!1;const d=await this.getProvider();return Promise.resolve(d.getLoginEmailUsed())},async switchChain({chainId:c}){var l,u;try{const d=a.chains.find(g=>g.id===c);if(!d)throw new eo(new Error("chain not found on connector."));const h=await this.getProvider(),f=(l=ce.state.preferredAccountTypes)==null?void 0:l.eip155,p=await h.connect({chainId:c,preferredAccountType:f});return e=((u=p==null?void 0:p.accounts)==null?void 0:u.map(g=>g.address))||[p.address],a.emitter.emit("change",{chainId:Number(c),accounts:e}),d}catch(d){throw d instanceof Error?new eo(d):d}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(Xa)})},onChainChanged(c){const l=Number(c);a.emitter.emit("change",{chainId:l})},async onDisconnect(c){await(await this.getProvider()).disconnect()}})}uI.type="walletConnect";function uI(t,e){const n=t.isNewChainsStale??!0;let r,s,i,o,a,c,l;return u=>({id:"walletConnect",name:"WalletConnect",type:uI.type,async setup(){const d=await this.getProvider().catch(()=>null);d&&(o||(o=this.onConnect.bind(this),d.on("connect",o)),c||(c=this.onSessionDelete.bind(this),d.on("session_delete",c)))},async connect({...d}={}){var h,f,p;try{const g=$.getCaipNetworks(),y=await this.getProvider();if(!y)throw new Ta;a||(a=this.onDisplayUri,y.on("display_uri",a));const w=await this.isChainsStale();y.session&&w&&await y.disconnect();const b=ne.state.universalProviderConfigOverride;if(!y.session||w){const C=hp.createNamespaces(g,b);await y.connect({optionalNamespaces:C,..."pairingTopic"in d?{pairingTopic:d.pairingTopic}:{}}),this.setRequestedChainsIds(g.map(O=>Number(O.id)))}const v=await this.getAccounts(),E=await this.getChainId(),_=(p=(f=(h=y.session)==null?void 0:h.namespaces)==null?void 0:f.eip155)==null?void 0:p.chains,x=_==null?void 0:_.some(C=>Number(C.split(":")[1])===E);let S=1;x?S=E:_!=null&&_[0]&&(S=Number(_[0].split(":")[1])),a&&(y.removeListener("display_uri",a),a=void 0),o&&(y.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),y.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),y.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),y.on("disconnect",l)),c||(c=this.onSessionDelete.bind(this),y.on("session_delete",c));const T=b==null?void 0:b.defaultChain;return y.setDefaultChain(T??`eip155:${S}`),{accounts:v,chainId:S}}catch(g){throw/(user rejected|connection request reset)/i.test(g==null?void 0:g.message)?new gn(g):g}},async disconnect(){const d=await this.getProvider();try{await(d==null?void 0:d.disconnect())}catch(h){if(!/No matching key/i.test(h.message))throw h}finally{i&&(d==null||d.removeListener("chainChanged",i),i=void 0),l&&(d==null||d.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),d==null||d.on("connect",o)),s&&(d==null||d.removeListener("accountsChanged",s),s=void 0),c&&(d==null||d.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var p,g,y;const d=await this.getProvider();if(!((p=d==null?void 0:d.session)!=null&&p.namespaces))return[];const h=(y=(g=d==null?void 0:d.session)==null?void 0:g.namespaces[X.CHAIN.EVM])==null?void 0:y.accounts;return(h==null?void 0:h.map(w=>w.split(":")[2]))??[]},async getProvider({chainId:d}={}){var p,g;r||(r=await e.getUniversalProvider(),r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY));const h=le.getActiveNamespace(),f=(p=e.getCaipNetwork())==null?void 0:p.id;if(d&&f!==d&&h){const y=le.getStoredActiveCaipNetworkId(),w=e.getCaipNetworks(h),b=w==null?void 0:w.find(v=>v.id===y);b&&b.chainNamespace===X.CHAIN.EVM&&await((g=this.switchChain)==null?void 0:g.call(this,{chainId:Number(b.id)}))}return r},async getChainId(){var g,y,w,b;const d=(g=e.getCaipNetwork(X.CHAIN.EVM))==null?void 0:g.id;if(d)return d;const f=(b=(w=(y=(await this.getProvider()).session)==null?void 0:y.namespaces[X.CHAIN.EVM])==null?void 0:w.chains)==null?void 0:b[0],p=$.getCaipNetworks().find(v=>v.id===f);return p==null?void 0:p.id},async isAuthorized(){try{const[d,h]=await Promise.all([this.getAccounts(),this.getProvider()]);return d.length?await this.isChainsStale()&&h.session?(await h.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:h}){var g,y,w,b;const f=await this.getProvider();if(!f)throw new Ta;const p=$.getCaipNetworks().find(v=>v.id===h);if(!p)throw new eo(new eg);try{await f.request({method:"wallet_switchEthereumChain",params:[{chainId:$e(h)}]}),p!=null&&p.caipNetworkId&&f.setDefaultChain(p==null?void 0:p.caipNetworkId),u.emitter.emit("change",{chainId:Number(h)});const v=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...v,h]),{...p,id:p.id}}catch(v){const E=v;if(/(?:user rejected)/iu.test(E.message))throw new gn(E);try{let _;d!=null&&d.blockExplorerUrls?_=d.blockExplorerUrls:_=(g=p.blockExplorers)!=null&&g.default.url?[(y=p.blockExplorers)==null?void 0:y.default.url]:[];const x=((b=(w=p.rpcUrls)==null?void 0:w.chainDefault)==null?void 0:b.http)||[],S={blockExplorerUrls:_,chainId:$e(h),chainName:p.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:p.nativeCurrency,rpcUrls:x};await f.request({method:"wallet_addEthereumChain",params:[S]});const T=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...T,h]),{...p,id:p.id}}catch(_){throw new gn(_)}}},onAccountsChanged(d){d.length===0?this.onDisconnect():u.emitter.emit("change",{accounts:d.map(h=>Xa(h))})},onChainChanged(d){const h=Number(d);u.emitter.emit("change",{chainId:h})},onConnect(d){this.setRequestedChainsIds($.getCaipNetworks().map(h=>Number(h.id)))},async onDisconnect(d){this.setRequestedChainsIds([]),u.emitter.emit("disconnect");const h=await this.getProvider();s&&(h.removeListener("accountsChanged",s),s=void 0),i&&(h.removeListener("chainChanged",i),i=void 0),l&&(h.removeListener("disconnect",l),l=void 0),c&&(h.removeListener("session_delete",c),c=void 0),o||(o=this.onConnect.bind(this),h.on("connect",o))},onDisplayUri(d){u.emitter.emit("message",{type:"display_uri",data:d})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var f,p,g;if(!((f=r==null?void 0:r.session)!=null&&f.namespaces))return[];const d=(g=(p=r==null?void 0:r.session)==null?void 0:p.namespaces[X.CHAIN.EVM])==null?void 0:g.accounts;return(d==null?void 0:d.map(y=>Number.parseInt(y.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var h;const d=await((h=u.storage)==null?void 0:h.getItem(this.requestedChainsStorageKey))??[];return[...new Set(d)]},async isChainsStale(){if(!n)return!1;const d=u.chains.map(p=>p.id),h=this.getNamespaceChainsIds();if(h.length&&!h.some(p=>d.includes(p)))return!1;const f=await this.getRequestedChainsIds();return!d.every(p=>f.includes(Number(p)))},async setRequestedChainsIds(d){var h;await((h=u.storage)==null?void 0:h.setItem(this.requestedChainsStorageKey,d))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const vf=kt({pendingTransactions:0}),UO={state:vf,subscribeKey(t,e){return Vn(vf,t,e)},increase(t){vf[t]+=1},decrease(t){vf[t]-=1},reset(t){vf[t]=0}};function N1e(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}async function P1e(t){if(Ce.isSafeApp()){const{safe:e}=await tn(async()=>{const{safe:n}=await import("./index-PBTENWpL.js");return{safe:n}},[]);if(e&&!t.some(n=>n.type==="safe"))return e()}return null}async function k1e(t){try{const{coinbaseWallet:e}=await tn(async()=>{const{coinbaseWallet:n}=await import("./index-PBTENWpL.js");return{coinbaseWallet:n}},[]);if(e&&!t.some(n=>n.id==="coinbaseWalletSDK"))return e()}catch(e){console.error("Failed to import Coinbase Wallet SDK:",e)}return null}const O1e={enable:!1,pollingInterval:3e4};class R1e extends yU{constructor(e){const n=Vi.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super(),this.balancePromises={},this.namespace=X.CHAIN.EVM,this.adapterType=X.ADAPTER_TYPES.WAGMI,this.projectId=e.projectId,this.pendingTransactionsFilter={...O1e,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n}),this.checkChainId()}construct(e){this.checkChainId(),this.setupWatchers()}async getAccounts(e){const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===X.CONNECTOR_ID.AUTH){const i=await n.getProvider();if(!(i!=null&&i.user))return{accounts:[]};const{address:o,accounts:a}=i.user;return Promise.resolve({accounts:(a||[{address:o,type:"eoa"}]).map(c=>Ce.createAccount("eip155",c.address,c.type))})}const{addresses:r,address:s}=Ad(this.wagmiConfig);return Promise.resolve({accounts:[...new Set(r||[s])].map(i=>Ce.createAccount("eip155",i||"","eoa"))})}checkChainId(){const{chainId:e}=Ad(this.wagmiConfig);e&&this.emit("switchNetwork",{chainId:e})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(s=>s.chainNamespace===X.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(s=>{var a,c;const i=(a=e.transports)==null?void 0:a[s.id],o=Vi.getCaipNetworkId(s);i?n[s.id]=Vi.extendWagmiTransports(s,e.projectId,i):n[s.id]=Vi.getViemTransport(s,e.projectId,(c=e.customRpcUrls)==null?void 0:c[o])}),this.wagmiConfig=Tq({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=aq(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),UO.increase("pendingTransactions")}});const e=UO.subscribeKey("pendingTransactions",n=>{var r;n>=X.LIMITS.PENDING_TRANSACTIONS&&((r=this.unwatchPendingTransactions)==null||r.call(this),e())})}setupWatchers(){s5(this.wagmiConfig,{onChange:(e,n)=>{e.status==="disconnected"&&n.address&&this.emit("disconnect"),e!=null&&e.chainId&&(e==null?void 0:e.chainId)!==(n==null?void 0:n.chainId)&&this.emit("switchNetwork",{chainId:e.chainId}),e.status==="connected"&&(e.address!==(n==null?void 0:n.address)||n.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){const n=[];if(e.enableCoinbase!==!1){const s=await k1e(this.wagmiConfig.connectors);s&&n.push(s)}const r=await P1e(this.wagmiConfig.connectors);r&&n.push(r),await Promise.all(n.map(s=>{const i=this.wagmiConfig._internal.connectors.setup(s);return this.wagmiConfig._internal.connectors.setState(o=>[...o,i]),this.addWagmiConnector(i,e)}))}addWagmiConnectors(e,n){var o,a,c,l;const r=[];e.enableWalletConnect!==!1&&r.push(uI(e,n)),e.enableInjected!==!1&&r.push(Q0({shimDisconnect:!0}));const s=((o=n==null?void 0:n.remoteFeatures)==null?void 0:o.email)??!0,i=Array.isArray((a=n==null?void 0:n.remoteFeatures)==null?void 0:a.socials)&&((l=(c=n==null?void 0:n.remoteFeatures)==null?void 0:c.socials)==null?void 0:l.length)>0;(s||i)&&r.push(T1e({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(u=>{const d=this.wagmiConfig._internal.connectors.setup(u);this.wagmiConfig._internal.connectors.setState(h=>[...h,d])})}async signMessage(e){try{return{signature:await rq(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n,address:r}=Ad(this.wagmiConfig),s={account:r,to:e.to,value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await tq(this.wagmiConfig,s);const i=await nq(this.wagmiConfig,s);return await cq(this.wagmiConfig,{hash:i,timeout:25e3}),{hash:i}}async writeContract(e){var o;const{caipNetwork:n,...r}=e,s=Number(ag.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await lq(this.wagmiConfig,{chain:(o=this.wagmiChains)==null?void 0:o[s],chainId:s,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(e){try{return{gas:await KW(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return yW(e.value,e.decimals)}formatUnits(e){return wh(e.value,e.decimals)}async addWagmiConnector(e,n){var s;if(e.id===X.CONNECTOR_ID.AUTH||e.id===X.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:rc.ConnectorExplorerIds[e.id],imageUrl:((s=n==null?void 0:n.connectorImages)==null?void 0:s[e.id])??e.icon,name:rc.ConnectorNamesMap[e.id]??e.name,imageId:rc.ConnectorImageIds[e.id],type:rc.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===X.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){i5(this.wagmiConfig,{onChange:r=>{r.forEach(s=>this.addWagmiConnector(s,e))}}),this.addWagmiConnectors(e,n),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addThirdPartyConnectors(e)}async syncConnection(e){var l,u;const{id:n,chainId:r}=e,i=Li(this.wagmiConfig).find(d=>d.connector.id===n),o=this.getWagmiConnector(n),a=await(o==null?void 0:o.getProvider());if(Ce.isSafeApp()&&n===X.CONNECTOR_ID.SAFE&&!(i!=null&&i.accounts.length)){const d=this.getWagmiConnector("safe");if(d){const h=await Ky(this.wagmiConfig,{connector:d,chainId:Number(r)}),f=await d.getProvider();return{chainId:Number(r),address:h.accounts[0],provider:f,type:(l=i==null?void 0:i.connector.type)==null?void 0:l.toUpperCase(),id:i==null?void 0:i.connector.id}}}return{chainId:Number(i==null?void 0:i.chainId),address:i==null?void 0:i.accounts[0],provider:a,type:(u=i==null?void 0:i.connector.type)==null?void 0:u.toUpperCase(),id:i==null?void 0:i.connector.id}}async connectWalletConnect(e){const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const s=await Ky(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return s.chainId!==Number(e)&&await dT(this.wagmiConfig,{chainId:s.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(e){var u,d,h,f,p;const{id:n,provider:r,type:s,info:i,chainId:o,socialUri:a}=e,c=this.getWagmiConnector(n);if(!c)throw new Error("connectionControllerClient:connectExternal - connector is undefined");if(r&&i&&c.id===X.CONNECTOR_ID.EIP6963&&((u=c.setEip6963Wallet)==null||u.call(c,{provider:r,info:i})),c.uid===((h=(d=this.wagmiConfig)==null?void 0:d.state)==null?void 0:h.current)){const g=(p=(f=this.wagmiConfig.state)==null?void 0:f.connections)==null?void 0:p.get(c.uid);if(g)return{address:g==null?void 0:g.accounts[0],chainId:g==null?void 0:g.chainId,provider:r,type:s,id:n}}const l=await Ky(this.wagmiConfig,{connector:c,chainId:o?Number(o):void 0,socialUri:a});return{address:l.accounts[0],chainId:l.chainId,provider:r,type:s,id:n}}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await $E(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(s=>s.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const s=`${r.caipNetworkId}:${e.address}`,i=this.balancePromises[s];if(i)return i;const o=le.getNativeBalanceCacheForCaipAddress(s);return o?{balance:o.balance,symbol:o.symbol}:(this.balancePromises[s]=new Promise(async a=>{var c,l;try{const u=Number(e.chainId),d=await ZW(this.wagmiConfig,{address:e.address,chainId:u,token:(l=(c=e.tokens)==null?void 0:c[r.caipNetworkId])==null?void 0:l.address});le.updateNativeBalanceCache({caipAddress:s,balance:d.formatted,symbol:d.symbol,timestamp:Date.now()}),a({balance:d.formatted,symbol:d.symbol})}catch(u){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",u),a({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=Li(this.wagmiConfig);await Promise.allSettled(e.map(async n=>{const r=this.getWagmiConnector(n.connector.id);r&&await n5(this.wagmiConfig,{connector:r})})),this.wagmiConfig.state.connections.clear()}async switchNetwork(e){var r,s,i,o,a;const{caipNetwork:n}=e;await dT(this.wagmiConfig,{chainId:n.id,addEthereumChainParameter:{chainName:n.name,nativeCurrency:n.nativeCurrency,rpcUrls:[((i=(s=(r=n.rpcUrls)==null?void 0:r.chainDefault)==null?void 0:s.http)==null?void 0:i[0])??""],blockExplorerUrls:[((o=n.blockExplorers)==null?void 0:o.default.url)??""],iconUrls:[((a=n.assets)==null?void 0:a.imageUrl)??""]}}),await super.switchNetwork(e)}async getCapabilities(e){var a,c;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=Li(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const o=(c=(a=i.session)==null?void 0:a.sessionProperties)==null?void 0:c.capabilities;if(o){const u=N1e(o)[e];if(u)return u}return await i.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=Li(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return i.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=Li(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return i.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=Li(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return i.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){e.on("connect",()=>{const n=Li(this.wagmiConfig),r=this.getWagmiConnector("walletConnect");if(r&&!n.find(s=>s.connector.id===r.id)){if($.state.activeChain==="eip155")return;$E(this.wagmiConfig,{connectors:[r]})}}),this.addConnector(new cI({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"}))}}const OU="7c65f27254d6ddd24cf7eedf2685c4fb",$1e={name:"Lawb.xyz",description:"Windows 98-style NFT site",url:"https://lawb.xyz",icons:["/assets/favicon.ico"]},RU=new R1e({networks:[mU],projectId:OU,ssr:!1});ybe({adapters:[RU],networks:[mU],projectId:OU,metadata:$1e,features:{analytics:!1}});const D1e=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>tn(async()=>{const{default:r}=await Promise.resolve().then(()=>Dh);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class dI extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class j1e extends dI{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class U1e extends dI{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class L1e extends dI{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Sx;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Sx||(Sx={}));var M1e=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class B1e{constructor(e,{headers:n={},customFetch:r,region:s=Sx.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=D1e(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return M1e(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let l;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:l}).catch(p=>{throw new j1e(p)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new U1e(u);if(!u.ok)throw new L1e(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield u.json():h==="application/octet-stream"?f=yield u.blob():h==="text/event-stream"?f=u:h==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(s){return{data:null,error:s}}})}}var Hr={},hI={},zv={},wm={},Wv={},qv={},F1e=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},dh=F1e();const z1e=dh.fetch,$U=dh.fetch.bind(dh),DU=dh.Headers,W1e=dh.Request,q1e=dh.Response,Dh=Object.freeze(Object.defineProperty({__proto__:null,Headers:DU,Request:W1e,Response:q1e,default:$U,fetch:z1e},Symbol.toStringTag,{value:"Module"})),H1e=C0(Dh);var Hv={};Object.defineProperty(Hv,"__esModule",{value:!0});let V1e=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Hv.default=V1e;var jU=Xt&&Xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qv,"__esModule",{value:!0});const G1e=jU(H1e),K1e=jU(Hv);let Y1e=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=G1e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let l=null,u=null,d=null,h=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=w:u=JSON.parse(w))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&y&&y.length>1&&(d=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{l=JSON.parse(g),Array.isArray(l)&&i.status===404&&(u=[],l=null,h=200,f="OK")}catch{i.status===404&&g===""?(h=204,f="No Content"):l={message:g}}if(l&&this.isMaybeSingle&&(!((c=l==null?void 0:l.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,h=200,f="OK"),l&&this.shouldThrowOnError)throw new K1e.default(l)}return{error:l,data:u,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};qv.default=Y1e;var J1e=Xt&&Xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wv,"__esModule",{value:!0});const Q1e=J1e(qv);let Z1e=class extends Q1e.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Wv.default=Z1e;var X1e=Xt&&Xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wm,"__esModule",{value:!0});const e_e=X1e(Wv);let t_e=class extends e_e.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};wm.default=t_e;var n_e=Xt&&Xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zv,"__esModule",{value:!0});const bf=n_e(wm);let r_e=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new bf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new bf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){const l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new bf.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new bf.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new bf.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};zv.default=r_e;var Vv={},Gv={};Object.defineProperty(Gv,"__esModule",{value:!0});Gv.version=void 0;Gv.version="0.0.0-automated";Object.defineProperty(Vv,"__esModule",{value:!0});Vv.DEFAULT_HEADERS=void 0;const s_e=Gv;Vv.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${s_e.version}`};var UU=Xt&&Xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hI,"__esModule",{value:!0});const i_e=UU(zv),o_e=UU(wm),a_e=Vv;let c_e=class LU{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},a_e.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new i_e.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new LU(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",c=n);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new o_e.default({method:o,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};hI.default=c_e;var jh=Xt&&Xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.PostgrestError=Hr.PostgrestBuilder=Hr.PostgrestTransformBuilder=Hr.PostgrestFilterBuilder=Hr.PostgrestQueryBuilder=Hr.PostgrestClient=void 0;const MU=jh(hI);Hr.PostgrestClient=MU.default;const BU=jh(zv);Hr.PostgrestQueryBuilder=BU.default;const FU=jh(wm);Hr.PostgrestFilterBuilder=FU.default;const zU=jh(Wv);Hr.PostgrestTransformBuilder=zU.default;const WU=jh(qv);Hr.PostgrestBuilder=WU.default;const qU=jh(Hv);Hr.PostgrestError=qU.default;var l_e=Hr.default={PostgrestClient:MU.default,PostgrestQueryBuilder:BU.default,PostgrestFilterBuilder:FU.default,PostgrestTransformBuilder:zU.default,PostgrestBuilder:WU.default,PostgrestError:qU.default};const{PostgrestClient:u_e,PostgrestQueryBuilder:Txe,PostgrestFilterBuilder:Nxe,PostgrestTransformBuilder:Pxe,PostgrestBuilder:kxe,PostgrestError:Oxe}=l_e;function d_e(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const h_e=d_e(),f_e="2.11.13",p_e={"X-Client-Info":`realtime-js/${f_e}`},g_e="1.0.0",HU=1e4,m_e=1e3;var fp;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(fp||(fp={}));var or;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(or||(or={}));var ai;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ai||(ai={}));var Ax;(function(t){t.websocket="websocket"})(Ax||(Ax={}));var cl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(cl||(cl={}));class y_e{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const c=r.decode(e.slice(o,o+i));o=o+i;const l=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}}class VU{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Tt||(Tt={}));const LO=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=w_e(o,t,e,s),i),{})},w_e=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?GU(i,o):Ix(o)},GU=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return E_e(e,n)}switch(t){case Tt.bool:return v_e(e);case Tt.float4:case Tt.float8:case Tt.int2:case Tt.int4:case Tt.int8:case Tt.numeric:case Tt.oid:return b_e(e);case Tt.json:case Tt.jsonb:return __e(e);case Tt.timestamp:return C_e(e);case Tt.abstime:case Tt.date:case Tt.daterange:case Tt.int4range:case Tt.int8range:case Tt.money:case Tt.reltime:case Tt.text:case Tt.time:case Tt.timestamptz:case Tt.timetz:case Tt.tsrange:case Tt.tstzrange:return Ix(e);default:return Ix(e)}},Ix=t=>t,v_e=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},b_e=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},__e=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},E_e=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>GU(e,a))}return t},C_e=t=>typeof t=="string"?t.replace(" ","T"):t,KU=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class h_{constructor(e,n,r={},s=HU){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var MO;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(MO||(MO={}));class pp{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pp.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=pp.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=pp.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const d=i[l];if(d){const h=u.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),p=u.filter(y=>f.indexOf(y.presence_ref)<0),g=d.filter(y=>h.indexOf(y.presence_ref)<0);p.length>0&&(a[l]=p),g.length>0&&(c[l]=g)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var l;const u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,c)}),this.map(o,(a,c)=>{let l=e[a];if(!l)return;const u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,s(a,l,c),l.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var BO;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(BO||(BO={}));var FO;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(FO||(FO={}));var Eo;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Eo||(Eo={}));class fI{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=or.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new h_(this,ai.join,this.params,this.timeout),this.rejoinTimer=new VU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=or.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=or.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=or.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ai.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new pp(this),this.broadcastEndpointURL=KU(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==or.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(Eo.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Eo.CLOSED));const c={},l={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Eo.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,p=[];for(let g=0;g<f;g++){const y=h[g],{filter:{event:w,schema:b,table:v,filter:E}}=y,_=u&&u[g];if(_&&_.event===w&&_.schema===b&&_.table===v&&_.filter===E)p.push(Object.assign(Object.assign({},y),{id:_.id}));else{this.unsubscribe(),this.state=or.errored,e==null||e(Eo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(Eo.SUBSCRIBED);return}}).receive("error",u=>{this.state=or.errored,e==null||e(Eo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Eo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const l=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=or.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ai.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new h_(this,ai.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new h_(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=ai;if(r&&[a,c,l,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var p,g,y;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(g=f.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var p,g,y,w,b,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const E=f.id,_=(p=f.filter)===null||p===void 0?void 0:p.event;return E&&((g=n.ids)===null||g===void 0?void 0:g.includes(E))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const E=(b=(w=f==null?void 0:f.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return E==="*"||E===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:g,table:y,commit_timestamp:w,type:b,errors:v}=p;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:w,eventType:b,new:{},old:{},errors:v}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===or.closed}_isJoined(){return this.state===or.joined}_isJoining(){return this.state===or.joining}_isLeaving(){return this.state===or.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&fI.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ai.close,{},e)}_onError(e){this._on(ai.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=or.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=LO(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=LO(e.columns,e.old_record)),n}}const zO=()=>{},x_e=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class S_e{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=p_e,this.params={},this.timeout=HU,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zO,this.ref=0,this.logger=zO,this.conn=null,this.sendBuffer=[],this.serializer=new y_e,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>tn(async()=>{const{default:c}=await Promise.resolve().then(()=>Dh);return{default:c}},void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Ax.websocket}`,this.httpEndpoint=KU(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new VU(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){this.conn||(this.transport||(this.transport=h_e),this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection())}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:g_e}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fp.connecting:return cl.Connecting;case fp.open:return cl.Open;case fp.closing:return cl.Closing;default:return cl.Closed}}isConnected(){return this.connectionState()===cl.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new fI(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(ai.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(m_e,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ai.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([x_e],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class pI extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Sn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class A_e extends pI{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Tx extends pI{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var I_e=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const YU=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>tn(async()=>{const{default:r}=await Promise.resolve().then(()=>Dh);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},T_e=()=>I_e(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield tn(()=>Promise.resolve().then(()=>Dh),void 0)).Response:Response}),Nx=t=>{if(Array.isArray(t))return t.map(n=>Nx(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Nx(r)}),e};var bu=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const f_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),N_e=(t,e,n)=>bu(void 0,void 0,void 0,function*(){const r=yield T_e();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new A_e(f_(s),t.status||500))}).catch(s=>{e(new Tx(f_(s),s))}):e(new Tx(f_(t),t))}),P_e=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function vm(t,e,n,r,s,i){return bu(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,P_e(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>N_e(c,a,r))})})}function _0(t,e,n,r){return bu(this,void 0,void 0,function*(){return vm(t,"GET",e,n,r)})}function $a(t,e,n,r,s){return bu(this,void 0,void 0,function*(){return vm(t,"POST",e,r,s,n)})}function k_e(t,e,n,r,s){return bu(this,void 0,void 0,function*(){return vm(t,"PUT",e,r,s,n)})}function O_e(t,e,n,r){return bu(this,void 0,void 0,function*(){return vm(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function JU(t,e,n,r,s){return bu(this,void 0,void 0,function*(){return vm(t,"DELETE",e,r,s,n)})}var Dr=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const R_e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},WO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $_e{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=YU(s)}uploadOrUpdate(e,n,r,s){return Dr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},WO),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const l=this._removeEmptyFolders(n),u=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Sn(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Dr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Dr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let c;const l=Object.assign({upsert:WO.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Sn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Dr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield $a(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new pI("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Sn(r))return{data:null,error:r};throw r}})}update(e,n,r){return Dr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Dr(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Sn(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Dr(this,void 0,void 0,function*(){try{return{data:{path:(yield $a(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Sn(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Dr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield $a(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Sn(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Dr(this,void 0,void 0,function*(){try{const s=yield $a(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Sn(s))return{data:null,error:s};throw s}})}download(e,n){return Dr(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield _0(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Sn(a))return{data:null,error:a};throw a}})}info(e){return Dr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield _0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Nx(r),error:null}}catch(r){if(Sn(r))return{data:null,error:r};throw r}})}exists(e){return Dr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield O_e(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Sn(r)&&r instanceof Tx){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return Dr(this,void 0,void 0,function*(){try{return{data:yield JU(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Sn(n))return{data:null,error:n};throw n}})}list(e,n,r){return Dr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},R_e),n),{prefix:e||""});return{data:yield $a(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Sn(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const D_e="2.7.1",j_e={"X-Client-Info":`storage-js/${D_e}`};var Gu=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class U_e{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},j_e),n),this.fetch=YU(r)}listBuckets(){return Gu(this,void 0,void 0,function*(){try{return{data:yield _0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Sn(e))return{data:null,error:e};throw e}})}getBucket(e){return Gu(this,void 0,void 0,function*(){try{return{data:yield _0(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Sn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Gu(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Sn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Gu(this,void 0,void 0,function*(){try{return{data:yield k_e(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Sn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Gu(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Sn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Gu(this,void 0,void 0,function*(){try{return{data:yield JU(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Sn(n))return{data:null,error:n};throw n}})}}class L_e extends U_e{constructor(e,n={},r){super(e,n,r)}from(e){return new $_e(this.url,this.headers,e,this.fetch)}}const M_e="2.50.1";let Lf="";typeof Deno<"u"?Lf="deno":typeof document<"u"?Lf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lf="react-native":Lf="node";const B_e={"X-Client-Info":`supabase-js-${Lf}/${M_e}`},F_e={headers:B_e},z_e={schema:"public"},W_e={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},q_e={};var H_e=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const V_e=t=>{let e;return t?e=t:typeof fetch>"u"?e=$U:e=fetch,(...n)=>e(...n)},G_e=()=>typeof Headers>"u"?DU:Headers,K_e=(t,e,n)=>{const r=V_e(n),s=G_e();return(i,o)=>H_e(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let l=new s(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:l}))})};var Y_e=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function J_e(t){return t.endsWith("/")?t:t+"/"}function Q_e(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:c,auth:l,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Y_e(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const QU="2.70.0",nd=30*1e3,Px=3,p_=Px*nd,Z_e="http://localhost:9999",X_e="supabase.auth.token",eEe={"X-Client-Info":`gotrue-js/${QU}`},kx="X-Supabase-Api-Version",ZU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tEe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nEe=6e5;class gI extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Fe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class rEe extends gI{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function sEe(t){return Fe(t)&&t.name==="AuthApiError"}class XU extends gI{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Bc extends gI{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Sa extends Bc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iEe(t){return Fe(t)&&t.name==="AuthSessionMissingError"}class Ty extends Bc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ny extends Bc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Py extends Bc{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function oEe(t){return Fe(t)&&t.name==="AuthImplicitGrantRedirectError"}class qO extends Bc{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ox extends Bc{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function g_(t){return Fe(t)&&t.name==="AuthRetryableFetchError"}class HO extends Bc{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class gp extends Bc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const E0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),VO=` 	
\r=`.split(""),aEe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<VO.length;e+=1)t[VO[e].charCodeAt(0)]=-2;for(let e=0;e<E0.length;e+=1)t[E0[e].charCodeAt(0)]=e;return t})();function GO(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(E0[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(E0[r]),e.queuedBits-=6}}function eL(t,e,n){const r=aEe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function KO(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{uEe(o,r,n)};for(let o=0;o<t.length;o+=1)eL(t.charCodeAt(o),s,i);return e.join("")}function cEe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function lEe(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}cEe(r,e)}}function uEe(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function dEe(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)eL(t.charCodeAt(s),n,r);return new Uint8Array(e)}function hEe(t){const e=[];return lEe(t,n=>e.push(n)),new Uint8Array(e)}function fEe(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>GO(s,n,r)),GO(null,n,r),e.join("")}function pEe(t){return Math.round(Date.now()/1e3)+t}function gEe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ti=()=>typeof window<"u"&&typeof document<"u",Zc={tested:!1,writable:!1},mp=()=>{if(!ti())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zc.tested)return Zc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Zc.tested=!0,Zc.writable=!0}catch{Zc.tested=!0,Zc.writable=!1}return Zc.writable};function mEe(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const tL=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>tn(async()=>{const{default:r}=await Promise.resolve().then(()=>Dh);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},yEe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",nL=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ky=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Oy=async(t,e)=>{await t.removeItem(e)};class Kv{constructor(){this.promise=new Kv.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Kv.promiseConstructor=Promise;function m_(t){const e=t.split(".");if(e.length!==3)throw new gp("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!tEe.test(e[r]))throw new gp("JWT not in base64url format");return{header:JSON.parse(KO(e[0])),payload:JSON.parse(KO(e[1])),signature:dEe(e[2]),raw:{header:e[0],payload:e[1]}}}async function wEe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function vEe(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function bEe(t){return("0"+t.toString(16)).substr(-2)}function _Ee(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,bEe).join("")}async function EEe(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function CEe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await EEe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ku(t,e,n=!1){const r=_Ee();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await nL(t,`${e}-code-verifier`,s);const i=await CEe(r);return[i,r===i?"plain":"s256"]}const xEe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SEe(t){const e=t.headers.get(kx);if(!e||!e.match(xEe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function AEe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function IEe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const TEe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yu(t){if(!TEe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var NEe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const rl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),PEe=[502,503,504];async function YO(t){var e;if(!yEe(t))throw new Ox(rl(t),0);if(PEe.includes(t.status))throw new Ox(rl(t),t.status);let n;try{n=await t.json()}catch(i){throw new XU(rl(i),i)}let r;const s=SEe(t);if(s&&s.getTime()>=ZU["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new HO(rl(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Sa}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new HO(rl(n),t.status,n.weak_password.reasons);throw new rEe(rl(n),t.status||500,r)}const kEe=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Je(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[kx]||(i[kx]=ZU["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await OEe(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function OEe(t,e,n,r,s,i){const o=kEe(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new Ox(rl(c),0)}if(a.ok||await YO(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await YO(c)}}function bo(t){var e;let n=null;jEe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=pEe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function JO(t){const e=bo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ba(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function REe(t){return{data:t,error:null}}function $Ee(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=NEe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function DEe(t){return t}function jEe(t){return t.access_token&&t.refresh_token&&t.expires_in}const y_=["global","local","others"];var UEe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class LEe{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=tL(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=y_[0]){if(y_.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${y_.join(", ")}`);try{return await Je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Je(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ba})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=UEe(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:$Ee,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Fe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Je(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ba})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,c;try{const l={nextPage:null,lastPage:0,total:0},u=await Je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:DEe});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);l[`${y}Page`]=g}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Fe(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Yu(e);try{return await Je(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ba})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Yu(e);try{return await Je(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ba})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Yu(e);try{return await Je(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ba})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Yu(e.userId);try{const{data:n,error:r}=await Je(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Yu(e.userId),Yu(e.id);try{return{data:await Je(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}}const MEe={getItem:t=>mp()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{mp()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{mp()&&globalThis.localStorage.removeItem(t)}};function QO(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function BEe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ju={debug:!!(globalThis&&mp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rL extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class FEe extends rL{}async function zEe(t,e,n){Ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ju.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new FEe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ju.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}BEe();const WEe={url:Z_e,storageKey:X_e,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eEe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ZO(t,e,n){return await n()}class jg{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=jg.nextInstanceID,jg.nextInstanceID+=1,this.instanceID>0&&ti()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},WEe),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new LEe({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=tL(s.fetch),this.lock=s.lock||ZO,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ti()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=zEe:this.lock=ZO,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:mp()?this.storage=MEe:(this.memoryStorage={},this.storage=QO(this.memoryStorage)):(this.memoryStorage={},this.storage=QO(this.memoryStorage)),ti()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${QU}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=mEe(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ti()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),oEe(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Fe(n)?{error:n}:{error:new XU("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:bo}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(Fe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Ku(this.storage,this.storageKey)),i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:p},xform:bo})}else if("phone"in e){const{phone:u,password:d,options:h}=e;i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:bo})}else throw new Ny("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(Fe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:JO})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:JO})}else throw new Ny("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ty}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Fe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,c,l,u,d,h,f;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:y,wallet:w,statement:b,options:v}=e;let E;if(ti())if(typeof w=="object")E=w;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))E=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const _=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const x=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),b?{statement:b}:null));let S;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")S=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)S=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)p=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),g=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${_.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((d=(u=v==null?void 0:v.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...v.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const x=await E.signMessage(new TextEncoder().encode(p),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=x}}try{const{data:y,error:w}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:fEe(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:bo});if(w)throw w;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Ty}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:w})}catch(y){if(Fe(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const n=await ky(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:bo});if(await Oy(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ty}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Fe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:bo}),{data:c,error:l}=a;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ty}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(n){if(Fe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:c}=e;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Ku(this.storage,this.storageKey));const{error:d}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:c}=e,{data:l,error:u}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Ny("You must provide either an email or phone number.")}catch(a){if(Fe(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:bo});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,l=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(Fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ku(this.storage,this.storageKey)),await Je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:REe})}catch(i){if(Fe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Sa;const{error:s}=await Je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Fe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await Je(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await Je(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ny("You must provide either an email or phone number and a type")}catch(n){if(Fe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ky(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<p_:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,l,u)=>(!o&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ba}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Sa}:await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ba})})}catch(n){if(Fe(n))return iEe(n)&&(await this._removeSession(),await Oy(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Sa;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await Ku(this.storage,this.storageKey));const{data:l,error:u}=await Je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:Ba});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Sa;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=m_(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Fe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Sa;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Fe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ti())throw new Py("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Py(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new qO("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Py("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new qO("No code detected.");const{data:b,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:l}=e;if(!i||!a||!o||!l)throw new Py("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;c&&(h=parseInt(c));const f=h-u;f*1e3<=nd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const p=h-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const w={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:l,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(r){if(Fe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ky(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(sEe(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Oy(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=gEe(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ku(this.storage,this.storageKey,!0));try{return await Je(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Fe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,c,l,u;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Je(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return ti()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Fe(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Je(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await vEe(async s=>(s>0&&await wEe(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:bo})),(s,i)=>{const o=200*Math.pow(2,s);return i&&g_(i)&&Date.now()+o-r<nd})}catch(r){if(this._debug(n,"error",r),Fe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ti()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await ky(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<p_;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${p_}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),g_(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Sa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Kv;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Sa;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),Fe(i)){const o={session:null,error:i};return g_(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await nL(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Oy(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ti()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),nd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/nd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${nd}ms, refresh threshold is ${Px} ticks`),s<=Px&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof rL)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ti()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ku(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Je(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:l}=await Je(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await Je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=m_(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+nEe>Date.now()))return r;const{data:s,error:i}=await Je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new gp("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new gp("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};r=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:c}}=m_(r);if(AEe(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const l=IEe(s.alg),u=await this.fetchJwk(s.kid,n),d=await crypto.subtle.importKey("jwk",u,l,!0,["verify"]);if(!await crypto.subtle.verify(l,d,o,hEe(`${a}.${c}`)))throw new gp("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}}jg.nextInstanceID=0;const qEe=jg;class HEe extends qEe{constructor(e){super(e)}}var VEe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class GEe{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=J_e(e),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const l=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:z_e,realtime:q_e,auth:Object.assign(Object.assign({},W_e),{storageKey:l}),global:F_e},d=Q_e(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=K_e(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new u_e(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new B1e(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new L_e(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return VEe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:c},l,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new HEe({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new S_e(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sL=(t,e,n)=>new GEe(t,e,n),iL="https://roxwocgknkiqnsgiojgz.supabase.co",KEe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJveHdvY2drbmtpcW5zZ2lvamd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzA3NjMxMTIsImV4cCI6MjA0NjMzOTExMn0.NbLMZom-gk7XYGdV4MtXYcgR8R1s8xthrIQ0hpQfx9Y",YEe=sL(iL,KEe),w_=sL(iL,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJveHdvY2drbmtpcW5zZ2lvamd6Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTczMDc2MzExMiwiZXhwIjoyMDQ2MzM5MTEyfQ.US6YTQfWVWNAfmEopBpD580jsaevKv_Ev7dGFeqFptA"),_f={AI:"ai"},Ry={R:"/images/redrook.png",N:"/images/redknight.png",B:"/images/redbishop.png",Q:"/images/redqueen.png",K:"/images/redking.png",P:"/images/redpawn.png",r:"/images/bluerook.png",n:"/images/blueknight.png",b:"/images/bluebishop.png",q:"/images/bluequeen.png",k:"/images/blueking.png",p:"/images/bluepawn.png"},XO=[["R","N","B","Q","K","B","N","R"],["P","P","P","P","P","P","P","P"],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],["p","p","p","p","p","p","p","p"],["r","n","b","q","k","b","n","r"]],JEe=[{key:"K",name:"Red King",img:"/images/redking.png",desc:"The King moves one square in any direction. Protect your King at all costs!"},{key:"Q",name:"Red Queen",img:"/images/redqueen.png",desc:"The Queen moves any number of squares in any direction."},{key:"R",name:"Red Rook",img:"/images/redrook.png",desc:"The Rook moves any number of squares horizontally or vertically."},{key:"B",name:"Red Bishop",img:"/images/redbishop.png",desc:"The Bishop moves any number of squares diagonally."},{key:"N",name:"Red Knight",img:"/images/redknight.png",desc:"The Knight moves in an L-shape: two squares in one direction, then one square perpendicular."},{key:"P",name:"Red Pawn",img:"/images/redpawn.png",desc:"The Pawn moves forward one square, with the option to move two squares on its first move. Captures diagonally."},{key:"k",name:"Blue King",img:"/images/blueking.png",desc:"The King moves one square in any direction. Protect your King at all costs!"},{key:"q",name:"Blue Queen",img:"/images/bluequeen.png",desc:"The Queen moves any number of squares in any direction."},{key:"r",name:"Blue Rook",img:"/images/bluerook.png",desc:"The Rook moves any number of squares horizontally or vertically."},{key:"b",name:"Blue Bishop",img:"/images/bluebishop.png",desc:"The Bishop moves any number of squares diagonally."},{key:"n",name:"Blue Knight",img:"/images/blueknight.png",desc:"The Knight moves in an L-shape: two squares in one direction, then one square perpendicular."},{key:"p",name:"Blue Pawn",img:"/images/bluepawn.png",desc:"The Pawn moves forward one square, with the option to move two squares on its first move. Captures diagonally."}],QEe=()=>{const[t,e]=D.useState(!1),n=D.useRef(null),r=D.useRef(!1);D.useEffect(()=>r.current||n.current?void 0:(r.current=!0,console.log("[DEBUG] Initializing LawbBot..."),(()=>{try{const a=document.createElement("script");a.src="/stockfish.js",a.onload=()=>{if(console.log("[DEBUG] LawbBot script loaded, initializing..."),typeof window<"u"&&window.Stockfish){const c=window.Stockfish;c().then(l=>{console.log("[DEBUG] LawbBot initialized successfully"),n.current=l,e(!0),r.current=!1,l.postMessage("setoption name Threads value 4"),l.postMessage("setoption name Hash value 128"),l.postMessage("setoption name MultiPV value 1")}).catch(l=>{console.error("[DEBUG] LawbBot initialization failed:",l),e(!1),r.current=!1})}else console.error("[DEBUG] LawbBot not found in window object"),e(!1),r.current=!1},a.onerror=c=>{console.error("[DEBUG] Failed to load LawbBot script:",c),e(!1),r.current=!1},document.head.appendChild(a)}catch(a){console.error("[DEBUG] Failed to create LawbBot script:",a),e(!1),r.current=!1}})(),()=>{if(n.current){try{n.current.terminate()}catch(a){console.warn("[DEBUG] Error terminating LawbBot:",a)}n.current=null}r.current=!1}),[]);const s=D.useCallback((o,a=4e3)=>new Promise(c=>{if(!n.current){console.warn("[DEBUG] Stockfish not ready, using fallback"),c(null);return}console.log("[DEBUG] Starting Stockfish calculation for FEN:",o,"timeLimit:",a);let l=null,u=!1;const d=h=>{var f;console.log("[DEBUG] Stockfish message:",h),typeof h=="string"&&h.startsWith("bestmove ")&&(l=h.split(" ")[1]||null,console.log("[DEBUG] Stockfish bestmove found:",l),u||(u=!0,(f=n.current)==null||f.removeMessageListener(d),c(l)))};try{n.current.addMessageListener(d),n.current.postMessage("uci"),n.current.postMessage("isready"),n.current.postMessage(`position fen ${o}`);const h=a>5e3?a*1.5:a;n.current.postMessage(`go movetime ${h} depth 20`);const f=a>5e3?a*2:a+1e3;window.setTimeout(()=>{var p;if(!u){u=!0;try{(p=n.current)==null||p.removeMessageListener(d)}catch(g){console.warn("[DEBUG] Error removing message listener:",g)}console.warn("[DEBUG] Stockfish timeout after",f,"ms"),c(l)}},f)}catch(h){console.error("[DEBUG] Stockfish communication error:",h),c(null)}}),[]),i=D.useCallback(async(o,a=4e3)=>{try{const l=await fetch("https://lawb-chess-api.wablesphoto.workers.dev",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fen:o,movetime:a})});return l.ok?(await l.json()).bestmove||null:(console.warn("[DEBUG] Cloudflare API failed, falling back to client-side Stockfish"),null)}catch(c){return console.warn("[DEBUG] Cloudflare API error:",c),null}},[]);return{stockfishReady:t,getStockfishMove:s,getCloudflareStockfishMove:i}},ZEe=()=>{const[t,e]=D.useState(null),[n,r]=D.useState(!1),s=D.useCallback(async o=>{try{r(!0);const a=await fetch(`https://explorer.lichess.ovh/lichess?fen=${encodeURIComponent(o)}`);if(a.ok){const c=await a.json();return e(c),c}}catch(a){console.warn("[DEBUG] Lichess API error:",a)}finally{r(!1)}return null},[]),i=D.useCallback(async(o,a)=>{try{const c=await fetch(`https://explorer.lichess.ovh/lichess?fen=${encodeURIComponent(o)}&play=${a}`);if(c.ok)return await c.json()}catch(c){console.warn("[DEBUG] Lichess move analysis error:",c)}return null},[]);return{openingData:t,isAnalyzing:n,getOpeningData:s,getMoveAnalysis:i}},XEe=({onClose:t,onMinimize:e,fullscreen:n=!1})=>{const{address:r}=em(),[s,i]=D.useState(_f.AI),[o,a]=D.useState(()=>JSON.parse(JSON.stringify(XO))),[c,l]=D.useState("blue"),[u,d]=D.useState(null),[h,f]=D.useState("active"),[p,g]=D.useState("intermediate"),[y,w]=D.useState("Connect wallet to play"),[b,v]=D.useState([]),[E,_]=D.useState([]),[x,S]=D.useState([]),[T,C]=D.useState(null),[O,R]=D.useState(!1),[B,z]=D.useState(!1),[M,I]=D.useState(null),[A,j]=D.useState(null),[P]=D.useState(""),[k]=D.useState(.1),[U,F]=D.useState({blueKingMoved:!1,redKingMoved:!1,blueRooksMove:{left:!1,right:!1},redRooksMove:{left:!1,right:!1},lastPawnDoubleMove:null}),V=D.useRef(null),J=D.useRef(!1),K=D.useRef(o),Z=D.useRef(null),se=D.useRef(null),Ie=D.useRef(!1),[je,Re]=D.useState(!1),[Ge,Lt]=D.useState(!1),[Ai,Ye]=D.useState(!1),[Ke,Kt]=D.useState(()=>typeof window<"u"&&window.localStorage?window.localStorage.getItem("lawb_chess_dark_mode")==="true":!1),Ot=()=>{Kt(W=>(typeof window<"u"&&window.localStorage&&window.localStorage.setItem("lawb_chess_dark_mode",String(!W)),!W))},{stockfishReady:_n,getCloudflareStockfishMove:Ii}=QEe(),{getOpeningData:Ft}=ZEe(),[Yt,Jn]=D.useState("loading"),[Fc,Zo]=D.useState(!1),[Xo,Rn]=D.useState([]),[Ar,ea]=D.useState("/images/chessboard1.png"),_u=()=>{const W=["/images/chessboard1.png","/images/chessboard2.png","/images/chessboard3.png","/images/chessboard4.png","/images/chessboard5.png","/images/chessboard6.png"],q=Math.floor(Math.random()*W.length),H=W[q];return console.log("[DEBUG] Random chessboard selected:",H,"(index:",q,")"),H};D.useEffect(()=>{if(_n)Jn("ready");else{const W=window.setTimeout(()=>{_n||(Jn("failed"),console.warn("[DEBUG] Stockfish failed to load within timeout"))},1e4);return()=>window.clearTimeout(W)}},[_n]),D.useEffect(()=>{K.current=o},[o]),D.useEffect(()=>{r?w("Select game mode"):(w("Connect wallet to play"),R(!1))},[r]),D.useEffect(()=>(!V.current&&typeof Worker<"u"&&(V.current=new Worker("/aiWorker.js"),V.current.onmessage=W=>{console.log("[DEBUG] AI worker response received:",W.data);const{move:q,nodes:H}=W.data;q&&J.current&&h==="active"?(console.log("[DEBUG] AI worker move is valid, executing:",q),console.log("[DEBUG] AI searched",H,"nodes"),J.current=!1,se.current&&(window.clearTimeout(se.current),se.current=null),Z.current&&Z.current(q.from,q.to,!0)):console.log("[DEBUG] AI worker response ignored - not AI turn or game not active")},V.current.onerror=W=>{console.error("[DEBUG] AI worker error:",W),w("AI worker error - using fallback mode"),J.current=!1}),()=>{V.current&&(V.current.terminate(),V.current=null),se.current&&(window.clearTimeout(se.current),se.current=null)}),[]),D.useEffect(()=>{ta()},[]);const ta=async()=>{try{const W=new Promise((G,Q)=>window.setTimeout(()=>Q(new Error("Database timeout")),1e4)),q=YEe.from("leaderboard").select("*").order("points",{ascending:!1}),H=await Promise.race([q,W]);if(H.error)throw H.error;H.data&&_(H.data),console.log("Leaderboard data loaded:",H.data)}catch(W){w("Failed to load leaderboard"),console.error("Leaderboard error:",W)}},Uh=async W=>{if(console.log("[DEBUG] updateScore called with:",W),!r){console.log("[DEBUG] No wallet address, returning");return}try{const q=r.toLowerCase(),{data:H}=await w_.from("leaderboard").select("*").eq("username",q).maybeSingle();console.log("[DEBUG] Existing record:",H);const G=H!=null&&H.wins?Number(H.wins):0,Q=H!=null&&H.losses?Number(H.losses):0,ge=H!=null&&H.draws?Number(H.draws):0,Ee=H!=null&&H.total_games?Number(H.total_games):0,Le=H!=null&&H.points?Number(H.points):0;console.log("[DEBUG] Score calculation:",{currentWins:G,currentLosses:Q,currentDraws:ge,currentTotalGames:Ee,currentPoints:Le,gameResult:W});const an=G+(W==="win"?1:0),qc=Q+(W==="loss"?1:0),Cs=ge+(W==="draw"?1:0),Yv=Ee+1;let na=0;if(W==="win")switch(p){case"novice":na=1;break;case"intermediate":na=3;break;case"world-class":na=5;break;case"master-class":na=10;break;default:na=1}else W==="draw"&&(na=1);const Jv=Le+na;if(console.log("[DEBUG] New values:",{newWins:an,newLosses:qc,newDraws:Cs,newTotalGames:Yv,newPoints:Jv,pointsToAdd:na}),H){const{error:Lh}=await w_.from("leaderboard").update({wins:an,losses:qc,draws:Cs,total_games:Yv,points:Jv,updated_at:new Date().toISOString()}).eq("username",q);if(Lh){console.error("[DEBUG] Error updating leaderboard:",Lh);return}}else{const{error:Lh}=await w_.from("leaderboard").insert({username:q,chain_type:"ethereum",wins:an,losses:qc,draws:Cs,total_games:Yv,points:Jv,updated_at:new Date().toISOString()});if(Lh){console.error("[DEBUG] Error inserting leaderboard record:",Lh);return}}console.log("[DEBUG] Leaderboard updated successfully"),await ta()}catch(q){console.error("[DEBUG] Error in updateScore:",q)}},on=W=>W&&W===W.toUpperCase()?"red":"blue",oL=(W,q)=>W>=0&&W<8&&q>=0&&q<8,mI=(W,q)=>`${String.fromCharCode(97+q)}${8-W}`,zc=(W,q)=>{const H=q==="blue"?"k":"K";let G=null;for(let Ee=0;Ee<8;Ee++){for(let Le=0;Le<8;Le++)if(W[Ee][Le]===H){G={row:Ee,col:Le};break}if(G)break}if(!G)return console.log(`King not found for ${q}`),!1;const Q=q==="blue"?"red":"blue",ge=aL(G.row,G.col,Q,W);return console.log(`${q} king at ${G.row},${G.col} under attack: ${ge}`),ge},aL=(W,q,H,G)=>{for(let Q=0;Q<8;Q++)for(let ge=0;ge<8;ge++){const Ee=G[Q][ge];if(Ee&&on(Ee)===H&&bI(Ee,Q,ge,W,q,!1,H,G))return!0}return!1},cL=(W,q,H,G,Q,ge=o)=>{const Ee=ge.map(an=>[...an]),Le=Ee[W][q];return Ee[H][G]=Le,Ee[W][q]=null,zc(Ee,Q)},lL=(W,q,H,G,Q,ge)=>{const Ee=W==="blue"?-1:1,Le=W==="blue"?6:1;if(H===Q&&G===q+Ee)return ge[G][Q]===null;if(H===Q&&q===Le&&G===q+2*Ee)return ge[q+Ee][H]===null&&ge[G][Q]===null;if(Math.abs(H-Q)===1&&G===q+Ee){const an=ge[G][Q];return an!==null&&on(an)!==W}if(Math.abs(H-Q)===1&&G===q+Ee){const an=ge[q][Q];if(an&&on(an)!==W&&an.toLowerCase()==="p"&&U.lastPawnDoubleMove&&U.lastPawnDoubleMove.row===q&&U.lastPawnDoubleMove.col===Q)return!0}return!1},yI=(W,q,H,G,Q)=>W!==H&&q!==G?!1:vI(W,q,H,G,Q),uL=(W,q,H,G)=>{const Q=Math.abs(W-H),ge=Math.abs(q-G);return Q===2&&ge===1||Q===1&&ge===2},wI=(W,q,H,G,Q)=>Math.abs(W-H)!==Math.abs(q-G)?!1:vI(W,q,H,G,Q),dL=(W,q,H,G,Q)=>yI(W,q,H,G,Q)||wI(W,q,H,G,Q),hL=(W,q,H,G,Q)=>{const ge=Math.abs(q-G),Ee=Math.abs(H-Q);if(ge<=1&&Ee<=1)return!0;if(ge===0&&Ee===2){if(W==="blue"&&!U.blueKingMoved){if(Q===6&&!U.blueRooksMove.right||Q===2&&!U.blueRooksMove.left)return!0}else if(W==="red"&&!U.redKingMoved&&(Q===6&&!U.redRooksMove.right||Q===2&&!U.redRooksMove.left))return!0}return!1},vI=(W,q,H,G,Q)=>{const ge=W===H?0:(H-W)/Math.abs(H-W),Ee=q===G?0:(G-q)/Math.abs(G-q);let Le=W+ge,an=q+Ee;for(;Le!==H||an!==G;){if(Q[Le][an]!==null)return!1;Le+=ge,an+=Ee}return!0},bI=(W,q,H,G,Q,ge=!0,Ee=on(W),Le=o)=>{if(!oL(G,Q))return!1;const an=Le[G][Q];if(an&&on(an)===Ee)return!1;const qc=W.toLowerCase();let Cs=!1;switch(qc){case"p":Cs=lL(Ee,q,H,G,Q,Le);break;case"r":Cs=yI(q,H,G,Q,Le);break;case"n":Cs=uL(q,H,G,Q);break;case"b":Cs=wI(q,H,G,Q,Le);break;case"q":Cs=dL(q,H,G,Q,Le);break;case"k":Cs=hL(Ee,q,H,G,Q);break}return Cs&&ge?!cL(q,H,G,Q,Ee,Le):Cs},bm=(W,q=o,H=c)=>{const G=[],Q=q[W.row][W.col];if(!Q||on(Q)!==H)return G;for(let ge=0;ge<8;ge++)for(let Ee=0;Ee<8;Ee++)bI(Q,W.row,W.col,ge,Ee,!0,H,q)&&G.push({row:ge,col:Ee});return G},fL=(W,q=o)=>{if(!zc(q,W))return!1;for(let H=0;H<8;H++)for(let G=0;G<8;G++){const Q=q[H][G];if(Q&&on(Q)===W&&bm({row:H,col:G},q,W).length>0)return!1}return!0},pL=(W,q=o)=>{if(zc(q,W))return!1;for(let H=0;H<8;H++)for(let G=0;G<8;G++){const Q=q[H][G];if(Q&&on(Q)===W&&bm({row:H,col:G},q,W).length>0)return!1}return!0},gL=(W,q)=>{if(h!=="active"||J.current)return;const H=o[W][q],G=H?on(H):null;if(u&&x.some(Q=>Q.row===W&&Q.col===q)){Wc(u,{row:W,col:q});return}if(H&&G===c){const Q=bm({row:W,col:q});d({row:W,col:q}),S(Q);return}d(null),S([])},Wc=(W,q,H=!1)=>{Ie.current=!!H;const G=o[W.row][W.col];if(G){if(G.toLowerCase()==="p"&&(on(G)==="blue"&&q.row===0||on(G)==="red"&&q.row===7)){I({from:W,to:q}),z(!0);return}SI(W,q,"q",H)}};Z.current=Wc;const _I=D.useCallback((W,q,H=!1)=>{console.log("[DEBUG] executeMoveAfterAnimation called:",{from:W,to:q,isAIMove:H});const G=o.map(Ee=>[...Ee]),Q=G[W.row][W.col];if(!Q)return;G[q.row][q.col]=Q,G[W.row][W.col]=null,EL(G,W,q,Q),console.log("[DEBUG] Board state after move:",G),a(G);const ge=CL(W,q);if(v(Ee=>[...Ee,ge]),C({from:W,to:q}),d(null),S([]),b.length<10&&!H){const Ee=eR(G,c==="blue"?"red":"blue");Ft(Ee).then(Le=>{Le&&Le.moves&&Le.moves.length>0&&(Rn(Le.moves.slice(0,3)),Zo(!0),setTimeout(()=>Zo(!1),5e3))})}xL(W,q,Q),console.log("[DEBUG] State updated, currentPlayer before switch:",c),l(Ee=>{const Le=Ee==="blue"?"red":"blue";return console.log("[DEBUG] Player switched to:",Le),Le}),mL(G,c==="blue"?"red":"blue"),J.current=!1,Ie.current=!1},[o,c,b,Ft]);D.useEffect(()=>{if(!J.current&&s===_f.AI&&c==="red"&&!Ie.current)if(console.log("[DEBUG] Starting AI move for difficulty:",p),J.current=!0,p==="world-class"||p==="master-class"){const W=p==="master-class"?12e3:8e3;w(`${p==="master-class"?"Master-class":"World-class"} AI is calculating...`),console.log(`[DEBUG] Using Cloudflare Worker API for ${p} difficulty`),Ii(eR(o,c),W).then(H=>{if(H&&H!=="(none)"){const G=H.charCodeAt(0)-97,Q=8-parseInt(H[1]),ge=H.charCodeAt(2)-97,Ee=8-parseInt(H[3]),Le={from:{row:Q,col:G},to:{row:Ee,col:ge}};console.log("[DEBUG] Stockfish move:",H,"converted to:",Le),Wc(Le.from,Le.to,!0)}else if(console.log("[DEBUG] Stockfish returned no valid move, using fallback"),V.current)V.current.postMessage({board:o,currentPlayer:c,difficulty:p,pieceState:U}),se.current=window.setTimeout(()=>{console.log("[DEBUG] AI worker timeout, using simple fallback"),J.current=!1,se.current=null;const G=_m(o);G&&Wc(G.from,G.to,!0)},8e3);else{const G=_m(o);G&&Wc(G.from,G.to,!0),J.current=!1}J.current=!1}).catch(H=>{if(console.error("[DEBUG] Stockfish error:",H),console.log("[DEBUG] Falling back to AI worker for",p,"difficulty"),V.current)V.current.postMessage({board:o,currentPlayer:c,difficulty:p,pieceState:U}),se.current=window.setTimeout(()=>{console.log("[DEBUG] AI worker timeout, using simple fallback"),J.current=!1,se.current=null;const G=_m(o);G&&Wc(G.from,G.to,!0)},8e3);else{const G=_m(o);G&&Wc(G.from,G.to,!0),J.current=!1}})}else p==="intermediate"&&V.current},[c,s,p,o,U,_n]);const mL=(W,q)=>{if(console.log("Checking game end for player:",q),console.log("Is king in check:",zc(W,q)),fL(q,W)){console.log("CHECKMATE detected!"),f("checkmate");const H=q==="blue"?"red":"blue";return H==="blue"?(w("Checkmate! You win!"),Uh("win"),Ye(!0),setTimeout(()=>Ye(!1),3e3)):(w(`Checkmate! ${H==="red"?"AI":"Opponent"} wins!`),Uh("loss"),Ye(!0),setTimeout(()=>Ye(!1),3e3)),"checkmate"}return pL(q,W)?(console.log("STALEMATE detected!"),f("stalemate"),w("Stalemate! Game is a draw."),Uh("draw"),Ye(!0),setTimeout(()=>Ye(!1),3e3),"stalemate"):(zc(W,q)?(console.log("CHECK detected!"),w(`${q==="blue"?"Blue":"Red"} is in check!`)):w("Your turn"),null)},_m=W=>{const q=[];for(let Q=0;Q<8;Q++)for(let ge=0;ge<8;ge++){const Ee=W[Q][ge];Ee&&on(Ee)==="red"&&q.push({row:Q,col:ge})}for(let Q=q.length-1;Q>0;Q--){const ge=Math.floor(Math.random()*(Q+1));[q[Q],q[ge]]=[q[ge],q[Q]]}const H=[],G=[];for(const Q of q){const ge=bm(Q,W,"red");for(const Ee of ge){const Le=W[Ee.row][Ee.col];if(Le&&on(Le)==="blue"){const qc={p:100,n:320,b:330,r:500,q:900,k:2e4}[Le.toLowerCase()]||0;H.push({from:Q,to:Ee,value:qc})}else G.push({from:Q,to:Ee})}}if(H.sort((Q,ge)=>ge.value-Q.value),H.length>0){const Q=H[0],ge=W.map(Le=>[...Le]),Ee=ge[Q.from.row][Q.from.col];if(ge[Q.to.row][Q.to.col]=Ee,ge[Q.from.row][Q.from.col]=null,!zc(ge,"red"))return{from:Q.from,to:Q.to}}for(const Q of G){const ge=W.map(Le=>[...Le]),Ee=ge[Q.from.row][Q.from.col];if(ge[Q.to.row][Q.to.col]=Ee,ge[Q.from.row][Q.from.col]=null,!zc(ge,"red"))return Q}return null},EI=()=>{a(JSON.parse(JSON.stringify(XO))),l("blue"),d(null),f("active"),v([]),S([]),C(null),R(!1),w("Select game mode"),F({blueKingMoved:!1,redKingMoved:!1,blueRooksMove:{left:!1,right:!1},redRooksMove:{left:!1,right:!1},lastPawnDoubleMove:null}),ea(_u()),J.current&&(J.current=!1)},Em=()=>{console.log("[DEBUG] startGame called, difficulty:",p,"gameMode:",s),R(!0),Re(!1),w("Game started! Your turn");const W=_u();ea(W),console.log("[DEBUG] Game started with chessboard:",W)},CI=W=>`${W.slice(0,6)}...${W.slice(-4)}`,yL=(W,q)=>{const H=o[W][q],G=(u==null?void 0:u.row)===W&&(u==null?void 0:u.col)===q,Q=x.some(Ee=>Ee.row===W&&Ee.col===q),ge=T&&(T.from.row===W&&T.from.col===q||T.to.row===W&&T.to.col===q);return m.jsxs("div",{className:`square ${G?"selected":""} ${Q?"legal-move":""} ${ge?"last-move":""}`,onClick:()=>gL(W,q),children:[H&&m.jsx("div",{className:"piece",style:{backgroundImage:Ry[H]?`url(${Ry[H]})`:void 0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),Q&&m.jsx("div",{className:"legal-move-indicator"})]},`${W}-${q}`)},wL=()=>{if(!B||!M)return null;const W=c==="blue"?["q","r","b","n"]:["Q","R","B","N"];return m.jsx("div",{className:"promotion-dialog",children:m.jsxs("div",{className:"promotion-content",children:[m.jsx("h3",{children:"Choose promotion piece:"}),m.jsx("div",{className:"promotion-pieces",children:W.map(q=>m.jsx("div",{className:"promotion-piece",onClick:()=>{SI(M.from,M.to,q),z(!1),I(null)},style:{backgroundImage:Ry[q]?`url(${Ry[q]})`:void 0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}},q))})]})})},[vL,bL]=D.useState(null),xI=(W=!1,q="Click a piece to learn more about it.")=>m.jsxs("div",{className:`piece-gallery${W?" piece-gallery-sm":""}`,children:[m.jsx("h3",{children:"Lawbstation Chess Pieces"}),m.jsx("div",{className:"piece-gallery-grid",children:JEe.map(H=>m.jsxs("div",{className:"piece-gallery-item",onClick:()=>bL(H.key),children:[m.jsx("img",{src:H.img,alt:H.name,className:"piece-gallery-img"}),m.jsx("div",{className:"piece-gallery-name",children:H.name}),vL===H.key&&m.jsx("div",{className:"piece-gallery-desc",children:H.desc})]},H.key))}),m.jsx("div",{className:"piece-gallery-tip",children:q})]}),_L=()=>m.jsx("div",{className:"difficulty-selection-row",style:{justifyContent:"center"},children:m.jsx("div",{className:"difficulty-controls-col",children:m.jsxs("div",{className:"difficulty-selection-panel",children:[m.jsx("h3",{children:"Select Difficulty"}),m.jsx("button",{className:`difficulty-btn${p==="novice"?" selected":""}`,onClick:()=>{g("novice"),Em()},children:"Novice"}),m.jsx("button",{className:`difficulty-btn${p==="intermediate"?" selected":""}`,onClick:()=>{g("intermediate"),Em()},children:"Intermediate"}),m.jsx("button",{className:`difficulty-btn${p==="world-class"?" selected":""}`,onClick:()=>{g("world-class"),Em()},children:"World-Class"}),m.jsx("button",{className:`difficulty-btn${p==="master-class"?" selected":""}`,onClick:()=>{g("master-class"),Em()},children:"Master-Class"})]})})}),EL=(W,q,H,G)=>{if(G.toLowerCase()==="p"&&(on(G)==="blue"&&H.row===0||on(G)==="red"&&H.row===7)){const Q=on(G)==="blue"?"q":"Q";W[H.row][H.col]=Q}G.toLowerCase()==="k"&&Math.abs(q.col-H.col)===2&&(H.col===6?(W[q.row][7]=null,W[q.row][5]=on(G)==="blue"?"r":"R"):H.col===2&&(W[q.row][0]=null,W[q.row][3]=on(G)==="blue"?"r":"R"))},CL=(W,q,H,G)=>{const Q=mI(W.row,W.col),ge=mI(q.row,q.col);return`${Q}-${ge}`},xL=(W,q,H)=>{const G={...U};H.toLowerCase()==="k"?on(H)==="blue"?G.blueKingMoved=!0:G.redKingMoved=!0:H.toLowerCase()==="r"&&(on(H)==="blue"?(W.col===0&&(G.blueRooksMove.left=!0),W.col===7&&(G.blueRooksMove.right=!0)):(W.col===0&&(G.redRooksMove.left=!0),W.col===7&&(G.redRooksMove.right=!0))),H.toLowerCase()==="p"&&Math.abs(W.row-q.row)===2?G.lastPawnDoubleMove={row:q.row,col:q.col}:G.lastPawnDoubleMove=null,F(G)},SI=(W,q,H="q",G=!1)=>{if(o[W.row][W.col],o[q.row][q.col]!==null){j({row:q.row,col:q.col,show:!0}),setTimeout(()=>{_I(W,q,G),j(null)},500);return}_I(W,q,G)};return m.jsxs("div",{className:`chess-game${n?" fullscreen":""}${Ke?" chess-dark-mode":""}`,children:[!n&&m.jsxs("div",{className:"chess-header",children:[m.jsx("h2",{children:"Lawb Chess"}),m.jsxs("div",{className:"chess-controls",children:[e&&m.jsx("button",{onClick:e,children:"_"}),m.jsx("button",{onClick:t,children:""}),m.jsx("button",{className:"dark-mode-toggle",onClick:Ot,title:Ke?"Switch to light mode":"Switch to dark mode","aria-label":Ke?"Switch to light mode":"Switch to dark mode",style:{marginLeft:12},children:Ke?"":""})]})]}),m.jsxs("div",{className:"game-stable-layout",children:[m.jsxs("div",{className:"left-sidebar",children:[O&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"move-history-status",children:y}),m.jsxs("div",{className:"move-history",children:[m.jsx("div",{className:"move-history-title",children:"Move History"}),m.jsx("ul",{className:"move-history-list",children:b.slice().reverse().map((W,q)=>m.jsx("li",{children:W},b.length-1-q))})]})]}),!O&&m.jsxs("div",{className:"leaderboard",children:[m.jsx("h3",{children:"Leaderboard"}),m.jsx("div",{className:"leaderboard-table",children:m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Rank"}),m.jsx("th",{children:"Player"}),m.jsx("th",{children:"W"}),m.jsx("th",{children:"L"}),m.jsx("th",{children:"D"}),m.jsx("th",{children:"Points"})]})}),m.jsx("tbody",{children:Array.isArray(E)&&E.slice(0,10).map((W,q)=>{if(typeof W=="object"&&W!==null&&"username"in W&&"wins"in W&&"losses"in W&&"draws"in W&&"points"in W){const H=W;return m.jsxs("tr",{children:[m.jsx("td",{children:q+1}),m.jsx("td",{children:CI(H.username)}),m.jsx("td",{children:H.wins}),m.jsx("td",{children:H.losses}),m.jsx("td",{children:H.draws}),m.jsx("td",{children:H.points})]},H.username)}return null})})]})})]})]}),m.jsxs("div",{className:"center-area",children:[m.jsx("div",{className:"game-info",children:m.jsxs("div",{className:"game-info-bar",children:[m.jsxs("span",{className:c==="blue"?"current-blue":"current-red",children:["Current: ",c==="blue"?"Blue":"Red"]}),m.jsx("span",{className:"wager-label",children:"Wager:"})," ",m.jsx("span",{children:s===_f.AI?"NA":`${k} ETH`}),O&&!je&&m.jsxs("span",{className:p==="novice"?"mode-novice":p==="intermediate"?"mode-intermediate":p==="world-class"?"mode-world-class":"mode-master-class",children:["Mode: ",p==="novice"?"Novice":p==="intermediate"?"Intermediate":p==="world-class"?"World-Class":"Master-Class"]}),(p==="world-class"||p==="master-class")&&m.jsxs("span",{className:`stockfish-status ${Yt}`,children:["LawbBot: ",Yt==="loading"?"Loading...":Yt==="ready"?"Ready":"Failed"]}),Fc&&Xo.length>0&&m.jsxs("div",{className:"opening-suggestions",children:[m.jsx("span",{className:"opening-label",children:"Opening:"}),Xo.map((W,q)=>m.jsxs("span",{className:"opening-move",children:[W.san," (",Math.round(W.white+W.draws+W.black)," games)"]},q))]})]})}),O?m.jsxs("div",{className:"chess-main-area",children:[m.jsx("div",{className:"chessboard-container",children:m.jsxs("div",{className:"chessboard",style:{backgroundImage:`url(${Ar})`},children:[Array.from({length:8},(W,q)=>m.jsx("div",{className:"board-row",children:Array.from({length:8},(H,G)=>yL(q,G))},q)),A&&A.show&&m.jsx("div",{className:"capture-animation",style:{position:"absolute",top:`${A.row*12.5}%`,left:`${A.col*12.5}%`,width:"12.5%",height:"12.5%",zIndex:10},children:m.jsx("img",{src:"/images/capture.gif",alt:"capture",style:{width:"100%",height:"100%"}})})]})}),m.jsxs("div",{className:"game-controls",children:[m.jsx("button",{onClick:()=>Lt(!0),children:"Chess Piece Info"}),m.jsx("button",{onClick:EI,children:"New Game"}),m.jsx("button",{onClick:EI,children:"Back to Menu"})]})]}):je?_L():m.jsxs("div",{className:"game-mode-panel",children:[m.jsx("h3",{className:"game-mode-title",children:"Select Game Mode"}),m.jsx("button",{className:`mode-btn ${s===_f.AI?"selected":""}`,onClick:()=>i(_f.AI),children:"VS THE HOUSE"}),m.jsxs("div",{className:"pvp-under-construction",children:[m.jsx("button",{className:"mode-btn",disabled:!0,children:"PVP UNDER CONSTRUCTION"}),m.jsx("img",{src:"/images/chessboard4.png",alt:"Chessboard",style:{display:"block",margin:"16px auto 0 auto",width:"180px",maxWidth:"90%"}})]}),m.jsx("button",{className:"start-btn continue-btn",onClick:()=>Re(!0),children:"Continue"}),m.jsxs("div",{className:"how-to-section",children:[m.jsx("h4",{children:"How to Play"}),m.jsxs("div",{className:"how-to-content",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Chess Basics:"})," Move pieces to capture your opponent's king. Each piece moves differently - pawns forward, knights in L-shapes, bishops diagonally, rooks horizontally/vertically, queens in all directions, kings one square at a time."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Wallet Connection:"})," Connect your wallet to track your progress and compete on the leaderboard. Your wallet address serves as your username."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Points System:"})," Win points by defeating the AI - Novice (1pt), Intermediate (3pts), World-Class (5pts), Master-Class (10pts). Draws earn 1 point regardless of difficulty."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"AI Difficulty:"})," Novice=Easy, Intermediate=kinda harder, World-Class= harder than Intermediate, Master-Class=currently most difficult lawbBot."]})]})]})]})]}),m.jsx("div",{className:"right-sidebar",children:O?m.jsxs("div",{className:"leaderboard",children:[m.jsx("h3",{children:"Leaderboard"}),m.jsx("div",{className:"leaderboard-table",children:m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Rank"}),m.jsx("th",{children:"Player"}),m.jsx("th",{children:"W"}),m.jsx("th",{children:"L"}),m.jsx("th",{children:"D"}),m.jsx("th",{children:"Points"})]})}),m.jsx("tbody",{children:Array.isArray(E)&&E.slice(0,10).map((W,q)=>{if(typeof W=="object"&&W!==null&&"username"in W&&"wins"in W&&"losses"in W&&"draws"in W&&"points"in W){const H=W;return m.jsxs("tr",{children:[m.jsx("td",{children:q+1}),m.jsx("td",{children:CI(H.username)}),m.jsx("td",{children:H.wins}),m.jsx("td",{children:H.losses}),m.jsx("td",{children:H.draws}),m.jsx("td",{children:H.points})]},H.username)}return null})})]})})]}):m.jsx("div",{className:"piece-gallery-panel",children:xI(!1)})})]}),Ge&&m.jsx("div",{className:"gallery-modal-overlay",onClick:()=>Lt(!1),children:m.jsxs("div",{className:"gallery-modal",onClick:W=>W.stopPropagation(),children:[m.jsx("button",{className:"close-modal-btn",onClick:()=>Lt(!1),children:""}),xI(!1)]})}),wL(),Ai&&m.jsx("div",{className:"leaderboard-updated-msg",children:"Leaderboard updated!"})]})};function eR(t,e){let n="";for(let r=0;r<8;r++){let s=0;for(let i=0;i<8;i++){const o=t[r][i];o?(s>0&&(n+=s,s=0),o>="a"&&o<="z"?n+=o.toUpperCase():o>="A"&&o<="Z"?n+=o.toLowerCase():n+=o):s++}s>0&&(n+=s),r<7&&(n+="/")}return n+=" "+(e==="blue"?"w":"b"),n+=" - - 0 1",n}const eCe=()=>{const[t,e]=D.useState(!1),n=TU(),{address:r,isConnected:s}=em(),[i,o]=D.useState(()=>typeof window<"u"&&window.localStorage?localStorage.getItem("lawb_chess_dark_mode")==="true":!1),a=()=>{o(l=>(typeof window<"u"&&window.localStorage&&localStorage.setItem("lawb_chess_dark_mode",String(!l)),!l))};D.useEffect(()=>{typeof document<"u"&&(i?document.body.classList.add("chess-dark-mode"):document.body.classList.remove("chess-dark-mode"))},[i]);const c=()=>{t?n("/"):(e(!0),window.setTimeout(()=>e(!1),4e3))};return m.jsxs("div",{className:`chess98-main-window${i?" chess-dark-mode":""}`,children:[m.jsxs("div",{className:"chess98-header",children:[m.jsx("button",{className:"chess98-back-btn",onClick:c,children:t?"warning this will end current game":"Back to Desktop"}),m.jsx("span",{className:"chess98-title",children:"LAWB CHESS"}),m.jsxs("span",{className:"chess98-wallet-status",children:[s&&r?m.jsxs("span",{title:r,children:[r.slice(0,6),"...",r.slice(-4)]}):m.jsx("span",{style:{color:"#fff",cursor:"pointer"},onClick:()=>window.dispatchEvent(new CustomEvent("open-wallet-connect")),children:"Connect Wallet"}),m.jsx("button",{className:"dark-mode-toggle",onClick:a,title:i?"Switch to light mode":"Switch to dark mode","aria-label":i?"Switch to light mode":"Switch to dark mode",style:{marginLeft:16},children:i?"":""})]})]}),m.jsx("div",{className:"chess98-content",children:m.jsx(XEe,{fullscreen:!0,onClose:()=>{},onMinimize:()=>{}})})]})},tCe=new yH,nCe=()=>I1e("(max-width: 768px)")?m.jsx(A1e,{}):m.jsx(w1e,{});v_.createRoot(document.getElementById("root")).render(m.jsx(hs.StrictMode,{children:m.jsx(kq,{config:RU.wagmiConfig,children:m.jsx(PH,{client:tCe,children:m.jsx(m1e,{children:m.jsxs(f1e,{children:[m.jsx(Cx,{path:"/",element:m.jsx(nCe,{})}),m.jsx(Cx,{path:"/chess",element:m.jsx(eCe,{})})]})})})})}));export{wxe as $,ce as A,Ne as B,ue as C,Vn as D,Zf as E,Hn as F,xe as G,bC as H,kf as I,ui as J,KZ as K,Et as L,ft as M,qZ as N,ne as O,as as P,cw as Q,Pe as R,hi as S,Fr as T,cg as U,wg as V,kn as W,Exe as X,bx as Y,TX as Z,cp as _,uw as a,yh as a$,Tn as a0,ou as a1,Xt as a2,vxe as a3,lU as a4,_x as a5,lh as a6,tn as a7,bCe as a8,Xa as a9,FD as aA,BD as aB,Ac as aC,Kf as aD,Wo as aE,fCe as aF,IF as aG,Wl as aH,hCe as aI,pCe as aJ,jw as aK,gCe as aL,J9 as aM,U$ as aN,dCe as aO,V0 as aP,$p as aQ,Uw as aR,C0 as aS,mCe as aT,Q9 as aU,jT as aV,vq as aW,GK as aX,qs as aY,pW as aZ,fW as a_,eo as aa,eg as ab,$e as ac,gn as ad,Ta as ae,HD as af,Q0 as ag,Lw as ah,zS as ai,Sc as aj,lCe as ak,J0 as al,WS as am,cCe as an,aCe as ao,Y$ as ap,q0 as aq,Dw as ar,fF as as,wF as at,yCe as au,hz as av,ee as aw,DS as ax,vr as ay,pz as az,mt as b,zl as b0,F0 as b1,Er as b2,sn as b3,Zg as b4,X as c,Ce as d,$ as e,yt as f,Oo as g,_xe as h,Pd as i,ls as j,we as k,jt as l,zve as m,ln as n,Wve as o,le as p,zt as q,bxe as r,dt as s,W8 as t,kt as u,CX as v,Es as w,yxe as x,_A as y,H8 as z};
